{"version":3,"sources":["webpack:///src/plugins/Accelerometer/Accelerometer.vue","webpack:///./src/plugins/Accelerometer/Accelerometer.vue?b042","webpack:///./src/plugins/Accelerometer/Accelerometer.vue?31af","webpack:///./src/plugins/Accelerometer/Accelerometer.vue?ea1d","webpack:///./src/plugins/Accelerometer/Accelerometer.vue?e6b9","webpack:///./src/plugins/Accelerometer/Accelerometer.vue?6e92","webpack:///./src/plugins/Accelerometer/fft.js","webpack:///./src/plugins/Accelerometer/index.js","webpack:///./src/utils/csv.js"],"names":["computed","mapState","mapGetters","data","files","selectedFile","loading","alertType","alertMessage","showOverflowConfirmation","resolveOverflowPromise","displaySamples","start","dragStart","end","datasetVisible","samples","samplingRate","samplingRateRules","value","samplingRateValidated","wideBand","methods","mapActions","refresh","filter","filesOrDirectoriesChanged","getLineColor","index","loadFile","file","filename","type","showProgress","showSuccess","showError","csvFile","console","csv","details","parseFloat","overflows","that","minValue","maxValue","numSamples","dataset","borderColor","backgroundColor","pointBorderWidth","pointRadius","borderWidth","fill","label","map","i","applyDarkTheme","active","mouseDown","e","intersect","mouseUp","setTimeout","bind","applyStartEnd","analyze","imag","transform","amplitudes","newDatasets","frequencies","showSamples","mounted","maintainAspectRatio","tooltips","mode","callbacks","title","hover","scales","xAxes","display","scaleLabel","labelString","gridLines","color","ticks","minor","fontColor","fontFamily","major","beginAtZero","yAxes","zeroLineColor","options","datasets","beforeDestroy","watch","language","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","on","directives","name","rawName","length","expression","uiFrozen","_l","key","$event","apply","arguments","ref","model","callback","$$v","staticRenderFns","component","VAlert","VBtn","VCard","VCardText","VCardTitle","VCheckbox","VCol","VIcon","VList","VListItem","VListItemGroup","VRow","VSlider","VSpacer","VTextField","real","n","transformRadix2","transformBluestein","inverseTransform","levels","cosTable","Array","sinTable","Math","cos","PI","sin","j","reverseBits","temp","size","halfsize","tablestep","k","l","tpre","tpim","val","width","result","m","areal","newArrayOfZeros","aimag","breal","bimag","creal","cimag","convolveComplex","convolveReal","xvec","yvec","outvec","xreal","ximag","yreal","yimag","outreal","outimag","slice","push","registerSettingTab","Accelerometer","CSV","content","row","col","inQuote","char","nextChar","headers","splice","get","fieldName","findIndex","header"],"mappings":"m4CAwGe,cACfA,sDACAC,4CACAC,qDAEAC,KALA,gBAMA,OACAC,SACAC,kBAEAC,WACAC,kBACAC,kBACAC,4BACAC,4BACAC,kBAEAC,QACAC,eACAC,MACAC,kBACAC,WACAC,iBACAC,mBACA,YAEA,OADAC,gBACA,iBAGAC,yBACAC,cAGAC,qDACAC,+DADA,IAEAC,QAFA,mBAEA,sLACA,cADA,uBAEA,WACA,oBACA,oBACA,WALA,8BASA,UATA,wDAcA,aAdA,mBAgBA,0CAhBA,QAgBApB,EAhBA,OAiBAqB,QAAA,kGACArB,sBAAA,4DACA,4CAnBA,yBAqBA,aArBA,sBAwBA,sCACA,qBAzBA,uEA4BAsB,0BA9BA,sCA8BA,0BACA,2BACA,oGAEA,oDAEA,mHAEA,iBAIAC,aA1CA,sBA0CAC,GACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEA,sBAEAC,SAxDA,kBAwDAC,GAAA,wNAIA,kBACA,gBAIA,aATA,2BAYA,YACAC,4DACAC,YACAC,gBACAC,eACAC,eAjBA,OAYAC,EAZA,8BAoBA,aApBA,gFAuBA,oBACA,uDACAC,mBAzBA,8BA8BA,UACA,mBACA,mBACA,oDACA,yBACA,oBAnCA,UAuCAC,EAAA,sBACAA,iEAxCA,uBAyCA,gCAzCA,WA6CAC,EAAA,oGACAA,EA9CA,uBA+CA,+CA/CA,WAiDAtB,EAAAuB,iBAAAC,EAAAD,mBAGAC,KApDA,wBAqDA,8BACAC,EAAA,EAtDA,UAuDA,8DAvDA,qEAkEA,IANA,oBAGAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,EACA,uBACA,yBACA,4BAWA,IAVAC,EAAA,CACAC,gCACAC,oCACAC,qBACAC,cACAC,iBACAhD,QACAiD,QACAC,oBAEA,6BACA,yCACAlC,EAAAqB,4BACA,MACAG,KAEA,MACAC,KAEAE,eACA,kBACAD,gBACA,0CAIA,8BAEA,oBACApB,QAAA,4BACA6B,KAAA,qBACA7B,QAAA,4BACA6B,KAAA,uCAGA,2DACA,yDACA,iBACA,iBAGAvC,GAAA,EACAwC,EAAA,EA7GA,aA6GAA,gCA7GA,qBA8GA,4BA9GA,wBA+GAxC,KA/GA,6BA6GAwC,IA7GA,wBAmHA,mBAnHA,6DAqHA,oBACA,wDACAlB,mBAvHA,2BA4HA,iBACA,oBA7HA,sFA+HAmB,eAvLA,wBAuLAC,GACA,sBACA,kEACA,kEACA,kEACA,kEAEA,oDACA,4DACA,4DACA,oEAEA,qBAEAC,UArMA,mBAqMAC,GACA,wBACA,wDAAAC,eACA,gDAGAC,QA3MA,iBA2MAF,GACA,wDAAAC,eACA,6BACA,kBACA,oBACA,0FACA,wFACA,qBAEA,oBAIAE,sBAEA,IADA,SACA,0CACA,mCACA/C,KACA,MAGA,uBACAgD,KAAA,YAEAC,cAnOA,yBAoOA,aACA,+DACA,6DACA,sBAGAC,QA1OA,mBAiPA,IAPA,WAEA,4CACA,sEAGA,KANA,iBAOAV,GACA,2EAEA,qEACA,eACAW,UACAC,4BAIA,IADA,mBACA,aACAC,qDAIA,OACArB,8BACAC,kCACAC,qBACAC,cACAC,iBACAhD,OACAiD,QACAC,sCAEAgB,YAzBA,+CA+BA,IADA,mBACA,YACAC,yBAIA,yCACA,6CACA,yBACA,2BACA,qGACA,sGACA,WACA,gKACA,sDACA,wDACA,oBACA,wBAEAC,YAlSA,uBAmSA,yCACA,6CACA,mGACA,yGACA,WACA,yHACA,qBACA,0BAGAC,QA9UA,mBAgVA,sBACA,0DAGA,eAGA,WACA,cACAC,uBACAC,UACAC,aACAf,aACAgB,WACAC,wBAAA,mEAGAC,OACAH,eACAf,cAEAmB,QACAC,OACA,CACAC,WACAC,YACAD,WACAE,sDAGAC,WACAC,wBACAJ,YAEAK,OACAC,OACAC,6BACAC,gCAEAC,OACAF,6BACAC,gCAEAE,kBAIAC,OACA,CACAX,WACAC,YACAD,WACAE,4DAGAC,WACAC,yBACAQ,gCACAZ,YAEAK,OACAC,OACAC,6BACAC,gCAEAC,OACAF,6BACAC,qCASA,sCACAK,qBACA3F,MACA4F,eAGA,oCAGA,uFAEAC,cAvaA,yBAyaA,wFAEAC,OACAC,SADA,oBAGA,yJACA,gKACA,wB,+YCxhBA,uGAAIC,OAAS,WAAa,IAAIC,EAAIC,KAASC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","file":"js/Accelerometer.833093a4.js","sourcesContent":["<style scoped>\n.content {\n\tposition: relative;\n\tmin-height: 480px;\n}\n\n.content > canvas {\n\tposition: absolute;\n}\n</style>\n\n<template>\n\t<v-row class=\"pa-3\">\n\t\t<v-col cols=\"auto\">\n\t\t\t<v-card tile>\n\t\t\t\t<v-card-title class=\"pt-2 pb-1\">\n\t\t\t\t\t<v-icon class=\"mr-2\">mdi-format-list-bulleted</v-icon> {{ $t('plugins.accelerometer.listTitle') }}\n\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t<v-icon class=\"ml-2\" @click=\"refresh\">mdi-refresh</v-icon>\n\t\t\t\t</v-card-title>\n\t\t\t\t<v-card-text class=\"pa-0\" v-show=\"files.length === 0\">\n\t\t\t\t\t<v-alert :value=\"true\" type=\"info\" class=\"mb-0\">\n\t\t\t\t\t\t{{ $t('plugins.accelerometer.none') }}\n\t\t\t\t\t</v-alert>\n\t\t\t\t</v-card-text>\n\n\t\t\t\t<v-list class=\"py-0\" :disabled=\"uiFrozen || loading\">\n\t\t\t\t\t<v-list-item-group mandatory :value=\"selectedFile\" color=\"primary\">\n\t\t\t\t\t\t<v-list-item v-for=\"file in files\" :key=\"file\" :value=\"file\" @click=\"loadFile(file)\">\n\t\t\t\t\t\t\t{{ file }}\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</v-list-item-group>\n\t\t\t\t</v-list>\n\t\t\t</v-card>\n\t\t</v-col>\n\n\t\t<v-col>\n\t\t\t<v-card class=\"d-flex flex-column flex-grow-1\">\n\t\t\t\t<v-card-title class=\"pt-2 pb-0\">\n\t\t\t\t\t<v-icon class=\"mr-1\">mdi-chart-timeline-variant</v-icon> {{ $t('plugins.accelerometer.chartCaption') }}\n\t\t\t\t</v-card-title>\n\n\t\t\t\t<v-card-text v-show=\"selectedFile !== null\" class=\"content flex-grow-1 px-2 py-0\" @mousedown.passive=\"mouseDown\" @mouseup.passive=\"mouseUp\">\n\t\t\t\t\t<canvas ref=\"chart\"></canvas>\n\t\t\t\t</v-card-text>\n\n\t\t\t\t<v-spacer v-show=\"selectedFile !== null && alertMessage !== null\"></v-spacer>\n\n\t\t\t\t<v-card-text class=\"pa-0\" v-show=\"alertMessage !== null\">\n\t\t\t\t\t<v-alert :value=\"true\" :type=\"alertType\" class=\"mb-0\">\n\t\t\t\t\t\t{{ alertMessage  }}\n\t\t\t\t\t</v-alert>\n\t\t\t\t</v-card-text>\n\t\t\t</v-card>\n\n\t\t\t<v-card class=\"mt-5\" v-show=\"selectedFile !== null\">\n\t\t\t\t<v-card-title>\n\t\t\t\t\t<v-icon class=\"mr-2\">mdi-calculator</v-icon> {{ $t('plugins.accelerometer.analysis') }}\n\t\t\t\t</v-card-title>\n\n\t\t\t\t<v-card-text>\n\t\t\t\t\t<v-row>\n\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t<v-text-field v-model=\"samplingRate\" :label=\"$t('plugins.accelerometer.samplingRate')\" type=\"number\" :rules=\"samplingRateRules\" :min=\"400\" :max=\"6000\" hide-details :disabled=\"!displaySamples\" @update:error=\"samplingRateValidated = !$event\"></v-text-field>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t<v-slider v-model=\"start\" :max=\"end - 1\" :label=\"$t('plugins.accelerometer.start')\" thumb-label=\"always\" class=\"pt-7\" hide-details :disabled=\"!displaySamples\" @input=\"applyStartEnd\"></v-slider>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t<v-slider v-model=\"end\" :min=\"start + 1\" :max=\"samples.length - 1\" :label=\"$t('plugins.accelerometer.end')\" thumb-label=\"always\" class=\"pt-7\" hide-details :disabled=\"!displaySamples\" @input=\"applyStartEnd\"></v-slider>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t<v-col cols=\"auto\">\n\t\t\t\t\t\t\t<v-checkbox v-model=\"wideBand\" :label=\"$t('plugins.accelerometer.wideBand')\" hide-details :disabled=\"!displaySamples\" class=\"mt-2\"></v-checkbox>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t<v-col cols=\"auto\">\n\t\t\t\t\t\t\t<v-btn v-show=\"displaySamples\" color=\"primary\" :disabled=\"!samplingRateValidated || !datasetVisible || !displaySamples\" @click=\"analyze\">\n\t\t\t\t\t\t\t\t<v-icon class=\"mr-2\">mdi-arrow-right</v-icon> {{ $t('plugins.accelerometer.analyze') }}\n\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t<v-btn v-show=\"!displaySamples\" color=\"success\" @click=\"showSamples\">\n\t\t\t\t\t\t\t\t<v-icon class=\"mr-2\">mdi-arrow-left</v-icon> {{ $t('plugins.accelerometer.back') }}\n\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t</v-col>\n\t\t\t\t\t</v-row>\n\t\t\t\t</v-card-text>\n\t\t\t</v-card>\n\t\t</v-col>\n\n\t\t<confirm-dialog :title=\"$t('plugins.accelerometer.overflowPrompt.title')\" :prompt=\"$t('plugins.accelerometer.overflowPrompt.prompt')\" :shown.sync=\"showOverflowConfirmation\" @cancel=\"resolveOverflowPromise(false)\" @confirmed=\"resolveOverflowPromise(true)\"></confirm-dialog>\n\t</v-row>\n</template>\n\n<script>\n'use strict'\n\nimport Chart from 'chart.js'\n\nimport { mapState, mapGetters, mapActions } from 'vuex'\n\nimport CSV from '../../utils/csv.js'\nimport Events from '../../utils/events.js'\nimport Path from '../../utils/path.js'\n\nimport { transform } from './fft.js'\n\nexport default {\n\tcomputed: {\n\t\t...mapState(['selectedMachine']),\n\t\t...mapGetters(['isConnected', 'uiFrozen'])\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\tselectedFile: null,\n\n\t\t\tloading: false,\n\t\t\talertType: 'error',\n\t\t\talertMessage: null,\n\t\t\tshowOverflowConfirmation: false,\n\t\t\tresolveOverflowPromise: null,\n\t\t\tdisplaySamples: true,\n\n\t\t\tstart: 0,\n\t\t\tdragStart: null,\n\t\t\tend: 0,\n\t\t\tdatasetVisible: true,\n\t\t\tsamples: [],\n\t\t\tsamplingRate: 1000,\n\t\t\tsamplingRateRules: [\n\t\t\t\tfunction(value) {\n\t\t\t\t\tvalue = parseFloat(value);\n\t\t\t\t\treturn value >= 400 && value <= 6000;\n\t\t\t\t}\n\t\t\t],\n\t\t\tsamplingRateValidated: true,\n\t\t\twideBand: false\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapActions('machine', ['download', 'getFileList']),\n\t\tasync refresh() {\n\t\t\tif (!this.isConnected) {\n\t\t\t\tthis.ready = false;\n\t\t\t\tthis.errorMessage = null;\n\t\t\t\tthis.selectedFile = null;\n\t\t\t\tthis.files = [];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.loading) {\n\t\t\t\t// Don't do multiple actions at once\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\tconst files = (await this.getFileList(Path.accelerometer))\n\t\t\t\t\t.filter(file => !file.isDirectory && file.name !== Path.filamentsFile && file.name.endsWith('.csv'));\n\t\t\t\tfiles.sort((a, b) => new Date(b.lastModified) - new Date(a.lastModified));\n\t\t\t\tthis.files = files.map(file => file.name);\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\n\t\t\tif (this.files.indexOf(this.selectedFile) === -1) {\n\t\t\t\tthis.selectedFile = null;\n\t\t\t}\n\t\t},\n\t\tfilesOrDirectoriesChanged({ machine, files }) {\n\t\t\tif (machine === this.selectedMachine) {\n\t\t\t\tif (this.selectedFile && files.indexOf(Path.combine(Path.accelerometer, this.selectedFile)) >= 0) {\n\t\t\t\t\t// Current heightmap has been changed, reload it and then refresh the list\n\t\t\t\t\tthis.loadFile(this.selectedFile).then(this.refresh);\n\t\t\t\t}\n\t\t\t\telse if (files.some(file => file.endsWith('.csv')) && Path.filesAffectDirectory(files, Path.accelerometer)) {\n\t\t\t\t\t// CSV file or directory has been changed\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetLineColor(index) {\n\t\t\tconst colors = [\n\t\t\t\t'#4dc9f6',\n\t\t\t\t'#f67019',\n\t\t\t\t'#f53794',\n\t\t\t\t'#537bc4',\n\t\t\t\t'#acc236',\n\t\t\t\t'#166a8f',\n\t\t\t\t'#00a950',\n\t\t\t\t'#58595b',\n\t\t\t\t'#8549ba'\n\t\t\t];\n\t\t\treturn colors[index % colors.length];\n\t\t},\n\t\tasync loadFile(file) {\n\t\t\tlet csvFile;\n\n\t\t\t// Restore previous view if needed\n\t\t\tif (!this.displaySamples) {\n\t\t\t\tthis.showSamples();\n\t\t\t}\n\n\t\t\t// Download the selected file\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\ttry {\n\t\t\t\t\tcsvFile = await this.download({\n\t\t\t\t\t\tfilename: Path.combine(Path.accelerometer, file),\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tshowProgress: false,\n\t\t\t\t\t\tshowSuccess: false,\n\t\t\t\t\t\tshowError: false\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.alertType = 'error';\n\t\t\t\tthis.alertMessage = this.$t('plugins.accelerometer.loadError');\n\t\t\t\tconsole.warn(e);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Clean up\n\t\t\tthis.axes = [];\n\t\t\tthis.accelerations = [];\n\t\t\tthis.alertType = 'info';\n\t\t\tthis.alertMessage = this.$t('plugins.accelerometer.noData');\n\t\t\tthis.chart.data.datasets = [];\n\t\t\tthis.selectedFile = null;\n\n\t\t\ttry {\n\t\t\t\t// Load the CSV\n\t\t\t\tconst csv = new CSV(csvFile);\n\t\t\t\tif (csv.headers.length < 2 || csv.headers[0] !== 'Sample' || csv.content.length < 2) {\n\t\t\t\t\tthrow new Error('Invalid CSV format');\n\t\t\t\t}\n\n\t\t\t\t// Extract details\n\t\t\t\tconst details = /Rate (\\d+) overflows (\\d)/.exec(csv.content[csv.content.length - 1].reduce((a, b) => a + b));\n\t\t\t\tif (!details) {\n\t\t\t\t\tthrow new Error('Failed to read rate and overflows');\n\t\t\t\t}\n\t\t\t\tconst samplingRate = parseFloat(details[1]), overflows = parseFloat(details[2]);\n\n\t\t\t\t// Show confirmation prompt if there are overflows\n\t\t\t\tif (overflows > 0) {\n\t\t\t\t\tthis.showOverflowConfirmation = true;\n\t\t\t\t\tconst that = this;\n\t\t\t\t\tif (!await new Promise(resolve => that.resolveOverflowPromise = resolve)) {\n\t\t\t\t\t\t// User doesn't want to display sample file with overflows\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.alertMessage = null;\n\n\t\t\t\t// Add the samples\n\t\t\t\tlet minValue = 0, maxValue = 0, numSamples = 0;\n\t\t\t\tthis.chart.data.labels = [];\n\t\t\t\tthis.chart.data.datasets = [];\n\t\t\t\tfor (let axis = 1; axis < csv.headers.length; axis++) {\n\t\t\t\t\tconst dataset = {\n\t\t\t\t\t\tborderColor: this.getLineColor(axis - 1),\n\t\t\t\t\t\tbackgroundColor: this.getLineColor(axis - 1),\n\t\t\t\t\t\tpointBorderWidth: 0.25,\n\t\t\t\t\t\tpointRadius: 2,\n\t\t\t\t\t\tborderWidth: 1.25,\n\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tlabel: csv.headers[axis]\n\t\t\t\t\t};\n\t\t\t\t\tfor (let sample = 0; sample < csv.content.length - 1; sample++) {\n\t\t\t\t\t\tif (csv.content[sample].length === csv.headers.length) {\n\t\t\t\t\t\t\tconst value = parseFloat(csv.content[sample][axis]);\n\t\t\t\t\t\t\tif (value < minValue) {\n\t\t\t\t\t\t\t\tminValue = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (value > maxValue) {\n\t\t\t\t\t\t\t\tmaxValue = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdataset.data.push(value);\n\t\t\t\t\t\t\tif (dataset.data.length > numSamples) { \n\t\t\t\t\t\t\t\tnumSamples = dataset.data.length;\n\t\t\t\t\t\t\t\tthis.chart.data.labels.push(dataset.data.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.chart.data.datasets.push(dataset);\n\t\t\t\t}\n\t\t\t\tthis.samples = csv.content\n\t\t\t\t\t.filter((value, index) => index > 0)\n\t\t\t\t\t.map(axisSamples => axisSamples\n\t\t\t\t\t\t.filter((value, index) => index > 0)\n\t\t\t\t\t\t.map(value => parseFloat(value)));\n\n\t\t\t\t// Render the chart and apply sample rate\n\t\t\t\tthis.start = this.chart.config.options.scales.xAxes[0].ticks.min = 0;\n\t\t\t\tthis.end = this.chart.config.options.scales.xAxes[0].ticks.max = numSamples;\n\t\t\t\tthis.chart.update();\n\t\t\t\tthis.samplingRate = samplingRate;\n\n\t\t\t\t// Check if any dataset is visible\n\t\t\t\tlet datasetVisible = false;\n\t\t\t\tfor (let i = 0; i < this.chart.data.datasets.length; i++) {\n\t\t\t\t\tif (this.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tdatasetVisible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.datasetVisible = datasetVisible;\n\t\t\t} catch (e) {\n\t\t\t\tthis.alertType = 'error';\n\t\t\t\tthis.alertMessage = this.$t('plugins.accelerometer.parseError');\n\t\t\t\tconsole.warn(e);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// File now selected\n\t\t\tthis.selectedFile = file;\n\t\t\tthis.displaySamples = true;\n\t\t},\n\t\tapplyDarkTheme(active) {\n\t\t\tconst ticksColor = active ? '#FFF' : '#666';\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.minor.fontColor = ticksColor;\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.major.fontColor = ticksColor;\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.major.fontColor = ticksColor;\n\t\t\tthis.chart.config.options.scales.yAxes[0].ticks.minor.fontColor = ticksColor;\n\n\t\t\tconst gridLineColor = active ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.15)';\n\t\t\tthis.chart.config.options.scales.xAxes[0].gridLines.color = gridLineColor;\n\t\t\tthis.chart.config.options.scales.yAxes[0].gridLines.color = gridLineColor;\n\t\t\tthis.chart.config.options.scales.yAxes[0].gridLines.zeroLineColor = gridLineColor;\n\n\t\t\tthis.chart.update();\n\t\t},\n\t\tmouseDown(e) {\n\t\t\tif (this.displaySamples) {\n\t\t\t\tconst activePoints = this.chart.getElementsAtEventForMode(e, 'nearest', { intersect: false });\n\t\t\t\tthis.dragStart = (activePoints && activePoints.length > 0) ? activePoints[0]._index : null;\n\t\t\t}\n\t\t},\n\t\tmouseUp(e) {\n\t\t\tconst activePoints = this.chart.getElementsAtEventForMode(e, 'nearest', { intersect: false });\n\t\t\tif (this.dragStart !== null && activePoints) {\n\t\t\t\tconst dragEnd = activePoints[0]._index;\n\t\t\t\tif (this.dragStart != dragEnd) {\n\t\t\t\t\tthis.start = this.chart.config.options.scales.xAxes[0].ticks.min = Math.min(this.dragStart, dragEnd);\n\t\t\t\t\tthis.end = this.chart.config.options.scales.xAxes[0].ticks.max = Math.max(this.dragStart, dragEnd);\n\t\t\t\t\tthis.chart.update();\n\t\t\t\t}\n\t\t\t\tthis.dragStart = null;\n\t\t\t}\n\n\t\t\t// $nextTick is too quick for chart.js\n\t\t\tsetTimeout((function() {\n\t\t\t\tlet datasetVisible = false;\n\t\t\t\tfor (let i = 0; i < this.chart.data.datasets.length; i++) {\n\t\t\t\t\tif (this.chart.isDatasetVisible(i)) {\n\t\t\t\t\t\tdatasetVisible = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.datasetVisible = datasetVisible;\n\t\t\t}).bind(this), 100);\n\t\t},\n\t\tapplyStartEnd() {\n\t\t\tif (this.chart) {\n\t\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.min = this.start;\n\t\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.max = this.end;\n\t\t\t\tthis.chart.update();\n\t\t\t}\n\t\t},\n\t\tanalyze() {\n\t\t\t// Compute how many frequencies may be displayed\n\t\t\tconst numPoints = this.end - this.start, resolution = this.samplingRate / numPoints;\n\t\t\tconst numFreqs = Math.floor(Math.min(numPoints / 2, (this.wideBand ? (this.samplingRate / 2) : 200) / resolution));\n\n\t\t\t// Perform frequency analysis for visible datasets\n\t\t\tconst newDatasets = [];\n\t\t\tfor (let i = 0; i < this.chart.data.datasets.length; i++) {\n\t\t\t\tif (this.chart.isDatasetVisible(i) && this.chart.data.datasets[i].label.length === 1) {\n\t\t\t\t\t// Perform FFT of the selected area\n\t\t\t\t\tconst real = this.samples.map(axisSamples => axisSamples[i]).slice(this.start, this.end)\n\t\t\t\t\tconst imag = new Array(numPoints);\n\t\t\t\t\timag.fill(0);\n\t\t\t\t\ttransform(real, imag);\n\n\t\t\t\t\t// Compute the amplitudes\n\t\t\t\t\tconst amplitudes = new Array(numFreqs);\n\t\t\t\t\tfor (let k = 1; k <= numFreqs; k++) {\n\t\t\t\t\t\tamplitudes[k - 1] = (Math.sqrt(real[k] * real[k] + imag[k] * imag[k]) / numPoints).toFixed(5);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add new dataset\n\t\t\t\t\tconst dataset = {\n\t\t\t\t\t\tborderColor: this.getLineColor(i),\n\t\t\t\t\t\tbackgroundColor: this.getLineColor(i),\n\t\t\t\t\t\tpointBorderWidth: 0.25,\n\t\t\t\t\t\tpointRadius: 2,\n\t\t\t\t\t\tborderWidth: 1.25,\n\t\t\t\t\t\tdata: amplitudes,\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tlabel: this.chart.data.datasets[i].label\n\t\t\t\t\t};\n\t\t\t\t\tnewDatasets.push(dataset);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Generate frequencies\n\t\t\tconst frequencies = new Array(numFreqs);\n\t\t\tfor (let i = 0; i < numFreqs; i++) {\n\t\t\t\tfrequencies[i] = Math.round(i * resolution + resolution / 2);\n\t\t\t}\n\n\t\t\t// Remove obsolete datasets, rewrite the legends, and update the chart\n\t\t\tthis.sampleLabels = this.chart.data.labels;\n\t\t\tthis.sampleDatasets = this.chart.data.datasets;\n\t\t\tthis.chart.data.labels = frequencies;\n\t\t\tthis.chart.data.datasets = newDatasets;\n\t\t\tthis.chart.options.scales.xAxes[0].scaleLabel.labelString = this.$t('plugins.accelerometer.frequency');\n\t\t\tthis.chart.options.scales.yAxes[0].scaleLabel.labelString = this.$t('plugins.accelerometer.amplitudes');\n\t\t\tconst that = this;\n\t\t\tthis.chart.options.tooltips.callbacks.title = items => that.$t('plugins.accelerometer.frequencyTooltip', [(items[0].index * resolution + resolution / 2).toFixed(1), (resolution / 2).toFixed(1)]);\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.min = 0;\n\t\t\tthis.chart.config.options.scales.xAxes[0].ticks.max = numFreqs * resolution;\n\t\t\tthis.chart.update();\n\t\t\tthis.displaySamples = false;\n\t\t},\n\t\tshowSamples() {\n\t\t\tthis.chart.data.labels = this.sampleLabels;\n\t\t\tthis.chart.data.datasets = this.sampleDatasets;\n\t\t\tthis.chart.options.scales.xAxes[0].scaleLabel.labelString = this.$t('plugins.accelerometer.samples');\n\t\t\tthis.chart.options.scales.yAxes[0].scaleLabel.labelString = this.$t('plugins.accelerometer.accelerations');\n\t\t\tconst that = this;\n\t\t\tthis.chart.options.tooltips.callbacks.title = items => that.$t('plugins.accelerometer.sampleTooltip', [items[0].index]);\n\t\t\tthis.applyStartEnd();\n\t\t\tthis.displaySamples = true;\n\t\t}\n\t},\n\tmounted() {\n\t\t// Set up initial message\n\t\tthis.alertType = 'info';\n\t\tthis.alertMessage = this.$t('plugins.accelerometer.noData');\n\n\t\t// Reload the file list\n\t\tthis.refresh();\n\n\t\t// Prepare chart\n\t\tconst that = this;\n\t\tthis.options = {\n\t\t\tmaintainAspectRatio: false,\n\t\t\ttooltips: {\n\t\t\t\tmode: 'index',\n\t\t\t\tintersect: false,\n\t\t\t\tcallbacks: {\n\t\t\t\t\ttitle: items => that.$t('plugins.accelerometer.sampleTooltip', [items[0].index])\n\t\t\t\t}\n\t\t\t},\n\t\t\thover: {\n\t\t\t\tmode: 'nearest',\n\t\t\t\tintersect: true\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\txAxes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tlabelString: this.$t('plugins.accelerometer.samples')\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\tcolor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\t\tdisplay: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tminor: {\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmajor: {\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tyAxes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tlabelString: this.$t('plugins.accelerometer.accelerations')\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\tcolor: 'rgba(0,0,0,0.87)',\n\t\t\t\t\t\t\tzeroLineColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\t\tdisplay: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tminor: {\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmajor: {\n\t\t\t\t\t\t\t\tfontColor: 'rgba(0,0,0,0.87)',\n\t\t\t\t\t\t\t\tfontFamily: 'Roboto,sans-serif'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\n\t\t// Create the chart\n\t\tthis.chart = Chart.Line(this.$refs.chart, {\n\t\t\toptions: this.options,\n\t\t\tdata: {\n\t\t\t\tdatasets: []\n\t\t\t}\n\t\t});\n\t\tthis.applyDarkTheme(this.darkTheme);\n\n\t\t// Keep track of file changes\n\t\tthis.$root.$on(Events.filesOrDirectoriesChanged, this.filesOrDirectoriesChanged);\n\t},\n\tbeforeDestroy() {\n\t\t// No longer keep track of file changes\n\t\tthis.$root.$off(Events.filesOrDirectoriesChanged, this.filesOrDirectoriesChanged);\n\t},\n\twatch: {\n\t\tlanguage() {\n\t\t\t// TODO update chart\n\t\t\tthis.chart.options.scales.xAxes[0].scaleLabel.labelString = this.$t(this.displaySamples ? 'plugins.accelerometer.samples' : 'plugins.accelerometer.frequency');\n\t\t\tthis.chart.options.scales.yAxes[0].scaleLabel.labelString = this.$t(this.displaySamples ? 'plugins.accelerometer.accelerations' : 'plugins.accelerometer.amplitudes');\n\t\t\tthis.chart.update();\n\t\t}\n\t}\n}\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"pa-3\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-card-title',{staticClass:\"pt-2 pb-1\"},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-format-list-bulleted\")]),_vm._v(\" \"+_vm._s(_vm.$t('plugins.accelerometer.listTitle'))+\" \"),_c('v-spacer'),_c('v-icon',{staticClass:\"ml-2\",on:{\"click\":_vm.refresh}},[_vm._v(\"mdi-refresh\")])],1),_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.files.length === 0),expression:\"files.length === 0\"}],staticClass:\"pa-0\"},[_c('v-alert',{staticClass:\"mb-0\",attrs:{\"value\":true,\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.$t('plugins.accelerometer.none'))+\" \")])],1),_c('v-list',{staticClass:\"py-0\",attrs:{\"disabled\":_vm.uiFrozen || _vm.loading}},[_c('v-list-item-group',{attrs:{\"mandatory\":\"\",\"value\":_vm.selectedFile,\"color\":\"primary\"}},_vm._l((_vm.files),function(file){return _c('v-list-item',{key:file,attrs:{\"value\":file},on:{\"click\":function($event){return _vm.loadFile(file)}}},[_vm._v(\" \"+_vm._s(file)+\" \")])}),1)],1)],1)],1),_c('v-col',[_c('v-card',{staticClass:\"d-flex flex-column flex-grow-1\"},[_c('v-card-title',{staticClass:\"pt-2 pb-0\"},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-chart-timeline-variant\")]),_vm._v(\" \"+_vm._s(_vm.$t('plugins.accelerometer.chartCaption'))+\" \")],1),_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedFile !== null),expression:\"selectedFile !== null\"}],staticClass:\"content flex-grow-1 px-2 py-0\",on:{\"&mousedown\":function($event){return _vm.mouseDown.apply(null, arguments)},\"&mouseup\":function($event){return _vm.mouseUp.apply(null, arguments)}}},[_c('canvas',{ref:\"chart\"})]),_c('v-spacer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedFile !== null && _vm.alertMessage !== null),expression:\"selectedFile !== null && alertMessage !== null\"}]}),_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertMessage !== null),expression:\"alertMessage !== null\"}],staticClass:\"pa-0\"},[_c('v-alert',{staticClass:\"mb-0\",attrs:{\"value\":true,\"type\":_vm.alertType}},[_vm._v(\" \"+_vm._s(_vm.alertMessage)+\" \")])],1)],1),_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedFile !== null),expression:\"selectedFile !== null\"}],staticClass:\"mt-5\"},[_c('v-card-title',[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-calculator\")]),_vm._v(\" \"+_vm._s(_vm.$t('plugins.accelerometer.analysis'))+\" \")],1),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":_vm.$t('plugins.accelerometer.samplingRate'),\"type\":\"number\",\"rules\":_vm.samplingRateRules,\"min\":400,\"max\":6000,\"hide-details\":\"\",\"disabled\":!_vm.displaySamples},on:{\"update:error\":function($event){_vm.samplingRateValidated = !$event}},model:{value:(_vm.samplingRate),callback:function ($$v) {_vm.samplingRate=$$v},expression:\"samplingRate\"}})],1),_c('v-col',[_c('v-slider',{staticClass:\"pt-7\",attrs:{\"max\":_vm.end - 1,\"label\":_vm.$t('plugins.accelerometer.start'),\"thumb-label\":\"always\",\"hide-details\":\"\",\"disabled\":!_vm.displaySamples},on:{\"input\":_vm.applyStartEnd},model:{value:(_vm.start),callback:function ($$v) {_vm.start=$$v},expression:\"start\"}})],1),_c('v-col',[_c('v-slider',{staticClass:\"pt-7\",attrs:{\"min\":_vm.start + 1,\"max\":_vm.samples.length - 1,\"label\":_vm.$t('plugins.accelerometer.end'),\"thumb-label\":\"always\",\"hide-details\":\"\",\"disabled\":!_vm.displaySamples},on:{\"input\":_vm.applyStartEnd},model:{value:(_vm.end),callback:function ($$v) {_vm.end=$$v},expression:\"end\"}})],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-checkbox',{staticClass:\"mt-2\",attrs:{\"label\":_vm.$t('plugins.accelerometer.wideBand'),\"hide-details\":\"\",\"disabled\":!_vm.displaySamples},model:{value:(_vm.wideBand),callback:function ($$v) {_vm.wideBand=$$v},expression:\"wideBand\"}})],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.displaySamples),expression:\"displaySamples\"}],attrs:{\"color\":\"primary\",\"disabled\":!_vm.samplingRateValidated || !_vm.datasetVisible || !_vm.displaySamples},on:{\"click\":_vm.analyze}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-arrow-right\")]),_vm._v(\" \"+_vm._s(_vm.$t('plugins.accelerometer.analyze'))+\" \")],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.displaySamples),expression:\"!displaySamples\"}],attrs:{\"color\":\"success\"},on:{\"click\":_vm.showSamples}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-arrow-left\")]),_vm._v(\" \"+_vm._s(_vm.$t('plugins.accelerometer.back'))+\" \")],1)],1)],1)],1)],1)],1),_c('confirm-dialog',{attrs:{\"title\":_vm.$t('plugins.accelerometer.overflowPrompt.title'),\"prompt\":_vm.$t('plugins.accelerometer.overflowPrompt.prompt'),\"shown\":_vm.showOverflowConfirmation},on:{\"update:shown\":function($event){_vm.showOverflowConfirmation=$event},\"cancel\":function($event){return _vm.resolveOverflowPromise(false)},\"confirmed\":function($event){return _vm.resolveOverflowPromise(true)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Accelerometer.vue?vue&type=template&id=48265ec6&scoped=true&\"\nimport script from \"./Accelerometer.vue?vue&type=script&lang=js&\"\nexport * from \"./Accelerometer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Accelerometer.vue?vue&type=style&index=0&id=48265ec6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48265ec6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCardTitle,VCheckbox,VCol,VIcon,VList,VListItem,VListItemGroup,VRow,VSlider,VSpacer,VTextField})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Accelerometer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Accelerometer.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Accelerometer.vue?vue&type=style&index=0&id=48265ec6&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"fae32756-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Accelerometer.vue?vue&type=template&id=48265ec6&scoped=true&\"","/* \n * Free FFT and convolution (JavaScript)\n * \n * Copyright (c) 2020 Project Nayuki. (MIT License)\n * https://www.nayuki.io/page/free-small-fft-in-multiple-languages\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * - The above copyright notice and this permission notice shall be included in\n *   all copies or substantial portions of the Software.\n * - The Software is provided \"as is\", without warranty of any kind, express or\n *   implied, including but not limited to the warranties of merchantability,\n *   fitness for a particular purpose and noninfringement. In no event shall the\n *   authors or copyright holders be liable for any claim, damages or other\n *   liability, whether in an action of contract, tort or otherwise, arising from,\n *   out of or in connection with the Software or the use or other dealings in the\n *   Software.\n */\n\n\"use strict\";\n\n\n/* \n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This is a wrapper function.\n */\nexport function transform(real, imag) {\n\tlet n = real.length;\n\tif (n != imag.length)\n\t\tthrow \"Mismatched lengths\";\n\tif (n == 0)\n\t\treturn;\n\telse if ((n & (n - 1)) == 0)  // Is power of 2\n\t\ttransformRadix2(real, imag);\n\telse  // More complicated algorithm for arbitrary sizes\n\t\ttransformBluestein(real, imag);\n}\n\n\n/* \n * Computes the inverse discrete Fourier transform (IDFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This is a wrapper function. This transform does not perform scaling, so the inverse is not a true inverse.\n */\nexport function inverseTransform(real, imag) {\n\ttransform(imag, real);\n}\n\n\n/* \n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector's length must be a power of 2. Uses the Cooley-Tukey decimation-in-time radix-2 algorithm.\n */\nfunction transformRadix2(real, imag) {\n\t// Length letiables\n\tlet n = real.length;\n\tif (n != imag.length)\n\t\tthrow \"Mismatched lengths\";\n\tif (n == 1)  // Trivial transform\n\t\treturn;\n\tlet levels = -1;\n\tfor (let i = 0; i < 32; i++) {\n\t\tif (1 << i == n)\n\t\t\tlevels = i;  // Equal to log2(n)\n\t}\n\tif (levels == -1)\n\t\tthrow \"Length is not a power of 2\";\n\t\n\t// Trigonometric tables\n\tlet cosTable = new Array(n / 2);\n\tlet sinTable = new Array(n / 2);\n\tfor (let i = 0; i < n / 2; i++) {\n\t\tcosTable[i] = Math.cos(2 * Math.PI * i / n);\n\t\tsinTable[i] = Math.sin(2 * Math.PI * i / n);\n\t}\n\t\n\t// Bit-reversed addressing permutation\n\tfor (let i = 0; i < n; i++) {\n\t\tlet j = reverseBits(i, levels);\n\t\tif (j > i) {\n\t\t\tlet temp = real[i];\n\t\t\treal[i] = real[j];\n\t\t\treal[j] = temp;\n\t\t\ttemp = imag[i];\n\t\t\timag[i] = imag[j];\n\t\t\timag[j] = temp;\n\t\t}\n\t}\n\t\n\t// Cooley-Tukey decimation-in-time radix-2 FFT\n\tfor (let size = 2; size <= n; size *= 2) {\n\t\tlet halfsize = size / 2;\n\t\tlet tablestep = n / size;\n\t\tfor (let i = 0; i < n; i += size) {\n\t\t\tfor (let j = i, k = 0; j < i + halfsize; j++, k += tablestep) {\n\t\t\t\tlet l = j + halfsize;\n\t\t\t\tlet tpre =  real[l] * cosTable[k] + imag[l] * sinTable[k];\n\t\t\t\tlet tpim = -real[l] * sinTable[k] + imag[l] * cosTable[k];\n\t\t\t\treal[l] = real[j] - tpre;\n\t\t\t\timag[l] = imag[j] - tpim;\n\t\t\t\treal[j] += tpre;\n\t\t\t\timag[j] += tpim;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Returns the integer whose value is the reverse of the lowest 'width' bits of the integer 'val'.\n\tfunction reverseBits(val, width) {\n\t\tlet result = 0;\n\t\tfor (let i = 0; i < width; i++) {\n\t\t\tresult = (result << 1) | (val & 1);\n\t\t\tval >>>= 1;\n\t\t}\n\t\treturn result;\n\t}\n}\n\n\n/* \n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This requires the convolution function, which in turn requires the radix-2 FFT function.\n * Uses Bluestein's chirp z-transform algorithm.\n */\nfunction transformBluestein(real, imag) {\n\t// Find a power-of-2 convolution length m such that m >= n * 2 + 1\n\tlet n = real.length;\n\tif (n != imag.length)\n\t\tthrow \"Mismatched lengths\";\n\tlet m = 1;\n\twhile (m < n * 2 + 1)\n\t\tm *= 2;\n\t\n\t// Trigonometric tables\n\tlet cosTable = new Array(n);\n\tlet sinTable = new Array(n);\n\tfor (let i = 0; i < n; i++) {\n\t\tlet j = i * i % (n * 2);  // This is more accurate than j = i * i\n\t\tcosTable[i] = Math.cos(Math.PI * j / n);\n\t\tsinTable[i] = Math.sin(Math.PI * j / n);\n\t}\n\t\n\t// Temporary vectors and preprocessing\n\tlet areal = newArrayOfZeros(m);\n\tlet aimag = newArrayOfZeros(m);\n\tfor (let i = 0; i < n; i++) {\n\t\tareal[i] =  real[i] * cosTable[i] + imag[i] * sinTable[i];\n\t\taimag[i] = -real[i] * sinTable[i] + imag[i] * cosTable[i];\n\t}\n\tlet breal = newArrayOfZeros(m);\n\tlet bimag = newArrayOfZeros(m);\n\tbreal[0] = cosTable[0];\n\tbimag[0] = sinTable[0];\n\tfor (let i = 1; i < n; i++) {\n\t\tbreal[i] = breal[m - i] = cosTable[i];\n\t\tbimag[i] = bimag[m - i] = sinTable[i];\n\t}\n\t\n\t// Convolution\n\tlet creal = new Array(m);\n\tlet cimag = new Array(m);\n\tconvolveComplex(areal, aimag, breal, bimag, creal, cimag);\n\t\n\t// Postprocessing\n\tfor (let i = 0; i < n; i++) {\n\t\treal[i] =  creal[i] * cosTable[i] + cimag[i] * sinTable[i];\n\t\timag[i] = -creal[i] * sinTable[i] + cimag[i] * cosTable[i];\n\t}\n}\n\n\n/* \n * Computes the circular convolution of the given real vectors. Each vector's length must be the same.\n */\nexport function convolveReal(xvec, yvec, outvec) {\n\tlet n = xvec.length;\n\tif (n != yvec.length || n != outvec.length)\n\t\tthrow \"Mismatched lengths\";\n\tconvolveComplex(xvec, newArrayOfZeros(n), yvec, newArrayOfZeros(n), outvec, newArrayOfZeros(n));\n}\n\n\n/* \n * Computes the circular convolution of the given complex vectors. Each vector's length must be the same.\n */\nfunction convolveComplex(xreal, ximag, yreal, yimag, outreal, outimag) {\n\tlet n = xreal.length;\n\tif (n != ximag.length || n != yreal.length || n != yimag.length\n\t\t\t|| n != outreal.length || n != outimag.length)\n\t\tthrow \"Mismatched lengths\";\n\t\n\txreal = xreal.slice();\n\tximag = ximag.slice();\n\tyreal = yreal.slice();\n\tyimag = yimag.slice();\n\ttransform(xreal, ximag);\n\ttransform(yreal, yimag);\n\t\n\tfor (let i = 0; i < n; i++) {\n\t\tlet temp = xreal[i] * yreal[i] - ximag[i] * yimag[i];\n\t\tximag[i] = ximag[i] * yreal[i] + xreal[i] * yimag[i];\n\t\txreal[i] = temp;\n\t}\n\tinverseTransform(xreal, ximag);\n\t\n\tfor (let i = 0; i < n; i++) {  // Scaling (because this FFT implementation omits it)\n\t\toutreal[i] = xreal[i] / n;\n\t\toutimag[i] = ximag[i] / n;\n\t}\n}\n\n\nfunction newArrayOfZeros(n) {\n\tlet result = [];\n\tfor (let i = 0; i < n; i++)\n\t\tresult.push(0);\n\treturn result;\n}\n","'use strict'\n\nimport { registerSettingTab } from '../../routes'\n//import { registerPluginData, PluginDataType } from '../../store'\n\nimport Accelerometer from './Accelerometer.vue'\n\n// Register a route via Machine Settings -> Accelerometer\nregisterSettingTab(false, 'Accelerometer', Accelerometer, 'plugins.accelerometer.name');\n","'use strict'\n\nclass CSV {\n\theaders = []\n\tcontent = []\n\n\tconstructor(content) {\n\t\tlet row = 0, col = 0, inQuote = false;\n\t\tfor (let i = 0; i < content.length; i++) {\n\t\t\tconst char = content[i], nextChar = content[i + 1];\n\n\t\t\t// Make sure we have enough rows+cols\n\t\t\tif (row === 0) {\n\t\t\t\tif (this.headers.length <= col) {\n\t\t\t\t\tthis.headers.push('');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.content.length < row) {\n\t\t\t\t\tthis.content.push([]);\n\t\t\t\t}\n\t\t\t\tif (this.content[row - 1].length <= col) {\n\t\t\t\t\tthis.content[row - 1].push('');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Deal with escaped quotes\n\t\t\tif (inQuote && char === '\"' && nextChar === '\"') {\n\t\t\t\tif (row === 0) {\n\t\t\t\t\tthis.headers[col] += char;\n\t\t\t\t} else {\n\t\t\t\t\tthis.content[row - 1][col] += char;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Deal with the start or end of a field\n\t\t\tif (char === '\"') {\n\t\t\t\tinQuote = !inQuote;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check if we can move on to the next field\n\t\t\tif (char === ',' && !inQuote) {\n\t\t\t\tcol++;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check if we can move on to the next row\n\t\t\tif (char === '\\n' && !inQuote) {\n\t\t\t\tthis.content.push([]);\n\t\t\t\tcol = 0;\n\t\t\t\t++row;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise append the current character\n\t\t\tif (row === 0) {\n\t\t\t\tthis.headers[col] += char;\n\t\t\t} else {\n\t\t\t\tthis.content[row - 1][col] += char;\n\t\t\t}\n\t\t}\n\n\t\tif (this.content.length > 0 && this.content[this.content.length - 1].length === 0) {\n\t\t\t// Remove last content row if it is empty\n\t\t\tthis.content.splice(-1, 1);\n\t\t}\n\t}\n\n\tget(fieldName, row = 0) {\n\t\tconst index = this.headers.findIndex(header => header === fieldName);\n\t\tif (index === -1) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this.content[row][index];\n\t}\n}\n\nexport default CSV\n"],"sourceRoot":""}