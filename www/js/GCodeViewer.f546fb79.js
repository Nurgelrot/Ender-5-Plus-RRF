(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["GCodeViewer"],{"./node_modules/@babylonjs/core/Actions/abstractActionManager.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AbstractActionManager",(function(){return c}));var c=function(){function AbstractActionManager(){this.hoverCursor="",this.actions=new Array,this.isRecursive=!1}return Object.defineProperty(AbstractActionManager,"HasTriggers",{get:function(){for(var t in AbstractActionManager.Triggers)if(AbstractActionManager.Triggers.hasOwnProperty(t))return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractActionManager,"HasPickTriggers",{get:function(){for(var t in AbstractActionManager.Triggers)if(AbstractActionManager.Triggers.hasOwnProperty(t)){var n=parseInt(t);if(n>=1&&n<=7)return!0}return!1},enumerable:!1,configurable:!0}),AbstractActionManager.HasSpecificTrigger=function(t){for(var n in AbstractActionManager.Triggers)if(AbstractActionManager.Triggers.hasOwnProperty(n)){var u=parseInt(n);if(u===t)return!0}return!1},AbstractActionManager.Triggers={},AbstractActionManager}()},"./node_modules/@babylonjs/core/Actions/actionEvent.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ActionEvent",(function(){return c}));var c=function(){function ActionEvent(t,n,u,c,l,d){this.source=t,this.pointerX=n,this.pointerY=u,this.meshUnderPointer=c,this.sourceEvent=l,this.additionalData=d}return ActionEvent.CreateNew=function(t,n,u){var c=t.getScene();return new ActionEvent(t,c.pointerX,c.pointerY,c.meshUnderPointer||t,n,u)},ActionEvent.CreateNewFromSprite=function(t,n,u,c){return new ActionEvent(t,n.pointerX,n.pointerY,n.meshUnderPointer,u,c)},ActionEvent.CreateNewFromScene=function(t,n){return new ActionEvent(null,t.pointerX,t.pointerY,t.meshUnderPointer,n)},ActionEvent.CreateNewFromPrimitive=function(t,n,u,c){return new ActionEvent(t,n.x,n.y,null,u,c)},ActionEvent}()},"./node_modules/@babylonjs/core/Animations/animation.js":function(t,n,u){"use strict";u.r(n),u.d(n,"_IAnimationState",(function(){return U})),u.d(n,"Animation",(function(){return G}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Maths/math.scalar.js"),h=u("./node_modules/@babylonjs/core/Misc/decorators.js"),p=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),m=u("./node_modules/@babylonjs/core/Animations/animationKey.js"),_=u("./node_modules/@babylonjs/core/Animations/animationRange.js"),g=u("./node_modules/@babylonjs/core/node.js"),b=u("./node_modules/@babylonjs/core/Maths/math.size.js"),v=u("./node_modules/@babylonjs/core/Misc/webRequest.js"),U=function(){function _IAnimationState(){}return _IAnimationState}(),G=function(){function Animation(t,n,u,c,l,d){this.name=t,this.targetProperty=n,this.framePerSecond=u,this.dataType=c,this.loopMode=l,this.enableBlending=d,this._runtimeAnimations=new Array,this._events=new Array,this.blendingSpeed=.01,this._ranges={},this.targetPropertyPath=n.split("."),this.dataType=c,this.loopMode=void 0===l?Animation.ANIMATIONLOOPMODE_CYCLE:l}return Animation._PrepareAnimation=function(t,n,u,d,h,p,m,_){var g=void 0;if(!isNaN(parseFloat(h))&&isFinite(h)?g=Animation.ANIMATIONTYPE_FLOAT:h instanceof c["Quaternion"]?g=Animation.ANIMATIONTYPE_QUATERNION:h instanceof c["Vector3"]?g=Animation.ANIMATIONTYPE_VECTOR3:h instanceof c["Vector2"]?g=Animation.ANIMATIONTYPE_VECTOR2:h instanceof l["Color3"]?g=Animation.ANIMATIONTYPE_COLOR3:h instanceof l["Color4"]?g=Animation.ANIMATIONTYPE_COLOR4:h instanceof b["Size"]&&(g=Animation.ANIMATIONTYPE_SIZE),void 0==g)return null;var v=new Animation(t,n,u,g,m),U=[{frame:0,value:h},{frame:d,value:p}];return v.setKeys(U),void 0!==_&&v.setEasingFunction(_),v},Animation.CreateAnimation=function(t,n,u,c){var l=new Animation(t+"Animation",t,u,n,Animation.ANIMATIONLOOPMODE_CONSTANT);return l.setEasingFunction(c),l},Animation.CreateAndStartAnimation=function(t,n,u,c,l,d,h,p,m,_){var g=Animation._PrepareAnimation(t,u,c,l,d,h,p,m);return g?n.getScene().beginDirectAnimation(n,[g],0,l,1===g.loopMode,1,_):null},Animation.CreateAndStartHierarchyAnimation=function(t,n,u,c,l,d,h,p,m,_,g){var b=Animation._PrepareAnimation(t,c,l,d,h,p,m,_);if(!b)return null;var v=n.getScene();return v.beginDirectHierarchyAnimation(n,u,[b],0,d,1===b.loopMode,1,g)},Animation.CreateMergeAndStartAnimation=function(t,n,u,c,l,d,h,p,m,_){var g=Animation._PrepareAnimation(t,u,c,l,d,h,p,m);return g?(n.animations.push(g),n.getScene().beginAnimation(n,0,l,1===g.loopMode,1,_)):null},Animation.MakeAnimationAdditive=function(t,n,u,l,d){void 0===n&&(n=0),void 0===l&&(l=!1);var h=t;if(l&&(h=t.clone(),h.name=d||h.name),!h._keys.length)return h;n=n>=0?n:0;var p=0,m=h._keys[0],_=h._keys.length-1,g=h._keys[_],b={referenceValue:m.value,referencePosition:c["TmpVectors"].Vector3[0],referenceQuaternion:c["TmpVectors"].Quaternion[0],referenceScaling:c["TmpVectors"].Vector3[1],keyPosition:c["TmpVectors"].Vector3[2],keyQuaternion:c["TmpVectors"].Quaternion[1],keyScaling:c["TmpVectors"].Vector3[3]},v=!1,U=m.frame,G=g.frame;if(u){var W=h.getRange(u);W&&(U=W.from,G=W.to)}var X=m.frame===U,q=g.frame===G;if(1===h._keys.length){var K=h._getKeyValue(h._keys[0]);b.referenceValue=K.clone?K.clone():K,v=!0}else if(n<=m.frame){K=h._getKeyValue(m.value);b.referenceValue=K.clone?K.clone():K,v=!0}else if(n>=g.frame){K=h._getKeyValue(g.value);b.referenceValue=K.clone?K.clone():K,v=!0}var Y=0;while(!v||!X||!q&&Y<h._keys.length-1){var Q=h._keys[Y],Z=h._keys[Y+1];if(!v&&n>=Q.frame&&n<=Z.frame){K=void 0;if(n===Q.frame)K=h._getKeyValue(Q.value);else if(n===Z.frame)K=h._getKeyValue(Z.value);else{var $={key:Y,repeatCount:0,loopMode:this.ANIMATIONLOOPMODE_CONSTANT};K=h._interpolate(n,$)}b.referenceValue=K.clone?K.clone():K,v=!0}if(!X&&U>=Q.frame&&U<=Z.frame){if(U===Q.frame)p=Y;else if(U===Z.frame)p=Y+1;else{$={key:Y,repeatCount:0,loopMode:this.ANIMATIONLOOPMODE_CONSTANT},K=h._interpolate(U,$);var J={frame:U,value:K.clone?K.clone():K};h._keys.splice(Y+1,0,J),p=Y+1}X=!0}if(!q&&G>=Q.frame&&G<=Z.frame){if(G===Q.frame)_=Y;else if(G===Z.frame)_=Y+1;else{$={key:Y,repeatCount:0,loopMode:this.ANIMATIONLOOPMODE_CONSTANT},K=h._interpolate(G,$),J={frame:G,value:K.clone?K.clone():K};h._keys.splice(Y+1,0,J),_=Y+1}q=!0}Y++}h.dataType===Animation.ANIMATIONTYPE_QUATERNION?b.referenceValue.normalize().conjugateInPlace():h.dataType===Animation.ANIMATIONTYPE_MATRIX&&(b.referenceValue.decompose(b.referenceScaling,b.referenceQuaternion,b.referencePosition),b.referenceQuaternion.normalize().conjugateInPlace());for(Y=p;Y<=_;Y++){J=h._keys[Y];if(!Y||h.dataType===Animation.ANIMATIONTYPE_FLOAT||J.value!==m.value)switch(h.dataType){case Animation.ANIMATIONTYPE_MATRIX:J.value.decompose(b.keyScaling,b.keyQuaternion,b.keyPosition),b.keyPosition.subtractInPlace(b.referencePosition),b.keyScaling.divideInPlace(b.referenceScaling),b.referenceQuaternion.multiplyToRef(b.keyQuaternion,b.keyQuaternion),c["Matrix"].ComposeToRef(b.keyScaling,b.keyQuaternion,b.keyPosition,J.value);break;case Animation.ANIMATIONTYPE_QUATERNION:b.referenceValue.multiplyToRef(J.value,J.value);break;case Animation.ANIMATIONTYPE_VECTOR2:case Animation.ANIMATIONTYPE_VECTOR3:case Animation.ANIMATIONTYPE_COLOR3:case Animation.ANIMATIONTYPE_COLOR4:J.value.subtractToRef(b.referenceValue,J.value);break;case Animation.ANIMATIONTYPE_SIZE:J.value.width-=b.referenceValue.width,J.value.height-=b.referenceValue.height;break;default:J.value-=b.referenceValue}}return h},Animation.TransitionTo=function(t,n,u,c,l,d,h,p){if(void 0===p&&(p=null),h<=0)return u[t]=n,p&&p(),null;var m=l*(h/1e3);d.setKeys([{frame:0,value:u[t].clone?u[t].clone():u[t]},{frame:m,value:n}]),u.animations||(u.animations=[]),u.animations.push(d);var _=c.beginAnimation(u,0,m,!1);return _.onAnimationEnd=p,_},Object.defineProperty(Animation.prototype,"runtimeAnimations",{get:function(){return this._runtimeAnimations},enumerable:!1,configurable:!0}),Object.defineProperty(Animation.prototype,"hasRunningRuntimeAnimations",{get:function(){for(var t=0,n=this._runtimeAnimations;t<n.length;t++){var u=n[t];if(!u.isStopped)return!0}return!1},enumerable:!1,configurable:!0}),Animation.prototype.toString=function(t){var n="Name: "+this.name+", property: "+this.targetProperty;if(n+=", datatype: "+["Float","Vector3","Quaternion","Matrix","Color3","Vector2"][this.dataType],n+=", nKeys: "+(this._keys?this._keys.length:"none"),n+=", nRanges: "+(this._ranges?Object.keys(this._ranges).length:"none"),t){n+=", Ranges: {";var u=!0;for(var c in this._ranges)u&&(n+=", ",u=!1),n+=c;n+="}"}return n},Animation.prototype.addEvent=function(t){this._events.push(t),this._events.sort((function(t,n){return t.frame-n.frame}))},Animation.prototype.removeEvents=function(t){for(var n=0;n<this._events.length;n++)this._events[n].frame===t&&(this._events.splice(n,1),n--)},Animation.prototype.getEvents=function(){return this._events},Animation.prototype.createRange=function(t,n,u){this._ranges[t]||(this._ranges[t]=new _["AnimationRange"](t,n,u))},Animation.prototype.deleteRange=function(t,n){void 0===n&&(n=!0);var u=this._ranges[t];if(u){if(n)for(var c=u.from,l=u.to,d=this._keys.length-1;d>=0;d--)this._keys[d].frame>=c&&this._keys[d].frame<=l&&this._keys.splice(d,1);this._ranges[t]=null}},Animation.prototype.getRange=function(t){return this._ranges[t]},Animation.prototype.getKeys=function(){return this._keys},Animation.prototype.getHighestFrame=function(){for(var t=0,n=0,u=this._keys.length;n<u;n++)t<this._keys[n].frame&&(t=this._keys[n].frame);return t},Animation.prototype.getEasingFunction=function(){return this._easingFunction},Animation.prototype.setEasingFunction=function(t){this._easingFunction=t},Animation.prototype.floatInterpolateFunction=function(t,n,u){return d["Scalar"].Lerp(t,n,u)},Animation.prototype.floatInterpolateFunctionWithTangents=function(t,n,u,c,l){return d["Scalar"].Hermite(t,n,u,c,l)},Animation.prototype.quaternionInterpolateFunction=function(t,n,u){return c["Quaternion"].Slerp(t,n,u)},Animation.prototype.quaternionInterpolateFunctionWithTangents=function(t,n,u,l,d){return c["Quaternion"].Hermite(t,n,u,l,d).normalize()},Animation.prototype.vector3InterpolateFunction=function(t,n,u){return c["Vector3"].Lerp(t,n,u)},Animation.prototype.vector3InterpolateFunctionWithTangents=function(t,n,u,l,d){return c["Vector3"].Hermite(t,n,u,l,d)},Animation.prototype.vector2InterpolateFunction=function(t,n,u){return c["Vector2"].Lerp(t,n,u)},Animation.prototype.vector2InterpolateFunctionWithTangents=function(t,n,u,l,d){return c["Vector2"].Hermite(t,n,u,l,d)},Animation.prototype.sizeInterpolateFunction=function(t,n,u){return b["Size"].Lerp(t,n,u)},Animation.prototype.color3InterpolateFunction=function(t,n,u){return l["Color3"].Lerp(t,n,u)},Animation.prototype.color4InterpolateFunction=function(t,n,u){return l["Color4"].Lerp(t,n,u)},Animation.prototype._getKeyValue=function(t){return"function"===typeof t?t():t},Animation.prototype._interpolate=function(t,n){if(n.loopMode===Animation.ANIMATIONLOOPMODE_CONSTANT&&n.repeatCount>0)return n.highLimitValue.clone?n.highLimitValue.clone():n.highLimitValue;var u=this._keys;if(1===u.length)return this._getKeyValue(u[0].value);var c=n.key;if(u[c].frame>=t)while(c-1>=0&&u[c].frame>=t)c--;for(var l=c;l<u.length;l++){var d=u[l+1];if(d.frame>=t){n.key=l;var h=u[l],p=this._getKeyValue(h.value);if(h.interpolation===m["AnimationKeyInterpolation"].STEP)return p;var _=this._getKeyValue(d.value),g=void 0!==h.outTangent&&void 0!==d.inTangent,b=d.frame-h.frame,v=(t-h.frame)/b,U=this.getEasingFunction();switch(null!=U&&(v=U.ease(v)),this.dataType){case Animation.ANIMATIONTYPE_FLOAT:var G=g?this.floatInterpolateFunctionWithTangents(p,h.outTangent*b,_,d.inTangent*b,v):this.floatInterpolateFunction(p,_,v);switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return G;case Animation.ANIMATIONLOOPMODE_RELATIVE:return n.offsetValue*n.repeatCount+G}break;case Animation.ANIMATIONTYPE_QUATERNION:var W=g?this.quaternionInterpolateFunctionWithTangents(p,h.outTangent.scale(b),_,d.inTangent.scale(b),v):this.quaternionInterpolateFunction(p,_,v);switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return W;case Animation.ANIMATIONLOOPMODE_RELATIVE:return W.addInPlace(n.offsetValue.scale(n.repeatCount))}return W;case Animation.ANIMATIONTYPE_VECTOR3:var X=g?this.vector3InterpolateFunctionWithTangents(p,h.outTangent.scale(b),_,d.inTangent.scale(b),v):this.vector3InterpolateFunction(p,_,v);switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return X;case Animation.ANIMATIONLOOPMODE_RELATIVE:return X.add(n.offsetValue.scale(n.repeatCount))}case Animation.ANIMATIONTYPE_VECTOR2:var q=g?this.vector2InterpolateFunctionWithTangents(p,h.outTangent.scale(b),_,d.inTangent.scale(b),v):this.vector2InterpolateFunction(p,_,v);switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return q;case Animation.ANIMATIONLOOPMODE_RELATIVE:return q.add(n.offsetValue.scale(n.repeatCount))}case Animation.ANIMATIONTYPE_SIZE:switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return this.sizeInterpolateFunction(p,_,v);case Animation.ANIMATIONLOOPMODE_RELATIVE:return this.sizeInterpolateFunction(p,_,v).add(n.offsetValue.scale(n.repeatCount))}case Animation.ANIMATIONTYPE_COLOR3:switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return this.color3InterpolateFunction(p,_,v);case Animation.ANIMATIONLOOPMODE_RELATIVE:return this.color3InterpolateFunction(p,_,v).add(n.offsetValue.scale(n.repeatCount))}case Animation.ANIMATIONTYPE_COLOR4:switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return this.color4InterpolateFunction(p,_,v);case Animation.ANIMATIONLOOPMODE_RELATIVE:return this.color4InterpolateFunction(p,_,v).add(n.offsetValue.scale(n.repeatCount))}case Animation.ANIMATIONTYPE_MATRIX:switch(n.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:if(Animation.AllowMatricesInterpolation)return this.matrixInterpolateFunction(p,_,v,n.workValue);case Animation.ANIMATIONLOOPMODE_RELATIVE:return p}default:break}break}}return this._getKeyValue(u[u.length-1].value)},Animation.prototype.matrixInterpolateFunction=function(t,n,u,l){return Animation.AllowMatrixDecomposeForInterpolation?l?(c["Matrix"].DecomposeLerpToRef(t,n,u,l),l):c["Matrix"].DecomposeLerp(t,n,u):l?(c["Matrix"].LerpToRef(t,n,u,l),l):c["Matrix"].Lerp(t,n,u)},Animation.prototype.clone=function(){var t=new Animation(this.name,this.targetPropertyPath.join("."),this.framePerSecond,this.dataType,this.loopMode);if(t.enableBlending=this.enableBlending,t.blendingSpeed=this.blendingSpeed,this._keys&&t.setKeys(this._keys),this._ranges)for(var n in t._ranges={},this._ranges){var u=this._ranges[n];u&&(t._ranges[n]=u.clone())}return t},Animation.prototype.setKeys=function(t){this._keys=t.slice(0)},Animation.prototype.serialize=function(){var t={};t.name=this.name,t.property=this.targetProperty,t.framePerSecond=this.framePerSecond,t.dataType=this.dataType,t.loopBehavior=this.loopMode,t.enableBlending=this.enableBlending,t.blendingSpeed=this.blendingSpeed;var n=this.dataType;t.keys=[];for(var u=this.getKeys(),c=0;c<u.length;c++){var l=u[c],d={};switch(d.frame=l.frame,n){case Animation.ANIMATIONTYPE_FLOAT:d.values=[l.value],void 0!==l.inTangent&&d.values.push(l.inTangent),void 0!==l.outTangent&&(void 0===l.inTangent&&d.values.push(void 0),d.values.push(l.outTangent));break;case Animation.ANIMATIONTYPE_QUATERNION:case Animation.ANIMATIONTYPE_MATRIX:case Animation.ANIMATIONTYPE_VECTOR3:case Animation.ANIMATIONTYPE_COLOR3:case Animation.ANIMATIONTYPE_COLOR4:d.values=l.value.asArray(),void 0!=l.inTangent&&d.values.push(l.inTangent.asArray()),void 0!=l.outTangent&&(void 0===l.inTangent&&d.values.push(void 0),d.values.push(l.outTangent.asArray()));break}t.keys.push(d)}for(var h in t.ranges=[],this._ranges){var p=this._ranges[h];if(p){var m={};m.name=h,m.from=p.from,m.to=p.to,t.ranges.push(m)}}return t},Animation._UniversalLerp=function(t,n,u){var c=t.constructor;return c.Lerp?c.Lerp(t,n,u):c.Slerp?c.Slerp(t,n,u):t.toFixed?t*(1-u)+u*n:n},Animation.Parse=function(t){var n,u,d=new Animation(t.name,t.property,t.framePerSecond,t.dataType,t.loopBehavior),h=t.dataType,p=[];for(t.enableBlending&&(d.enableBlending=t.enableBlending),t.blendingSpeed&&(d.blendingSpeed=t.blendingSpeed),u=0;u<t.keys.length;u++){var m,_,g=t.keys[u];switch(h){case Animation.ANIMATIONTYPE_FLOAT:n=g.values[0],g.values.length>=1&&(m=g.values[1]),g.values.length>=2&&(_=g.values[2]);break;case Animation.ANIMATIONTYPE_QUATERNION:if(n=c["Quaternion"].FromArray(g.values),g.values.length>=8){var b=c["Quaternion"].FromArray(g.values.slice(4,8));b.equals(c["Quaternion"].Zero())||(m=b)}if(g.values.length>=12){var v=c["Quaternion"].FromArray(g.values.slice(8,12));v.equals(c["Quaternion"].Zero())||(_=v)}break;case Animation.ANIMATIONTYPE_MATRIX:n=c["Matrix"].FromArray(g.values);break;case Animation.ANIMATIONTYPE_COLOR3:n=l["Color3"].FromArray(g.values);break;case Animation.ANIMATIONTYPE_COLOR4:n=l["Color4"].FromArray(g.values);break;case Animation.ANIMATIONTYPE_VECTOR3:default:n=c["Vector3"].FromArray(g.values);break}var U={};U.frame=g.frame,U.value=n,void 0!=m&&(U.inTangent=m),void 0!=_&&(U.outTangent=_),p.push(U)}if(d.setKeys(p),t.ranges)for(u=0;u<t.ranges.length;u++)n=t.ranges[u],d.createRange(n.name,n.from,n.to);return d},Animation.AppendSerializedAnimations=function(t,n){h["SerializationHelper"].AppendSerializedAnimations(t,n)},Animation.ParseFromFileAsync=function(t,n){var u=this;return new Promise((function(c,l){var d=new v["WebRequest"];d.addEventListener("readystatechange",(function(){if(4==d.readyState)if(200==d.status){var n=JSON.parse(d.responseText);if(n.length){for(var h=new Array,p=0,m=n;p<m.length;p++){var _=m[p];h.push(u.Parse(_))}c(h)}else{h=u.Parse(n);t&&(h.name=t),c(h)}}else l("Unable to load the animation")})),d.open("GET",n),d.send()}))},Animation.CreateFromSnippetAsync=function(t){var n=this;return new Promise((function(u,c){var l=new v["WebRequest"];l.addEventListener("readystatechange",(function(){if(4==l.readyState)if(200==l.status){var d=JSON.parse(JSON.parse(l.responseText).jsonPayload);if(d.animations){for(var h=JSON.parse(d.animations),p=new Array,m=0,_=h;m<_.length;m++){var g=_[m];p.push(n.Parse(g))}u(p)}else{h=JSON.parse(d.animation),p=n.Parse(h);p.snippetId=t,u(p)}}else c("Unable to load the snippet "+t)})),l.open("GET",n.SnippetUrl+"/"+t.replace(/#/g,"/")),l.send()}))},Animation.AllowMatricesInterpolation=!1,Animation.AllowMatrixDecomposeForInterpolation=!0,Animation.SnippetUrl="https://snippet.babylonjs.com",Animation.ANIMATIONTYPE_FLOAT=0,Animation.ANIMATIONTYPE_VECTOR3=1,Animation.ANIMATIONTYPE_QUATERNION=2,Animation.ANIMATIONTYPE_MATRIX=3,Animation.ANIMATIONTYPE_COLOR3=4,Animation.ANIMATIONTYPE_COLOR4=7,Animation.ANIMATIONTYPE_VECTOR2=5,Animation.ANIMATIONTYPE_SIZE=6,Animation.ANIMATIONLOOPMODE_RELATIVE=0,Animation.ANIMATIONLOOPMODE_CYCLE=1,Animation.ANIMATIONLOOPMODE_CONSTANT=2,Animation}();p["_TypeStore"].RegisteredTypes["BABYLON.Animation"]=G,g["Node"]._AnimationRangeFactory=function(t,n,u){return new _["AnimationRange"](t,n,u)}},"./node_modules/@babylonjs/core/Animations/animationKey.js":function(t,n,u){"use strict";var c;u.r(n),u.d(n,"AnimationKeyInterpolation",(function(){return c})),function(t){t[t["STEP"]=1]="STEP"}(c||(c={}))},"./node_modules/@babylonjs/core/Animations/animationRange.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AnimationRange",(function(){return c}));var c=function(){function AnimationRange(t,n,u){this.name=t,this.from=n,this.to=u}return AnimationRange.prototype.clone=function(){return new AnimationRange(this.name,this.from,this.to)},AnimationRange}()},"./node_modules/@babylonjs/core/Animations/easing.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EasingFunction",(function(){return d})),u.d(n,"CircleEase",(function(){return h})),u.d(n,"BackEase",(function(){return p})),u.d(n,"BounceEase",(function(){return m})),u.d(n,"CubicEase",(function(){return _})),u.d(n,"ElasticEase",(function(){return g})),u.d(n,"ExponentialEase",(function(){return b})),u.d(n,"PowerEase",(function(){return v})),u.d(n,"QuadraticEase",(function(){return U})),u.d(n,"QuarticEase",(function(){return G})),u.d(n,"QuinticEase",(function(){return W})),u.d(n,"SineEase",(function(){return X})),u.d(n,"BezierCurveEase",(function(){return q}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.path.js"),d=function(){function EasingFunction(){this._easingMode=EasingFunction.EASINGMODE_EASEIN}return EasingFunction.prototype.setEasingMode=function(t){var n=Math.min(Math.max(t,0),2);this._easingMode=n},EasingFunction.prototype.getEasingMode=function(){return this._easingMode},EasingFunction.prototype.easeInCore=function(t){throw new Error("You must implement this method")},EasingFunction.prototype.ease=function(t){switch(this._easingMode){case EasingFunction.EASINGMODE_EASEIN:return this.easeInCore(t);case EasingFunction.EASINGMODE_EASEOUT:return 1-this.easeInCore(1-t)}return t>=.5?.5*(1-this.easeInCore(2*(1-t)))+.5:.5*this.easeInCore(2*t)},EasingFunction.EASINGMODE_EASEIN=0,EasingFunction.EASINGMODE_EASEOUT=1,EasingFunction.EASINGMODE_EASEINOUT=2,EasingFunction}(),h=function(t){function CircleEase(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(CircleEase,t),CircleEase.prototype.easeInCore=function(t){return t=Math.max(0,Math.min(1,t)),1-Math.sqrt(1-t*t)},CircleEase}(d),p=function(t){function BackEase(n){void 0===n&&(n=1);var u=t.call(this)||this;return u.amplitude=n,u}return Object(c["__extends"])(BackEase,t),BackEase.prototype.easeInCore=function(t){var n=Math.max(0,this.amplitude);return Math.pow(t,3)-t*n*Math.sin(3.141592653589793*t)},BackEase}(d),m=function(t){function BounceEase(n,u){void 0===n&&(n=3),void 0===u&&(u=2);var c=t.call(this)||this;return c.bounces=n,c.bounciness=u,c}return Object(c["__extends"])(BounceEase,t),BounceEase.prototype.easeInCore=function(t){var n=Math.max(0,this.bounces),u=this.bounciness;u<=1&&(u=1.001);var c=Math.pow(u,n),l=1-u,d=(1-c)/l+.5*c,h=t*d,p=Math.log(-h*(1-u)+1)/Math.log(u),m=Math.floor(p),_=m+1,g=(1-Math.pow(u,m))/(l*d),b=(1-Math.pow(u,_))/(l*d),v=.5*(g+b),U=t-v,G=v-g;return-Math.pow(1/u,n-m)/(G*G)*(U-G)*(U+G)},BounceEase}(d),_=function(t){function CubicEase(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(CubicEase,t),CubicEase.prototype.easeInCore=function(t){return t*t*t},CubicEase}(d),g=function(t){function ElasticEase(n,u){void 0===n&&(n=3),void 0===u&&(u=3);var c=t.call(this)||this;return c.oscillations=n,c.springiness=u,c}return Object(c["__extends"])(ElasticEase,t),ElasticEase.prototype.easeInCore=function(t){var n,u=Math.max(0,this.oscillations),c=Math.max(0,this.springiness);return n=0==c?t:(Math.exp(c*t)-1)/(Math.exp(c)-1),n*Math.sin((6.283185307179586*u+1.5707963267948966)*t)},ElasticEase}(d),b=function(t){function ExponentialEase(n){void 0===n&&(n=2);var u=t.call(this)||this;return u.exponent=n,u}return Object(c["__extends"])(ExponentialEase,t),ExponentialEase.prototype.easeInCore=function(t){return this.exponent<=0?t:(Math.exp(this.exponent*t)-1)/(Math.exp(this.exponent)-1)},ExponentialEase}(d),v=function(t){function PowerEase(n){void 0===n&&(n=2);var u=t.call(this)||this;return u.power=n,u}return Object(c["__extends"])(PowerEase,t),PowerEase.prototype.easeInCore=function(t){var n=Math.max(0,this.power);return Math.pow(t,n)},PowerEase}(d),U=function(t){function QuadraticEase(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(QuadraticEase,t),QuadraticEase.prototype.easeInCore=function(t){return t*t},QuadraticEase}(d),G=function(t){function QuarticEase(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(QuarticEase,t),QuarticEase.prototype.easeInCore=function(t){return t*t*t*t},QuarticEase}(d),W=function(t){function QuinticEase(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(QuinticEase,t),QuinticEase.prototype.easeInCore=function(t){return t*t*t*t*t},QuinticEase}(d),X=function(t){function SineEase(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(SineEase,t),SineEase.prototype.easeInCore=function(t){return 1-Math.sin(1.5707963267948966*(1-t))},SineEase}(d),q=function(t){function BezierCurveEase(n,u,c,l){void 0===n&&(n=0),void 0===u&&(u=0),void 0===c&&(c=1),void 0===l&&(l=1);var d=t.call(this)||this;return d.x1=n,d.y1=u,d.x2=c,d.y2=l,d}return Object(c["__extends"])(BezierCurveEase,t),BezierCurveEase.prototype.easeInCore=function(t){return l["BezierCurve"].Interpolate(t,this.x1,this.y1,this.x2,this.y2)},BezierCurveEase}(d)},"./node_modules/@babylonjs/core/Behaviors/Cameras/autoRotationBehavior.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AutoRotationBehavior",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Events/pointerEvents.js"),l=u("./node_modules/@babylonjs/core/Misc/precisionDate.js"),d=function(){function AutoRotationBehavior(){this._zoomStopsAnimation=!1,this._idleRotationSpeed=.05,this._idleRotationWaitTime=2e3,this._idleRotationSpinupTime=2e3,this._isPointerDown=!1,this._lastFrameTime=null,this._lastInteractionTime=-1/0,this._cameraRotationSpeed=0,this._lastFrameRadius=0}return Object.defineProperty(AutoRotationBehavior.prototype,"name",{get:function(){return"AutoRotation"},enumerable:!1,configurable:!0}),Object.defineProperty(AutoRotationBehavior.prototype,"zoomStopsAnimation",{get:function(){return this._zoomStopsAnimation},set:function(t){this._zoomStopsAnimation=t},enumerable:!1,configurable:!0}),Object.defineProperty(AutoRotationBehavior.prototype,"idleRotationSpeed",{get:function(){return this._idleRotationSpeed},set:function(t){this._idleRotationSpeed=t},enumerable:!1,configurable:!0}),Object.defineProperty(AutoRotationBehavior.prototype,"idleRotationWaitTime",{get:function(){return this._idleRotationWaitTime},set:function(t){this._idleRotationWaitTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(AutoRotationBehavior.prototype,"idleRotationSpinupTime",{get:function(){return this._idleRotationSpinupTime},set:function(t){this._idleRotationSpinupTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(AutoRotationBehavior.prototype,"rotationInProgress",{get:function(){return Math.abs(this._cameraRotationSpeed)>0},enumerable:!1,configurable:!0}),AutoRotationBehavior.prototype.init=function(){},AutoRotationBehavior.prototype.attach=function(t){var n=this;this._attachedCamera=t;var u=this._attachedCamera.getScene();this._onPrePointerObservableObserver=u.onPrePointerObservable.add((function(t){t.type!==c["PointerEventTypes"].POINTERDOWN?t.type===c["PointerEventTypes"].POINTERUP&&(n._isPointerDown=!1):n._isPointerDown=!0})),this._onAfterCheckInputsObserver=t.onAfterCheckInputsObservable.add((function(){var t=l["PrecisionDate"].Now,u=0;null!=n._lastFrameTime&&(u=t-n._lastFrameTime),n._lastFrameTime=t,n._applyUserInteraction();var c=t-n._lastInteractionTime-n._idleRotationWaitTime,d=Math.max(Math.min(c/n._idleRotationSpinupTime,1),0);n._cameraRotationSpeed=n._idleRotationSpeed*d,n._attachedCamera&&(n._attachedCamera.alpha-=n._cameraRotationSpeed*(u/1e3))}))},AutoRotationBehavior.prototype.detach=function(){if(this._attachedCamera){var t=this._attachedCamera.getScene();this._onPrePointerObservableObserver&&t.onPrePointerObservable.remove(this._onPrePointerObservableObserver),this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._attachedCamera=null}},AutoRotationBehavior.prototype._userIsZooming=function(){return!!this._attachedCamera&&0!==this._attachedCamera.inertialRadiusOffset},AutoRotationBehavior.prototype._shouldAnimationStopForInteraction=function(){if(!this._attachedCamera)return!1;var t=!1;return this._lastFrameRadius===this._attachedCamera.radius&&0!==this._attachedCamera.inertialRadiusOffset&&(t=!0),this._lastFrameRadius=this._attachedCamera.radius,this._zoomStopsAnimation?t:this._userIsZooming()},AutoRotationBehavior.prototype._applyUserInteraction=function(){this._userIsMoving()&&!this._shouldAnimationStopForInteraction()&&(this._lastInteractionTime=l["PrecisionDate"].Now)},AutoRotationBehavior.prototype._userIsMoving=function(){return!!this._attachedCamera&&(0!==this._attachedCamera.inertialAlphaOffset||0!==this._attachedCamera.inertialBetaOffset||0!==this._attachedCamera.inertialRadiusOffset||0!==this._attachedCamera.inertialPanningX||0!==this._attachedCamera.inertialPanningY||this._isPointerDown)},AutoRotationBehavior}()},"./node_modules/@babylonjs/core/Behaviors/Cameras/bouncingBehavior.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BouncingBehavior",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Animations/easing.js"),l=u("./node_modules/@babylonjs/core/Animations/animation.js"),d=function(){function BouncingBehavior(){this.transitionDuration=450,this.lowerRadiusTransitionRange=2,this.upperRadiusTransitionRange=-2,this._autoTransitionRange=!1,this._radiusIsAnimating=!1,this._radiusBounceTransition=null,this._animatables=new Array}return Object.defineProperty(BouncingBehavior.prototype,"name",{get:function(){return"Bouncing"},enumerable:!1,configurable:!0}),Object.defineProperty(BouncingBehavior.prototype,"autoTransitionRange",{get:function(){return this._autoTransitionRange},set:function(t){var n=this;if(this._autoTransitionRange!==t){this._autoTransitionRange=t;var u=this._attachedCamera;u&&(t?this._onMeshTargetChangedObserver=u.onMeshTargetChangedObservable.add((function(t){if(t){t.computeWorldMatrix(!0);var u=t.getBoundingInfo().diagonalLength;n.lowerRadiusTransitionRange=.05*u,n.upperRadiusTransitionRange=.05*u}})):this._onMeshTargetChangedObserver&&u.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver))}},enumerable:!1,configurable:!0}),BouncingBehavior.prototype.init=function(){},BouncingBehavior.prototype.attach=function(t){var n=this;this._attachedCamera=t,this._onAfterCheckInputsObserver=t.onAfterCheckInputsObservable.add((function(){n._attachedCamera&&(n._isRadiusAtLimit(n._attachedCamera.lowerRadiusLimit)&&n._applyBoundRadiusAnimation(n.lowerRadiusTransitionRange),n._isRadiusAtLimit(n._attachedCamera.upperRadiusLimit)&&n._applyBoundRadiusAnimation(n.upperRadiusTransitionRange))}))},BouncingBehavior.prototype.detach=function(){this._attachedCamera&&(this._onAfterCheckInputsObserver&&this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._onMeshTargetChangedObserver&&this._attachedCamera.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver),this._attachedCamera=null)},BouncingBehavior.prototype._isRadiusAtLimit=function(t){return!!this._attachedCamera&&(this._attachedCamera.radius===t&&!this._radiusIsAnimating)},BouncingBehavior.prototype._applyBoundRadiusAnimation=function(t){var n=this;if(this._attachedCamera){this._radiusBounceTransition||(BouncingBehavior.EasingFunction.setEasingMode(BouncingBehavior.EasingMode),this._radiusBounceTransition=l["Animation"].CreateAnimation("radius",l["Animation"].ANIMATIONTYPE_FLOAT,60,BouncingBehavior.EasingFunction)),this._cachedWheelPrecision=this._attachedCamera.wheelPrecision,this._attachedCamera.wheelPrecision=1/0,this._attachedCamera.inertialRadiusOffset=0,this.stopAllAnimations(),this._radiusIsAnimating=!0;var u=l["Animation"].TransitionTo("radius",this._attachedCamera.radius+t,this._attachedCamera,this._attachedCamera.getScene(),60,this._radiusBounceTransition,this.transitionDuration,(function(){return n._clearAnimationLocks()}));u&&this._animatables.push(u)}},BouncingBehavior.prototype._clearAnimationLocks=function(){this._radiusIsAnimating=!1,this._attachedCamera&&(this._attachedCamera.wheelPrecision=this._cachedWheelPrecision)},BouncingBehavior.prototype.stopAllAnimations=function(){this._attachedCamera&&(this._attachedCamera.animations=[]);while(this._animatables.length)this._animatables[0].onAnimationEnd=null,this._animatables[0].stop(),this._animatables.shift()},BouncingBehavior.EasingFunction=new c["BackEase"](.3),BouncingBehavior.EasingMode=c["EasingFunction"].EASINGMODE_EASEOUT,BouncingBehavior}()},"./node_modules/@babylonjs/core/Behaviors/Cameras/framingBehavior.js":function(t,n,u){"use strict";u.r(n),u.d(n,"FramingBehavior",(function(){return m}));var c=u("./node_modules/@babylonjs/core/Animations/easing.js"),l=u("./node_modules/@babylonjs/core/Events/pointerEvents.js"),d=u("./node_modules/@babylonjs/core/Misc/precisionDate.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Animations/animation.js"),m=function(){function FramingBehavior(){this._mode=FramingBehavior.FitFrustumSidesMode,this._radiusScale=1,this._positionScale=.5,this._defaultElevation=.3,this._elevationReturnTime=1500,this._elevationReturnWaitTime=1e3,this._zoomStopsAnimation=!1,this._framingTime=1500,this.autoCorrectCameraLimitsAndSensibility=!0,this._isPointerDown=!1,this._lastInteractionTime=-1/0,this._animatables=new Array,this._betaIsAnimating=!1}return Object.defineProperty(FramingBehavior.prototype,"name",{get:function(){return"Framing"},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"radiusScale",{get:function(){return this._radiusScale},set:function(t){this._radiusScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"positionScale",{get:function(){return this._positionScale},set:function(t){this._positionScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"defaultElevation",{get:function(){return this._defaultElevation},set:function(t){this._defaultElevation=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"elevationReturnTime",{get:function(){return this._elevationReturnTime},set:function(t){this._elevationReturnTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"elevationReturnWaitTime",{get:function(){return this._elevationReturnWaitTime},set:function(t){this._elevationReturnWaitTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"zoomStopsAnimation",{get:function(){return this._zoomStopsAnimation},set:function(t){this._zoomStopsAnimation=t},enumerable:!1,configurable:!0}),Object.defineProperty(FramingBehavior.prototype,"framingTime",{get:function(){return this._framingTime},set:function(t){this._framingTime=t},enumerable:!1,configurable:!0}),FramingBehavior.prototype.init=function(){},FramingBehavior.prototype.attach=function(t){var n=this;this._attachedCamera=t;var u=this._attachedCamera.getScene();FramingBehavior.EasingFunction.setEasingMode(FramingBehavior.EasingMode),this._onPrePointerObservableObserver=u.onPrePointerObservable.add((function(t){t.type!==l["PointerEventTypes"].POINTERDOWN?t.type===l["PointerEventTypes"].POINTERUP&&(n._isPointerDown=!1):n._isPointerDown=!0})),this._onMeshTargetChangedObserver=t.onMeshTargetChangedObservable.add((function(t){t&&n.zoomOnMesh(t)})),this._onAfterCheckInputsObserver=t.onAfterCheckInputsObservable.add((function(){n._applyUserInteraction(),n._maintainCameraAboveGround()}))},FramingBehavior.prototype.detach=function(){if(this._attachedCamera){var t=this._attachedCamera.getScene();this._onPrePointerObservableObserver&&t.onPrePointerObservable.remove(this._onPrePointerObservableObserver),this._onAfterCheckInputsObserver&&this._attachedCamera.onAfterCheckInputsObservable.remove(this._onAfterCheckInputsObserver),this._onMeshTargetChangedObserver&&this._attachedCamera.onMeshTargetChangedObservable.remove(this._onMeshTargetChangedObserver),this._attachedCamera=null}},FramingBehavior.prototype.zoomOnMesh=function(t,n,u){void 0===n&&(n=!1),void 0===u&&(u=null),t.computeWorldMatrix(!0);var c=t.getBoundingInfo().boundingBox;this.zoomOnBoundingInfo(c.minimumWorld,c.maximumWorld,n,u)},FramingBehavior.prototype.zoomOnMeshHierarchy=function(t,n,u){void 0===n&&(n=!1),void 0===u&&(u=null),t.computeWorldMatrix(!0);var c=t.getHierarchyBoundingVectors(!0);this.zoomOnBoundingInfo(c.min,c.max,n,u)},FramingBehavior.prototype.zoomOnMeshesHierarchy=function(t,n,u){void 0===n&&(n=!1),void 0===u&&(u=null);for(var c=new h["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),l=new h["Vector3"](-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),d=0;d<t.length;d++){var p=t[d].getHierarchyBoundingVectors(!0);h["Vector3"].CheckExtends(p.min,c,l),h["Vector3"].CheckExtends(p.max,c,l)}this.zoomOnBoundingInfo(c,l,n,u)},FramingBehavior.prototype.zoomOnBoundingInfo=function(t,n,u,c){var l,d=this;if(void 0===u&&(u=!1),void 0===c&&(c=null),this._attachedCamera){var m=t.y,_=n.y,g=m+(_-m)*this._positionScale,b=n.subtract(t).scale(.5);if(u)l=new h["Vector3"](0,g,0);else{var v=t.add(b);l=new h["Vector3"](v.x,g,v.z)}this._vectorTransition||(this._vectorTransition=p["Animation"].CreateAnimation("target",p["Animation"].ANIMATIONTYPE_VECTOR3,60,FramingBehavior.EasingFunction)),this._betaIsAnimating=!0;var U=p["Animation"].TransitionTo("target",l,this._attachedCamera,this._attachedCamera.getScene(),60,this._vectorTransition,this._framingTime);U&&this._animatables.push(U);var G=0;if(this._mode===FramingBehavior.FitFrustumSidesMode){var W=this._calculateLowerRadiusFromModelBoundingSphere(t,n);this.autoCorrectCameraLimitsAndSensibility&&(this._attachedCamera.lowerRadiusLimit=b.length()+this._attachedCamera.minZ),G=W}else this._mode===FramingBehavior.IgnoreBoundsSizeMode&&(G=this._calculateLowerRadiusFromModelBoundingSphere(t,n),this.autoCorrectCameraLimitsAndSensibility&&null===this._attachedCamera.lowerRadiusLimit&&(this._attachedCamera.lowerRadiusLimit=this._attachedCamera.minZ));if(this.autoCorrectCameraLimitsAndSensibility){var X=n.subtract(t).length();this._attachedCamera.panningSensibility=5e3/X,this._attachedCamera.wheelPrecision=100/G}this._radiusTransition||(this._radiusTransition=p["Animation"].CreateAnimation("radius",p["Animation"].ANIMATIONTYPE_FLOAT,60,FramingBehavior.EasingFunction)),U=p["Animation"].TransitionTo("radius",G,this._attachedCamera,this._attachedCamera.getScene(),60,this._radiusTransition,this._framingTime,(function(){d.stopAllAnimations(),c&&c(),d._attachedCamera&&d._attachedCamera.useInputToRestoreState&&d._attachedCamera.storeState()})),U&&this._animatables.push(U)}},FramingBehavior.prototype._calculateLowerRadiusFromModelBoundingSphere=function(t,n){var u=n.subtract(t),c=u.length(),l=this._getFrustumSlope(),d=.5*c,h=d*this._radiusScale,p=h*Math.sqrt(1+1/(l.x*l.x)),m=h*Math.sqrt(1+1/(l.y*l.y)),_=Math.max(p,m),g=this._attachedCamera;return g?(g.lowerRadiusLimit&&this._mode===FramingBehavior.IgnoreBoundsSizeMode&&(_=_<g.lowerRadiusLimit?g.lowerRadiusLimit:_),g.upperRadiusLimit&&(_=_>g.upperRadiusLimit?g.upperRadiusLimit:_),_):0},FramingBehavior.prototype._maintainCameraAboveGround=function(){var t=this;if(!(this._elevationReturnTime<0)){var n=d["PrecisionDate"].Now-this._lastInteractionTime,u=.5*Math.PI-this._defaultElevation,c=.5*Math.PI;if(this._attachedCamera&&!this._betaIsAnimating&&this._attachedCamera.beta>c&&n>=this._elevationReturnWaitTime){this._betaIsAnimating=!0,this.stopAllAnimations(),this._betaTransition||(this._betaTransition=p["Animation"].CreateAnimation("beta",p["Animation"].ANIMATIONTYPE_FLOAT,60,FramingBehavior.EasingFunction));var l=p["Animation"].TransitionTo("beta",u,this._attachedCamera,this._attachedCamera.getScene(),60,this._betaTransition,this._elevationReturnTime,(function(){t._clearAnimationLocks(),t.stopAllAnimations()}));l&&this._animatables.push(l)}}},FramingBehavior.prototype._getFrustumSlope=function(){var t=this._attachedCamera;if(!t)return h["Vector2"].Zero();var n=t.getScene().getEngine(),u=n.getAspectRatio(t),c=Math.tan(t.fov/2),l=c*u;return new h["Vector2"](l,c)},FramingBehavior.prototype._clearAnimationLocks=function(){this._betaIsAnimating=!1},FramingBehavior.prototype._applyUserInteraction=function(){this.isUserIsMoving&&(this._lastInteractionTime=d["PrecisionDate"].Now,this.stopAllAnimations(),this._clearAnimationLocks())},FramingBehavior.prototype.stopAllAnimations=function(){this._attachedCamera&&(this._attachedCamera.animations=[]);while(this._animatables.length)this._animatables[0]&&(this._animatables[0].onAnimationEnd=null,this._animatables[0].stop()),this._animatables.shift()},Object.defineProperty(FramingBehavior.prototype,"isUserIsMoving",{get:function(){return!!this._attachedCamera&&(0!==this._attachedCamera.inertialAlphaOffset||0!==this._attachedCamera.inertialBetaOffset||0!==this._attachedCamera.inertialRadiusOffset||0!==this._attachedCamera.inertialPanningX||0!==this._attachedCamera.inertialPanningY||this._isPointerDown)},enumerable:!1,configurable:!0}),FramingBehavior.EasingFunction=new c["ExponentialEase"],FramingBehavior.EasingMode=c["EasingFunction"].EASINGMODE_EASEINOUT,FramingBehavior.IgnoreBoundsSizeMode=0,FramingBehavior.FitFrustumSidesMode=1,FramingBehavior}()},"./node_modules/@babylonjs/core/Cameras/Inputs/BaseCameraPointersInput.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BaseCameraPointersInput",(function(){return p}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/tools.js"),h=u("./node_modules/@babylonjs/core/Events/pointerEvents.js"),p=function(){function BaseCameraPointersInput(){this.buttons=[0,1,2]}return BaseCameraPointersInput.prototype.attachControl=function(t){var n=this;t=d["Tools"].BackCompatCameraNoPreventDefault(arguments);var u=this.camera.getEngine(),c=u.getInputElement(),l=0,p=null;this.pointA=null,this.pointB=null,this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._buttonsPressed=0,this._pointerInput=function(d,m){var _=d.event,g="touch"===_.pointerType;if(!u.isInVRExclusivePointerMode&&(d.type===h["PointerEventTypes"].POINTERMOVE||-1!==n.buttons.indexOf(_.button))){var b=_.srcElement||_.target;if(n._altKey=_.altKey,n._ctrlKey=_.ctrlKey,n._metaKey=_.metaKey,n._shiftKey=_.shiftKey,n._buttonsPressed=_.buttons,u.isPointerLock){var v=_.movementX||_.mozMovementX||_.webkitMovementX||_.msMovementX||0,U=_.movementY||_.mozMovementY||_.webkitMovementY||_.msMovementY||0;n.onTouch(null,v,U),n.pointA=null,n.pointB=null}else if(d.type===h["PointerEventTypes"].POINTERDOWN&&b){try{b.setPointerCapture(_.pointerId)}catch(Y){}null===n.pointA?n.pointA={x:_.clientX,y:_.clientY,pointerId:_.pointerId,type:_.pointerType}:null===n.pointB&&(n.pointB={x:_.clientX,y:_.clientY,pointerId:_.pointerId,type:_.pointerType}),n.onButtonDown(_),t||(_.preventDefault(),c&&c.focus())}else if(d.type===h["PointerEventTypes"].POINTERDOUBLETAP)n.onDoubleTap(_.pointerType);else if(d.type===h["PointerEventTypes"].POINTERUP&&b){try{b.releasePointerCapture(_.pointerId)}catch(Y){}g||(n.pointB=null),u._badOS?n.pointA=n.pointB=null:n.pointB&&n.pointA&&n.pointA.pointerId==_.pointerId?(n.pointA=n.pointB,n.pointB=null):n.pointA&&n.pointB&&n.pointB.pointerId==_.pointerId?n.pointB=null:n.pointA=n.pointB=null,(0!==l||p)&&(n.onMultiTouch(n.pointA,n.pointB,l,0,p,null),l=0,p=null),n.onButtonUp(_),t||_.preventDefault()}else if(d.type===h["PointerEventTypes"].POINTERMOVE)if(t||_.preventDefault(),n.pointA&&null===n.pointB){v=_.clientX-n.pointA.x,U=_.clientY-n.pointA.y;n.onTouch(n.pointA,v,U),n.pointA.x=_.clientX,n.pointA.y=_.clientY}else if(n.pointA&&n.pointB){var G=n.pointA.pointerId===_.pointerId?n.pointA:n.pointB;G.x=_.clientX,G.y=_.clientY;var W=n.pointA.x-n.pointB.x,X=n.pointA.y-n.pointB.y,q=W*W+X*X,K={x:(n.pointA.x+n.pointB.x)/2,y:(n.pointA.y+n.pointB.y)/2,pointerId:_.pointerId,type:d.type};n.onMultiTouch(n.pointA,n.pointB,l,q,p,K),p=K,l=q}}},this._observer=this.camera.getScene().onPointerObservable.add(this._pointerInput,h["PointerEventTypes"].POINTERDOWN|h["PointerEventTypes"].POINTERUP|h["PointerEventTypes"].POINTERMOVE),this._onLostFocus=function(){n.pointA=n.pointB=null,l=0,p=null,n.onLostFocus()},c&&c.addEventListener("contextmenu",this.onContextMenu.bind(this),!1);var m=this.camera.getScene().getEngine().getHostWindow();m&&d["Tools"].RegisterTopRootEvents(m,[{name:"blur",handler:this._onLostFocus}])},BaseCameraPointersInput.prototype.detachControl=function(t){if(this._onLostFocus){var n=this.camera.getScene().getEngine().getHostWindow();n&&d["Tools"].UnregisterTopRootEvents(n,[{name:"blur",handler:this._onLostFocus}])}if(this._observer){if(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this.onContextMenu){var u=this.camera.getScene().getEngine().getInputElement();u&&u.removeEventListener("contextmenu",this.onContextMenu)}this._onLostFocus=null}this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._buttonsPressed=0},BaseCameraPointersInput.prototype.getClassName=function(){return"BaseCameraPointersInput"},BaseCameraPointersInput.prototype.getSimpleName=function(){return"pointers"},BaseCameraPointersInput.prototype.onDoubleTap=function(t){},BaseCameraPointersInput.prototype.onTouch=function(t,n,u){},BaseCameraPointersInput.prototype.onMultiTouch=function(t,n,u,c,l,d){},BaseCameraPointersInput.prototype.onContextMenu=function(t){t.preventDefault()},BaseCameraPointersInput.prototype.onButtonDown=function(t){},BaseCameraPointersInput.prototype.onButtonUp=function(t){},BaseCameraPointersInput.prototype.onLostFocus=function(){},Object(c["__decorate"])([Object(l["serialize"])()],BaseCameraPointersInput.prototype,"buttons",void 0),BaseCameraPointersInput}()},"./node_modules/@babylonjs/core/Cameras/Inputs/arcRotateCameraKeyboardMoveInput.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ArcRotateCameraKeyboardMoveInput",(function(){return m}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Cameras/cameraInputsManager.js"),h=u("./node_modules/@babylonjs/core/Events/keyboardEvents.js"),p=u("./node_modules/@babylonjs/core/Misc/tools.js"),m=function(){function ArcRotateCameraKeyboardMoveInput(){this.keysUp=[38],this.keysDown=[40],this.keysLeft=[37],this.keysRight=[39],this.keysReset=[220],this.panningSensibility=50,this.zoomingSensibility=25,this.useAltToZoom=!0,this.angularSpeed=.01,this._keys=new Array}return ArcRotateCameraKeyboardMoveInput.prototype.attachControl=function(t){var n=this;t=p["Tools"].BackCompatCameraNoPreventDefault(arguments),this._onCanvasBlurObserver||(this._scene=this.camera.getScene(),this._engine=this._scene.getEngine(),this._onCanvasBlurObserver=this._engine.onCanvasBlurObservable.add((function(){n._keys=[]})),this._onKeyboardObserver=this._scene.onKeyboardObservable.add((function(u){var c=u.event;if(!c.metaKey)if(u.type===h["KeyboardEventTypes"].KEYDOWN){if(n._ctrlPressed=c.ctrlKey,n._altPressed=c.altKey,-1!==n.keysUp.indexOf(c.keyCode)||-1!==n.keysDown.indexOf(c.keyCode)||-1!==n.keysLeft.indexOf(c.keyCode)||-1!==n.keysRight.indexOf(c.keyCode)||-1!==n.keysReset.indexOf(c.keyCode)){var l=n._keys.indexOf(c.keyCode);-1===l&&n._keys.push(c.keyCode),c.preventDefault&&(t||c.preventDefault())}}else if(-1!==n.keysUp.indexOf(c.keyCode)||-1!==n.keysDown.indexOf(c.keyCode)||-1!==n.keysLeft.indexOf(c.keyCode)||-1!==n.keysRight.indexOf(c.keyCode)||-1!==n.keysReset.indexOf(c.keyCode)){l=n._keys.indexOf(c.keyCode);l>=0&&n._keys.splice(l,1),c.preventDefault&&(t||c.preventDefault())}})))},ArcRotateCameraKeyboardMoveInput.prototype.detachControl=function(t){this._scene&&(this._onKeyboardObserver&&this._scene.onKeyboardObservable.remove(this._onKeyboardObserver),this._onCanvasBlurObserver&&this._engine.onCanvasBlurObservable.remove(this._onCanvasBlurObserver),this._onKeyboardObserver=null,this._onCanvasBlurObserver=null),this._keys=[]},ArcRotateCameraKeyboardMoveInput.prototype.checkInputs=function(){if(this._onKeyboardObserver)for(var t=this.camera,n=0;n<this._keys.length;n++){var u=this._keys[n];-1!==this.keysLeft.indexOf(u)?this._ctrlPressed&&this.camera._useCtrlForPanning?t.inertialPanningX-=1/this.panningSensibility:t.inertialAlphaOffset-=this.angularSpeed:-1!==this.keysUp.indexOf(u)?this._ctrlPressed&&this.camera._useCtrlForPanning?t.inertialPanningY+=1/this.panningSensibility:this._altPressed&&this.useAltToZoom?t.inertialRadiusOffset+=1/this.zoomingSensibility:t.inertialBetaOffset-=this.angularSpeed:-1!==this.keysRight.indexOf(u)?this._ctrlPressed&&this.camera._useCtrlForPanning?t.inertialPanningX+=1/this.panningSensibility:t.inertialAlphaOffset+=this.angularSpeed:-1!==this.keysDown.indexOf(u)?this._ctrlPressed&&this.camera._useCtrlForPanning?t.inertialPanningY-=1/this.panningSensibility:this._altPressed&&this.useAltToZoom?t.inertialRadiusOffset-=1/this.zoomingSensibility:t.inertialBetaOffset+=this.angularSpeed:-1!==this.keysReset.indexOf(u)&&t.useInputToRestoreState&&t.restoreState()}},ArcRotateCameraKeyboardMoveInput.prototype.getClassName=function(){return"ArcRotateCameraKeyboardMoveInput"},ArcRotateCameraKeyboardMoveInput.prototype.getSimpleName=function(){return"keyboard"},Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"keysUp",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"keysDown",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"keysLeft",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"keysRight",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"keysReset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"panningSensibility",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"zoomingSensibility",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"useAltToZoom",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraKeyboardMoveInput.prototype,"angularSpeed",void 0),ArcRotateCameraKeyboardMoveInput}();d["CameraInputTypes"]["ArcRotateCameraKeyboardMoveInput"]=m},"./node_modules/@babylonjs/core/Cameras/Inputs/arcRotateCameraMouseWheelInput.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ArcRotateCameraMouseWheelInput",(function(){return _}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Cameras/cameraInputsManager.js"),h=u("./node_modules/@babylonjs/core/Events/pointerEvents.js"),p=u("./node_modules/@babylonjs/core/Maths/math.scalar.js"),m=u("./node_modules/@babylonjs/core/Misc/tools.js"),_=function(){function ArcRotateCameraMouseWheelInput(){this.wheelPrecision=3,this.wheelDeltaPercentage=0}return ArcRotateCameraMouseWheelInput.prototype.computeDeltaFromMouseWheelLegacyEvent=function(t,n){var u=0,c=.01*t*this.wheelDeltaPercentage*n;return u=t>0?c/(1+this.wheelDeltaPercentage):c*(1+this.wheelDeltaPercentage),u},ArcRotateCameraMouseWheelInput.prototype.attachControl=function(t){var n=this;t=m["Tools"].BackCompatCameraNoPreventDefault(arguments),this._wheel=function(u,c){if(u.type===h["PointerEventTypes"].POINTERWHEEL){var l=u.event,d=0,m=l,_=0;if(_=m.wheelDelta?m.wheelDelta:60*-(l.deltaY||l.detail),n.wheelDeltaPercentage){if(d=n.computeDeltaFromMouseWheelLegacyEvent(_,n.camera.radius),d>0){for(var g=n.camera.radius,b=n.camera.inertialRadiusOffset+d,v=0;v<20&&Math.abs(b)>.001;v++)g-=b,b*=n.camera.inertia;g=p["Scalar"].Clamp(g,0,Number.MAX_VALUE),d=n.computeDeltaFromMouseWheelLegacyEvent(_,g)}}else d=_/(40*n.wheelPrecision);d&&(n.camera.inertialRadiusOffset+=d),l.preventDefault&&(t||l.preventDefault())}},this._observer=this.camera.getScene().onPointerObservable.add(this._wheel,h["PointerEventTypes"].POINTERWHEEL)},ArcRotateCameraMouseWheelInput.prototype.detachControl=function(t){this._observer&&(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this._wheel=null)},ArcRotateCameraMouseWheelInput.prototype.getClassName=function(){return"ArcRotateCameraMouseWheelInput"},ArcRotateCameraMouseWheelInput.prototype.getSimpleName=function(){return"mousewheel"},Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraMouseWheelInput.prototype,"wheelPrecision",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraMouseWheelInput.prototype,"wheelDeltaPercentage",void 0),ArcRotateCameraMouseWheelInput}();d["CameraInputTypes"]["ArcRotateCameraMouseWheelInput"]=_},"./node_modules/@babylonjs/core/Cameras/Inputs/arcRotateCameraPointersInput.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ArcRotateCameraPointersInput",(function(){return p}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Cameras/cameraInputsManager.js"),h=u("./node_modules/@babylonjs/core/Cameras/Inputs/BaseCameraPointersInput.js"),p=function(t){function ArcRotateCameraPointersInput(){var n=null!==t&&t.apply(this,arguments)||this;return n.buttons=[0,1,2],n.angularSensibilityX=1e3,n.angularSensibilityY=1e3,n.pinchPrecision=12,n.pinchDeltaPercentage=0,n.useNaturalPinchZoom=!1,n.panningSensibility=1e3,n.multiTouchPanning=!0,n.multiTouchPanAndZoom=!0,n.pinchInwards=!0,n._isPanClick=!1,n._twoFingerActivityCount=0,n._isPinching=!1,n}return Object(c["__extends"])(ArcRotateCameraPointersInput,t),ArcRotateCameraPointersInput.prototype.getClassName=function(){return"ArcRotateCameraPointersInput"},ArcRotateCameraPointersInput.prototype.onTouch=function(t,n,u){0!==this.panningSensibility&&(this._ctrlKey&&this.camera._useCtrlForPanning||this._isPanClick)?(this.camera.inertialPanningX+=-n/this.panningSensibility,this.camera.inertialPanningY+=u/this.panningSensibility):(this.camera.inertialAlphaOffset-=n/this.angularSensibilityX,this.camera.inertialBetaOffset-=u/this.angularSensibilityY)},ArcRotateCameraPointersInput.prototype.onDoubleTap=function(t){this.camera.useInputToRestoreState&&this.camera.restoreState()},ArcRotateCameraPointersInput.prototype.onMultiTouch=function(t,n,u,c,l,d){if((0!==u||null!==l)&&(0!==c||null!==d)){var h=this.pinchInwards?1:-1;if(this.multiTouchPanAndZoom){if(this.useNaturalPinchZoom?this.camera.radius=this.camera.radius*Math.sqrt(u)/Math.sqrt(c):this.pinchDeltaPercentage?this.camera.inertialRadiusOffset+=.001*(c-u)*this.camera.radius*this.pinchDeltaPercentage:this.camera.inertialRadiusOffset+=(c-u)/(this.pinchPrecision*h*(this.angularSensibilityX+this.angularSensibilityY)/2),0!==this.panningSensibility&&l&&d){var p=d.x-l.x,m=d.y-l.y;this.camera.inertialPanningX+=-p/this.panningSensibility,this.camera.inertialPanningY+=m/this.panningSensibility}}else{this._twoFingerActivityCount++;var _=Math.sqrt(u),g=Math.sqrt(c);if(this._isPinching||this._twoFingerActivityCount<20&&Math.abs(g-_)>this.camera.pinchToPanMaxDistance)this.pinchDeltaPercentage?this.camera.inertialRadiusOffset+=.001*(c-u)*this.camera.radius*this.pinchDeltaPercentage:this.camera.inertialRadiusOffset+=(c-u)/(this.pinchPrecision*h*(this.angularSensibilityX+this.angularSensibilityY)/2),this._isPinching=!0;else if(0!==this.panningSensibility&&this.multiTouchPanning&&d&&l){p=d.x-l.x,m=d.y-l.y;this.camera.inertialPanningX+=-p/this.panningSensibility,this.camera.inertialPanningY+=m/this.panningSensibility}}}},ArcRotateCameraPointersInput.prototype.onButtonDown=function(t){this._isPanClick=t.button===this.camera._panningMouseButton},ArcRotateCameraPointersInput.prototype.onButtonUp=function(t){this._twoFingerActivityCount=0,this._isPinching=!1},ArcRotateCameraPointersInput.prototype.onLostFocus=function(){this._isPanClick=!1,this._twoFingerActivityCount=0,this._isPinching=!1},Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"buttons",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"angularSensibilityX",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"angularSensibilityY",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"pinchPrecision",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"pinchDeltaPercentage",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"useNaturalPinchZoom",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"panningSensibility",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"multiTouchPanning",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCameraPointersInput.prototype,"multiTouchPanAndZoom",void 0),ArcRotateCameraPointersInput}(h["BaseCameraPointersInput"]);d["CameraInputTypes"]["ArcRotateCameraPointersInput"]=p},"./node_modules/@babylonjs/core/Cameras/arcRotateCamera.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ArcRotateCamera",(function(){return q}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/node.js"),m=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),_=u("./node_modules/@babylonjs/core/Behaviors/Cameras/autoRotationBehavior.js"),g=u("./node_modules/@babylonjs/core/Behaviors/Cameras/bouncingBehavior.js"),b=u("./node_modules/@babylonjs/core/Behaviors/Cameras/framingBehavior.js"),v=u("./node_modules/@babylonjs/core/Cameras/camera.js"),U=u("./node_modules/@babylonjs/core/Cameras/targetCamera.js"),G=u("./node_modules/@babylonjs/core/Cameras/arcRotateCameraInputsManager.js"),W=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),X=u("./node_modules/@babylonjs/core/Misc/tools.js");p["Node"].AddNodeConstructor("ArcRotateCamera",(function(t,n){return function(){return new q(t,0,0,1,h["Vector3"].Zero(),n)}}));var q=function(t){function ArcRotateCamera(n,u,c,l,p,m,_){void 0===_&&(_=!0);var g=t.call(this,n,h["Vector3"].Zero(),m,_)||this;return g.inertialAlphaOffset=0,g.inertialBetaOffset=0,g.inertialRadiusOffset=0,g.lowerAlphaLimit=null,g.upperAlphaLimit=null,g.lowerBetaLimit=.01,g.upperBetaLimit=Math.PI-.01,g.lowerRadiusLimit=null,g.upperRadiusLimit=null,g.inertialPanningX=0,g.inertialPanningY=0,g.pinchToPanMaxDistance=20,g.panningDistanceLimit=null,g.panningOriginTarget=h["Vector3"].Zero(),g.panningInertia=.9,g.zoomOnFactor=1,g.targetScreenOffset=h["Vector2"].Zero(),g.allowUpsideDown=!0,g.useInputToRestoreState=!0,g._viewMatrix=new h["Matrix"],g.panningAxis=new h["Vector3"](1,1,0),g.onMeshTargetChangedObservable=new d["Observable"],g.checkCollisions=!1,g.collisionRadius=new h["Vector3"](.5,.5,.5),g._previousPosition=h["Vector3"].Zero(),g._collisionVelocity=h["Vector3"].Zero(),g._newPosition=h["Vector3"].Zero(),g._computationVector=h["Vector3"].Zero(),g._onCollisionPositionChange=function(t,n,u){void 0===u&&(u=null),u?(g.setPosition(n),g.onCollide&&g.onCollide(u)):g._previousPosition.copyFrom(g._position);var c=Math.cos(g.alpha),l=Math.sin(g.alpha),d=Math.cos(g.beta),h=Math.sin(g.beta);0===h&&(h=1e-4);var p=g._getTargetPosition();g._computationVector.copyFromFloats(g.radius*c*h,g.radius*d,g.radius*l*h),p.addToRef(g._computationVector,g._newPosition),g._position.copyFrom(g._newPosition);var m=g.upVector;g.allowUpsideDown&&g.beta<0&&(m=m.clone(),m=m.negate()),g._computeViewMatrix(g._position,p,m),g._viewMatrix.addAtIndex(12,g.targetScreenOffset.x),g._viewMatrix.addAtIndex(13,g.targetScreenOffset.y),g._collisionTriggered=!1},g._target=h["Vector3"].Zero(),p&&g.setTarget(p),g.alpha=u,g.beta=c,g.radius=l,g.getViewMatrix(),g.inputs=new G["ArcRotateCameraInputsManager"](g),g.inputs.addKeyboard().addMouseWheel().addPointers(),g}return Object(c["__extends"])(ArcRotateCamera,t),Object.defineProperty(ArcRotateCamera.prototype,"target",{get:function(){return this._target},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"position",{get:function(){return this._position},set:function(t){this.setPosition(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"upVector",{get:function(){return this._upVector},set:function(t){this._upToYMatrix||(this._YToUpMatrix=new h["Matrix"],this._upToYMatrix=new h["Matrix"],this._upVector=h["Vector3"].Zero()),t.normalize(),this._upVector.copyFrom(t),this.setMatUp()},enumerable:!1,configurable:!0}),ArcRotateCamera.prototype.setMatUp=function(){h["Matrix"].RotationAlignToRef(h["Vector3"].UpReadOnly,this._upVector,this._YToUpMatrix),h["Matrix"].RotationAlignToRef(this._upVector,h["Vector3"].UpReadOnly,this._upToYMatrix)},Object.defineProperty(ArcRotateCamera.prototype,"angularSensibilityX",{get:function(){var t=this.inputs.attached["pointers"];return t?t.angularSensibilityX:0},set:function(t){var n=this.inputs.attached["pointers"];n&&(n.angularSensibilityX=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"angularSensibilityY",{get:function(){var t=this.inputs.attached["pointers"];return t?t.angularSensibilityY:0},set:function(t){var n=this.inputs.attached["pointers"];n&&(n.angularSensibilityY=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"pinchPrecision",{get:function(){var t=this.inputs.attached["pointers"];return t?t.pinchPrecision:0},set:function(t){var n=this.inputs.attached["pointers"];n&&(n.pinchPrecision=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"pinchDeltaPercentage",{get:function(){var t=this.inputs.attached["pointers"];return t?t.pinchDeltaPercentage:0},set:function(t){var n=this.inputs.attached["pointers"];n&&(n.pinchDeltaPercentage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"useNaturalPinchZoom",{get:function(){var t=this.inputs.attached["pointers"];return!!t&&t.useNaturalPinchZoom},set:function(t){var n=this.inputs.attached["pointers"];n&&(n.useNaturalPinchZoom=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"panningSensibility",{get:function(){var t=this.inputs.attached["pointers"];return t?t.panningSensibility:0},set:function(t){var n=this.inputs.attached["pointers"];n&&(n.panningSensibility=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"keysUp",{get:function(){var t=this.inputs.attached["keyboard"];return t?t.keysUp:[]},set:function(t){var n=this.inputs.attached["keyboard"];n&&(n.keysUp=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"keysDown",{get:function(){var t=this.inputs.attached["keyboard"];return t?t.keysDown:[]},set:function(t){var n=this.inputs.attached["keyboard"];n&&(n.keysDown=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"keysLeft",{get:function(){var t=this.inputs.attached["keyboard"];return t?t.keysLeft:[]},set:function(t){var n=this.inputs.attached["keyboard"];n&&(n.keysLeft=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"keysRight",{get:function(){var t=this.inputs.attached["keyboard"];return t?t.keysRight:[]},set:function(t){var n=this.inputs.attached["keyboard"];n&&(n.keysRight=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"wheelPrecision",{get:function(){var t=this.inputs.attached["mousewheel"];return t?t.wheelPrecision:0},set:function(t){var n=this.inputs.attached["mousewheel"];n&&(n.wheelPrecision=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"wheelDeltaPercentage",{get:function(){var t=this.inputs.attached["mousewheel"];return t?t.wheelDeltaPercentage:0},set:function(t){var n=this.inputs.attached["mousewheel"];n&&(n.wheelDeltaPercentage=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"bouncingBehavior",{get:function(){return this._bouncingBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"useBouncingBehavior",{get:function(){return null!=this._bouncingBehavior},set:function(t){t!==this.useBouncingBehavior&&(t?(this._bouncingBehavior=new g["BouncingBehavior"],this.addBehavior(this._bouncingBehavior)):this._bouncingBehavior&&(this.removeBehavior(this._bouncingBehavior),this._bouncingBehavior=null))},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"framingBehavior",{get:function(){return this._framingBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"useFramingBehavior",{get:function(){return null!=this._framingBehavior},set:function(t){t!==this.useFramingBehavior&&(t?(this._framingBehavior=new b["FramingBehavior"],this.addBehavior(this._framingBehavior)):this._framingBehavior&&(this.removeBehavior(this._framingBehavior),this._framingBehavior=null))},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"autoRotationBehavior",{get:function(){return this._autoRotationBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(ArcRotateCamera.prototype,"useAutoRotationBehavior",{get:function(){return null!=this._autoRotationBehavior},set:function(t){t!==this.useAutoRotationBehavior&&(t?(this._autoRotationBehavior=new _["AutoRotationBehavior"],this.addBehavior(this._autoRotationBehavior)):this._autoRotationBehavior&&(this.removeBehavior(this._autoRotationBehavior),this._autoRotationBehavior=null))},enumerable:!1,configurable:!0}),ArcRotateCamera.prototype._initCache=function(){t.prototype._initCache.call(this),this._cache._target=new h["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.alpha=void 0,this._cache.beta=void 0,this._cache.radius=void 0,this._cache.targetScreenOffset=h["Vector2"].Zero()},ArcRotateCamera.prototype._updateCache=function(n){n||t.prototype._updateCache.call(this),this._cache._target.copyFrom(this._getTargetPosition()),this._cache.alpha=this.alpha,this._cache.beta=this.beta,this._cache.radius=this.radius,this._cache.targetScreenOffset.copyFrom(this.targetScreenOffset)},ArcRotateCamera.prototype._getTargetPosition=function(){if(this._targetHost&&this._targetHost.getAbsolutePosition){var t=this._targetHost.absolutePosition;this._targetBoundingCenter?t.addToRef(this._targetBoundingCenter,this._target):this._target.copyFrom(t)}var n=this._getLockedTargetPosition();return n||this._target},ArcRotateCamera.prototype.storeState=function(){return this._storedAlpha=this.alpha,this._storedBeta=this.beta,this._storedRadius=this.radius,this._storedTarget=this._getTargetPosition().clone(),this._storedTargetScreenOffset=this.targetScreenOffset.clone(),t.prototype.storeState.call(this)},ArcRotateCamera.prototype._restoreStateValues=function(){return!!t.prototype._restoreStateValues.call(this)&&(this.setTarget(this._storedTarget.clone()),this.alpha=this._storedAlpha,this.beta=this._storedBeta,this.radius=this._storedRadius,this.targetScreenOffset=this._storedTargetScreenOffset.clone(),this.inertialAlphaOffset=0,this.inertialBetaOffset=0,this.inertialRadiusOffset=0,this.inertialPanningX=0,this.inertialPanningY=0,!0)},ArcRotateCamera.prototype._isSynchronizedViewMatrix=function(){return!!t.prototype._isSynchronizedViewMatrix.call(this)&&(this._cache._target.equals(this._getTargetPosition())&&this._cache.alpha===this.alpha&&this._cache.beta===this.beta&&this._cache.radius===this.radius&&this._cache.targetScreenOffset.equals(this.targetScreenOffset))},ArcRotateCamera.prototype.attachControl=function(t,n,u,c){var l=this;void 0===u&&(u=!0),void 0===c&&(c=2),n=X["Tools"].BackCompatCameraNoPreventDefault(arguments),this._useCtrlForPanning=u,this._panningMouseButton=c,"boolean"===typeof arguments[0]&&(arguments.length>1&&(this._useCtrlForPanning=arguments[1]),arguments.length>2&&(this._panningMouseButton=arguments[2])),this.inputs.attachElement(n),this._reset=function(){l.inertialAlphaOffset=0,l.inertialBetaOffset=0,l.inertialRadiusOffset=0,l.inertialPanningX=0,l.inertialPanningY=0}},ArcRotateCamera.prototype.detachControl=function(t){this.inputs.detachElement(),this._reset&&this._reset()},ArcRotateCamera.prototype._checkInputs=function(){if(!this._collisionTriggered){if(this.inputs.checkInputs(),0!==this.inertialAlphaOffset||0!==this.inertialBetaOffset||0!==this.inertialRadiusOffset){var n=this.inertialAlphaOffset;this.beta<=0&&(n*=-1),this.getScene().useRightHandedSystem&&(n*=-1),this.parent&&this.parent._getWorldMatrixDeterminant()<0&&(n*=-1),this.alpha+=n,this.beta+=this.inertialBetaOffset,this.radius-=this.inertialRadiusOffset,this.inertialAlphaOffset*=this.inertia,this.inertialBetaOffset*=this.inertia,this.inertialRadiusOffset*=this.inertia,Math.abs(this.inertialAlphaOffset)<W["Epsilon"]&&(this.inertialAlphaOffset=0),Math.abs(this.inertialBetaOffset)<W["Epsilon"]&&(this.inertialBetaOffset=0),Math.abs(this.inertialRadiusOffset)<this.speed*W["Epsilon"]&&(this.inertialRadiusOffset=0)}if(0!==this.inertialPanningX||0!==this.inertialPanningY){if(this._localDirection||(this._localDirection=h["Vector3"].Zero(),this._transformedDirection=h["Vector3"].Zero()),this._localDirection.copyFromFloats(this.inertialPanningX,this.inertialPanningY,this.inertialPanningY),this._localDirection.multiplyInPlace(this.panningAxis),this._viewMatrix.invertToRef(this._cameraTransformMatrix),h["Vector3"].TransformNormalToRef(this._localDirection,this._cameraTransformMatrix,this._transformedDirection),this.panningAxis.y||(this._transformedDirection.y=0),!this._targetHost)if(this.panningDistanceLimit){this._transformedDirection.addInPlace(this._target);var u=h["Vector3"].DistanceSquared(this._transformedDirection,this.panningOriginTarget);u<=this.panningDistanceLimit*this.panningDistanceLimit&&this._target.copyFrom(this._transformedDirection)}else this._target.addInPlace(this._transformedDirection);this.inertialPanningX*=this.panningInertia,this.inertialPanningY*=this.panningInertia,Math.abs(this.inertialPanningX)<this.speed*W["Epsilon"]&&(this.inertialPanningX=0),Math.abs(this.inertialPanningY)<this.speed*W["Epsilon"]&&(this.inertialPanningY=0)}this._checkLimits(),t.prototype._checkInputs.call(this)}},ArcRotateCamera.prototype._checkLimits=function(){null===this.lowerBetaLimit||void 0===this.lowerBetaLimit?this.allowUpsideDown&&this.beta>Math.PI&&(this.beta=this.beta-2*Math.PI):this.beta<this.lowerBetaLimit&&(this.beta=this.lowerBetaLimit),null===this.upperBetaLimit||void 0===this.upperBetaLimit?this.allowUpsideDown&&this.beta<-Math.PI&&(this.beta=this.beta+2*Math.PI):this.beta>this.upperBetaLimit&&(this.beta=this.upperBetaLimit),null!==this.lowerAlphaLimit&&this.alpha<this.lowerAlphaLimit&&(this.alpha=this.lowerAlphaLimit),null!==this.upperAlphaLimit&&this.alpha>this.upperAlphaLimit&&(this.alpha=this.upperAlphaLimit),null!==this.lowerRadiusLimit&&this.radius<this.lowerRadiusLimit&&(this.radius=this.lowerRadiusLimit,this.inertialRadiusOffset=0),null!==this.upperRadiusLimit&&this.radius>this.upperRadiusLimit&&(this.radius=this.upperRadiusLimit,this.inertialRadiusOffset=0)},ArcRotateCamera.prototype.rebuildAnglesAndRadius=function(){this._position.subtractToRef(this._getTargetPosition(),this._computationVector),0===this._upVector.x&&1===this._upVector.y&&0===this._upVector.z||h["Vector3"].TransformCoordinatesToRef(this._computationVector,this._upToYMatrix,this._computationVector),this.radius=this._computationVector.length(),0===this.radius&&(this.radius=1e-4);var t=this.alpha;0===this._computationVector.x&&0===this._computationVector.z?this.alpha=Math.PI/2:this.alpha=Math.acos(this._computationVector.x/Math.sqrt(Math.pow(this._computationVector.x,2)+Math.pow(this._computationVector.z,2))),this._computationVector.z<0&&(this.alpha=2*Math.PI-this.alpha);var n=Math.round((t-this.alpha)/(2*Math.PI));this.alpha+=2*n*Math.PI,this.beta=Math.acos(this._computationVector.y/this.radius),this._checkLimits()},ArcRotateCamera.prototype.setPosition=function(t){this._position.equals(t)||(this._position.copyFrom(t),this.rebuildAnglesAndRadius())},ArcRotateCamera.prototype.setTarget=function(t,n,u){if(void 0===n&&(n=!1),void 0===u&&(u=!1),t.getBoundingInfo)this._targetBoundingCenter=n?t.getBoundingInfo().boundingBox.centerWorld.clone():null,t.computeWorldMatrix(),this._targetHost=t,this._target=this._getTargetPosition(),this.onMeshTargetChangedObservable.notifyObservers(this._targetHost);else{var c=t,l=this._getTargetPosition();if(l&&!u&&l.equals(c))return;this._targetHost=null,this._target=c,this._targetBoundingCenter=null,this.onMeshTargetChangedObservable.notifyObservers(null)}this.rebuildAnglesAndRadius()},ArcRotateCamera.prototype._getViewMatrix=function(){var t=Math.cos(this.alpha),n=Math.sin(this.alpha),u=Math.cos(this.beta),c=Math.sin(this.beta);0===c&&(c=1e-4),0===this.radius&&(this.radius=1e-4);var l=this._getTargetPosition();if(this._computationVector.copyFromFloats(this.radius*t*c,this.radius*u,this.radius*n*c),0===this._upVector.x&&1===this._upVector.y&&0===this._upVector.z||h["Vector3"].TransformCoordinatesToRef(this._computationVector,this._YToUpMatrix,this._computationVector),l.addToRef(this._computationVector,this._newPosition),this.getScene().collisionsEnabled&&this.checkCollisions){var d=this.getScene().collisionCoordinator;this._collider||(this._collider=d.createCollider()),this._collider._radius=this.collisionRadius,this._newPosition.subtractToRef(this._position,this._collisionVelocity),this._collisionTriggered=!0,d.getNewPosition(this._position,this._collisionVelocity,this._collider,3,null,this._onCollisionPositionChange,this.uniqueId)}else{this._position.copyFrom(this._newPosition);var p=this.upVector;this.allowUpsideDown&&c<0&&(p=p.negate()),this._computeViewMatrix(this._position,l,p),this._viewMatrix.addAtIndex(12,this.targetScreenOffset.x),this._viewMatrix.addAtIndex(13,this.targetScreenOffset.y)}return this._currentTarget=l,this._viewMatrix},ArcRotateCamera.prototype.zoomOn=function(t,n){void 0===n&&(n=!1),t=t||this.getScene().meshes;var u=m["Mesh"].MinMax(t),c=h["Vector3"].Distance(u.min,u.max);this.radius=c*this.zoomOnFactor,this.focusOn({min:u.min,max:u.max,distance:c},n)},ArcRotateCamera.prototype.focusOn=function(t,n){var u,c;if(void 0===n&&(n=!1),void 0===t.min){var l=t||this.getScene().meshes;u=m["Mesh"].MinMax(l),c=h["Vector3"].Distance(u.min,u.max)}else{var d=t;u=d,c=d.distance}this._target=m["Mesh"].Center(u),n||(this.maxZ=2*c)},ArcRotateCamera.prototype.createRigCamera=function(t,n){var u=0;switch(this.cameraRigMode){case v["Camera"].RIG_MODE_STEREOSCOPIC_ANAGLYPH:case v["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case v["Camera"].RIG_MODE_STEREOSCOPIC_OVERUNDER:case v["Camera"].RIG_MODE_STEREOSCOPIC_INTERLACED:case v["Camera"].RIG_MODE_VR:u=this._cameraRigParams.stereoHalfAngle*(0===n?1:-1);break;case v["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:u=this._cameraRigParams.stereoHalfAngle*(0===n?-1:1);break}var c=new ArcRotateCamera(t,this.alpha+u,this.beta,this.radius,this._target,this.getScene());return c._cameraRigParams={},c.isRigCamera=!0,c.rigParent=this,c.upVector=this.upVector,c},ArcRotateCamera.prototype._updateRigCameras=function(){var n=this._rigCameras[0],u=this._rigCameras[1];switch(n.beta=u.beta=this.beta,this.cameraRigMode){case v["Camera"].RIG_MODE_STEREOSCOPIC_ANAGLYPH:case v["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case v["Camera"].RIG_MODE_STEREOSCOPIC_OVERUNDER:case v["Camera"].RIG_MODE_STEREOSCOPIC_INTERLACED:case v["Camera"].RIG_MODE_VR:n.alpha=this.alpha-this._cameraRigParams.stereoHalfAngle,u.alpha=this.alpha+this._cameraRigParams.stereoHalfAngle;break;case v["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:n.alpha=this.alpha+this._cameraRigParams.stereoHalfAngle,u.alpha=this.alpha-this._cameraRigParams.stereoHalfAngle;break}t.prototype._updateRigCameras.call(this)},ArcRotateCamera.prototype.dispose=function(){this.inputs.clear(),t.prototype.dispose.call(this)},ArcRotateCamera.prototype.getClassName=function(){return"ArcRotateCamera"},Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"alpha",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"beta",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"radius",void 0),Object(c["__decorate"])([Object(l["serializeAsVector3"])("target")],ArcRotateCamera.prototype,"_target",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"inertialAlphaOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"inertialBetaOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"inertialRadiusOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"lowerAlphaLimit",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"upperAlphaLimit",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"lowerBetaLimit",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"upperBetaLimit",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"lowerRadiusLimit",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"upperRadiusLimit",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"inertialPanningX",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"inertialPanningY",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"pinchToPanMaxDistance",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"panningDistanceLimit",void 0),Object(c["__decorate"])([Object(l["serializeAsVector3"])()],ArcRotateCamera.prototype,"panningOriginTarget",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"panningInertia",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"zoomOnFactor",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"targetScreenOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"allowUpsideDown",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ArcRotateCamera.prototype,"useInputToRestoreState",void 0),ArcRotateCamera}(U["TargetCamera"])},"./node_modules/@babylonjs/core/Cameras/arcRotateCameraInputsManager.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ArcRotateCameraInputsManager",(function(){return m}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Cameras/Inputs/arcRotateCameraPointersInput.js"),d=u("./node_modules/@babylonjs/core/Cameras/Inputs/arcRotateCameraKeyboardMoveInput.js"),h=u("./node_modules/@babylonjs/core/Cameras/Inputs/arcRotateCameraMouseWheelInput.js"),p=u("./node_modules/@babylonjs/core/Cameras/cameraInputsManager.js"),m=function(t){function ArcRotateCameraInputsManager(n){return t.call(this,n)||this}return Object(c["__extends"])(ArcRotateCameraInputsManager,t),ArcRotateCameraInputsManager.prototype.addMouseWheel=function(){return this.add(new h["ArcRotateCameraMouseWheelInput"]),this},ArcRotateCameraInputsManager.prototype.addPointers=function(){return this.add(new l["ArcRotateCameraPointersInput"]),this},ArcRotateCameraInputsManager.prototype.addKeyboard=function(){return this.add(new d["ArcRotateCameraKeyboardMoveInput"]),this},ArcRotateCameraInputsManager}(p["CameraInputsManager"])},"./node_modules/@babylonjs/core/Cameras/camera.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Camera",(function(){return W}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/smartArray.js"),h=u("./node_modules/@babylonjs/core/Misc/tools.js"),p=u("./node_modules/@babylonjs/core/Misc/observable.js"),m=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),_=u("./node_modules/@babylonjs/core/node.js"),g=u("./node_modules/@babylonjs/core/Misc/logger.js"),b=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),v=u("./node_modules/@babylonjs/core/Misc/devTools.js"),U=u("./node_modules/@babylonjs/core/Maths/math.viewport.js"),G=u("./node_modules/@babylonjs/core/Maths/math.frustum.js"),W=function(t){function Camera(n,u,c,l){void 0===l&&(l=!0);var h=t.call(this,n,c)||this;return h._position=m["Vector3"].Zero(),h._upVector=m["Vector3"].Up(),h.orthoLeft=null,h.orthoRight=null,h.orthoBottom=null,h.orthoTop=null,h.fov=.8,h.minZ=1,h.maxZ=1e4,h.inertia=.9,h.mode=Camera.PERSPECTIVE_CAMERA,h.isIntermediate=!1,h.viewport=new U["Viewport"](0,0,1,1),h.layerMask=268435455,h.fovMode=Camera.FOVMODE_VERTICAL_FIXED,h.cameraRigMode=Camera.RIG_MODE_NONE,h.customRenderTargets=new Array,h.outputRenderTarget=null,h.onViewMatrixChangedObservable=new p["Observable"],h.onProjectionMatrixChangedObservable=new p["Observable"],h.onAfterCheckInputsObservable=new p["Observable"],h.onRestoreStateObservable=new p["Observable"],h.isRigCamera=!1,h._rigCameras=new Array,h._webvrViewMatrix=m["Matrix"].Identity(),h._skipRendering=!1,h._projectionMatrix=new m["Matrix"],h._postProcesses=new Array,h._activeMeshes=new d["SmartArray"](256),h._globalPosition=m["Vector3"].Zero(),h._computedViewMatrix=m["Matrix"].Identity(),h._doNotComputeProjectionMatrix=!1,h._transformMatrix=m["Matrix"].Zero(),h._refreshFrustumPlanes=!0,h._isCamera=!0,h._isLeftCamera=!1,h._isRightCamera=!1,h.getScene().addCamera(h),l&&!h.getScene().activeCamera&&(h.getScene().activeCamera=h),h.position=u,h}return Object(c["__extends"])(Camera,t),Object.defineProperty(Camera.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!1,configurable:!0}),Object.defineProperty(Camera.prototype,"upVector",{get:function(){return this._upVector},set:function(t){this._upVector=t},enumerable:!1,configurable:!0}),Camera.prototype.storeState=function(){return this._stateStored=!0,this._storedFov=this.fov,this},Camera.prototype._restoreStateValues=function(){return!!this._stateStored&&(this.fov=this._storedFov,!0)},Camera.prototype.restoreState=function(){return!!this._restoreStateValues()&&(this.onRestoreStateObservable.notifyObservers(this),!0)},Camera.prototype.getClassName=function(){return"Camera"},Camera.prototype.toString=function(t){var n="Name: "+this.name;if(n+=", type: "+this.getClassName(),this.animations)for(var u=0;u<this.animations.length;u++)n+=", animation[0]: "+this.animations[u].toString(t);return n},Object.defineProperty(Camera.prototype,"globalPosition",{get:function(){return this._globalPosition},enumerable:!1,configurable:!0}),Camera.prototype.getActiveMeshes=function(){return this._activeMeshes},Camera.prototype.isActiveMesh=function(t){return-1!==this._activeMeshes.indexOf(t)},Camera.prototype.isReady=function(n){if(void 0===n&&(n=!1),n)for(var u=0,c=this._postProcesses;u<c.length;u++){var l=c[u];if(l&&!l.isReady())return!1}return t.prototype.isReady.call(this,n)},Camera.prototype._initCache=function(){t.prototype._initCache.call(this),this._cache.position=new m["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.upVector=new m["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.mode=void 0,this._cache.minZ=void 0,this._cache.maxZ=void 0,this._cache.fov=void 0,this._cache.fovMode=void 0,this._cache.aspectRatio=void 0,this._cache.orthoLeft=void 0,this._cache.orthoRight=void 0,this._cache.orthoBottom=void 0,this._cache.orthoTop=void 0,this._cache.renderWidth=void 0,this._cache.renderHeight=void 0},Camera.prototype._updateCache=function(n){n||t.prototype._updateCache.call(this),this._cache.position.copyFrom(this.position),this._cache.upVector.copyFrom(this.upVector)},Camera.prototype._isSynchronized=function(){return this._isSynchronizedViewMatrix()&&this._isSynchronizedProjectionMatrix()},Camera.prototype._isSynchronizedViewMatrix=function(){return!!t.prototype._isSynchronized.call(this)&&(this._cache.position.equals(this.position)&&this._cache.upVector.equals(this.upVector)&&this.isSynchronizedWithParent())},Camera.prototype._isSynchronizedProjectionMatrix=function(){var t=this._cache.mode===this.mode&&this._cache.minZ===this.minZ&&this._cache.maxZ===this.maxZ;if(!t)return!1;var n=this.getEngine();return t=this.mode===Camera.PERSPECTIVE_CAMERA?this._cache.fov===this.fov&&this._cache.fovMode===this.fovMode&&this._cache.aspectRatio===n.getAspectRatio(this):this._cache.orthoLeft===this.orthoLeft&&this._cache.orthoRight===this.orthoRight&&this._cache.orthoBottom===this.orthoBottom&&this._cache.orthoTop===this.orthoTop&&this._cache.renderWidth===n.getRenderWidth()&&this._cache.renderHeight===n.getRenderHeight(),t},Camera.prototype.attachControl=function(t,n){},Camera.prototype.detachControl=function(t){},Camera.prototype.update=function(){this._checkInputs(),this.cameraRigMode!==Camera.RIG_MODE_NONE&&this._updateRigCameras()},Camera.prototype._checkInputs=function(){this.onAfterCheckInputsObservable.notifyObservers(this)},Object.defineProperty(Camera.prototype,"rigCameras",{get:function(){return this._rigCameras},enumerable:!1,configurable:!0}),Object.defineProperty(Camera.prototype,"rigPostProcess",{get:function(){return this._rigPostProcess},enumerable:!1,configurable:!0}),Camera.prototype._getFirstPostProcess=function(){for(var t=0;t<this._postProcesses.length;t++)if(null!==this._postProcesses[t])return this._postProcesses[t];return null},Camera.prototype._cascadePostProcessesToRigCams=function(){var t=this._getFirstPostProcess();t&&t.markTextureDirty();for(var n=0,u=this._rigCameras.length;n<u;n++){var c=this._rigCameras[n],l=c._rigPostProcess;if(l){var d="pass"===l.getEffectName();d&&(c.isIntermediate=0===this._postProcesses.length),c._postProcesses=this._postProcesses.slice(0).concat(l),l.markTextureDirty()}else c._postProcesses=this._postProcesses.slice(0)}},Camera.prototype.attachPostProcess=function(t,n){return void 0===n&&(n=null),!t.isReusable()&&this._postProcesses.indexOf(t)>-1?(g["Logger"].Error("You're trying to reuse a post process not defined as reusable."),0):(null==n||n<0?this._postProcesses.push(t):null===this._postProcesses[n]?this._postProcesses[n]=t:this._postProcesses.splice(n,0,t),this._cascadePostProcessesToRigCams(),this._scene.prePassRenderer&&this._scene.prePassRenderer.markAsDirty(),this._postProcesses.indexOf(t))},Camera.prototype.detachPostProcess=function(t){var n=this._postProcesses.indexOf(t);-1!==n&&(this._postProcesses[n]=null),this._scene.prePassRenderer&&this._scene.prePassRenderer.markAsDirty(),this._cascadePostProcessesToRigCams()},Camera.prototype.getWorldMatrix=function(){return this._isSynchronizedViewMatrix()||this.getViewMatrix(),this._worldMatrix},Camera.prototype._getViewMatrix=function(){return m["Matrix"].Identity()},Camera.prototype.getViewMatrix=function(t){return!t&&this._isSynchronizedViewMatrix()||(this.updateCache(),this._computedViewMatrix=this._getViewMatrix(),this._currentRenderId=this.getScene().getRenderId(),this._childUpdateId++,this._refreshFrustumPlanes=!0,this._cameraRigParams&&this._cameraRigParams.vrPreViewMatrix&&this._computedViewMatrix.multiplyToRef(this._cameraRigParams.vrPreViewMatrix,this._computedViewMatrix),this.parent&&this.parent.onViewMatrixChangedObservable&&this.parent.onViewMatrixChangedObservable.notifyObservers(this.parent),this.onViewMatrixChangedObservable.notifyObservers(this),this._computedViewMatrix.invertToRef(this._worldMatrix)),this._computedViewMatrix},Camera.prototype.freezeProjectionMatrix=function(t){this._doNotComputeProjectionMatrix=!0,void 0!==t&&(this._projectionMatrix=t)},Camera.prototype.unfreezeProjectionMatrix=function(){this._doNotComputeProjectionMatrix=!1},Camera.prototype.getProjectionMatrix=function(t){var n,u,c,l,d,h,p,_;if(this._doNotComputeProjectionMatrix||!t&&this._isSynchronizedProjectionMatrix())return this._projectionMatrix;this._cache.mode=this.mode,this._cache.minZ=this.minZ,this._cache.maxZ=this.maxZ,this._refreshFrustumPlanes=!0;var g=this.getEngine(),b=this.getScene();if(this.mode===Camera.PERSPECTIVE_CAMERA){this._cache.fov=this.fov,this._cache.fovMode=this.fovMode,this._cache.aspectRatio=g.getAspectRatio(this),this.minZ<=0&&(this.minZ=.1);var v=g.useReverseDepthBuffer,U=void 0;U=b.useRightHandedSystem?v?m["Matrix"].PerspectiveFovReverseRHToRef:m["Matrix"].PerspectiveFovRHToRef:v?m["Matrix"].PerspectiveFovReverseLHToRef:m["Matrix"].PerspectiveFovLHToRef,U(this.fov,g.getAspectRatio(this),this.minZ,this.maxZ,this._projectionMatrix,this.fovMode===Camera.FOVMODE_VERTICAL_FIXED)}else{var G=g.getRenderWidth()/2,W=g.getRenderHeight()/2;b.useRightHandedSystem?m["Matrix"].OrthoOffCenterRHToRef(null!==(n=this.orthoLeft)&&void 0!==n?n:-G,null!==(u=this.orthoRight)&&void 0!==u?u:G,null!==(c=this.orthoBottom)&&void 0!==c?c:-W,null!==(l=this.orthoTop)&&void 0!==l?l:W,this.minZ,this.maxZ,this._projectionMatrix):m["Matrix"].OrthoOffCenterLHToRef(null!==(d=this.orthoLeft)&&void 0!==d?d:-G,null!==(h=this.orthoRight)&&void 0!==h?h:G,null!==(p=this.orthoBottom)&&void 0!==p?p:-W,null!==(_=this.orthoTop)&&void 0!==_?_:W,this.minZ,this.maxZ,this._projectionMatrix),this._cache.orthoLeft=this.orthoLeft,this._cache.orthoRight=this.orthoRight,this._cache.orthoBottom=this.orthoBottom,this._cache.orthoTop=this.orthoTop,this._cache.renderWidth=g.getRenderWidth(),this._cache.renderHeight=g.getRenderHeight()}return this.onProjectionMatrixChangedObservable.notifyObservers(this),this._projectionMatrix},Camera.prototype.getTransformationMatrix=function(){return this._computedViewMatrix.multiplyToRef(this._projectionMatrix,this._transformMatrix),this._transformMatrix},Camera.prototype._updateFrustumPlanes=function(){this._refreshFrustumPlanes&&(this.getTransformationMatrix(),this._frustumPlanes?G["Frustum"].GetPlanesToRef(this._transformMatrix,this._frustumPlanes):this._frustumPlanes=G["Frustum"].GetPlanes(this._transformMatrix),this._refreshFrustumPlanes=!1)},Camera.prototype.isInFrustum=function(t,n){if(void 0===n&&(n=!1),this._updateFrustumPlanes(),n&&this.rigCameras.length>0){var u=!1;return this.rigCameras.forEach((function(n){n._updateFrustumPlanes(),u=u||t.isInFrustum(n._frustumPlanes)})),u}return t.isInFrustum(this._frustumPlanes)},Camera.prototype.isCompletelyInFrustum=function(t){return this._updateFrustumPlanes(),t.isCompletelyInFrustum(this._frustumPlanes)},Camera.prototype.getForwardRay=function(t,n,u){throw void 0===t&&(t=100),v["_DevTools"].WarnImport("Ray")},Camera.prototype.getForwardRayToRef=function(t,n,u,c){throw void 0===n&&(n=100),v["_DevTools"].WarnImport("Ray")},Camera.prototype.dispose=function(n,u){void 0===u&&(u=!1),this.onViewMatrixChangedObservable.clear(),this.onProjectionMatrixChangedObservable.clear(),this.onAfterCheckInputsObservable.clear(),this.onRestoreStateObservable.clear(),this.inputs&&this.inputs.clear(),this.getScene().stopAnimation(this),this.getScene().removeCamera(this);while(this._rigCameras.length>0){var c=this._rigCameras.pop();c&&c.dispose()}if(this._rigPostProcess)this._rigPostProcess.dispose(this),this._rigPostProcess=null,this._postProcesses=[];else if(this.cameraRigMode!==Camera.RIG_MODE_NONE)this._rigPostProcess=null,this._postProcesses=[];else{var l=this._postProcesses.length;while(--l>=0){var d=this._postProcesses[l];d&&d.dispose(this)}}l=this.customRenderTargets.length;while(--l>=0)this.customRenderTargets[l].dispose();this.customRenderTargets=[],this._activeMeshes.dispose(),t.prototype.dispose.call(this,n,u)},Object.defineProperty(Camera.prototype,"isLeftCamera",{get:function(){return this._isLeftCamera},enumerable:!1,configurable:!0}),Object.defineProperty(Camera.prototype,"isRightCamera",{get:function(){return this._isRightCamera},enumerable:!1,configurable:!0}),Object.defineProperty(Camera.prototype,"leftCamera",{get:function(){return this._rigCameras.length<1?null:this._rigCameras[0]},enumerable:!1,configurable:!0}),Object.defineProperty(Camera.prototype,"rightCamera",{get:function(){return this._rigCameras.length<2?null:this._rigCameras[1]},enumerable:!1,configurable:!0}),Camera.prototype.getLeftTarget=function(){return this._rigCameras.length<1?null:this._rigCameras[0].getTarget()},Camera.prototype.getRightTarget=function(){return this._rigCameras.length<2?null:this._rigCameras[1].getTarget()},Camera.prototype.setCameraRigMode=function(t,n){if(this.cameraRigMode!==t){while(this._rigCameras.length>0){var u=this._rigCameras.pop();u&&u.dispose()}if(this.cameraRigMode=t,this._cameraRigParams={},this._cameraRigParams.interaxialDistance=n.interaxialDistance||.0637,this._cameraRigParams.stereoHalfAngle=h["Tools"].ToRadians(this._cameraRigParams.interaxialDistance/.0637),this.cameraRigMode!==Camera.RIG_MODE_NONE){var c=this.createRigCamera(this.name+"_L",0);c&&(c._isLeftCamera=!0);var l=this.createRigCamera(this.name+"_R",1);l&&(l._isRightCamera=!0),c&&l&&(this._rigCameras.push(c),this._rigCameras.push(l))}switch(this.cameraRigMode){case Camera.RIG_MODE_STEREOSCOPIC_ANAGLYPH:Camera._setStereoscopicAnaglyphRigMode(this);break;case Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:case Camera.RIG_MODE_STEREOSCOPIC_OVERUNDER:case Camera.RIG_MODE_STEREOSCOPIC_INTERLACED:Camera._setStereoscopicRigMode(this);break;case Camera.RIG_MODE_VR:Camera._setVRRigMode(this,n);break;case Camera.RIG_MODE_WEBVR:Camera._setWebVRRigMode(this,n);break}this._cascadePostProcessesToRigCams(),this.update()}},Camera._setStereoscopicRigMode=function(t){throw"Import Cameras/RigModes/stereoscopicRigMode before using stereoscopic rig mode"},Camera._setStereoscopicAnaglyphRigMode=function(t){throw"Import Cameras/RigModes/stereoscopicAnaglyphRigMode before using stereoscopic anaglyph rig mode"},Camera._setVRRigMode=function(t,n){throw"Import Cameras/RigModes/vrRigMode before using VR rig mode"},Camera._setWebVRRigMode=function(t,n){throw"Import Cameras/RigModes/WebVRRigMode before using Web VR rig mode"},Camera.prototype._getVRProjectionMatrix=function(){return m["Matrix"].PerspectiveFovLHToRef(this._cameraRigParams.vrMetrics.aspectRatioFov,this._cameraRigParams.vrMetrics.aspectRatio,this.minZ,this.maxZ,this._cameraRigParams.vrWorkMatrix),this._cameraRigParams.vrWorkMatrix.multiplyToRef(this._cameraRigParams.vrHMatrix,this._projectionMatrix),this._projectionMatrix},Camera.prototype._updateCameraRotationMatrix=function(){},Camera.prototype._updateWebVRCameraRotationMatrix=function(){},Camera.prototype._getWebVRProjectionMatrix=function(){return m["Matrix"].Identity()},Camera.prototype._getWebVRViewMatrix=function(){return m["Matrix"].Identity()},Camera.prototype.setCameraRigParameter=function(t,n){this._cameraRigParams||(this._cameraRigParams={}),this._cameraRigParams[t]=n,"interaxialDistance"===t&&(this._cameraRigParams.stereoHalfAngle=h["Tools"].ToRadians(n/.0637))},Camera.prototype.createRigCamera=function(t,n){return null},Camera.prototype._updateRigCameras=function(){for(var t=0;t<this._rigCameras.length;t++)this._rigCameras[t].minZ=this.minZ,this._rigCameras[t].maxZ=this.maxZ,this._rigCameras[t].fov=this.fov,this._rigCameras[t].upVector.copyFrom(this.upVector);this.cameraRigMode===Camera.RIG_MODE_STEREOSCOPIC_ANAGLYPH&&(this._rigCameras[0].viewport=this._rigCameras[1].viewport=this.viewport)},Camera.prototype._setupInputs=function(){},Camera.prototype.serialize=function(){var t=l["SerializationHelper"].Serialize(this);return t.type=this.getClassName(),this.parent&&(t.parentId=this.parent.id),this.inputs&&this.inputs.serialize(t),l["SerializationHelper"].AppendSerializedAnimations(this,t),t.ranges=this.serializeAnimationRanges(),t},Camera.prototype.clone=function(t){return l["SerializationHelper"].Clone(Camera.GetConstructorFromName(this.getClassName(),t,this.getScene(),this.interaxialDistance,this.isStereoscopicSideBySide),this)},Camera.prototype.getDirection=function(t){var n=m["Vector3"].Zero();return this.getDirectionToRef(t,n),n},Object.defineProperty(Camera.prototype,"absoluteRotation",{get:function(){var t=m["Quaternion"].Zero();return this.getWorldMatrix().decompose(void 0,t),t},enumerable:!1,configurable:!0}),Camera.prototype.getDirectionToRef=function(t,n){m["Vector3"].TransformNormalToRef(t,this.getWorldMatrix(),n)},Camera.GetConstructorFromName=function(t,n,u,c,l){void 0===c&&(c=0),void 0===l&&(l=!0);var d=_["Node"].Construct(t,n,u,{interaxial_distance:c,isStereoscopicSideBySide:l});return d||function(){return Camera._createDefaultParsedCamera(n,u)}},Camera.prototype.computeWorldMatrix=function(){return this.getWorldMatrix()},Camera.Parse=function(t,n){var u=t.type,c=Camera.GetConstructorFromName(u,t.name,n,t.interaxial_distance,t.isStereoscopicSideBySide),d=l["SerializationHelper"].Parse(c,t,n);if(t.parentId&&(d._waitingParentId=t.parentId),d.inputs&&(d.inputs.parse(t),d._setupInputs()),t.upVector&&(d.upVector=m["Vector3"].FromArray(t.upVector)),d.setPosition&&(d.position.copyFromFloats(0,0,0),d.setPosition(m["Vector3"].FromArray(t.position))),t.target&&d.setTarget&&d.setTarget(m["Vector3"].FromArray(t.target)),t.cameraRigMode){var h=t.interaxial_distance?{interaxialDistance:t.interaxial_distance}:{};d.setCameraRigMode(t.cameraRigMode,h)}if(t.animations){for(var p=0;p<t.animations.length;p++){var g=t.animations[p],v=b["_TypeStore"].GetClass("BABYLON.Animation");v&&d.animations.push(v.Parse(g))}_["Node"].ParseAnimationRanges(d,t,n)}return t.autoAnimate&&n.beginAnimation(d,t.autoAnimateFrom,t.autoAnimateTo,t.autoAnimateLoop,t.autoAnimateSpeed||1),d},Camera._createDefaultParsedCamera=function(t,n){throw v["_DevTools"].WarnImport("UniversalCamera")},Camera.PERSPECTIVE_CAMERA=0,Camera.ORTHOGRAPHIC_CAMERA=1,Camera.FOVMODE_VERTICAL_FIXED=0,Camera.FOVMODE_HORIZONTAL_FIXED=1,Camera.RIG_MODE_NONE=0,Camera.RIG_MODE_STEREOSCOPIC_ANAGLYPH=10,Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL=11,Camera.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED=12,Camera.RIG_MODE_STEREOSCOPIC_OVERUNDER=13,Camera.RIG_MODE_STEREOSCOPIC_INTERLACED=14,Camera.RIG_MODE_VR=20,Camera.RIG_MODE_WEBVR=21,Camera.RIG_MODE_CUSTOM=22,Camera.ForceAttachControlToAlwaysPreventDefault=!1,Object(c["__decorate"])([Object(l["serializeAsVector3"])("position")],Camera.prototype,"_position",void 0),Object(c["__decorate"])([Object(l["serializeAsVector3"])("upVector")],Camera.prototype,"_upVector",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"orthoLeft",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"orthoRight",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"orthoBottom",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"orthoTop",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"fov",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"minZ",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"maxZ",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"inertia",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"mode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"layerMask",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"fovMode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"cameraRigMode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"interaxialDistance",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Camera.prototype,"isStereoscopicSideBySide",void 0),Camera}(_["Node"])},"./node_modules/@babylonjs/core/Cameras/cameraInputsManager.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CameraInputTypes",(function(){return h})),u.d(n,"CameraInputsManager",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Misc/logger.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Cameras/camera.js"),h={},p=function(){function CameraInputsManager(t){this.attachedToElement=!1,this.attached={},this.camera=t,this.checkInputs=function(){}}return CameraInputsManager.prototype.add=function(t){var n=t.getSimpleName();this.attached[n]?c["Logger"].Warn("camera input of type "+n+" already exists on camera"):(this.attached[n]=t,t.camera=this.camera,t.checkInputs&&(this.checkInputs=this._addCheckInputs(t.checkInputs.bind(t))),this.attachedToElement&&t.attachControl())},CameraInputsManager.prototype.remove=function(t){for(var n in this.attached){var u=this.attached[n];u===t&&(u.detachControl(),u.camera=null,delete this.attached[n],this.rebuildInputCheck())}},CameraInputsManager.prototype.removeByType=function(t){for(var n in this.attached){var u=this.attached[n];u.getClassName()===t&&(u.detachControl(),u.camera=null,delete this.attached[n],this.rebuildInputCheck())}},CameraInputsManager.prototype._addCheckInputs=function(t){var n=this.checkInputs;return function(){n(),t()}},CameraInputsManager.prototype.attachInput=function(t){this.attachedToElement&&t.attachControl(this.noPreventDefault)},CameraInputsManager.prototype.attachElement=function(t){if(void 0===t&&(t=!1),!this.attachedToElement)for(var n in t=!d["Camera"].ForceAttachControlToAlwaysPreventDefault&&t,this.attachedToElement=!0,this.noPreventDefault=t,this.attached)this.attached[n].attachControl(t)},CameraInputsManager.prototype.detachElement=function(t){for(var n in void 0===t&&(t=!1),this.attached)this.attached[n].detachControl(),t&&(this.attached[n].camera=null);this.attachedToElement=!1},CameraInputsManager.prototype.rebuildInputCheck=function(){for(var t in this.checkInputs=function(){},this.attached){var n=this.attached[t];n.checkInputs&&(this.checkInputs=this._addCheckInputs(n.checkInputs.bind(n)))}},CameraInputsManager.prototype.clear=function(){this.attachedToElement&&this.detachElement(!0),this.attached={},this.attachedToElement=!1,this.checkInputs=function(){}},CameraInputsManager.prototype.serialize=function(t){var n={};for(var u in this.attached){var c=this.attached[u],d=l["SerializationHelper"].Serialize(c);n[c.getClassName()]=d}t.inputsmgr=n},CameraInputsManager.prototype.parse=function(t){var n=t.inputsmgr;if(n)for(var u in this.clear(),n){var c=h[u];if(c){var d=n[u],p=l["SerializationHelper"].Parse((function(){return new c}),d,null);this.add(p)}}else for(var u in this.attached){c=h[this.attached[u].getClassName()];if(c){p=l["SerializationHelper"].Parse((function(){return new c}),t,null);this.remove(this.attached[u]),this.add(p)}}},CameraInputsManager}()},"./node_modules/@babylonjs/core/Cameras/targetCamera.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TargetCamera",(function(){return _}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Cameras/camera.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),m=u("./node_modules/@babylonjs/core/Maths/math.axis.js"),_=function(t){function TargetCamera(n,u,c,l){void 0===l&&(l=!0);var d=t.call(this,n,u,c,l)||this;return d._tmpUpVector=h["Vector3"].Zero(),d._tmpTargetVector=h["Vector3"].Zero(),d.cameraDirection=new h["Vector3"](0,0,0),d.cameraRotation=new h["Vector2"](0,0),d.ignoreParentScaling=!1,d.updateUpVectorFromRotation=!1,d._tmpQuaternion=new h["Quaternion"],d.rotation=new h["Vector3"](0,0,0),d.speed=2,d.noRotationConstraint=!1,d.invertRotation=!1,d.inverseRotationSpeed=.2,d.lockedTarget=null,d._currentTarget=h["Vector3"].Zero(),d._initialFocalDistance=1,d._viewMatrix=h["Matrix"].Zero(),d._camMatrix=h["Matrix"].Zero(),d._cameraTransformMatrix=h["Matrix"].Zero(),d._cameraRotationMatrix=h["Matrix"].Zero(),d._referencePoint=new h["Vector3"](0,0,1),d._transformedReferencePoint=h["Vector3"].Zero(),d._defaultUp=h["Vector3"].Up(),d._cachedRotationZ=0,d._cachedQuaternionRotationZ=0,d}return Object(c["__extends"])(TargetCamera,t),TargetCamera.prototype.getFrontPosition=function(t){this.getWorldMatrix();var n=this.getTarget().subtract(this.position);return n.normalize(),n.scaleInPlace(t),this.globalPosition.add(n)},TargetCamera.prototype._getLockedTargetPosition=function(){return this.lockedTarget?(this.lockedTarget.absolutePosition&&this.lockedTarget.computeWorldMatrix(),this.lockedTarget.absolutePosition||this.lockedTarget):null},TargetCamera.prototype.storeState=function(){return this._storedPosition=this.position.clone(),this._storedRotation=this.rotation.clone(),this.rotationQuaternion&&(this._storedRotationQuaternion=this.rotationQuaternion.clone()),t.prototype.storeState.call(this)},TargetCamera.prototype._restoreStateValues=function(){return!!t.prototype._restoreStateValues.call(this)&&(this.position=this._storedPosition.clone(),this.rotation=this._storedRotation.clone(),this.rotationQuaternion&&(this.rotationQuaternion=this._storedRotationQuaternion.clone()),this.cameraDirection.copyFromFloats(0,0,0),this.cameraRotation.copyFromFloats(0,0),!0)},TargetCamera.prototype._initCache=function(){t.prototype._initCache.call(this),this._cache.lockedTarget=new h["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotation=new h["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotationQuaternion=new h["Quaternion"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},TargetCamera.prototype._updateCache=function(n){n||t.prototype._updateCache.call(this);var u=this._getLockedTargetPosition();u?this._cache.lockedTarget?this._cache.lockedTarget.copyFrom(u):this._cache.lockedTarget=u.clone():this._cache.lockedTarget=null,this._cache.rotation.copyFrom(this.rotation),this.rotationQuaternion&&this._cache.rotationQuaternion.copyFrom(this.rotationQuaternion)},TargetCamera.prototype._isSynchronizedViewMatrix=function(){if(!t.prototype._isSynchronizedViewMatrix.call(this))return!1;var n=this._getLockedTargetPosition();return(this._cache.lockedTarget?this._cache.lockedTarget.equals(n):!n)&&(this.rotationQuaternion?this.rotationQuaternion.equals(this._cache.rotationQuaternion):this._cache.rotation.equals(this.rotation))},TargetCamera.prototype._computeLocalCameraSpeed=function(){var t=this.getEngine();return this.speed*Math.sqrt(t.getDeltaTime()/(100*t.getFps()))},TargetCamera.prototype.setTarget=function(t){this.upVector.normalize(),this._initialFocalDistance=t.subtract(this.position).length(),this.position.z===t.z&&(this.position.z+=p["Epsilon"]),this._referencePoint.normalize().scaleInPlace(this._initialFocalDistance),h["Matrix"].LookAtLHToRef(this.position,t,this._defaultUp,this._camMatrix),this._camMatrix.invert(),this.rotation.x=Math.atan(this._camMatrix.m[6]/this._camMatrix.m[10]);var n=t.subtract(this.position);n.x>=0?this.rotation.y=-Math.atan(n.z/n.x)+Math.PI/2:this.rotation.y=-Math.atan(n.z/n.x)-Math.PI/2,this.rotation.z=0,isNaN(this.rotation.x)&&(this.rotation.x=0),isNaN(this.rotation.y)&&(this.rotation.y=0),isNaN(this.rotation.z)&&(this.rotation.z=0),this.rotationQuaternion&&h["Quaternion"].RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)},Object.defineProperty(TargetCamera.prototype,"target",{get:function(){return this.getTarget()},set:function(t){this.setTarget(t)},enumerable:!1,configurable:!0}),TargetCamera.prototype.getTarget=function(){return this._currentTarget},TargetCamera.prototype._decideIfNeedsToMove=function(){return Math.abs(this.cameraDirection.x)>0||Math.abs(this.cameraDirection.y)>0||Math.abs(this.cameraDirection.z)>0},TargetCamera.prototype._updatePosition=function(){if(this.parent)return this.parent.getWorldMatrix().invertToRef(h["TmpVectors"].Matrix[0]),h["Vector3"].TransformNormalToRef(this.cameraDirection,h["TmpVectors"].Matrix[0],h["TmpVectors"].Vector3[0]),void this.position.addInPlace(h["TmpVectors"].Vector3[0]);this.position.addInPlace(this.cameraDirection)},TargetCamera.prototype._checkInputs=function(){var n=this.invertRotation?-this.inverseRotationSpeed:1,u=this._decideIfNeedsToMove(),c=Math.abs(this.cameraRotation.x)>0||Math.abs(this.cameraRotation.y)>0;if(u&&this._updatePosition(),c){if(this.rotationQuaternion&&this.rotationQuaternion.toEulerAnglesToRef(this.rotation),this.rotation.x+=this.cameraRotation.x*n,this.rotation.y+=this.cameraRotation.y*n,!this.noRotationConstraint){var l=1.570796;this.rotation.x>l&&(this.rotation.x=l),this.rotation.x<-l&&(this.rotation.x=-l)}if(this.rotationQuaternion){var d=this.rotation.lengthSquared();d&&h["Quaternion"].RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)}}u&&(Math.abs(this.cameraDirection.x)<this.speed*p["Epsilon"]&&(this.cameraDirection.x=0),Math.abs(this.cameraDirection.y)<this.speed*p["Epsilon"]&&(this.cameraDirection.y=0),Math.abs(this.cameraDirection.z)<this.speed*p["Epsilon"]&&(this.cameraDirection.z=0),this.cameraDirection.scaleInPlace(this.inertia)),c&&(Math.abs(this.cameraRotation.x)<this.speed*p["Epsilon"]&&(this.cameraRotation.x=0),Math.abs(this.cameraRotation.y)<this.speed*p["Epsilon"]&&(this.cameraRotation.y=0),this.cameraRotation.scaleInPlace(this.inertia)),t.prototype._checkInputs.call(this)},TargetCamera.prototype._updateCameraRotationMatrix=function(){this.rotationQuaternion?this.rotationQuaternion.toRotationMatrix(this._cameraRotationMatrix):h["Matrix"].RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this._cameraRotationMatrix)},TargetCamera.prototype._rotateUpVectorWithCameraRotationMatrix=function(){return h["Vector3"].TransformNormalToRef(this._defaultUp,this._cameraRotationMatrix,this.upVector),this},TargetCamera.prototype._getViewMatrix=function(){return this.lockedTarget&&this.setTarget(this._getLockedTargetPosition()),this._updateCameraRotationMatrix(),this.rotationQuaternion&&this._cachedQuaternionRotationZ!=this.rotationQuaternion.z?(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedQuaternionRotationZ=this.rotationQuaternion.z):this._cachedRotationZ!=this.rotation.z&&(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedRotationZ=this.rotation.z),h["Vector3"].TransformCoordinatesToRef(this._referencePoint,this._cameraRotationMatrix,this._transformedReferencePoint),this.position.addToRef(this._transformedReferencePoint,this._currentTarget),this.updateUpVectorFromRotation&&(this.rotationQuaternion?m["Axis"].Y.rotateByQuaternionToRef(this.rotationQuaternion,this.upVector):(h["Quaternion"].FromEulerVectorToRef(this.rotation,this._tmpQuaternion),m["Axis"].Y.rotateByQuaternionToRef(this._tmpQuaternion,this.upVector))),this._computeViewMatrix(this.position,this._currentTarget,this.upVector),this._viewMatrix},TargetCamera.prototype._computeViewMatrix=function(t,n,u){if(this.ignoreParentScaling){if(this.parent){var c=this.parent.getWorldMatrix();h["Vector3"].TransformCoordinatesToRef(t,c,this._globalPosition),h["Vector3"].TransformCoordinatesToRef(n,c,this._tmpTargetVector),h["Vector3"].TransformNormalToRef(u,c,this._tmpUpVector),this._markSyncedWithParent()}else this._globalPosition.copyFrom(t),this._tmpTargetVector.copyFrom(n),this._tmpUpVector.copyFrom(u);this.getScene().useRightHandedSystem?h["Matrix"].LookAtRHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix):h["Matrix"].LookAtLHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix)}else if(this.getScene().useRightHandedSystem?h["Matrix"].LookAtRHToRef(t,n,u,this._viewMatrix):h["Matrix"].LookAtLHToRef(t,n,u,this._viewMatrix),this.parent){c=this.parent.getWorldMatrix();this._viewMatrix.invert(),this._viewMatrix.multiplyToRef(c,this._viewMatrix),this._viewMatrix.getTranslationToRef(this._globalPosition),this._viewMatrix.invert(),this._markSyncedWithParent()}else this._globalPosition.copyFrom(t)},TargetCamera.prototype.createRigCamera=function(t,n){if(this.cameraRigMode!==d["Camera"].RIG_MODE_NONE){var u=new TargetCamera(t,this.position.clone(),this.getScene());return u.isRigCamera=!0,u.rigParent=this,this.cameraRigMode!==d["Camera"].RIG_MODE_VR&&this.cameraRigMode!==d["Camera"].RIG_MODE_WEBVR||(this.rotationQuaternion||(this.rotationQuaternion=new h["Quaternion"]),u._cameraRigParams={},u.rotationQuaternion=new h["Quaternion"]),u}return null},TargetCamera.prototype._updateRigCameras=function(){var n=this._rigCameras[0],u=this._rigCameras[1];switch(this.computeWorldMatrix(),this.cameraRigMode){case d["Camera"].RIG_MODE_STEREOSCOPIC_ANAGLYPH:case d["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case d["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:case d["Camera"].RIG_MODE_STEREOSCOPIC_OVERUNDER:case d["Camera"].RIG_MODE_STEREOSCOPIC_INTERLACED:var c=this.cameraRigMode===d["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?1:-1,l=this.cameraRigMode===d["Camera"].RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?-1:1;this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*c,n),this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*l,u);break;case d["Camera"].RIG_MODE_VR:n.rotationQuaternion?(n.rotationQuaternion.copyFrom(this.rotationQuaternion),u.rotationQuaternion.copyFrom(this.rotationQuaternion)):(n.rotation.copyFrom(this.rotation),u.rotation.copyFrom(this.rotation)),n.position.copyFrom(this.position),u.position.copyFrom(this.position);break}t.prototype._updateRigCameras.call(this)},TargetCamera.prototype._getRigCamPositionAndTarget=function(t,n){var u=this.getTarget();u.subtractToRef(this.position,TargetCamera._TargetFocalPoint),TargetCamera._TargetFocalPoint.normalize().scaleInPlace(this._initialFocalDistance);var c=TargetCamera._TargetFocalPoint.addInPlace(this.position);h["Matrix"].TranslationToRef(-c.x,-c.y,-c.z,TargetCamera._TargetTransformMatrix),TargetCamera._TargetTransformMatrix.multiplyToRef(h["Matrix"].RotationAxis(n.upVector,t),TargetCamera._RigCamTransformMatrix),h["Matrix"].TranslationToRef(c.x,c.y,c.z,TargetCamera._TargetTransformMatrix),TargetCamera._RigCamTransformMatrix.multiplyToRef(TargetCamera._TargetTransformMatrix,TargetCamera._RigCamTransformMatrix),h["Vector3"].TransformCoordinatesToRef(this.position,TargetCamera._RigCamTransformMatrix,n.position),n.setTarget(c)},TargetCamera.prototype.getClassName=function(){return"TargetCamera"},TargetCamera._RigCamTransformMatrix=new h["Matrix"],TargetCamera._TargetTransformMatrix=new h["Matrix"],TargetCamera._TargetFocalPoint=new h["Vector3"],Object(c["__decorate"])([Object(l["serializeAsVector3"])()],TargetCamera.prototype,"rotation",void 0),Object(c["__decorate"])([Object(l["serialize"])()],TargetCamera.prototype,"speed",void 0),Object(c["__decorate"])([Object(l["serializeAsMeshReference"])("lockedTargetId")],TargetCamera.prototype,"lockedTarget",void 0),TargetCamera}(d["Camera"])},"./node_modules/@babylonjs/core/Collisions/intersectionInfo.js":function(t,n,u){"use strict";u.r(n),u.d(n,"IntersectionInfo",(function(){return c}));var c=function(){function IntersectionInfo(t,n,u){this.bu=t,this.bv=n,this.distance=u,this.faceId=0,this.subMeshId=0}return IntersectionInfo}()},"./node_modules/@babylonjs/core/Collisions/meshCollisionData.js":function(t,n,u){"use strict";u.r(n),u.d(n,"_MeshCollisionData",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=function(){function _MeshCollisionData(){this._checkCollisions=!1,this._collisionMask=-1,this._collisionGroup=-1,this._surroundingMeshes=null,this._collider=null,this._oldPositionForCollisions=new c["Vector3"](0,0,0),this._diffPositionForCollisions=new c["Vector3"](0,0,0),this._collisionResponse=!0}return _MeshCollisionData}()},"./node_modules/@babylonjs/core/Collisions/pickingInfo.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PickingInfo",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),d=function(){function PickingInfo(){this._pickingUnavailable=!1,this.hit=!1,this.distance=0,this.pickedPoint=null,this.pickedMesh=null,this.bu=0,this.bv=0,this.faceId=-1,this.subMeshFaceId=-1,this.subMeshId=0,this.pickedSprite=null,this.thinInstanceIndex=-1,this.originMesh=null,this.ray=null}return PickingInfo.prototype.getNormal=function(t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),!this.pickedMesh||!this.pickedMesh.isVerticesDataPresent(l["VertexBuffer"].NormalKind))return null;var u,d=this.pickedMesh.getIndices();if(!d)return null;if(n){var h=this.pickedMesh.getVerticesData(l["VertexBuffer"].NormalKind),p=c["Vector3"].FromArray(h,3*d[3*this.faceId]),m=c["Vector3"].FromArray(h,3*d[3*this.faceId+1]),_=c["Vector3"].FromArray(h,3*d[3*this.faceId+2]);p=p.scale(this.bu),m=m.scale(this.bv),_=_.scale(1-this.bu-this.bv),u=new c["Vector3"](p.x+m.x+_.x,p.y+m.y+_.y,p.z+m.z+_.z)}else{var g=this.pickedMesh.getVerticesData(l["VertexBuffer"].PositionKind),b=c["Vector3"].FromArray(g,3*d[3*this.faceId]),v=c["Vector3"].FromArray(g,3*d[3*this.faceId+1]),U=c["Vector3"].FromArray(g,3*d[3*this.faceId+2]),G=b.subtract(v),W=U.subtract(v);u=c["Vector3"].Cross(G,W)}if(t){var X=this.pickedMesh.getWorldMatrix();this.pickedMesh.nonUniformScaling&&(c["TmpVectors"].Matrix[0].copyFrom(X),X=c["TmpVectors"].Matrix[0],X.setTranslationFromFloats(0,0,0),X.invert(),X.transposeToRef(c["TmpVectors"].Matrix[1]),X=c["TmpVectors"].Matrix[1]),u=c["Vector3"].TransformNormal(u,X)}return u.normalize(),u},PickingInfo.prototype.getTextureCoordinates=function(){if(!this.pickedMesh||!this.pickedMesh.isVerticesDataPresent(l["VertexBuffer"].UVKind))return null;var t=this.pickedMesh.getIndices();if(!t)return null;var n=this.pickedMesh.getVerticesData(l["VertexBuffer"].UVKind);if(!n)return null;var u=c["Vector2"].FromArray(n,2*t[3*this.faceId]),d=c["Vector2"].FromArray(n,2*t[3*this.faceId+1]),h=c["Vector2"].FromArray(n,2*t[3*this.faceId+2]);return u=u.scale(this.bu),d=d.scale(this.bv),h=h.scale(1-this.bu-this.bv),new c["Vector2"](u.x+d.x+h.x,u.y+d.y+h.y)},PickingInfo}()},"./node_modules/@babylonjs/core/Culling/boundingBox.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BoundingBox",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Misc/arrayTools.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),h=function(){function BoundingBox(t,n,u){this.vectors=c["ArrayTools"].BuildArray(8,l["Vector3"].Zero),this.center=l["Vector3"].Zero(),this.centerWorld=l["Vector3"].Zero(),this.extendSize=l["Vector3"].Zero(),this.extendSizeWorld=l["Vector3"].Zero(),this.directions=c["ArrayTools"].BuildArray(3,l["Vector3"].Zero),this.vectorsWorld=c["ArrayTools"].BuildArray(8,l["Vector3"].Zero),this.minimumWorld=l["Vector3"].Zero(),this.maximumWorld=l["Vector3"].Zero(),this.minimum=l["Vector3"].Zero(),this.maximum=l["Vector3"].Zero(),this.reConstruct(t,n,u)}return BoundingBox.prototype.reConstruct=function(t,n,u){var c=t.x,d=t.y,h=t.z,p=n.x,m=n.y,_=n.z,g=this.vectors;this.minimum.copyFromFloats(c,d,h),this.maximum.copyFromFloats(p,m,_),g[0].copyFromFloats(c,d,h),g[1].copyFromFloats(p,m,_),g[2].copyFromFloats(p,d,h),g[3].copyFromFloats(c,m,h),g[4].copyFromFloats(c,d,_),g[5].copyFromFloats(p,m,h),g[6].copyFromFloats(c,m,_),g[7].copyFromFloats(p,d,_),n.addToRef(t,this.center).scaleInPlace(.5),n.subtractToRef(t,this.extendSize).scaleInPlace(.5),this._worldMatrix=u||l["Matrix"].IdentityReadOnly,this._update(this._worldMatrix)},BoundingBox.prototype.scale=function(t){var n=BoundingBox.TmpVector3,u=this.maximum.subtractToRef(this.minimum,n[0]),c=u.length();u.normalizeFromLength(c);var l=c*t,d=u.scaleInPlace(.5*l),h=this.center.subtractToRef(d,n[1]),p=this.center.addToRef(d,n[2]);return this.reConstruct(h,p,this._worldMatrix),this},BoundingBox.prototype.getWorldMatrix=function(){return this._worldMatrix},BoundingBox.prototype._update=function(t){var n=this.minimumWorld,u=this.maximumWorld,c=this.directions,d=this.vectorsWorld,h=this.vectors;if(t.isIdentity()){n.copyFrom(this.minimum),u.copyFrom(this.maximum);for(p=0;p<8;++p)d[p].copyFrom(h[p]);this.extendSizeWorld.copyFrom(this.extendSize),this.centerWorld.copyFrom(this.center)}else{n.setAll(Number.MAX_VALUE),u.setAll(-Number.MAX_VALUE);for(var p=0;p<8;++p){var m=d[p];l["Vector3"].TransformCoordinatesToRef(h[p],t,m),n.minimizeInPlace(m),u.maximizeInPlace(m)}u.subtractToRef(n,this.extendSizeWorld).scaleInPlace(.5),u.addToRef(n,this.centerWorld).scaleInPlace(.5)}l["Vector3"].FromArrayToRef(t.m,0,c[0]),l["Vector3"].FromArrayToRef(t.m,4,c[1]),l["Vector3"].FromArrayToRef(t.m,8,c[2]),this._worldMatrix=t},BoundingBox.prototype.isInFrustum=function(t){return BoundingBox.IsInFrustum(this.vectorsWorld,t)},BoundingBox.prototype.isCompletelyInFrustum=function(t){return BoundingBox.IsCompletelyInFrustum(this.vectorsWorld,t)},BoundingBox.prototype.intersectsPoint=function(t){var n=this.minimumWorld,u=this.maximumWorld,c=n.x,l=n.y,h=n.z,p=u.x,m=u.y,_=u.z,g=t.x,b=t.y,v=t.z,U=-d["Epsilon"];return!(p-g<U||U>g-c)&&(!(m-b<U||U>b-l)&&!(_-v<U||U>v-h))},BoundingBox.prototype.intersectsSphere=function(t){return BoundingBox.IntersectsSphere(this.minimumWorld,this.maximumWorld,t.centerWorld,t.radiusWorld)},BoundingBox.prototype.intersectsMinMax=function(t,n){var u=this.minimumWorld,c=this.maximumWorld,l=u.x,d=u.y,h=u.z,p=c.x,m=c.y,_=c.z,g=t.x,b=t.y,v=t.z,U=n.x,G=n.y,W=n.z;return!(p<g||l>U)&&(!(m<b||d>G)&&!(_<v||h>W))},BoundingBox.Intersects=function(t,n){return t.intersectsMinMax(n.minimumWorld,n.maximumWorld)},BoundingBox.IntersectsSphere=function(t,n,u,c){var d=BoundingBox.TmpVector3[0];l["Vector3"].ClampToRef(u,t,n,d);var h=l["Vector3"].DistanceSquared(u,d);return h<=c*c},BoundingBox.IsCompletelyInFrustum=function(t,n){for(var u=0;u<6;++u)for(var c=n[u],l=0;l<8;++l)if(c.dotCoordinate(t[l])<0)return!1;return!0},BoundingBox.IsInFrustum=function(t,n){for(var u=0;u<6;++u){for(var c=!0,l=n[u],d=0;d<8;++d)if(l.dotCoordinate(t[d])>=0){c=!1;break}if(c)return!1}return!0},BoundingBox.TmpVector3=c["ArrayTools"].BuildArray(3,l["Vector3"].Zero),BoundingBox}()},"./node_modules/@babylonjs/core/Culling/boundingInfo.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BoundingInfo",(function(){return _}));var c=u("./node_modules/@babylonjs/core/Misc/arrayTools.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Culling/boundingBox.js"),h=u("./node_modules/@babylonjs/core/Culling/boundingSphere.js"),p={min:0,max:0},m={min:0,max:0},computeBoxExtents=function(t,n,u){var c=l["Vector3"].Dot(n.centerWorld,t),d=Math.abs(l["Vector3"].Dot(n.directions[0],t))*n.extendSize.x,h=Math.abs(l["Vector3"].Dot(n.directions[1],t))*n.extendSize.y,p=Math.abs(l["Vector3"].Dot(n.directions[2],t))*n.extendSize.z,m=d+h+p;u.min=c-m,u.max=c+m},axisOverlap=function(t,n,u){return computeBoxExtents(t,n,p),computeBoxExtents(t,u,m),!(p.min>m.max||m.min>p.max)},_=function(){function BoundingInfo(t,n,u){this._isLocked=!1,this.boundingBox=new d["BoundingBox"](t,n,u),this.boundingSphere=new h["BoundingSphere"](t,n,u)}return BoundingInfo.prototype.reConstruct=function(t,n,u){this.boundingBox.reConstruct(t,n,u),this.boundingSphere.reConstruct(t,n,u)},Object.defineProperty(BoundingInfo.prototype,"minimum",{get:function(){return this.boundingBox.minimum},enumerable:!1,configurable:!0}),Object.defineProperty(BoundingInfo.prototype,"maximum",{get:function(){return this.boundingBox.maximum},enumerable:!1,configurable:!0}),Object.defineProperty(BoundingInfo.prototype,"isLocked",{get:function(){return this._isLocked},set:function(t){this._isLocked=t},enumerable:!1,configurable:!0}),BoundingInfo.prototype.update=function(t){this._isLocked||(this.boundingBox._update(t),this.boundingSphere._update(t))},BoundingInfo.prototype.centerOn=function(t,n){var u=BoundingInfo.TmpVector3[0].copyFrom(t).subtractInPlace(n),c=BoundingInfo.TmpVector3[1].copyFrom(t).addInPlace(n);return this.boundingBox.reConstruct(u,c,this.boundingBox.getWorldMatrix()),this.boundingSphere.reConstruct(u,c,this.boundingBox.getWorldMatrix()),this},BoundingInfo.prototype.scale=function(t){return this.boundingBox.scale(t),this.boundingSphere.scale(t),this},BoundingInfo.prototype.isInFrustum=function(t,n){void 0===n&&(n=0);var u=2===n||3===n;if(u&&this.boundingSphere.isCenterInFrustum(t))return!0;if(!this.boundingSphere.isInFrustum(t))return!1;var c=1===n||3===n;return!!c||this.boundingBox.isInFrustum(t)},Object.defineProperty(BoundingInfo.prototype,"diagonalLength",{get:function(){var t=this.boundingBox,n=t.maximumWorld.subtractToRef(t.minimumWorld,BoundingInfo.TmpVector3[0]);return n.length()},enumerable:!1,configurable:!0}),BoundingInfo.prototype.isCompletelyInFrustum=function(t){return this.boundingBox.isCompletelyInFrustum(t)},BoundingInfo.prototype._checkCollision=function(t){return t._canDoCollision(this.boundingSphere.centerWorld,this.boundingSphere.radiusWorld,this.boundingBox.minimumWorld,this.boundingBox.maximumWorld)},BoundingInfo.prototype.intersectsPoint=function(t){return!!this.boundingSphere.centerWorld&&(!!this.boundingSphere.intersectsPoint(t)&&!!this.boundingBox.intersectsPoint(t))},BoundingInfo.prototype.intersects=function(t,n){if(!h["BoundingSphere"].Intersects(this.boundingSphere,t.boundingSphere))return!1;if(!d["BoundingBox"].Intersects(this.boundingBox,t.boundingBox))return!1;if(!n)return!0;var u=this.boundingBox,c=t.boundingBox;return!!axisOverlap(u.directions[0],u,c)&&(!!axisOverlap(u.directions[1],u,c)&&(!!axisOverlap(u.directions[2],u,c)&&(!!axisOverlap(c.directions[0],u,c)&&(!!axisOverlap(c.directions[1],u,c)&&(!!axisOverlap(c.directions[2],u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[0],c.directions[0]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[0],c.directions[1]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[0],c.directions[2]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[1],c.directions[0]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[1],c.directions[1]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[1],c.directions[2]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[2],c.directions[0]),u,c)&&(!!axisOverlap(l["Vector3"].Cross(u.directions[2],c.directions[1]),u,c)&&!!axisOverlap(l["Vector3"].Cross(u.directions[2],c.directions[2]),u,c))))))))))))))},BoundingInfo.TmpVector3=c["ArrayTools"].BuildArray(2,l["Vector3"].Zero),BoundingInfo}()},"./node_modules/@babylonjs/core/Culling/boundingSphere.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BoundingSphere",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Misc/arrayTools.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=function(){function BoundingSphere(t,n,u){this.center=l["Vector3"].Zero(),this.centerWorld=l["Vector3"].Zero(),this.minimum=l["Vector3"].Zero(),this.maximum=l["Vector3"].Zero(),this.reConstruct(t,n,u)}return BoundingSphere.prototype.reConstruct=function(t,n,u){this.minimum.copyFrom(t),this.maximum.copyFrom(n);var c=l["Vector3"].Distance(t,n);n.addToRef(t,this.center).scaleInPlace(.5),this.radius=.5*c,this._update(u||l["Matrix"].IdentityReadOnly)},BoundingSphere.prototype.scale=function(t){var n=this.radius*t,u=BoundingSphere.TmpVector3,c=u[0].setAll(n),l=this.center.subtractToRef(c,u[1]),d=this.center.addToRef(c,u[2]);return this.reConstruct(l,d,this._worldMatrix),this},BoundingSphere.prototype.getWorldMatrix=function(){return this._worldMatrix},BoundingSphere.prototype._update=function(t){if(t.isIdentity())this.centerWorld.copyFrom(this.center),this.radiusWorld=this.radius;else{l["Vector3"].TransformCoordinatesToRef(this.center,t,this.centerWorld);var n=BoundingSphere.TmpVector3[0];l["Vector3"].TransformNormalFromFloatsToRef(1,1,1,t,n),this.radiusWorld=Math.max(Math.abs(n.x),Math.abs(n.y),Math.abs(n.z))*this.radius}},BoundingSphere.prototype.isInFrustum=function(t){for(var n=this.centerWorld,u=this.radiusWorld,c=0;c<6;c++)if(t[c].dotCoordinate(n)<=-u)return!1;return!0},BoundingSphere.prototype.isCenterInFrustum=function(t){for(var n=this.centerWorld,u=0;u<6;u++)if(t[u].dotCoordinate(n)<0)return!1;return!0},BoundingSphere.prototype.intersectsPoint=function(t){var n=l["Vector3"].DistanceSquared(this.centerWorld,t);return!(this.radiusWorld*this.radiusWorld<n)},BoundingSphere.Intersects=function(t,n){var u=l["Vector3"].DistanceSquared(t.centerWorld,n.centerWorld),c=t.radiusWorld+n.radiusWorld;return!(c*c<u)},BoundingSphere.TmpVector3=c["ArrayTools"].BuildArray(3,l["Vector3"].Zero),BoundingSphere}()},"./node_modules/@babylonjs/core/Culling/ray.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Ray",(function(){return _}));var c=u("./node_modules/@babylonjs/core/Misc/arrayTools.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Collisions/pickingInfo.js"),h=u("./node_modules/@babylonjs/core/Collisions/intersectionInfo.js"),p=u("./node_modules/@babylonjs/core/scene.js"),m=u("./node_modules/@babylonjs/core/Cameras/camera.js"),_=function(){function Ray(t,n,u){void 0===u&&(u=Number.MAX_VALUE),this.origin=t,this.direction=n,this.length=u}return Ray.prototype.intersectsBoxMinMax=function(t,n,u){void 0===u&&(u=0);var c,l,d,h,p=Ray._TmpVector3[0].copyFromFloats(t.x-u,t.y-u,t.z-u),m=Ray._TmpVector3[1].copyFromFloats(n.x+u,n.y+u,n.z+u),_=0,g=Number.MAX_VALUE;if(Math.abs(this.direction.x)<1e-7){if(this.origin.x<p.x||this.origin.x>m.x)return!1}else if(c=1/this.direction.x,l=(p.x-this.origin.x)*c,d=(m.x-this.origin.x)*c,d===-1/0&&(d=1/0),l>d&&(h=l,l=d,d=h),_=Math.max(l,_),g=Math.min(d,g),_>g)return!1;if(Math.abs(this.direction.y)<1e-7){if(this.origin.y<p.y||this.origin.y>m.y)return!1}else if(c=1/this.direction.y,l=(p.y-this.origin.y)*c,d=(m.y-this.origin.y)*c,d===-1/0&&(d=1/0),l>d&&(h=l,l=d,d=h),_=Math.max(l,_),g=Math.min(d,g),_>g)return!1;if(Math.abs(this.direction.z)<1e-7){if(this.origin.z<p.z||this.origin.z>m.z)return!1}else if(c=1/this.direction.z,l=(p.z-this.origin.z)*c,d=(m.z-this.origin.z)*c,d===-1/0&&(d=1/0),l>d&&(h=l,l=d,d=h),_=Math.max(l,_),g=Math.min(d,g),_>g)return!1;return!0},Ray.prototype.intersectsBox=function(t,n){return void 0===n&&(n=0),this.intersectsBoxMinMax(t.minimum,t.maximum,n)},Ray.prototype.intersectsSphere=function(t,n){void 0===n&&(n=0);var u=t.center.x-this.origin.x,c=t.center.y-this.origin.y,l=t.center.z-this.origin.z,d=u*u+c*c+l*l,h=t.radius+n,p=h*h;if(d<=p)return!0;var m=u*this.direction.x+c*this.direction.y+l*this.direction.z;if(m<0)return!1;var _=d-m*m;return _<=p},Ray.prototype.intersectsTriangle=function(t,n,u){var c=Ray._TmpVector3[0],d=Ray._TmpVector3[1],p=Ray._TmpVector3[2],m=Ray._TmpVector3[3],_=Ray._TmpVector3[4];n.subtractToRef(t,c),u.subtractToRef(t,d),l["Vector3"].CrossToRef(this.direction,d,p);var g=l["Vector3"].Dot(c,p);if(0===g)return null;var b=1/g;this.origin.subtractToRef(t,m);var v=l["Vector3"].Dot(m,p)*b;if(v<0||v>1)return null;l["Vector3"].CrossToRef(m,c,_);var U=l["Vector3"].Dot(this.direction,_)*b;if(U<0||v+U>1)return null;var G=l["Vector3"].Dot(d,_)*b;return G>this.length?null:new h["IntersectionInfo"](1-v-U,v,G)},Ray.prototype.intersectsPlane=function(t){var n,u=l["Vector3"].Dot(t.normal,this.direction);if(Math.abs(u)<9.99999997475243e-7)return null;var c=l["Vector3"].Dot(t.normal,this.origin);return n=(-t.d-c)/u,n<0?n<-9.99999997475243e-7?null:0:n},Ray.prototype.intersectsAxis=function(t,n){switch(void 0===n&&(n=0),t){case"y":var u=(this.origin.y-n)/this.direction.y;return u>0?null:new l["Vector3"](this.origin.x+this.direction.x*-u,n,this.origin.z+this.direction.z*-u);case"x":u=(this.origin.x-n)/this.direction.x;return u>0?null:new l["Vector3"](n,this.origin.y+this.direction.y*-u,this.origin.z+this.direction.z*-u);case"z":u=(this.origin.z-n)/this.direction.z;return u>0?null:new l["Vector3"](this.origin.x+this.direction.x*-u,this.origin.y+this.direction.y*-u,n);default:return null}},Ray.prototype.intersectsMesh=function(t,n){var u=l["TmpVectors"].Matrix[0];return t.getWorldMatrix().invertToRef(u),this._tmpRay?Ray.TransformToRef(this,u,this._tmpRay):this._tmpRay=Ray.Transform(this,u),t.intersects(this._tmpRay,n)},Ray.prototype.intersectsMeshes=function(t,n,u){u?u.length=0:u=[];for(var c=0;c<t.length;c++){var l=this.intersectsMesh(t[c],n);l.hit&&u.push(l)}return u.sort(this._comparePickingInfo),u},Ray.prototype._comparePickingInfo=function(t,n){return t.distance<n.distance?-1:t.distance>n.distance?1:0},Ray.prototype.intersectionSegment=function(t,n,u){var c=this.origin,d=l["TmpVectors"].Vector3[0],h=l["TmpVectors"].Vector3[1],p=l["TmpVectors"].Vector3[2],m=l["TmpVectors"].Vector3[3];n.subtractToRef(t,d),this.direction.scaleToRef(Ray.rayl,p),c.addToRef(p,h),t.subtractToRef(c,m);var _,g,b,v,U=l["Vector3"].Dot(d,d),G=l["Vector3"].Dot(d,p),W=l["Vector3"].Dot(p,p),X=l["Vector3"].Dot(d,m),q=l["Vector3"].Dot(p,m),K=U*W-G*G,Y=K,Q=K;K<Ray.smallnum?(g=0,Y=1,v=q,Q=W):(g=G*q-W*X,v=U*q-G*X,g<0?(g=0,v=q,Q=W):g>Y&&(g=Y,v=q+G,Q=W)),v<0?(v=0,-X<0?g=0:-X>U?g=Y:(g=-X,Y=U)):v>Q&&(v=Q,-X+G<0?g=0:-X+G>U?g=Y:(g=-X+G,Y=U)),_=Math.abs(g)<Ray.smallnum?0:g/Y,b=Math.abs(v)<Ray.smallnum?0:v/Q;var Z=l["TmpVectors"].Vector3[4];p.scaleToRef(b,Z);var $=l["TmpVectors"].Vector3[5];d.scaleToRef(_,$),$.addInPlace(m);var J=l["TmpVectors"].Vector3[6];$.subtractToRef(Z,J);var ee=b>0&&b<=this.length&&J.lengthSquared()<u*u;return ee?$.length():-1},Ray.prototype.update=function(t,n,u,c,l,d,h){return this.unprojectRayToRef(t,n,u,c,l,d,h),this},Ray.Zero=function(){return new Ray(l["Vector3"].Zero(),l["Vector3"].Zero())},Ray.CreateNew=function(t,n,u,c,l,d,h){var p=Ray.Zero();return p.update(t,n,u,c,l,d,h)},Ray.CreateNewFromTo=function(t,n,u){void 0===u&&(u=l["Matrix"].IdentityReadOnly);var c=n.subtract(t),d=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z);return c.normalize(),Ray.Transform(new Ray(t,c,d),u)},Ray.Transform=function(t,n){var u=new Ray(new l["Vector3"](0,0,0),new l["Vector3"](0,0,0));return Ray.TransformToRef(t,n,u),u},Ray.TransformToRef=function(t,n,u){l["Vector3"].TransformCoordinatesToRef(t.origin,n,u.origin),l["Vector3"].TransformNormalToRef(t.direction,n,u.direction),u.length=t.length;var c=u.direction,d=c.length();if(0!==d&&1!==d){var h=1/d;c.x*=h,c.y*=h,c.z*=h,u.length*=d}},Ray.prototype.unprojectRayToRef=function(t,n,u,c,d,h,p){var m=l["TmpVectors"].Matrix[0];d.multiplyToRef(h,m),m.multiplyToRef(p,m),m.invert();var _=l["TmpVectors"].Vector3[0];_.x=t/u*2-1,_.y=-(n/c*2-1),_.z=-1;var g=l["TmpVectors"].Vector3[1].copyFromFloats(_.x,_.y,1),b=l["TmpVectors"].Vector3[2],v=l["TmpVectors"].Vector3[3];l["Vector3"]._UnprojectFromInvertedMatrixToRef(_,m,b),l["Vector3"]._UnprojectFromInvertedMatrixToRef(g,m,v),this.origin.copyFrom(b),v.subtractToRef(b,this.direction),this.direction.normalize()},Ray._TmpVector3=c["ArrayTools"].BuildArray(6,l["Vector3"].Zero),Ray.smallnum=1e-8,Ray.rayl=1e9,Ray}();p["Scene"].prototype.createPickingRay=function(t,n,u,c,l){void 0===l&&(l=!1);var d=_.Zero();return this.createPickingRayToRef(t,n,u,d,c,l),d},p["Scene"].prototype.createPickingRayToRef=function(t,n,u,c,d,h){void 0===h&&(h=!1);var p=this.getEngine();if(!d){if(!this.activeCamera)return this;d=this.activeCamera}var m=d.viewport,_=m.toGlobal(p.getRenderWidth(),p.getRenderHeight());return t=t/p.getHardwareScalingLevel()-_.x,n=n/p.getHardwareScalingLevel()-(p.getRenderHeight()-_.y-_.height),c.update(t,n,_.width,_.height,u||l["Matrix"].IdentityReadOnly,h?l["Matrix"].IdentityReadOnly:d.getViewMatrix(),d.getProjectionMatrix()),this},p["Scene"].prototype.createPickingRayInCameraSpace=function(t,n,u){var c=_.Zero();return this.createPickingRayInCameraSpaceToRef(t,n,c,u),c},p["Scene"].prototype.createPickingRayInCameraSpaceToRef=function(t,n,u,c){if(!d["PickingInfo"])return this;var h=this.getEngine();if(!c){if(!this.activeCamera)throw new Error("Active camera not set");c=this.activeCamera}var p=c.viewport,m=p.toGlobal(h.getRenderWidth(),h.getRenderHeight()),_=l["Matrix"].Identity();return t=t/h.getHardwareScalingLevel()-m.x,n=n/h.getHardwareScalingLevel()-(h.getRenderHeight()-m.y-m.height),u.update(t,n,m.width,m.height,_,_,c.getProjectionMatrix()),this},p["Scene"].prototype._internalPickForMesh=function(t,n,u,c,l,d,h,p){var m=n(c),_=u.intersects(m,l,h,d,c,p);return _&&_.hit?!l&&null!=t&&_.distance>=t.distance?null:_:null},p["Scene"].prototype._internalPick=function(t,n,u,c,h){if(!d["PickingInfo"])return null;for(var p=null,m=0;m<this.meshes.length;m++){var _=this.meshes[m];if(n){if(!n(_))continue}else if(!_.isEnabled()||!_.isVisible||!_.isPickable)continue;var g=_.skeleton&&_.skeleton.overrideMesh?_.skeleton.overrideMesh.getWorldMatrix():_.getWorldMatrix();if(_.hasThinInstances&&_.thinInstanceEnablePicking){var b=this._internalPickForMesh(p,t,_,g,!0,!0,h);if(b){if(c)return p;for(var v=l["TmpVectors"].Matrix[1],U=_.thinInstanceGetWorldMatrices(),G=0;G<U.length;G++){var W=U[G];W.multiplyToRef(g,v);var X=this._internalPickForMesh(p,t,_,v,u,c,h,!0);if(X&&(p=X,p.thinInstanceIndex=G,u))return p}}}else{b=this._internalPickForMesh(p,t,_,g,u,c,h);if(b&&(p=b,u))return p}}return p||new d["PickingInfo"]},p["Scene"].prototype._internalMultiPick=function(t,n,u){if(!d["PickingInfo"])return null;for(var c=new Array,h=0;h<this.meshes.length;h++){var p=this.meshes[h];if(n){if(!n(p))continue}else if(!p.isEnabled()||!p.isVisible||!p.isPickable)continue;var m=p.skeleton&&p.skeleton.overrideMesh?p.skeleton.overrideMesh.getWorldMatrix():p.getWorldMatrix();if(p.hasThinInstances&&p.thinInstanceEnablePicking){var _=this._internalPickForMesh(null,t,p,m,!0,!0,u);if(_)for(var g=l["TmpVectors"].Matrix[1],b=p.thinInstanceGetWorldMatrices(),v=0;v<b.length;v++){var U=b[v];U.multiplyToRef(m,g);var G=this._internalPickForMesh(null,t,p,g,!1,!1,u,!0);G&&(G.thinInstanceIndex=v,c.push(G))}}else{_=this._internalPickForMesh(null,t,p,m,!1,!1,u);_&&c.push(_)}}return c},p["Scene"].prototype.pickWithBoundingInfo=function(t,n,u,c,h){var p=this;if(!d["PickingInfo"])return null;var m=this._internalPick((function(u){return p._tempPickingRay||(p._tempPickingRay=_.Zero()),p.createPickingRayToRef(t,n,u,p._tempPickingRay,h||null),p._tempPickingRay}),u,c,!0);return m&&(m.ray=this.createPickingRay(t,n,l["Matrix"].Identity(),h||null)),m},p["Scene"].prototype.pick=function(t,n,u,c,h,p){var m=this;if(!d["PickingInfo"])return null;var g=this._internalPick((function(u){return m._tempPickingRay||(m._tempPickingRay=_.Zero()),m.createPickingRayToRef(t,n,u,m._tempPickingRay,h||null),m._tempPickingRay}),u,c,!1,p);return g&&(g.ray=this.createPickingRay(t,n,l["Matrix"].Identity(),h||null)),g},p["Scene"].prototype.pickWithRay=function(t,n,u,c){var d=this,h=this._internalPick((function(n){return d._pickWithRayInverseMatrix||(d._pickWithRayInverseMatrix=l["Matrix"].Identity()),n.invertToRef(d._pickWithRayInverseMatrix),d._cachedRayForTransform||(d._cachedRayForTransform=_.Zero()),_.TransformToRef(t,d._pickWithRayInverseMatrix,d._cachedRayForTransform),d._cachedRayForTransform}),n,u,!1,c);return h&&(h.ray=t),h},p["Scene"].prototype.multiPick=function(t,n,u,c,l){var d=this;return this._internalMultiPick((function(u){return d.createPickingRay(t,n,u,c||null)}),u,l)},p["Scene"].prototype.multiPickWithRay=function(t,n,u){var c=this;return this._internalMultiPick((function(n){return c._pickWithRayInverseMatrix||(c._pickWithRayInverseMatrix=l["Matrix"].Identity()),n.invertToRef(c._pickWithRayInverseMatrix),c._cachedRayForTransform||(c._cachedRayForTransform=_.Zero()),_.TransformToRef(t,c._pickWithRayInverseMatrix,c._cachedRayForTransform),c._cachedRayForTransform}),n,u)},m["Camera"].prototype.getForwardRay=function(t,n,u){return void 0===t&&(t=100),this.getForwardRayToRef(new _(l["Vector3"].Zero(),l["Vector3"].Zero(),t),t,n,u)},m["Camera"].prototype.getForwardRayToRef=function(t,n,u,c){return void 0===n&&(n=100),u||(u=this.getWorldMatrix()),t.length=n,c?t.origin.copyFrom(c):t.origin.copyFrom(this.position),l["TmpVectors"].Vector3[2].set(0,0,this._scene.useRightHandedSystem?-1:1),l["Vector3"].TransformNormalToRef(l["TmpVectors"].Vector3[2],u,l["TmpVectors"].Vector3[3]),l["Vector3"].NormalizeToRef(l["TmpVectors"].Vector3[3],t.direction),t}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.alpha.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Engines/thinEngine.js");c["ThinEngine"].prototype.setAlphaConstants=function(t,n,u,c){this._alphaState.setAlphaBlendConstants(t,n,u,c)},c["ThinEngine"].prototype.setAlphaMode=function(t,n){if(void 0===n&&(n=!1),this._alphaMode!==t){switch(t){case 0:this._alphaState.alphaBlend=!1;break;case 7:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 8:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 2:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 6:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 1:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 3:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ZERO,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 4:this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_COLOR,this._gl.ZERO,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 5:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 9:this._alphaState.setAlphaBlendFunctionParameters(this._gl.CONSTANT_COLOR,this._gl.ONE_MINUS_CONSTANT_COLOR,this._gl.CONSTANT_ALPHA,this._gl.ONE_MINUS_CONSTANT_ALPHA),this._alphaState.alphaBlend=!0;break;case 10:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 11:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 12:this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_ALPHA,this._gl.ONE,this._gl.ZERO,this._gl.ZERO),this._alphaState.alphaBlend=!0;break;case 13:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE_MINUS_DST_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 14:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 15:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ONE,this._gl.ZERO),this._alphaState.alphaBlend=!0;break;case 16:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break}n||(this.depthCullingState.depthMask=0===t),this._alphaMode=t}},c["ThinEngine"].prototype.getAlphaMode=function(){return this._alphaMode},c["ThinEngine"].prototype.setAlphaEquation=function(t){if(this._alphaEquation!==t){switch(t){case 0:this._alphaState.setAlphaEquationParameters(this._gl.FUNC_ADD,this._gl.FUNC_ADD);break;case 1:this._alphaState.setAlphaEquationParameters(this._gl.FUNC_SUBTRACT,this._gl.FUNC_SUBTRACT);break;case 2:this._alphaState.setAlphaEquationParameters(this._gl.FUNC_REVERSE_SUBTRACT,this._gl.FUNC_REVERSE_SUBTRACT);break;case 3:this._alphaState.setAlphaEquationParameters(this._gl.MAX,this._gl.MAX);break;case 4:this._alphaState.setAlphaEquationParameters(this._gl.MIN,this._gl.MIN);break;case 5:this._alphaState.setAlphaEquationParameters(this._gl.MIN,this._gl.FUNC_ADD);break}this._alphaEquation=t}},c["ThinEngine"].prototype.getAlphaEquation=function(){return this._alphaEquation}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.dynamicBuffer.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Engines/thinEngine.js");c["ThinEngine"].prototype.updateDynamicIndexBuffer=function(t,n,u){var c;void 0===u&&(u=0),this._currentBoundBuffer[this._gl.ELEMENT_ARRAY_BUFFER]=null,this.bindIndexBuffer(t),c=n instanceof Uint16Array||n instanceof Uint32Array?n:t.is32Bits?new Uint32Array(n):new Uint16Array(n),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,c,this._gl.DYNAMIC_DRAW),this._resetIndexBufferBinding()},c["ThinEngine"].prototype.updateDynamicVertexBuffer=function(t,n,u,c){this.bindArrayBuffer(t),void 0===u&&(u=0);var l=n.length||n.byteLength;void 0===c||c>=l&&0===u?n instanceof Array?this._gl.bufferSubData(this._gl.ARRAY_BUFFER,u,new Float32Array(n)):this._gl.bufferSubData(this._gl.ARRAY_BUFFER,u,n):n instanceof Array?this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,new Float32Array(n).subarray(u,u+c)):(n=n instanceof ArrayBuffer?new Uint8Array(n,u,c):new Uint8Array(n.buffer,n.byteOffset+u,c),this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,n)),this._resetVertexBufferBinding()}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.dynamicTexture.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Engines/thinEngine.js"),l=u("./node_modules/@babylonjs/core/Materials/Textures/internalTexture.js");c["ThinEngine"].prototype.createDynamicTexture=function(t,n,u,d){var h=new l["InternalTexture"](this,l["InternalTextureSource"].Dynamic);return h.baseWidth=t,h.baseHeight=n,u&&(t=this.needPOTTextures?c["ThinEngine"].GetExponentOfTwo(t,this._caps.maxTextureSize):t,n=this.needPOTTextures?c["ThinEngine"].GetExponentOfTwo(n,this._caps.maxTextureSize):n),h.width=t,h.height=n,h.isReady=!1,h.generateMipMaps=u,h.samplingMode=d,this.updateTextureSamplingMode(d,h),this._internalTexturesCache.push(h),h},c["ThinEngine"].prototype.updateDynamicTexture=function(t,n,u,c,l,d){if(void 0===c&&(c=!1),void 0===d&&(d=!1),t){var h=this._gl,p=h.TEXTURE_2D,m=this._bindTextureDirectly(p,t,!0,d);this._unpackFlipY(void 0===u?t.invertY:u),c&&h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);var _=this._getWebGLTextureType(t.type),g=this._getInternalFormat(l||t.format),b=this._getRGBABufferInternalSizedFormat(t.type,g);h.texImage2D(p,0,b,g,_,n),t.generateMipMaps&&h.generateMipmap(p),m||this._bindTextureDirectly(p,null),c&&h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),t.isReady=!0}}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.readTexture.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Engines/thinEngine.js");c["ThinEngine"].prototype._readTexturePixels=function(t,n,u,c,l,d){void 0===c&&(c=-1),void 0===l&&(l=0),void 0===d&&(d=null);var h=this._gl;if(!h)throw new Error("Engine does not have gl rendering context.");if(!this._dummyFramebuffer){var p=h.createFramebuffer();if(!p)throw new Error("Unable to create dummy framebuffer");this._dummyFramebuffer=p}h.bindFramebuffer(h.FRAMEBUFFER,this._dummyFramebuffer),c>-1?h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_CUBE_MAP_POSITIVE_X+c,t._webGLTexture,l):h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,t._webGLTexture,l);var m=void 0!==t.type?this._getWebGLTextureType(t.type):h.UNSIGNED_BYTE;switch(m){case h.UNSIGNED_BYTE:d||(d=new Uint8Array(4*n*u)),m=h.UNSIGNED_BYTE;break;default:d||(d=new Float32Array(4*n*u)),m=h.FLOAT;break}return h.readPixels(0,0,n,u,h.RGBA,m,d),h.bindFramebuffer(h.FRAMEBUFFER,this._currentFramebuffer),d}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.renderTarget.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Materials/Textures/internalTexture.js"),d=u("./node_modules/@babylonjs/core/Misc/logger.js"),h=u("./node_modules/@babylonjs/core/Materials/Textures/renderTargetCreationOptions.js"),p=u("./node_modules/@babylonjs/core/Engines/thinEngine.js");p["ThinEngine"].prototype.createRenderTargetTexture=function(t,n){var u=new h["RenderTargetCreationOptions"];void 0!==n&&"object"===typeof n?(u.generateMipMaps=n.generateMipMaps,u.generateDepthBuffer=!!n.generateDepthBuffer,u.generateStencilBuffer=!!n.generateStencilBuffer,u.type=void 0===n.type?0:n.type,u.samplingMode=void 0===n.samplingMode?3:n.samplingMode,u.format=void 0===n.format?5:n.format):(u.generateMipMaps=n,u.generateDepthBuffer=!0,u.generateStencilBuffer=!1,u.type=0,u.samplingMode=3,u.format=5),(1!==u.type||this._caps.textureFloatLinearFiltering)&&(2!==u.type||this._caps.textureHalfFloatLinearFiltering)||(u.samplingMode=1),1!==u.type||this._caps.textureFloat||(u.type=0,d["Logger"].Warn("Float textures are not supported. Render target forced to TEXTURETYPE_UNSIGNED_BYTE type"));var c=this._gl,p=new l["InternalTexture"](this,l["InternalTextureSource"].RenderTarget),m=t.width||t,_=t.height||t,g=t.layers||0,b=this._getSamplingParameters(u.samplingMode,!!u.generateMipMaps),v=0!==g?c.TEXTURE_2D_ARRAY:c.TEXTURE_2D,U=this._getRGBABufferInternalSizedFormat(u.type,u.format),G=this._getInternalFormat(u.format),W=this._getWebGLTextureType(u.type);this._bindTextureDirectly(v,p),0!==g?(p.is2DArray=!0,c.texImage3D(v,0,U,m,_,g,0,G,W,null)):c.texImage2D(v,0,U,m,_,0,G,W,null),c.texParameteri(v,c.TEXTURE_MAG_FILTER,b.mag),c.texParameteri(v,c.TEXTURE_MIN_FILTER,b.min),c.texParameteri(v,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(v,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),u.generateMipMaps&&this._gl.generateMipmap(v),this._bindTextureDirectly(v,null);var X=this._currentFramebuffer,q=c.createFramebuffer();return this._bindUnboundFramebuffer(q),p._depthStencilBuffer=this._setupFramebufferDepthAttachments(!!u.generateStencilBuffer,u.generateDepthBuffer,m,_),p.is2DArray||c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,p._webGLTexture,0),this._bindUnboundFramebuffer(X),p._framebuffer=q,p.baseWidth=m,p.baseHeight=_,p.width=m,p.height=_,p.depth=g,p.isReady=!0,p.samples=1,p.generateMipMaps=!!u.generateMipMaps,p.samplingMode=u.samplingMode,p.type=u.type,p.format=u.format,p._generateDepthBuffer=u.generateDepthBuffer,p._generateStencilBuffer=!!u.generateStencilBuffer,this._internalTexturesCache.push(p),p},p["ThinEngine"].prototype.createDepthStencilTexture=function(t,n){if(n.isCube){var u=t.width||t;return this._createDepthStencilCubeTexture(u,n)}return this._createDepthStencilTexture(t,n)},p["ThinEngine"].prototype._createDepthStencilTexture=function(t,n){var u=this._gl,h=t.layers||0,p=0!==h?u.TEXTURE_2D_ARRAY:u.TEXTURE_2D,m=new l["InternalTexture"](this,l["InternalTextureSource"].Depth);if(!this._caps.depthTextureExtension)return d["Logger"].Error("Depth texture is not supported by your browser or hardware."),m;var _=Object(c["__assign"])({bilinearFiltering:!1,comparisonFunction:0,generateStencil:!1},n);this._bindTextureDirectly(p,m,!0),this._setupDepthStencilTexture(m,t,_.generateStencil,_.bilinearFiltering,_.comparisonFunction);var g=_.generateStencil?u.UNSIGNED_INT_24_8:u.UNSIGNED_INT,b=_.generateStencil?u.DEPTH_STENCIL:u.DEPTH_COMPONENT,v=b;return this.webGLVersion>1&&(v=_.generateStencil?u.DEPTH24_STENCIL8:u.DEPTH_COMPONENT24),m.is2DArray?u.texImage3D(p,0,v,m.width,m.height,h,0,b,g,null):u.texImage2D(p,0,v,m.width,m.height,0,b,g,null),this._bindTextureDirectly(p,null),m}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.renderTargetCube.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Materials/Textures/internalTexture.js"),d=u("./node_modules/@babylonjs/core/Misc/logger.js"),h=u("./node_modules/@babylonjs/core/Engines/thinEngine.js");h["ThinEngine"].prototype.createRenderTargetCubeTexture=function(t,n){var u=Object(c["__assign"])({generateMipMaps:!0,generateDepthBuffer:!0,generateStencilBuffer:!1,type:0,samplingMode:3,format:5},n);u.generateStencilBuffer=u.generateDepthBuffer&&u.generateStencilBuffer,(1!==u.type||this._caps.textureFloatLinearFiltering)&&(2!==u.type||this._caps.textureHalfFloatLinearFiltering)||(u.samplingMode=1);var h=this._gl,p=new l["InternalTexture"](this,l["InternalTextureSource"].RenderTarget);this._bindTextureDirectly(h.TEXTURE_CUBE_MAP,p,!0);var m=this._getSamplingParameters(u.samplingMode,u.generateMipMaps);1!==u.type||this._caps.textureFloat||(u.type=0,d["Logger"].Warn("Float textures are not supported. Cube render target forced to TEXTURETYPE_UNESIGNED_BYTE type")),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_MAG_FILTER,m.mag),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_MIN_FILTER,m.min),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_CUBE_MAP,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);for(var _=0;_<6;_++)h.texImage2D(h.TEXTURE_CUBE_MAP_POSITIVE_X+_,0,this._getRGBABufferInternalSizedFormat(u.type,u.format),t,t,0,this._getInternalFormat(u.format),this._getWebGLTextureType(u.type),null);var g=h.createFramebuffer();return this._bindUnboundFramebuffer(g),p._depthStencilBuffer=this._setupFramebufferDepthAttachments(u.generateStencilBuffer,u.generateDepthBuffer,t,t),u.generateMipMaps&&h.generateMipmap(h.TEXTURE_CUBE_MAP),this._bindTextureDirectly(h.TEXTURE_CUBE_MAP,null),this._bindUnboundFramebuffer(null),p._framebuffer=g,p.width=t,p.height=t,p.isReady=!0,p.isCube=!0,p.samples=1,p.generateMipMaps=u.generateMipMaps,p.samplingMode=u.samplingMode,p.type=u.type,p.format=u.format,p._generateDepthBuffer=u.generateDepthBuffer,p._generateStencilBuffer=u.generateStencilBuffer,this._internalTexturesCache.push(p),p}},"./node_modules/@babylonjs/core/Engines/Extensions/engine.uniformBuffer.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Engines/thinEngine.js"),l=u("./node_modules/@babylonjs/core/Meshes/WebGL/webGLDataBuffer.js");c["ThinEngine"].prototype.createUniformBuffer=function(t){var n=this._gl.createBuffer();if(!n)throw new Error("Unable to create uniform buffer");var u=new l["WebGLDataBuffer"](n);return this.bindUniformBuffer(u),t instanceof Float32Array?this._gl.bufferData(this._gl.UNIFORM_BUFFER,t,this._gl.STATIC_DRAW):this._gl.bufferData(this._gl.UNIFORM_BUFFER,new Float32Array(t),this._gl.STATIC_DRAW),this.bindUniformBuffer(null),u.references=1,u},c["ThinEngine"].prototype.createDynamicUniformBuffer=function(t){var n=this._gl.createBuffer();if(!n)throw new Error("Unable to create dynamic uniform buffer");var u=new l["WebGLDataBuffer"](n);return this.bindUniformBuffer(u),t instanceof Float32Array?this._gl.bufferData(this._gl.UNIFORM_BUFFER,t,this._gl.DYNAMIC_DRAW):this._gl.bufferData(this._gl.UNIFORM_BUFFER,new Float32Array(t),this._gl.DYNAMIC_DRAW),this.bindUniformBuffer(null),u.references=1,u},c["ThinEngine"].prototype.updateUniformBuffer=function(t,n,u,c){this.bindUniformBuffer(t),void 0===u&&(u=0),void 0===c?n instanceof Float32Array?this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,u,n):this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,u,new Float32Array(n)):n instanceof Float32Array?this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,0,n.subarray(u,u+c)):this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,0,new Float32Array(n).subarray(u,u+c)),this.bindUniformBuffer(null)},c["ThinEngine"].prototype.bindUniformBuffer=function(t){this._gl.bindBuffer(this._gl.UNIFORM_BUFFER,t?t.underlyingResource:null)},c["ThinEngine"].prototype.bindUniformBufferBase=function(t,n){this._gl.bindBufferBase(this._gl.UNIFORM_BUFFER,n,t?t.underlyingResource:null)},c["ThinEngine"].prototype.bindUniformBlock=function(t,n,u){var c=t.program,l=this._gl.getUniformBlockIndex(c,n);this._gl.uniformBlockBinding(c,l,u)}},"./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineAndOperator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderDefineAndOperator",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/shaderDefineExpression.js"),d=function(t){function ShaderDefineAndOperator(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(ShaderDefineAndOperator,t),ShaderDefineAndOperator.prototype.isTrue=function(t){return this.leftOperand.isTrue(t)&&this.rightOperand.isTrue(t)},ShaderDefineAndOperator}(l["ShaderDefineExpression"])},"./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineArithmeticOperator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderDefineArithmeticOperator",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/shaderDefineExpression.js"),d=function(t){function ShaderDefineArithmeticOperator(n,u,c){var l=t.call(this)||this;return l.define=n,l.operand=u,l.testValue=c,l}return Object(c["__extends"])(ShaderDefineArithmeticOperator,t),ShaderDefineArithmeticOperator.prototype.isTrue=function(t){var n=t[this.define];void 0===n&&(n=this.define);var u=!1,c=parseInt(n),l=parseInt(this.testValue);switch(this.operand){case">":u=c>l;break;case"<":u=c<l;break;case"<=":u=c<=l;break;case">=":u=c>=l;break;case"==":u=c===l;break}return u},ShaderDefineArithmeticOperator}(l["ShaderDefineExpression"])},"./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineIsDefinedOperator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderDefineIsDefinedOperator",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/shaderDefineExpression.js"),d=function(t){function ShaderDefineIsDefinedOperator(n,u){void 0===u&&(u=!1);var c=t.call(this)||this;return c.define=n,c.not=u,c}return Object(c["__extends"])(ShaderDefineIsDefinedOperator,t),ShaderDefineIsDefinedOperator.prototype.isTrue=function(t){var n=void 0!==t[this.define];return this.not&&(n=!n),n},ShaderDefineIsDefinedOperator}(l["ShaderDefineExpression"])},"./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineOrOperator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderDefineOrOperator",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/shaderDefineExpression.js"),d=function(t){function ShaderDefineOrOperator(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(ShaderDefineOrOperator,t),ShaderDefineOrOperator.prototype.isTrue=function(t){return this.leftOperand.isTrue(t)||this.rightOperand.isTrue(t)},ShaderDefineOrOperator}(l["ShaderDefineExpression"])},"./node_modules/@babylonjs/core/Engines/Processors/Expressions/shaderDefineExpression.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderDefineExpression",(function(){return c}));var c=function(){function ShaderDefineExpression(){}return ShaderDefineExpression.prototype.isTrue=function(t){return!0},ShaderDefineExpression.postfixToInfix=function(t){for(var n=[],u=0,c=t;u<c.length;u++){var l=c[u];if(void 0===ShaderDefineExpression._OperatorPriority[l])n.push(l);else{var d=n[n.length-1],h=n[n.length-2];n.length-=2,n.push("("+h+l+d+")")}}return n[n.length-1]},ShaderDefineExpression.infixToPostfix=function(t){var n=[],u=-1,pushOperand=function(){l=l.trim(),""!==l&&(n.push(l),l="")},push=function(t){u<ShaderDefineExpression._Stack.length-1&&(ShaderDefineExpression._Stack[++u]=t)},peek=function(){return ShaderDefineExpression._Stack[u]},pop=function(){return-1===u?"!!INVALID EXPRESSION!!":ShaderDefineExpression._Stack[u--]},c=0,l="";while(c<t.length){var d=t.charAt(c),h=c<t.length-1?t.substr(c,2):"";if("("===d)l="",push(d);else if(")"===d){pushOperand();while(-1!==u&&"("!==peek())n.push(pop());pop()}else if(ShaderDefineExpression._OperatorPriority[h]>1){pushOperand();while(-1!==u&&ShaderDefineExpression._OperatorPriority[peek()]>=ShaderDefineExpression._OperatorPriority[h])n.push(pop());push(h),c++}else l+=d;c++}pushOperand();while(-1!==u)"("===peek()?pop():n.push(pop());return n},ShaderDefineExpression._OperatorPriority={")":0,"(":1,"||":2,"&&":3},ShaderDefineExpression._Stack=["","","","","","","","","","","","","","","","","","","",""],ShaderDefineExpression}()},"./node_modules/@babylonjs/core/Engines/Processors/shaderCodeConditionNode.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderCodeConditionNode",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/shaderCodeNode.js"),d=function(t){function ShaderCodeConditionNode(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(ShaderCodeConditionNode,t),ShaderCodeConditionNode.prototype.process=function(t,n){for(var u=0;u<this.children.length;u++){var c=this.children[u];if(c.isValid(t))return c.process(t,n)}return""},ShaderCodeConditionNode}(l["ShaderCodeNode"])},"./node_modules/@babylonjs/core/Engines/Processors/shaderCodeCursor.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderCodeCursor",(function(){return c}));var c=function(){function ShaderCodeCursor(){}return Object.defineProperty(ShaderCodeCursor.prototype,"currentLine",{get:function(){return this._lines[this.lineIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(ShaderCodeCursor.prototype,"canRead",{get:function(){return this.lineIndex<this._lines.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(ShaderCodeCursor.prototype,"lines",{set:function(t){this._lines=[];for(var n=0,u=t;n<u.length;n++){var c=u[n];if("#"!==c[0])for(var l=c.split(";"),d=0;d<l.length;d++){var h=l[d];h=h.trim(),h&&this._lines.push(h+(d!==l.length-1?";":""))}else this._lines.push(c)}},enumerable:!1,configurable:!0}),ShaderCodeCursor}()},"./node_modules/@babylonjs/core/Engines/Processors/shaderCodeNode.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderCodeNode",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Misc/stringTools.js"),l=function(){function ShaderCodeNode(){this.children=[]}return ShaderCodeNode.prototype.isValid=function(t){return!0},ShaderCodeNode.prototype.process=function(t,n){var u="";if(this.line){var l=this.line,d=n.processor;if(d){if(d.lineProcessor&&(l=d.lineProcessor(l,n.isFragment)),d.attributeProcessor&&c["StringTools"].StartsWith(this.line,"attribute"))l=d.attributeProcessor(this.line);else if(d.varyingProcessor&&c["StringTools"].StartsWith(this.line,"varying"))l=d.varyingProcessor(this.line,n.isFragment);else if((d.uniformProcessor||d.uniformBufferProcessor)&&c["StringTools"].StartsWith(this.line,"uniform")){var h=/uniform (.+) (.+)/;h.test(this.line)?d.uniformProcessor&&(l=d.uniformProcessor(this.line,n.isFragment)):d.uniformBufferProcessor&&(l=d.uniformBufferProcessor(this.line,n.isFragment),n.lookForClosingBracketForUniformBuffer=!0)}d.endOfUniformBufferProcessor&&n.lookForClosingBracketForUniformBuffer&&-1!==this.line.indexOf("}")&&(n.lookForClosingBracketForUniformBuffer=!1,l=d.endOfUniformBufferProcessor(this.line,n.isFragment))}u+=l+"\r\n"}return this.children.forEach((function(c){u+=c.process(t,n)})),this.additionalDefineKey&&(t[this.additionalDefineKey]=this.additionalDefineValue||"true"),u},ShaderCodeNode}()},"./node_modules/@babylonjs/core/Engines/Processors/shaderCodeTestNode.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderCodeTestNode",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/shaderCodeNode.js"),d=function(t){function ShaderCodeTestNode(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(ShaderCodeTestNode,t),ShaderCodeTestNode.prototype.isValid=function(t){return this.testExpression.isTrue(t)},ShaderCodeTestNode}(l["ShaderCodeNode"])},"./node_modules/@babylonjs/core/Engines/Processors/shaderProcessor.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderProcessor",(function(){return W}));var c=u("./node_modules/@babylonjs/core/Engines/Processors/shaderCodeNode.js"),l=u("./node_modules/@babylonjs/core/Engines/Processors/shaderCodeCursor.js"),d=u("./node_modules/@babylonjs/core/Engines/Processors/shaderCodeConditionNode.js"),h=u("./node_modules/@babylonjs/core/Engines/Processors/shaderCodeTestNode.js"),p=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineIsDefinedOperator.js"),m=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineOrOperator.js"),_=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineAndOperator.js"),g=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/shaderDefineExpression.js"),b=u("./node_modules/@babylonjs/core/Engines/Processors/Expressions/Operators/shaderDefineArithmeticOperator.js"),v=u("./node_modules/@babylonjs/core/Misc/devTools.js"),U=/defined\s*?\((.+?)\)/g,G=/defined\s*?\[(.+?)\]/g,W=function(){function ShaderProcessor(){}return ShaderProcessor.Process=function(t,n,u,c){var l=this;this._ProcessIncludes(t,n,(function(t){var d=l._ProcessShaderConversion(t,n,c);u(d)}))},ShaderProcessor._ProcessPrecision=function(t,n){var u=n.shouldUseHighPrecisionShader;return-1===t.indexOf("precision highp float")?t=u?"precision highp float;\n"+t:"precision mediump float;\n"+t:u||(t=t.replace("precision highp float","precision mediump float")),t},ShaderProcessor._ExtractOperation=function(t){var n=/defined\((.+)\)/,u=n.exec(t);if(u&&u.length)return new p["ShaderDefineIsDefinedOperator"](u[1].trim(),"!"===t[0]);for(var c=["==",">=","<=","<",">"],l="",d=0,h=0,m=c;h<m.length;h++)if(l=m[h],d=t.indexOf(l),d>-1)break;if(-1===d)return new p["ShaderDefineIsDefinedOperator"](t);var _=t.substring(0,d).trim(),g=t.substring(d+l.length).trim();return new b["ShaderDefineArithmeticOperator"](_,l,g)},ShaderProcessor._BuildSubExpression=function(t){t=t.replace(U,"defined[$1]");for(var n=g["ShaderDefineExpression"].infixToPostfix(t),u=[],c=0,l=n;c<l.length;c++){var d=l[c];if("||"!==d&&"&&"!==d)u.push(d);else if(u.length>=2){var h=u[u.length-1],p=u[u.length-2];u.length-=2;var b="&&"==d?new _["ShaderDefineAndOperator"]:new m["ShaderDefineOrOperator"];"string"===typeof h&&(h=h.replace(G,"defined($1)")),"string"===typeof p&&(p=p.replace(G,"defined($1)")),b.leftOperand="string"===typeof p?this._ExtractOperation(p):p,b.rightOperand="string"===typeof h?this._ExtractOperation(h):h,u.push(b)}}var v=u[u.length-1];return"string"===typeof v&&(v=v.replace(G,"defined($1)")),"string"===typeof v?this._ExtractOperation(v):v},ShaderProcessor._BuildExpression=function(t,n){var u=new h["ShaderCodeTestNode"],c=t.substring(0,n),l=t.substring(n);return l=l.substring(0,(l.indexOf("//")+1||l.length+1)-1).trim(),u.testExpression="#ifdef"===c?new p["ShaderDefineIsDefinedOperator"](l):"#ifndef"===c?new p["ShaderDefineIsDefinedOperator"](l,!0):this._BuildSubExpression(l),u},ShaderProcessor._MoveCursorWithinIf=function(t,n,u){var l=t.currentLine;while(this._MoveCursor(t,u)){l=t.currentLine;var d=l.substring(0,5).toLowerCase();if("#else"===d){var h=new c["ShaderCodeNode"];return n.children.push(h),void this._MoveCursor(t,h)}if("#elif"===d){var p=this._BuildExpression(l,5);n.children.push(p),u=p}}},ShaderProcessor._MoveCursor=function(t,n){while(t.canRead){t.lineIndex++;var u=t.currentLine,l=/(#ifdef)|(#else)|(#elif)|(#endif)|(#ifndef)|(#if)/,h=l.exec(u);if(h&&h.length){var p=h[0];switch(p){case"#ifdef":var m=new d["ShaderCodeConditionNode"];n.children.push(m);var _=this._BuildExpression(u,6);m.children.push(_),this._MoveCursorWithinIf(t,m,_);break;case"#else":case"#elif":return!0;case"#endif":return!1;case"#ifndef":m=new d["ShaderCodeConditionNode"];n.children.push(m);_=this._BuildExpression(u,7);m.children.push(_),this._MoveCursorWithinIf(t,m,_);break;case"#if":m=new d["ShaderCodeConditionNode"],_=this._BuildExpression(u,3);n.children.push(m),m.children.push(_),this._MoveCursorWithinIf(t,m,_);break}}else{var g=new c["ShaderCodeNode"];if(g.line=u,n.children.push(g),"#"===u[0]&&"d"===u[1]){var b=u.replace(";","").split(" ");g.additionalDefineKey=b[1],3===b.length&&(g.additionalDefineValue=b[2])}}}return!1},ShaderProcessor._EvaluatePreProcessors=function(t,n,u){var d=new c["ShaderCodeNode"],h=new l["ShaderCodeCursor"];return h.lineIndex=-1,h.lines=t.split("\n"),this._MoveCursor(h,d),d.process(n,u)},ShaderProcessor._PreparePreProcessors=function(t){for(var n=t.defines,u={},c=0,l=n;c<l.length;c++){var d=l[c],h=d.replace("#define","").replace(";","").trim(),p=h.split(" ");u[p[0]]=p.length>1?p[1]:""}return u["GL_ES"]="true",u["__VERSION__"]=t.version,u[t.platformName]="true",u},ShaderProcessor._ProcessShaderConversion=function(t,n,u){var c=this._ProcessPrecision(t,n);if(!n.processor)return c;if(-1!==c.indexOf("#version 3"))return c.replace("#version 300 es","");var l=n.defines,d=this._PreparePreProcessors(n);return n.processor.preProcessor&&(c=n.processor.preProcessor(c,l,n.isFragment)),c=this._EvaluatePreProcessors(c,d,n),n.processor.postProcessor&&(c=n.processor.postProcessor(c,l,n.isFragment,u)),c},ShaderProcessor._ProcessIncludes=function(t,n,u){var c=this,l=/#include<(.+)>(\((.*)\))*(\[(.*)\])*/g,d=l.exec(t),h=new String(t),p=!1;while(null!=d){var m=d[1];if(-1!==m.indexOf("__decl__")&&(m=m.replace(/__decl__/,""),n.supportsUniformBuffers&&(m=m.replace(/Vertex/,"Ubo"),m=m.replace(/Fragment/,"Ubo")),m+="Declaration"),!n.includesShadersStore[m]){var _=n.shadersRepository+"ShadersInclude/"+m+".fx";return void ShaderProcessor._FileToolsLoadFile(_,(function(t){n.includesShadersStore[m]=t,c._ProcessIncludes(h,n,u)}))}var g=n.includesShadersStore[m];if(d[2])for(var b=d[3].split(","),v=0;v<b.length;v+=2){var U=new RegExp(b[v],"g"),G=b[v+1];g=g.replace(U,G)}if(d[4]){var W=d[5];if(-1!==W.indexOf("..")){var X=W.split(".."),q=parseInt(X[0]),K=parseInt(X[1]),Y=g.slice(0);g="",isNaN(K)&&(K=n.indexParameters[X[1]]);for(var Q=q;Q<K;Q++)n.supportsUniformBuffers||(Y=Y.replace(/light\{X\}.(\w*)/g,(function(t,n){return n+"{X}"}))),g+=Y.replace(/\{X\}/g,Q.toString())+"\n"}else n.supportsUniformBuffers||(g=g.replace(/light\{X\}.(\w*)/g,(function(t,n){return n+"{X}"}))),g=g.replace(/\{X\}/g,W)}h=h.replace(d[0],g),p=p||g.indexOf("#include<")>=0,d=l.exec(t)}p?this._ProcessIncludes(h.toString(),n,u):u(h)},ShaderProcessor._FileToolsLoadFile=function(t,n,u,c,l,d){throw v["_DevTools"].WarnImport("FileTools")},ShaderProcessor}()},"./node_modules/@babylonjs/core/Engines/WebGL/webGL2ShaderProcessors.js":function(t,n,u){"use strict";u.r(n),u.d(n,"WebGL2ShaderProcessor",(function(){return c}));var c=function(){function WebGL2ShaderProcessor(){}return WebGL2ShaderProcessor.prototype.attributeProcessor=function(t){return t.replace("attribute","in")},WebGL2ShaderProcessor.prototype.varyingProcessor=function(t,n){return t.replace("varying",n?"in":"out")},WebGL2ShaderProcessor.prototype.postProcessor=function(t,n,u){var c=-1!==t.search(/#extension.+GL_EXT_draw_buffers.+require/),l=/#extension.+(GL_OVR_multiview2|GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g;if(t=t.replace(l,""),t=t.replace(/texture2D\s*\(/g,"texture("),u)t=t.replace(/texture2DLodEXT\s*\(/g,"textureLod("),t=t.replace(/textureCubeLodEXT\s*\(/g,"textureLod("),t=t.replace(/textureCube\s*\(/g,"texture("),t=t.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),t=t.replace(/gl_FragColor/g,"glFragColor"),t=t.replace(/gl_FragData/g,"glFragData"),t=t.replace(/void\s+?main\s*\(/g,(c?"":"out vec4 glFragColor;\n")+"void main(");else{var d=-1!==n.indexOf("#define MULTIVIEW");if(d)return"#extension GL_OVR_multiview2 : require\nlayout (num_views = 2) in;\n"+t}return t},WebGL2ShaderProcessor}()},"./node_modules/@babylonjs/core/Engines/WebGL/webGLPipelineContext.js":function(t,n,u){"use strict";u.r(n),u.d(n,"WebGLPipelineContext",(function(){return c}));var c=function(){function WebGLPipelineContext(){this.vertexCompilationError=null,this.fragmentCompilationError=null,this.programLinkError=null,this.programValidationError=null}return Object.defineProperty(WebGLPipelineContext.prototype,"isAsync",{get:function(){return this.isParallelCompiled},enumerable:!1,configurable:!0}),Object.defineProperty(WebGLPipelineContext.prototype,"isReady",{get:function(){return!!this.program&&(!this.isParallelCompiled||this.engine._isRenderingStateCompiled(this))},enumerable:!1,configurable:!0}),WebGLPipelineContext.prototype._handlesSpectorRebuildCallback=function(t){t&&this.program&&t(this.program)},WebGLPipelineContext.prototype._getVertexShaderCode=function(){return this.vertexShader?this.engine._getShaderSource(this.vertexShader):null},WebGLPipelineContext.prototype._getFragmentShaderCode=function(){return this.fragmentShader?this.engine._getShaderSource(this.fragmentShader):null},WebGLPipelineContext}()},"./node_modules/@babylonjs/core/Engines/WebGL/webGLShaderProcessors.js":function(t,n,u){"use strict";u.r(n),u.d(n,"WebGLShaderProcessor",(function(){return c}));var c=function(){function WebGLShaderProcessor(){}return WebGLShaderProcessor.prototype.postProcessor=function(t,n,u,c){if(!c.getCaps().drawBuffersExtension){var l=/#extension.+GL_EXT_draw_buffers.+(enable|require)/g;t=t.replace(l,"")}return t},WebGLShaderProcessor}()},"./node_modules/@babylonjs/core/Engines/engine.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Engine",(function(){return U}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/observable.js"),d=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),h=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),p=u("./node_modules/@babylonjs/core/Misc/devTools.js"),m=u("./node_modules/@babylonjs/core/Engines/thinEngine.js"),_=u("./node_modules/@babylonjs/core/Misc/performanceMonitor.js"),g=u("./node_modules/@babylonjs/core/Misc/perfCounter.js"),b=u("./node_modules/@babylonjs/core/Meshes/WebGL/webGLDataBuffer.js"),v=u("./node_modules/@babylonjs/core/Misc/logger.js"),U=(u("./node_modules/@babylonjs/core/Engines/Extensions/engine.alpha.js"),u("./node_modules/@babylonjs/core/Engines/Extensions/engine.readTexture.js"),u("./node_modules/@babylonjs/core/Engines/Extensions/engine.dynamicBuffer.js"),function(t){function Engine(n,u,c,h){void 0===h&&(h=!1);var p=t.call(this,n,u,c,h)||this;if(p.enableOfflineSupport=!1,p.disableManifestCheck=!1,p.scenes=new Array,p.onNewSceneAddedObservable=new l["Observable"],p.postProcesses=new Array,p.isPointerLock=!1,p.onResizeObservable=new l["Observable"],p.onCanvasBlurObservable=new l["Observable"],p.onCanvasFocusObservable=new l["Observable"],p.onCanvasPointerOutObservable=new l["Observable"],p.onBeginFrameObservable=new l["Observable"],p.customAnimationFrameRequester=null,p.onEndFrameObservable=new l["Observable"],p.onBeforeShaderCompilationObservable=new l["Observable"],p.onAfterShaderCompilationObservable=new l["Observable"],p._deterministicLockstep=!1,p._lockstepMaxSteps=4,p._timeStep=1/60,p._fps=60,p._deltaTime=0,p._drawCalls=new g["PerfCounter"],p.canvasTabIndex=1,p.disablePerformanceMonitorInBackground=!1,p._performanceMonitor=new _["PerformanceMonitor"],Engine.Instances.push(p),!n)return p;if(c=p._creationOptions,n.getContext){var m=n;if(p._onCanvasFocus=function(){p.onCanvasFocusObservable.notifyObservers(p)},p._onCanvasBlur=function(){p.onCanvasBlurObservable.notifyObservers(p)},m.addEventListener("focus",p._onCanvasFocus),m.addEventListener("blur",p._onCanvasBlur),p._onBlur=function(){p.disablePerformanceMonitorInBackground&&p._performanceMonitor.disable(),p._windowIsBackground=!0},p._onFocus=function(){p.disablePerformanceMonitorInBackground&&p._performanceMonitor.enable(),p._windowIsBackground=!1},p._onCanvasPointerOut=function(t){p.onCanvasPointerOutObservable.notifyObservers(t)},m.addEventListener("pointerout",p._onCanvasPointerOut),d["DomManagement"].IsWindowObjectExist()){var b=p.getHostWindow();b.addEventListener("blur",p._onBlur),b.addEventListener("focus",p._onFocus);var v=document;p._onFullscreenChange=function(){void 0!==v.fullscreen?p.isFullscreen=v.fullscreen:void 0!==v.mozFullScreen?p.isFullscreen=v.mozFullScreen:void 0!==v.webkitIsFullScreen?p.isFullscreen=v.webkitIsFullScreen:void 0!==v.msIsFullScreen&&(p.isFullscreen=v.msIsFullScreen),p.isFullscreen&&p._pointerLockRequested&&m&&Engine._RequestPointerlock(m)},document.addEventListener("fullscreenchange",p._onFullscreenChange,!1),document.addEventListener("mozfullscreenchange",p._onFullscreenChange,!1),document.addEventListener("webkitfullscreenchange",p._onFullscreenChange,!1),document.addEventListener("msfullscreenchange",p._onFullscreenChange,!1),p._onPointerLockChange=function(){p.isPointerLock=v.mozPointerLockElement===m||v.webkitPointerLockElement===m||v.msPointerLockElement===m||v.pointerLockElement===m},document.addEventListener("pointerlockchange",p._onPointerLockChange,!1),document.addEventListener("mspointerlockchange",p._onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",p._onPointerLockChange,!1),document.addEventListener("webkitpointerlockchange",p._onPointerLockChange,!1),!Engine.audioEngine&&c.audioEngine&&Engine.AudioEngineFactory&&(Engine.audioEngine=Engine.AudioEngineFactory(p.getRenderingCanvas()))}p._connectVREvents(),p.enableOfflineSupport=void 0!==Engine.OfflineProviderFactory,c.doNotHandleTouchAction||p._disableTouchAction(),p._deterministicLockstep=!!c.deterministicLockstep,p._lockstepMaxSteps=c.lockstepMaxSteps||0,p._timeStep=c.timeStep||1/60}return p._prepareVRComponent(),c.autoEnableWebVR&&p.initWebVR(),p}return Object(c["__extends"])(Engine,t),Object.defineProperty(Engine,"NpmPackage",{get:function(){return m["ThinEngine"].NpmPackage},enumerable:!1,configurable:!0}),Object.defineProperty(Engine,"Version",{get:function(){return m["ThinEngine"].Version},enumerable:!1,configurable:!0}),Object.defineProperty(Engine,"Instances",{get:function(){return h["EngineStore"].Instances},enumerable:!1,configurable:!0}),Object.defineProperty(Engine,"LastCreatedEngine",{get:function(){return h["EngineStore"].LastCreatedEngine},enumerable:!1,configurable:!0}),Object.defineProperty(Engine,"LastCreatedScene",{get:function(){return h["EngineStore"].LastCreatedScene},enumerable:!1,configurable:!0}),Engine.MarkAllMaterialsAsDirty=function(t,n){for(var u=0;u<Engine.Instances.length;u++)for(var c=Engine.Instances[u],l=0;l<c.scenes.length;l++)c.scenes[l].markAllMaterialsAsDirty(t,n)},Engine.DefaultLoadingScreenFactory=function(t){throw p["_DevTools"].WarnImport("LoadingScreen")},Object.defineProperty(Engine.prototype,"_supportsHardwareTextureRescaling",{get:function(){return!!Engine._RescalePostProcessFactory},enumerable:!1,configurable:!0}),Object.defineProperty(Engine.prototype,"performanceMonitor",{get:function(){return this._performanceMonitor},enumerable:!1,configurable:!0}),Engine.prototype.getInputElement=function(){return this._renderingCanvas},Engine.prototype.getAspectRatio=function(t,n){void 0===n&&(n=!1);var u=t.viewport;return this.getRenderWidth(n)*u.width/(this.getRenderHeight(n)*u.height)},Engine.prototype.getScreenAspectRatio=function(){return this.getRenderWidth(!0)/this.getRenderHeight(!0)},Engine.prototype.getRenderingCanvasClientRect=function(){return this._renderingCanvas?this._renderingCanvas.getBoundingClientRect():null},Engine.prototype.getInputElementClientRect=function(){return this._renderingCanvas?this.getInputElement().getBoundingClientRect():null},Engine.prototype.isDeterministicLockStep=function(){return this._deterministicLockstep},Engine.prototype.getLockstepMaxSteps=function(){return this._lockstepMaxSteps},Engine.prototype.getTimeStep=function(){return 1e3*this._timeStep},Engine.prototype.generateMipMapsForCubemap=function(t,n){if(void 0===n&&(n=!0),t.generateMipMaps){var u=this._gl;this._bindTextureDirectly(u.TEXTURE_CUBE_MAP,t,!0),u.generateMipmap(u.TEXTURE_CUBE_MAP),n&&this._bindTextureDirectly(u.TEXTURE_CUBE_MAP,null)}},Engine.prototype.setState=function(t,n,u,c){void 0===n&&(n=0),void 0===c&&(c=!1),(this._depthCullingState.cull!==t||u)&&(this._depthCullingState.cull=t);var l=this.cullBackFaces?this._gl.BACK:this._gl.FRONT;(this._depthCullingState.cullFace!==l||u)&&(this._depthCullingState.cullFace=l),this.setZOffset(n);var d=c?this._gl.CW:this._gl.CCW;(this._depthCullingState.frontFace!==d||u)&&(this._depthCullingState.frontFace=d)},Engine.prototype.setZOffset=function(t){this._depthCullingState.zOffset=t},Engine.prototype.getZOffset=function(){return this._depthCullingState.zOffset},Engine.prototype.setDepthBuffer=function(t){this._depthCullingState.depthTest=t},Engine.prototype.getDepthWrite=function(){return this._depthCullingState.depthMask},Engine.prototype.setDepthWrite=function(t){this._depthCullingState.depthMask=t},Engine.prototype.getStencilBuffer=function(){return this._stencilState.stencilTest},Engine.prototype.setStencilBuffer=function(t){this._stencilState.stencilTest=t},Engine.prototype.getStencilMask=function(){return this._stencilState.stencilMask},Engine.prototype.setStencilMask=function(t){this._stencilState.stencilMask=t},Engine.prototype.getStencilFunction=function(){return this._stencilState.stencilFunc},Engine.prototype.getStencilFunctionReference=function(){return this._stencilState.stencilFuncRef},Engine.prototype.getStencilFunctionMask=function(){return this._stencilState.stencilFuncMask},Engine.prototype.setStencilFunction=function(t){this._stencilState.stencilFunc=t},Engine.prototype.setStencilFunctionReference=function(t){this._stencilState.stencilFuncRef=t},Engine.prototype.setStencilFunctionMask=function(t){this._stencilState.stencilFuncMask=t},Engine.prototype.getStencilOperationFail=function(){return this._stencilState.stencilOpStencilFail},Engine.prototype.getStencilOperationDepthFail=function(){return this._stencilState.stencilOpDepthFail},Engine.prototype.getStencilOperationPass=function(){return this._stencilState.stencilOpStencilDepthPass},Engine.prototype.setStencilOperationFail=function(t){this._stencilState.stencilOpStencilFail=t},Engine.prototype.setStencilOperationDepthFail=function(t){this._stencilState.stencilOpDepthFail=t},Engine.prototype.setStencilOperationPass=function(t){this._stencilState.stencilOpStencilDepthPass=t},Engine.prototype.setDitheringState=function(t){t?this._gl.enable(this._gl.DITHER):this._gl.disable(this._gl.DITHER)},Engine.prototype.setRasterizerState=function(t){t?this._gl.disable(this._gl.RASTERIZER_DISCARD):this._gl.enable(this._gl.RASTERIZER_DISCARD)},Engine.prototype.getDepthFunction=function(){return this._depthCullingState.depthFunc},Engine.prototype.setDepthFunction=function(t){this._depthCullingState.depthFunc=t},Engine.prototype.setDepthFunctionToGreater=function(){this._depthCullingState.depthFunc=this._gl.GREATER},Engine.prototype.setDepthFunctionToGreaterOrEqual=function(){this._depthCullingState.depthFunc=this._gl.GEQUAL},Engine.prototype.setDepthFunctionToLess=function(){this._depthCullingState.depthFunc=this._gl.LESS},Engine.prototype.setDepthFunctionToLessOrEqual=function(){this._depthCullingState.depthFunc=this._gl.LEQUAL},Engine.prototype.cacheStencilState=function(){this._cachedStencilBuffer=this.getStencilBuffer(),this._cachedStencilFunction=this.getStencilFunction(),this._cachedStencilMask=this.getStencilMask(),this._cachedStencilOperationPass=this.getStencilOperationPass(),this._cachedStencilOperationFail=this.getStencilOperationFail(),this._cachedStencilOperationDepthFail=this.getStencilOperationDepthFail(),this._cachedStencilReference=this.getStencilFunctionReference()},Engine.prototype.restoreStencilState=function(){this.setStencilFunction(this._cachedStencilFunction),this.setStencilMask(this._cachedStencilMask),this.setStencilBuffer(this._cachedStencilBuffer),this.setStencilOperationPass(this._cachedStencilOperationPass),this.setStencilOperationFail(this._cachedStencilOperationFail),this.setStencilOperationDepthFail(this._cachedStencilOperationDepthFail),this.setStencilFunctionReference(this._cachedStencilReference)},Engine.prototype.setDirectViewport=function(t,n,u,c){var l=this._cachedViewport;return this._cachedViewport=null,this._viewport(t,n,u,c),l},Engine.prototype.scissorClear=function(t,n,u,c,l){this.enableScissor(t,n,u,c),this.clear(l,!0,!0,!0),this.disableScissor()},Engine.prototype.enableScissor=function(t,n,u,c){var l=this._gl;l.enable(l.SCISSOR_TEST),l.scissor(t,n,u,c)},Engine.prototype.disableScissor=function(){var t=this._gl;t.disable(t.SCISSOR_TEST)},Engine.prototype._reportDrawCall=function(){this._drawCalls.addCount(1,!1)},Engine.prototype.initWebVR=function(){throw p["_DevTools"].WarnImport("WebVRCamera")},Engine.prototype._prepareVRComponent=function(){},Engine.prototype._connectVREvents=function(t,n){},Engine.prototype._submitVRFrame=function(){},Engine.prototype.disableVR=function(){},Engine.prototype.isVRPresenting=function(){return!1},Engine.prototype._requestVRFrame=function(){},Engine.prototype._loadFileAsync=function(t,n,u){var c=this;return new Promise((function(l,d){c._loadFile(t,(function(t){l(t)}),void 0,n,u,(function(t,n){d(n)}))}))},Engine.prototype.getVertexShaderSource=function(t){var n=this._gl.getAttachedShaders(t);return n?this._gl.getShaderSource(n[0]):null},Engine.prototype.getFragmentShaderSource=function(t){var n=this._gl.getAttachedShaders(t);return n?this._gl.getShaderSource(n[1]):null},Engine.prototype.setDepthStencilTexture=function(t,n,u){void 0!==t&&(n&&(this._boundUniforms[t]=n),u&&u.depthStencilTexture?this._setTexture(t,u,!1,!0):this._setTexture(t,null))},Engine.prototype.setTextureFromPostProcess=function(t,n){this._bindTexture(t,n?n._textures.data[n._currentRenderTextureInd]:null)},Engine.prototype.setTextureFromPostProcessOutput=function(t,n){this._bindTexture(t,n?n._outputTexture:null)},Engine.prototype._rebuildBuffers=function(){for(var n=0,u=this.scenes;n<u.length;n++){var c=u[n];c.resetCachedMaterial(),c._rebuildGeometries(),c._rebuildTextures()}t.prototype._rebuildBuffers.call(this)},Engine.prototype._renderFrame=function(){for(var t=0;t<this._activeRenderLoops.length;t++){var n=this._activeRenderLoops[t];n()}},Engine.prototype._renderLoop=function(){if(!this._contextWasLost){var t=!0;!this.renderEvenInBackground&&this._windowIsBackground&&(t=!1),t&&(this.beginFrame(),this._renderViews()||this._renderFrame(),this.endFrame())}this._activeRenderLoops.length>0?this.customAnimationFrameRequester?(this.customAnimationFrameRequester.requestID=this._queueNewFrame(this.customAnimationFrameRequester.renderFunction||this._boundRenderFunction,this.customAnimationFrameRequester),this._frameHandler=this.customAnimationFrameRequester.requestID):this.isVRPresenting()?this._requestVRFrame():this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow()):this._renderingQueueLaunched=!1},Engine.prototype._renderViews=function(){return!1},Engine.prototype.switchFullscreen=function(t){this.isFullscreen?this.exitFullscreen():this.enterFullscreen(t)},Engine.prototype.enterFullscreen=function(t){this.isFullscreen||(this._pointerLockRequested=t,this._renderingCanvas&&Engine._RequestFullscreen(this._renderingCanvas))},Engine.prototype.exitFullscreen=function(){this.isFullscreen&&Engine._ExitFullscreen()},Engine.prototype.enterPointerlock=function(){this._renderingCanvas&&Engine._RequestPointerlock(this._renderingCanvas)},Engine.prototype.exitPointerlock=function(){Engine._ExitPointerlock()},Engine.prototype.beginFrame=function(){this._measureFps(),this.onBeginFrameObservable.notifyObservers(this),t.prototype.beginFrame.call(this)},Engine.prototype.endFrame=function(){t.prototype.endFrame.call(this),this._submitVRFrame(),this.onEndFrameObservable.notifyObservers(this)},Engine.prototype.resize=function(){this.isVRPresenting()||t.prototype.resize.call(this)},Engine.prototype.setSize=function(n,u){if(!this._renderingCanvas)return!1;if(!t.prototype.setSize.call(this,n,u))return!1;if(this.scenes){for(var c=0;c<this.scenes.length;c++)for(var l=this.scenes[c],d=0;d<l.cameras.length;d++){var h=l.cameras[d];h._currentRenderId=0}this.onResizeObservable.hasObservers()&&this.onResizeObservable.notifyObservers(this)}return!0},Engine.prototype._deletePipelineContext=function(n){var u=n;u&&u.program&&u.transformFeedback&&(this.deleteTransformFeedback(u.transformFeedback),u.transformFeedback=null),t.prototype._deletePipelineContext.call(this,n)},Engine.prototype.createShaderProgram=function(n,u,c,l,d,h){void 0===h&&(h=null),d=d||this._gl,this.onBeforeShaderCompilationObservable.notifyObservers(this);var p=t.prototype.createShaderProgram.call(this,n,u,c,l,d,h);return this.onAfterShaderCompilationObservable.notifyObservers(this),p},Engine.prototype._createShaderProgram=function(t,n,u,c,l){void 0===l&&(l=null);var d=c.createProgram();if(t.program=d,!d)throw new Error("Unable to create program");if(c.attachShader(d,n),c.attachShader(d,u),this.webGLVersion>1&&l){var h=this.createTransformFeedback();this.bindTransformFeedback(h),this.setTranformFeedbackVaryings(d,l),t.transformFeedback=h}return c.linkProgram(d),this.webGLVersion>1&&l&&this.bindTransformFeedback(null),t.context=c,t.vertexShader=n,t.fragmentShader=u,t.isParallelCompiled||this._finalizePipelineContext(t),d},Engine.prototype._releaseTexture=function(n){t.prototype._releaseTexture.call(this,n),this.scenes.forEach((function(t){t.postProcesses.forEach((function(t){t._outputTexture==n&&(t._outputTexture=null)})),t.cameras.forEach((function(t){t._postProcesses.forEach((function(t){t&&t._outputTexture==n&&(t._outputTexture=null)}))}))}))},Engine.prototype._rescaleTexture=function(t,n,u,c,l){var d=this;this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE);var h=this.createRenderTargetTexture({width:n.width,height:n.height},{generateMipMaps:!1,type:0,samplingMode:2,generateDepthBuffer:!1,generateStencilBuffer:!1});!this._rescalePostProcess&&Engine._RescalePostProcessFactory&&(this._rescalePostProcess=Engine._RescalePostProcessFactory(this)),this._rescalePostProcess.getEffect().executeWhenCompiled((function(){d._rescalePostProcess.onApply=function(n){n._bindTexture("textureSampler",t)};var p=u;p||(p=d.scenes[d.scenes.length-1]),p.postProcessManager.directRender([d._rescalePostProcess],h,!0),d._bindTextureDirectly(d._gl.TEXTURE_2D,n,!0),d._gl.copyTexImage2D(d._gl.TEXTURE_2D,0,c,0,0,n.width,n.height,0),d.unBindFramebuffer(h),d._releaseTexture(h),l&&l()}))},Engine.prototype.getFps=function(){return this._fps},Engine.prototype.getDeltaTime=function(){return this._deltaTime},Engine.prototype._measureFps=function(){this._performanceMonitor.sampleFrame(),this._fps=this._performanceMonitor.averageFPS,this._deltaTime=this._performanceMonitor.instantaneousFrameTime||0},Engine.prototype._uploadImageToTexture=function(t,n,u,c){void 0===u&&(u=0),void 0===c&&(c=0);var l=this._gl,d=this._getWebGLTextureType(t.type),h=this._getInternalFormat(t.format),p=this._getRGBABufferInternalSizedFormat(t.type,h),m=t.isCube?l.TEXTURE_CUBE_MAP:l.TEXTURE_2D;this._bindTextureDirectly(m,t,!0),this._unpackFlipY(t.invertY);var _=l.TEXTURE_2D;t.isCube&&(_=l.TEXTURE_CUBE_MAP_POSITIVE_X+u),l.texImage2D(_,c,p,h,d,n),this._bindTextureDirectly(m,null,!0)},Engine.prototype.updateRenderTargetTextureSampleCount=function(t,n){if(this.webGLVersion<2||!t)return 1;if(t.samples===n)return n;var u=this._gl;if(n=Math.min(n,this.getCaps().maxMSAASamples),t._depthStencilBuffer&&(u.deleteRenderbuffer(t._depthStencilBuffer),t._depthStencilBuffer=null),t._MSAAFramebuffer&&(u.deleteFramebuffer(t._MSAAFramebuffer),t._MSAAFramebuffer=null),t._MSAARenderBuffer&&(u.deleteRenderbuffer(t._MSAARenderBuffer),t._MSAARenderBuffer=null),n>1&&u.renderbufferStorageMultisample){var c=u.createFramebuffer();if(!c)throw new Error("Unable to create multi sampled framebuffer");t._MSAAFramebuffer=c,this._bindUnboundFramebuffer(t._MSAAFramebuffer);var l=u.createRenderbuffer();if(!l)throw new Error("Unable to create multi sampled framebuffer");u.bindRenderbuffer(u.RENDERBUFFER,l),u.renderbufferStorageMultisample(u.RENDERBUFFER,n,this._getRGBAMultiSampleBufferFormat(t.type),t.width,t.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.RENDERBUFFER,l),t._MSAARenderBuffer=l}else this._bindUnboundFramebuffer(t._framebuffer);return t.samples=n,t._depthStencilBuffer=this._setupFramebufferDepthAttachments(t._generateStencilBuffer,t._generateDepthBuffer,t.width,t.height,n),this._bindUnboundFramebuffer(null),n},Engine.prototype.updateTextureComparisonFunction=function(t,n){if(1!==this.webGLVersion){var u=this._gl;t.isCube?(this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,t,!0),0===n?(u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_COMPARE_FUNC,515),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_COMPARE_MODE,u.NONE)):(u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_COMPARE_FUNC,n),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_COMPARE_MODE,u.COMPARE_REF_TO_TEXTURE)),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null)):(this._bindTextureDirectly(this._gl.TEXTURE_2D,t,!0),0===n?(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_COMPARE_FUNC,515),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_COMPARE_MODE,u.NONE)):(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_COMPARE_FUNC,n),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_COMPARE_MODE,u.COMPARE_REF_TO_TEXTURE)),this._bindTextureDirectly(this._gl.TEXTURE_2D,null)),t._comparisonFunction=n}else v["Logger"].Error("WebGL 1 does not support texture comparison.")},Engine.prototype.createInstancesBuffer=function(t){var n=this._gl.createBuffer();if(!n)throw new Error("Unable to create instance buffer");var u=new b["WebGLDataBuffer"](n);return u.capacity=t,this.bindArrayBuffer(u),this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.DYNAMIC_DRAW),u},Engine.prototype.deleteInstancesBuffer=function(t){this._gl.deleteBuffer(t)},Engine.prototype._clientWaitAsync=function(t,n,u){void 0===n&&(n=0),void 0===u&&(u=10);var c=this._gl;return new Promise((function(l,d){var check=function(){var h=c.clientWaitSync(t,n,0);h!=c.WAIT_FAILED?h!=c.TIMEOUT_EXPIRED?l():setTimeout(check,u):d()};check()}))},Engine.prototype._readPixelsAsync=function(t,n,u,c,l,d,h){if(this._webGLVersion<2)throw new Error("_readPixelsAsync only work on WebGL2+");var p=this._gl,m=p.createBuffer();p.bindBuffer(p.PIXEL_PACK_BUFFER,m),p.bufferData(p.PIXEL_PACK_BUFFER,h.byteLength,p.STREAM_READ),p.readPixels(t,n,u,c,l,d,0),p.bindBuffer(p.PIXEL_PACK_BUFFER,null);var _=p.fenceSync(p.SYNC_GPU_COMMANDS_COMPLETE,0);return _?(p.flush(),this._clientWaitAsync(_,0,10).then((function(){return p.deleteSync(_),p.bindBuffer(p.PIXEL_PACK_BUFFER,m),p.getBufferSubData(p.PIXEL_PACK_BUFFER,0,h),p.bindBuffer(p.PIXEL_PACK_BUFFER,null),p.deleteBuffer(m),h}))):null},Engine.prototype.dispose=function(){this.hideLoadingUI(),this.onNewSceneAddedObservable.clear();while(this.postProcesses.length)this.postProcesses[0].dispose();this._rescalePostProcess&&this._rescalePostProcess.dispose();while(this.scenes.length)this.scenes[0].dispose();1===Engine.Instances.length&&Engine.audioEngine&&Engine.audioEngine.dispose(),this.disableVR(),d["DomManagement"].IsWindowObjectExist()&&(window.removeEventListener("blur",this._onBlur),window.removeEventListener("focus",this._onFocus),this._renderingCanvas&&(this._renderingCanvas.removeEventListener("focus",this._onCanvasFocus),this._renderingCanvas.removeEventListener("blur",this._onCanvasBlur),this._renderingCanvas.removeEventListener("pointerout",this._onCanvasPointerOut)),d["DomManagement"].IsDocumentAvailable()&&(document.removeEventListener("fullscreenchange",this._onFullscreenChange),document.removeEventListener("mozfullscreenchange",this._onFullscreenChange),document.removeEventListener("webkitfullscreenchange",this._onFullscreenChange),document.removeEventListener("msfullscreenchange",this._onFullscreenChange),document.removeEventListener("pointerlockchange",this._onPointerLockChange),document.removeEventListener("mspointerlockchange",this._onPointerLockChange),document.removeEventListener("mozpointerlockchange",this._onPointerLockChange),document.removeEventListener("webkitpointerlockchange",this._onPointerLockChange))),t.prototype.dispose.call(this);var n=Engine.Instances.indexOf(this);n>=0&&Engine.Instances.splice(n,1),this.onResizeObservable.clear(),this.onCanvasBlurObservable.clear(),this.onCanvasFocusObservable.clear(),this.onCanvasPointerOutObservable.clear(),this.onBeginFrameObservable.clear(),this.onEndFrameObservable.clear()},Engine.prototype._disableTouchAction=function(){this._renderingCanvas&&this._renderingCanvas.setAttribute&&(this._renderingCanvas.setAttribute("touch-action","none"),this._renderingCanvas.style.touchAction="none",this._renderingCanvas.style.msTouchAction="none")},Engine.prototype.displayLoadingUI=function(){if(d["DomManagement"].IsWindowObjectExist()){var t=this.loadingScreen;t&&t.displayLoadingUI()}},Engine.prototype.hideLoadingUI=function(){if(d["DomManagement"].IsWindowObjectExist()){var t=this._loadingScreen;t&&t.hideLoadingUI()}},Object.defineProperty(Engine.prototype,"loadingScreen",{get:function(){return!this._loadingScreen&&this._renderingCanvas&&(this._loadingScreen=Engine.DefaultLoadingScreenFactory(this._renderingCanvas)),this._loadingScreen},set:function(t){this._loadingScreen=t},enumerable:!1,configurable:!0}),Object.defineProperty(Engine.prototype,"loadingUIText",{set:function(t){this.loadingScreen.loadingUIText=t},enumerable:!1,configurable:!0}),Object.defineProperty(Engine.prototype,"loadingUIBackgroundColor",{set:function(t){this.loadingScreen.loadingUIBackgroundColor=t},enumerable:!1,configurable:!0}),Engine._RequestPointerlock=function(t){t.requestPointerLock=t.requestPointerLock||t.msRequestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock&&t.requestPointerLock()},Engine._ExitPointerlock=function(){var t=document;document.exitPointerLock=document.exitPointerLock||t.msExitPointerLock||t.mozExitPointerLock||t.webkitExitPointerLock,document.exitPointerLock&&document.exitPointerLock()},Engine._RequestFullscreen=function(t){var n=t.requestFullscreen||t.msRequestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen;n&&n.call(t)},Engine._ExitFullscreen=function(){var t=document;document.exitFullscreen?document.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msCancelFullScreen&&t.msCancelFullScreen()},Engine.ALPHA_DISABLE=0,Engine.ALPHA_ADD=1,Engine.ALPHA_COMBINE=2,Engine.ALPHA_SUBTRACT=3,Engine.ALPHA_MULTIPLY=4,Engine.ALPHA_MAXIMIZED=5,Engine.ALPHA_ONEONE=6,Engine.ALPHA_PREMULTIPLIED=7,Engine.ALPHA_PREMULTIPLIED_PORTERDUFF=8,Engine.ALPHA_INTERPOLATE=9,Engine.ALPHA_SCREENMODE=10,Engine.DELAYLOADSTATE_NONE=0,Engine.DELAYLOADSTATE_LOADED=1,Engine.DELAYLOADSTATE_LOADING=2,Engine.DELAYLOADSTATE_NOTLOADED=4,Engine.NEVER=512,Engine.ALWAYS=519,Engine.LESS=513,Engine.EQUAL=514,Engine.LEQUAL=515,Engine.GREATER=516,Engine.GEQUAL=518,Engine.NOTEQUAL=517,Engine.KEEP=7680,Engine.REPLACE=7681,Engine.INCR=7682,Engine.DECR=7683,Engine.INVERT=5386,Engine.INCR_WRAP=34055,Engine.DECR_WRAP=34056,Engine.TEXTURE_CLAMP_ADDRESSMODE=0,Engine.TEXTURE_WRAP_ADDRESSMODE=1,Engine.TEXTURE_MIRROR_ADDRESSMODE=2,Engine.TEXTUREFORMAT_ALPHA=0,Engine.TEXTUREFORMAT_LUMINANCE=1,Engine.TEXTUREFORMAT_LUMINANCE_ALPHA=2,Engine.TEXTUREFORMAT_RGB=4,Engine.TEXTUREFORMAT_RGBA=5,Engine.TEXTUREFORMAT_RED=6,Engine.TEXTUREFORMAT_R=6,Engine.TEXTUREFORMAT_RG=7,Engine.TEXTUREFORMAT_RED_INTEGER=8,Engine.TEXTUREFORMAT_R_INTEGER=8,Engine.TEXTUREFORMAT_RG_INTEGER=9,Engine.TEXTUREFORMAT_RGB_INTEGER=10,Engine.TEXTUREFORMAT_RGBA_INTEGER=11,Engine.TEXTURETYPE_UNSIGNED_BYTE=0,Engine.TEXTURETYPE_UNSIGNED_INT=0,Engine.TEXTURETYPE_FLOAT=1,Engine.TEXTURETYPE_HALF_FLOAT=2,Engine.TEXTURETYPE_BYTE=3,Engine.TEXTURETYPE_SHORT=4,Engine.TEXTURETYPE_UNSIGNED_SHORT=5,Engine.TEXTURETYPE_INT=6,Engine.TEXTURETYPE_UNSIGNED_INTEGER=7,Engine.TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4=8,Engine.TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1=9,Engine.TEXTURETYPE_UNSIGNED_SHORT_5_6_5=10,Engine.TEXTURETYPE_UNSIGNED_INT_2_10_10_10_REV=11,Engine.TEXTURETYPE_UNSIGNED_INT_24_8=12,Engine.TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV=13,Engine.TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV=14,Engine.TEXTURETYPE_FLOAT_32_UNSIGNED_INT_24_8_REV=15,Engine.TEXTURE_NEAREST_SAMPLINGMODE=1,Engine.TEXTURE_BILINEAR_SAMPLINGMODE=2,Engine.TEXTURE_TRILINEAR_SAMPLINGMODE=3,Engine.TEXTURE_NEAREST_NEAREST_MIPLINEAR=8,Engine.TEXTURE_LINEAR_LINEAR_MIPNEAREST=11,Engine.TEXTURE_LINEAR_LINEAR_MIPLINEAR=3,Engine.TEXTURE_NEAREST_NEAREST_MIPNEAREST=4,Engine.TEXTURE_NEAREST_LINEAR_MIPNEAREST=5,Engine.TEXTURE_NEAREST_LINEAR_MIPLINEAR=6,Engine.TEXTURE_NEAREST_LINEAR=7,Engine.TEXTURE_NEAREST_NEAREST=1,Engine.TEXTURE_LINEAR_NEAREST_MIPNEAREST=9,Engine.TEXTURE_LINEAR_NEAREST_MIPLINEAR=10,Engine.TEXTURE_LINEAR_LINEAR=2,Engine.TEXTURE_LINEAR_NEAREST=12,Engine.TEXTURE_EXPLICIT_MODE=0,Engine.TEXTURE_SPHERICAL_MODE=1,Engine.TEXTURE_PLANAR_MODE=2,Engine.TEXTURE_CUBIC_MODE=3,Engine.TEXTURE_PROJECTION_MODE=4,Engine.TEXTURE_SKYBOX_MODE=5,Engine.TEXTURE_INVCUBIC_MODE=6,Engine.TEXTURE_EQUIRECTANGULAR_MODE=7,Engine.TEXTURE_FIXED_EQUIRECTANGULAR_MODE=8,Engine.TEXTURE_FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,Engine.SCALEMODE_FLOOR=1,Engine.SCALEMODE_NEAREST=2,Engine.SCALEMODE_CEILING=3,Engine._RescalePostProcessFactory=null,Engine}(m["ThinEngine"]))},"./node_modules/@babylonjs/core/Engines/engineStore.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EngineStore",(function(){return c}));var c=function(){function EngineStore(){}return Object.defineProperty(EngineStore,"LastCreatedEngine",{get:function(){return 0===this.Instances.length?null:this.Instances[this.Instances.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(EngineStore,"LastCreatedScene",{get:function(){return this._LastCreatedScene},enumerable:!1,configurable:!0}),EngineStore.Instances=new Array,EngineStore._LastCreatedScene=null,EngineStore.UseFallbackTexture=!0,EngineStore.FallbackTexture="",EngineStore}()},"./node_modules/@babylonjs/core/Engines/performanceConfigurator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PerformanceConfigurator",(function(){return c}));var c=function(){function PerformanceConfigurator(){}return PerformanceConfigurator.SetMatrixPrecision=function(t){if(PerformanceConfigurator.MatrixTrackPrecisionChange=!1,t&&!PerformanceConfigurator.MatrixUse64Bits&&PerformanceConfigurator.MatrixTrackedMatrices)for(var n=0;n<PerformanceConfigurator.MatrixTrackedMatrices.length;++n){var u=PerformanceConfigurator.MatrixTrackedMatrices[n],c=u._m;u._m=new Array(16);for(var l=0;l<16;++l)u._m[l]=c[l]}PerformanceConfigurator.MatrixUse64Bits=t,PerformanceConfigurator.MatrixCurrentType=PerformanceConfigurator.MatrixUse64Bits?Array:Float32Array,PerformanceConfigurator.MatrixTrackedMatrices=null},PerformanceConfigurator.MatrixUse64Bits=!1,PerformanceConfigurator.MatrixTrackPrecisionChange=!0,PerformanceConfigurator.MatrixCurrentType=Float32Array,PerformanceConfigurator.MatrixTrackedMatrices=[],PerformanceConfigurator}()},"./node_modules/@babylonjs/core/Engines/thinEngine.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ThinEngine",(function(){return Q}));var c=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),l=u("./node_modules/@babylonjs/core/Materials/effect.js"),d=u("./node_modules/@babylonjs/core/Misc/devTools.js"),h=u("./node_modules/@babylonjs/core/Misc/observable.js"),p=u("./node_modules/@babylonjs/core/States/depthCullingState.js"),m=u("./node_modules/@babylonjs/core/States/stencilState.js"),_=u("./node_modules/@babylonjs/core/States/alphaCullingState.js"),g=u("./node_modules/@babylonjs/core/Materials/Textures/internalTexture.js"),b=u("./node_modules/@babylonjs/core/Misc/logger.js"),v=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),U=u("./node_modules/@babylonjs/core/Engines/WebGL/webGLShaderProcessors.js"),G=u("./node_modules/@babylonjs/core/Engines/WebGL/webGL2ShaderProcessors.js"),W=u("./node_modules/@babylonjs/core/Meshes/WebGL/webGLDataBuffer.js"),X=u("./node_modules/@babylonjs/core/Engines/WebGL/webGLPipelineContext.js"),q=u("./node_modules/@babylonjs/core/Misc/canvasGenerator.js"),K=u("./node_modules/@babylonjs/core/Engines/performanceConfigurator.js"),Y=function(){function BufferPointer(){}return BufferPointer}(),Q=function(){function ThinEngine(t,n,u,c){var l=this;void 0===c&&(c=!1),this.forcePOTTextures=!1,this.isFullscreen=!1,this.cullBackFaces=!0,this.renderEvenInBackground=!0,this.preventCacheWipeBetweenFrames=!1,this.validateShaderPrograms=!1,this.useReverseDepthBuffer=!1,this.disableUniformBuffers=!1,this._uniformBuffers=new Array,this._webGLVersion=1,this._windowIsBackground=!1,this._highPrecisionShadersAllowed=!0,this._badOS=!1,this._badDesktopOS=!1,this._renderingQueueLaunched=!1,this._activeRenderLoops=new Array,this.onContextLostObservable=new h["Observable"],this.onContextRestoredObservable=new h["Observable"],this._contextWasLost=!1,this._doNotHandleContextLost=!1,this.disableVertexArrayObjects=!1,this._colorWrite=!0,this._colorWriteChanged=!0,this._depthCullingState=new p["DepthCullingState"],this._stencilState=new m["StencilState"],this._alphaState=new _["AlphaState"],this._alphaMode=1,this._alphaEquation=0,this._internalTexturesCache=new Array,this._activeChannel=0,this._currentTextureChannel=-1,this._boundTexturesCache={},this._compiledEffects={},this._vertexAttribArraysEnabled=[],this._uintIndicesCurrentlySet=!1,this._currentBoundBuffer=new Array,this._currentFramebuffer=null,this._dummyFramebuffer=null,this._currentBufferPointers=new Array,this._currentInstanceLocations=new Array,this._currentInstanceBuffers=new Array,this._vaoRecordInProgress=!1,this._mustWipeVertexAttributes=!1,this._nextFreeTextureSlots=new Array,this._maxSimultaneousTextures=0,this._activeRequests=new Array,this._transformTextureUrl=null,this.hostInformation={isMobile:!1},this.premultipliedAlpha=!0,this.onBeforeTextureInitObservable=new h["Observable"],this._viewportCached={x:0,y:0,z:0,w:0},this._unpackFlipYCached=null,this.enableUnpackFlipYCached=!0,this._getDepthStencilBuffer=function(t,n,u,c,d,h){var p=l._gl,m=p.createRenderbuffer();return p.bindRenderbuffer(p.RENDERBUFFER,m),u>1&&p.renderbufferStorageMultisample?p.renderbufferStorageMultisample(p.RENDERBUFFER,u,d,t,n):p.renderbufferStorage(p.RENDERBUFFER,c,t,n),p.framebufferRenderbuffer(p.FRAMEBUFFER,h,p.RENDERBUFFER,m),p.bindRenderbuffer(p.RENDERBUFFER,null),m},this._boundUniforms={};var d=null;if(t){if(u=u||{},K["PerformanceConfigurator"].SetMatrixPrecision(!!u.useHighPrecisionMatrix),t.getContext){if(d=t,this._renderingCanvas=d,null!=n&&(u.antialias=n),void 0===u.deterministicLockstep&&(u.deterministicLockstep=!1),void 0===u.lockstepMaxSteps&&(u.lockstepMaxSteps=4),void 0===u.timeStep&&(u.timeStep=1/60),void 0===u.preserveDrawingBuffer&&(u.preserveDrawingBuffer=!1),void 0===u.audioEngine&&(u.audioEngine=!0),void 0===u.stencil&&(u.stencil=!0),!1===u.premultipliedAlpha&&(this.premultipliedAlpha=!1),void 0===u.xrCompatible&&(u.xrCompatible=!0),this._doNotHandleContextLost=!!u.doNotHandleContextLost,navigator&&navigator.userAgent){var g=navigator.userAgent;this.hostInformation.isMobile=-1!==g.indexOf("Mobile");for(var W=0,X=ThinEngine.ExceptionList;W<X.length;W++){var q=X[W],Q=q.key,Z=q.targets,$=new RegExp(Q);if($.test(g)){if(q.capture&&q.captureConstraint){var J=q.capture,ee=q.captureConstraint,te=new RegExp(J),re=te.exec(g);if(re&&re.length>0){var ne=parseInt(re[re.length-1]);if(ne>=ee)continue}}for(var ie=0,oe=Z;ie<oe.length;ie++){var se=oe[ie];switch(se){case"uniformBuffer":this.disableUniformBuffers=!0;break;case"vao":this.disableVertexArrayObjects=!0;break}}}}}if(this._doNotHandleContextLost||(this._onContextLost=function(t){t.preventDefault(),l._contextWasLost=!0,b["Logger"].Warn("WebGL context lost."),l.onContextLostObservable.notifyObservers(l)},this._onContextRestored=function(){setTimeout((function(){l._initGLContext(),l._rebuildEffects(),l._rebuildInternalTextures(),l._rebuildBuffers(),l.wipeCaches(!0),b["Logger"].Warn("WebGL context successfully restored."),l.onContextRestoredObservable.notifyObservers(l),l._contextWasLost=!1}),0)},d.addEventListener("webglcontextlost",this._onContextLost,!1),d.addEventListener("webglcontextrestored",this._onContextRestored,!1),u.powerPreference="high-performance"),!u.disableWebGL2Support)try{this._gl=d.getContext("webgl2",u)||d.getContext("experimental-webgl2",u),this._gl&&(this._webGLVersion=2,this._gl.deleteQuery||(this._webGLVersion=1))}catch(de){}if(!this._gl){if(!d)throw new Error("The provided canvas is null or undefined.");try{this._gl=d.getContext("webgl",u)||d.getContext("experimental-webgl",u)}catch(de){throw new Error("WebGL not supported")}}if(!this._gl)throw new Error("WebGL not supported")}else{this._gl=t,this._renderingCanvas=this._gl.canvas,this._gl.renderbufferStorageMultisample&&(this._webGLVersion=2);var ae=this._gl.getContextAttributes();ae&&(u.stencil=ae.stencil)}this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._gl.NONE),void 0!==u.useHighPrecisionFloats&&(this._highPrecisionShadersAllowed=u.useHighPrecisionFloats);var ue=v["DomManagement"].IsWindowObjectExist()&&window.devicePixelRatio||1,ce=u.limitDeviceRatio||ue;this._hardwareScalingLevel=c?1/Math.min(ce,ue):1,this.resize(),this._isStencilEnable=!!u.stencil,this._initGLContext();for(var le=0;le<this._caps.maxVertexAttribs;le++)this._currentBufferPointers[le]=new Y;this.webGLVersion>1?this._shaderProcessor=new G["WebGL2ShaderProcessor"]:this._shaderProcessor=new U["WebGLShaderProcessor"],this._badOS=/iPad/i.test(navigator.userAgent)||/iPhone/i.test(navigator.userAgent),this._badDesktopOS=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this._creationOptions=u,console.log("Babylon.js v"+ThinEngine.Version+" - "+this.description)}}return Object.defineProperty(ThinEngine,"NpmPackage",{get:function(){return"babylonjs@4.2.2"},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine,"Version",{get:function(){return"4.2.2"},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"description",{get:function(){var t="WebGL"+this.webGLVersion;return this._caps.parallelShaderCompile&&(t+=" - Parallel shader compilation"),t},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine,"ShadersRepository",{get:function(){return l["Effect"].ShadersRepository},set:function(t){l["Effect"].ShadersRepository=t},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"supportsUniformBuffers",{get:function(){return this.webGLVersion>1&&!this.disableUniformBuffers},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"_shouldUseHighPrecisionShader",{get:function(){return!(!this._caps.highPrecisionShaderSupported||!this._highPrecisionShadersAllowed)},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"needPOTTextures",{get:function(){return this._webGLVersion<2||this.forcePOTTextures},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"doNotHandleContextLost",{get:function(){return this._doNotHandleContextLost},set:function(t){this._doNotHandleContextLost=t},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"_supportsHardwareTextureRescaling",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"framebufferDimensionsObject",{set:function(t){this._framebufferDimensionsObject=t},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"currentViewport",{get:function(){return this._cachedViewport},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"emptyTexture",{get:function(){return this._emptyTexture||(this._emptyTexture=this.createRawTexture(new Uint8Array(4),1,1,5,!1,!1,1)),this._emptyTexture},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"emptyTexture3D",{get:function(){return this._emptyTexture3D||(this._emptyTexture3D=this.createRawTexture3D(new Uint8Array(4),1,1,1,5,!1,!1,1)),this._emptyTexture3D},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"emptyTexture2DArray",{get:function(){return this._emptyTexture2DArray||(this._emptyTexture2DArray=this.createRawTexture2DArray(new Uint8Array(4),1,1,1,5,!1,!1,1)),this._emptyTexture2DArray},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"emptyCubeTexture",{get:function(){if(!this._emptyCubeTexture){var t=new Uint8Array(4),n=[t,t,t,t,t,t];this._emptyCubeTexture=this.createRawCubeTexture(n,1,5,0,!1,!1,1)}return this._emptyCubeTexture},enumerable:!1,configurable:!0}),ThinEngine.prototype._rebuildInternalTextures=function(){for(var t=this._internalTexturesCache.slice(),n=0,u=t;n<u.length;n++){var c=u[n];c._rebuild()}},ThinEngine.prototype._rebuildEffects=function(){for(var t in this._compiledEffects){var n=this._compiledEffects[t];n._prepareEffect()}l["Effect"].ResetCache()},ThinEngine.prototype.areAllEffectsReady=function(){for(var t in this._compiledEffects){var n=this._compiledEffects[t];if(!n.isReady())return!1}return!0},ThinEngine.prototype._rebuildBuffers=function(){for(var t=0,n=this._uniformBuffers;t<n.length;t++){var u=n[t];u._rebuild()}},ThinEngine.prototype._initGLContext=function(){this._caps={maxTexturesImageUnits:this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),maxCombinedTexturesImageUnits:this._gl.getParameter(this._gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxVertexTextureImageUnits:this._gl.getParameter(this._gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE),maxSamples:this._webGLVersion>1?this._gl.getParameter(this._gl.MAX_SAMPLES):1,maxCubemapTextureSize:this._gl.getParameter(this._gl.MAX_CUBE_MAP_TEXTURE_SIZE),maxRenderTextureSize:this._gl.getParameter(this._gl.MAX_RENDERBUFFER_SIZE),maxVertexAttribs:this._gl.getParameter(this._gl.MAX_VERTEX_ATTRIBS),maxVaryingVectors:this._gl.getParameter(this._gl.MAX_VARYING_VECTORS),maxFragmentUniformVectors:this._gl.getParameter(this._gl.MAX_FRAGMENT_UNIFORM_VECTORS),maxVertexUniformVectors:this._gl.getParameter(this._gl.MAX_VERTEX_UNIFORM_VECTORS),parallelShaderCompile:this._gl.getExtension("KHR_parallel_shader_compile"),standardDerivatives:this._webGLVersion>1||null!==this._gl.getExtension("OES_standard_derivatives"),maxAnisotropy:1,astc:this._gl.getExtension("WEBGL_compressed_texture_astc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_astc"),bptc:this._gl.getExtension("EXT_texture_compression_bptc")||this._gl.getExtension("WEBKIT_EXT_texture_compression_bptc"),s3tc:this._gl.getExtension("WEBGL_compressed_texture_s3tc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),pvrtc:this._gl.getExtension("WEBGL_compressed_texture_pvrtc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:this._gl.getExtension("WEBGL_compressed_texture_etc1")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),etc2:this._gl.getExtension("WEBGL_compressed_texture_etc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc")||this._gl.getExtension("WEBGL_compressed_texture_es3_0"),textureAnisotropicFilterExtension:this._gl.getExtension("EXT_texture_filter_anisotropic")||this._gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this._gl.getExtension("MOZ_EXT_texture_filter_anisotropic"),uintIndices:this._webGLVersion>1||null!==this._gl.getExtension("OES_element_index_uint"),fragmentDepthSupported:this._webGLVersion>1||null!==this._gl.getExtension("EXT_frag_depth"),highPrecisionShaderSupported:!1,timerQuery:this._gl.getExtension("EXT_disjoint_timer_query_webgl2")||this._gl.getExtension("EXT_disjoint_timer_query"),canUseTimestampForTimerQuery:!1,drawBuffersExtension:!1,maxMSAASamples:1,colorBufferFloat:this._webGLVersion>1&&this._gl.getExtension("EXT_color_buffer_float"),textureFloat:!!(this._webGLVersion>1||this._gl.getExtension("OES_texture_float")),textureHalfFloat:!!(this._webGLVersion>1||this._gl.getExtension("OES_texture_half_float")),textureHalfFloatRender:!1,textureFloatLinearFiltering:!1,textureFloatRender:!1,textureHalfFloatLinearFiltering:!1,vertexArrayObject:!1,instancedArrays:!1,textureLOD:!!(this._webGLVersion>1||this._gl.getExtension("EXT_shader_texture_lod")),blendMinMax:!1,multiview:this._gl.getExtension("OVR_multiview2"),oculusMultiview:this._gl.getExtension("OCULUS_multiview"),depthTextureExtension:!1},this._glVersion=this._gl.getParameter(this._gl.VERSION);var t=this._gl.getExtension("WEBGL_debug_renderer_info");if(null!=t&&(this._glRenderer=this._gl.getParameter(t.UNMASKED_RENDERER_WEBGL),this._glVendor=this._gl.getParameter(t.UNMASKED_VENDOR_WEBGL)),this._glVendor||(this._glVendor="Unknown vendor"),this._glRenderer||(this._glRenderer="Unknown renderer"),36193!==this._gl.HALF_FLOAT_OES&&(this._gl.HALF_FLOAT_OES=36193),34842!==this._gl.RGBA16F&&(this._gl.RGBA16F=34842),34836!==this._gl.RGBA32F&&(this._gl.RGBA32F=34836),35056!==this._gl.DEPTH24_STENCIL8&&(this._gl.DEPTH24_STENCIL8=35056),this._caps.timerQuery&&(1===this._webGLVersion&&(this._gl.getQuery=this._caps.timerQuery.getQueryEXT.bind(this._caps.timerQuery)),this._caps.canUseTimestampForTimerQuery=this._gl.getQuery(this._caps.timerQuery.TIMESTAMP_EXT,this._caps.timerQuery.QUERY_COUNTER_BITS_EXT)>0),this._caps.maxAnisotropy=this._caps.textureAnisotropicFilterExtension?this._gl.getParameter(this._caps.textureAnisotropicFilterExtension.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,this._caps.textureFloatLinearFiltering=!(!this._caps.textureFloat||!this._gl.getExtension("OES_texture_float_linear")),this._caps.textureFloatRender=!(!this._caps.textureFloat||!this._canRenderToFloatFramebuffer()),this._caps.textureHalfFloatLinearFiltering=!!(this._webGLVersion>1||this._caps.textureHalfFloat&&this._gl.getExtension("OES_texture_half_float_linear")),this._webGLVersion>1&&5131!==this._gl.HALF_FLOAT_OES&&(this._gl.HALF_FLOAT_OES=5131),this._caps.textureHalfFloatRender=this._caps.textureHalfFloat&&this._canRenderToHalfFloatFramebuffer(),this._webGLVersion>1)this._caps.drawBuffersExtension=!0,this._caps.maxMSAASamples=this._gl.getParameter(this._gl.MAX_SAMPLES);else{var n=this._gl.getExtension("WEBGL_draw_buffers");if(null!==n){this._caps.drawBuffersExtension=!0,this._gl.drawBuffers=n.drawBuffersWEBGL.bind(n),this._gl.DRAW_FRAMEBUFFER=this._gl.FRAMEBUFFER;for(var u=0;u<16;u++)this._gl["COLOR_ATTACHMENT"+u+"_WEBGL"]=n["COLOR_ATTACHMENT"+u+"_WEBGL"]}}if(this._webGLVersion>1)this._caps.depthTextureExtension=!0;else{var c=this._gl.getExtension("WEBGL_depth_texture");null!=c&&(this._caps.depthTextureExtension=!0,this._gl.UNSIGNED_INT_24_8=c.UNSIGNED_INT_24_8_WEBGL)}if(this.disableVertexArrayObjects)this._caps.vertexArrayObject=!1;else if(this._webGLVersion>1)this._caps.vertexArrayObject=!0;else{var l=this._gl.getExtension("OES_vertex_array_object");null!=l&&(this._caps.vertexArrayObject=!0,this._gl.createVertexArray=l.createVertexArrayOES.bind(l),this._gl.bindVertexArray=l.bindVertexArrayOES.bind(l),this._gl.deleteVertexArray=l.deleteVertexArrayOES.bind(l))}if(this._webGLVersion>1)this._caps.instancedArrays=!0;else{var d=this._gl.getExtension("ANGLE_instanced_arrays");null!=d?(this._caps.instancedArrays=!0,this._gl.drawArraysInstanced=d.drawArraysInstancedANGLE.bind(d),this._gl.drawElementsInstanced=d.drawElementsInstancedANGLE.bind(d),this._gl.vertexAttribDivisor=d.vertexAttribDivisorANGLE.bind(d)):this._caps.instancedArrays=!1}if(this._gl.getShaderPrecisionFormat){var h=this._gl.getShaderPrecisionFormat(this._gl.VERTEX_SHADER,this._gl.HIGH_FLOAT),p=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);h&&p&&(this._caps.highPrecisionShaderSupported=0!==h.precision&&0!==p.precision)}if(this._webGLVersion>1)this._caps.blendMinMax=!0;else{var m=this._gl.getExtension("EXT_blend_minmax");null!=m&&(this._caps.blendMinMax=!0,this._gl.MAX=m.MAX_EXT,this._gl.MIN=m.MIN_EXT)}this._depthCullingState.depthTest=!0,this._depthCullingState.depthFunc=this._gl.LEQUAL,this._depthCullingState.depthMask=!0,this._maxSimultaneousTextures=this._caps.maxCombinedTexturesImageUnits;for(var _=0;_<this._maxSimultaneousTextures;_++)this._nextFreeTextureSlots.push(_)},Object.defineProperty(ThinEngine.prototype,"webGLVersion",{get:function(){return this._webGLVersion},enumerable:!1,configurable:!0}),ThinEngine.prototype.getClassName=function(){return"ThinEngine"},Object.defineProperty(ThinEngine.prototype,"isStencilEnable",{get:function(){return this._isStencilEnable},enumerable:!1,configurable:!0}),ThinEngine.prototype._prepareWorkingCanvas=function(){if(!this._workingCanvas){this._workingCanvas=q["CanvasGenerator"].CreateCanvas(1,1);var t=this._workingCanvas.getContext("2d");t&&(this._workingContext=t)}},ThinEngine.prototype.resetTextureCache=function(){for(var t in this._boundTexturesCache)this._boundTexturesCache.hasOwnProperty(t)&&(this._boundTexturesCache[t]=null);this._currentTextureChannel=-1},ThinEngine.prototype.getGlInfo=function(){return{vendor:this._glVendor,renderer:this._glRenderer,version:this._glVersion}},ThinEngine.prototype.setHardwareScalingLevel=function(t){this._hardwareScalingLevel=t,this.resize()},ThinEngine.prototype.getHardwareScalingLevel=function(){return this._hardwareScalingLevel},ThinEngine.prototype.getLoadedTexturesCache=function(){return this._internalTexturesCache},ThinEngine.prototype.getCaps=function(){return this._caps},ThinEngine.prototype.stopRenderLoop=function(t){if(t){var n=this._activeRenderLoops.indexOf(t);n>=0&&this._activeRenderLoops.splice(n,1)}else this._activeRenderLoops=[]},ThinEngine.prototype._renderLoop=function(){if(!this._contextWasLost){var t=!0;if(!this.renderEvenInBackground&&this._windowIsBackground&&(t=!1),t){this.beginFrame();for(var n=0;n<this._activeRenderLoops.length;n++){var u=this._activeRenderLoops[n];u()}this.endFrame()}}this._activeRenderLoops.length>0?this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow()):this._renderingQueueLaunched=!1},ThinEngine.prototype.getRenderingCanvas=function(){return this._renderingCanvas},ThinEngine.prototype.getHostWindow=function(){return v["DomManagement"].IsWindowObjectExist()?this._renderingCanvas&&this._renderingCanvas.ownerDocument&&this._renderingCanvas.ownerDocument.defaultView?this._renderingCanvas.ownerDocument.defaultView:window:null},ThinEngine.prototype.getRenderWidth=function(t){return void 0===t&&(t=!1),!t&&this._currentRenderTarget?this._currentRenderTarget.width:this._framebufferDimensionsObject?this._framebufferDimensionsObject.framebufferWidth:this._gl.drawingBufferWidth},ThinEngine.prototype.getRenderHeight=function(t){return void 0===t&&(t=!1),!t&&this._currentRenderTarget?this._currentRenderTarget.height:this._framebufferDimensionsObject?this._framebufferDimensionsObject.framebufferHeight:this._gl.drawingBufferHeight},ThinEngine.prototype._queueNewFrame=function(t,n){return ThinEngine.QueueNewFrame(t,n)},ThinEngine.prototype.runRenderLoop=function(t){-1===this._activeRenderLoops.indexOf(t)&&(this._activeRenderLoops.push(t),this._renderingQueueLaunched||(this._renderingQueueLaunched=!0,this._boundRenderFunction=this._renderLoop.bind(this),this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow())))},ThinEngine.prototype.clear=function(t,n,u,c){void 0===c&&(c=!1),this.applyStates();var l=0;n&&t&&(this._gl.clearColor(t.r,t.g,t.b,void 0!==t.a?t.a:1),l|=this._gl.COLOR_BUFFER_BIT),u&&(this.useReverseDepthBuffer?(this._depthCullingState.depthFunc=this._gl.GREATER,this._gl.clearDepth(0)):this._gl.clearDepth(1),l|=this._gl.DEPTH_BUFFER_BIT),c&&(this._gl.clearStencil(0),l|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(l)},ThinEngine.prototype._viewport=function(t,n,u,c){t===this._viewportCached.x&&n===this._viewportCached.y&&u===this._viewportCached.z&&c===this._viewportCached.w||(this._viewportCached.x=t,this._viewportCached.y=n,this._viewportCached.z=u,this._viewportCached.w=c,this._gl.viewport(t,n,u,c))},ThinEngine.prototype.setViewport=function(t,n,u){var c=n||this.getRenderWidth(),l=u||this.getRenderHeight(),d=t.x||0,h=t.y||0;this._cachedViewport=t,this._viewport(d*c,h*l,c*t.width,l*t.height)},ThinEngine.prototype.beginFrame=function(){},ThinEngine.prototype.endFrame=function(){this._badOS&&this.flushFramebuffer()},ThinEngine.prototype.resize=function(){var t,n;v["DomManagement"].IsWindowObjectExist()?(t=this._renderingCanvas?this._renderingCanvas.clientWidth||this._renderingCanvas.width:window.innerWidth,n=this._renderingCanvas?this._renderingCanvas.clientHeight||this._renderingCanvas.height:window.innerHeight):(t=this._renderingCanvas?this._renderingCanvas.width:100,n=this._renderingCanvas?this._renderingCanvas.height:100),this.setSize(t/this._hardwareScalingLevel,n/this._hardwareScalingLevel)},ThinEngine.prototype.setSize=function(t,n){return!!this._renderingCanvas&&(t|=0,n|=0,(this._renderingCanvas.width!==t||this._renderingCanvas.height!==n)&&(this._renderingCanvas.width=t,this._renderingCanvas.height=n,!0))},ThinEngine.prototype.bindFramebuffer=function(t,n,u,c,l,d,h){void 0===n&&(n=0),void 0===d&&(d=0),void 0===h&&(h=0),this._currentRenderTarget&&this.unBindFramebuffer(this._currentRenderTarget),this._currentRenderTarget=t,this._bindUnboundFramebuffer(t._MSAAFramebuffer?t._MSAAFramebuffer:t._framebuffer);var p=this._gl;t.is2DArray?p.framebufferTextureLayer(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,t._webGLTexture,d,h):t.isCube&&p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_CUBE_MAP_POSITIVE_X+n,t._webGLTexture,d);var m=t._depthStencilTexture;if(m){var _=m._generateStencilBuffer?p.DEPTH_STENCIL_ATTACHMENT:p.DEPTH_ATTACHMENT;t.is2DArray?p.framebufferTextureLayer(p.FRAMEBUFFER,_,m._webGLTexture,d,h):t.isCube?p.framebufferTexture2D(p.FRAMEBUFFER,_,p.TEXTURE_CUBE_MAP_POSITIVE_X+n,m._webGLTexture,d):p.framebufferTexture2D(p.FRAMEBUFFER,_,p.TEXTURE_2D,m._webGLTexture,d)}this._cachedViewport&&!l?this.setViewport(this._cachedViewport,u,c):(u||(u=t.width,d&&(u/=Math.pow(2,d))),c||(c=t.height,d&&(c/=Math.pow(2,d))),this._viewport(0,0,u,c)),this.wipeCaches()},ThinEngine.prototype._bindUnboundFramebuffer=function(t){this._currentFramebuffer!==t&&(this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,t),this._currentFramebuffer=t)},ThinEngine.prototype.unBindFramebuffer=function(t,n,u){void 0===n&&(n=!1),this._currentRenderTarget=null;var c=this._gl;if(t._MSAAFramebuffer){if(t._textureArray)return void this.unBindMultiColorAttachmentFramebuffer(t._textureArray,n,u);c.bindFramebuffer(c.READ_FRAMEBUFFER,t._MSAAFramebuffer),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,t._framebuffer),c.blitFramebuffer(0,0,t.width,t.height,0,0,t.width,t.height,c.COLOR_BUFFER_BIT,c.NEAREST)}!t.generateMipMaps||n||t.isCube||(this._bindTextureDirectly(c.TEXTURE_2D,t,!0),c.generateMipmap(c.TEXTURE_2D),this._bindTextureDirectly(c.TEXTURE_2D,null)),u&&(t._MSAAFramebuffer&&this._bindUnboundFramebuffer(t._framebuffer),u()),this._bindUnboundFramebuffer(null)},ThinEngine.prototype.flushFramebuffer=function(){this._gl.flush()},ThinEngine.prototype.restoreDefaultFramebuffer=function(){this._currentRenderTarget?this.unBindFramebuffer(this._currentRenderTarget):this._bindUnboundFramebuffer(null),this._cachedViewport&&this.setViewport(this._cachedViewport),this.wipeCaches()},ThinEngine.prototype._resetVertexBufferBinding=function(){this.bindArrayBuffer(null),this._cachedVertexBuffers=null},ThinEngine.prototype.createVertexBuffer=function(t){return this._createVertexBuffer(t,this._gl.STATIC_DRAW)},ThinEngine.prototype._createVertexBuffer=function(t,n){var u=this._gl.createBuffer();if(!u)throw new Error("Unable to create vertex buffer");var c=new W["WebGLDataBuffer"](u);return this.bindArrayBuffer(c),t instanceof Array?this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(t),this._gl.STATIC_DRAW):this._gl.bufferData(this._gl.ARRAY_BUFFER,t,this._gl.STATIC_DRAW),this._resetVertexBufferBinding(),c.references=1,c},ThinEngine.prototype.createDynamicVertexBuffer=function(t){return this._createVertexBuffer(t,this._gl.DYNAMIC_DRAW)},ThinEngine.prototype._resetIndexBufferBinding=function(){this.bindIndexBuffer(null),this._cachedIndexBuffer=null},ThinEngine.prototype.createIndexBuffer=function(t,n){var u=this._gl.createBuffer(),c=new W["WebGLDataBuffer"](u);if(!u)throw new Error("Unable to create index buffer");this.bindIndexBuffer(c);var l=this._normalizeIndexData(t);return this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,l,n?this._gl.DYNAMIC_DRAW:this._gl.STATIC_DRAW),this._resetIndexBufferBinding(),c.references=1,c.is32Bits=4===l.BYTES_PER_ELEMENT,c},ThinEngine.prototype._normalizeIndexData=function(t){if(t instanceof Uint16Array)return t;if(this._caps.uintIndices){if(t instanceof Uint32Array)return t;for(var n=0;n<t.length;n++)if(t[n]>=65535)return new Uint32Array(t);return new Uint16Array(t)}return new Uint16Array(t)},ThinEngine.prototype.bindArrayBuffer=function(t){this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.bindBuffer(t,this._gl.ARRAY_BUFFER)},ThinEngine.prototype.bindUniformBlock=function(t,n,u){var c=t.program,l=this._gl.getUniformBlockIndex(c,n);this._gl.uniformBlockBinding(c,l,u)},ThinEngine.prototype.bindIndexBuffer=function(t){this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.bindBuffer(t,this._gl.ELEMENT_ARRAY_BUFFER)},ThinEngine.prototype.bindBuffer=function(t,n){(this._vaoRecordInProgress||this._currentBoundBuffer[n]!==t)&&(this._gl.bindBuffer(n,t?t.underlyingResource:null),this._currentBoundBuffer[n]=t)},ThinEngine.prototype.updateArrayBuffer=function(t){this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,t)},ThinEngine.prototype._vertexAttribPointer=function(t,n,u,c,l,d,h){var p=this._currentBufferPointers[n];if(p){var m=!1;p.active?(p.buffer!==t&&(p.buffer=t,m=!0),p.size!==u&&(p.size=u,m=!0),p.type!==c&&(p.type=c,m=!0),p.normalized!==l&&(p.normalized=l,m=!0),p.stride!==d&&(p.stride=d,m=!0),p.offset!==h&&(p.offset=h,m=!0)):(m=!0,p.active=!0,p.index=n,p.size=u,p.type=c,p.normalized=l,p.stride=d,p.offset=h,p.buffer=t),(m||this._vaoRecordInProgress)&&(this.bindArrayBuffer(t),this._gl.vertexAttribPointer(n,u,c,l,d,h))}},ThinEngine.prototype._bindIndexBufferWithCache=function(t){null!=t&&this._cachedIndexBuffer!==t&&(this._cachedIndexBuffer=t,this.bindIndexBuffer(t),this._uintIndicesCurrentlySet=t.is32Bits)},ThinEngine.prototype._bindVertexBuffersAttributes=function(t,n){var u=n.getAttributesNames();this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.unbindAllAttributes();for(var c=0;c<u.length;c++){var l=n.getAttributeLocation(c);if(l>=0){var d=t[u[c]];if(!d)continue;this._gl.enableVertexAttribArray(l),this._vaoRecordInProgress||(this._vertexAttribArraysEnabled[l]=!0);var h=d.getBuffer();h&&(this._vertexAttribPointer(h,l,d.getSize(),d.type,d.normalized,d.byteStride,d.byteOffset),d.getIsInstanced()&&(this._gl.vertexAttribDivisor(l,d.getInstanceDivisor()),this._vaoRecordInProgress||(this._currentInstanceLocations.push(l),this._currentInstanceBuffers.push(h))))}}},ThinEngine.prototype.recordVertexArrayObject=function(t,n,u){var c=this._gl.createVertexArray();return this._vaoRecordInProgress=!0,this._gl.bindVertexArray(c),this._mustWipeVertexAttributes=!0,this._bindVertexBuffersAttributes(t,u),this.bindIndexBuffer(n),this._vaoRecordInProgress=!1,this._gl.bindVertexArray(null),c},ThinEngine.prototype.bindVertexArrayObject=function(t,n){this._cachedVertexArrayObject!==t&&(this._cachedVertexArrayObject=t,this._gl.bindVertexArray(t),this._cachedVertexBuffers=null,this._cachedIndexBuffer=null,this._uintIndicesCurrentlySet=null!=n&&n.is32Bits,this._mustWipeVertexAttributes=!0)},ThinEngine.prototype.bindBuffersDirectly=function(t,n,u,c,l){if(this._cachedVertexBuffers!==t||this._cachedEffectForVertexBuffers!==l){this._cachedVertexBuffers=t,this._cachedEffectForVertexBuffers=l;var d=l.getAttributesCount();this._unbindVertexArrayObject(),this.unbindAllAttributes();for(var h=0,p=0;p<d;p++)if(p<u.length){var m=l.getAttributeLocation(p);m>=0&&(this._gl.enableVertexAttribArray(m),this._vertexAttribArraysEnabled[m]=!0,this._vertexAttribPointer(t,m,u[p],this._gl.FLOAT,!1,c,h)),h+=4*u[p]}}this._bindIndexBufferWithCache(n)},ThinEngine.prototype._unbindVertexArrayObject=function(){this._cachedVertexArrayObject&&(this._cachedVertexArrayObject=null,this._gl.bindVertexArray(null))},ThinEngine.prototype.bindBuffers=function(t,n,u){this._cachedVertexBuffers===t&&this._cachedEffectForVertexBuffers===u||(this._cachedVertexBuffers=t,this._cachedEffectForVertexBuffers=u,this._bindVertexBuffersAttributes(t,u)),this._bindIndexBufferWithCache(n)},ThinEngine.prototype.unbindInstanceAttributes=function(){for(var t,n=0,u=this._currentInstanceLocations.length;n<u;n++){var c=this._currentInstanceBuffers[n];t!=c&&c.references&&(t=c,this.bindArrayBuffer(c));var l=this._currentInstanceLocations[n];this._gl.vertexAttribDivisor(l,0)}this._currentInstanceBuffers.length=0,this._currentInstanceLocations.length=0},ThinEngine.prototype.releaseVertexArrayObject=function(t){this._gl.deleteVertexArray(t)},ThinEngine.prototype._releaseBuffer=function(t){return t.references--,0===t.references&&(this._deleteBuffer(t),!0)},ThinEngine.prototype._deleteBuffer=function(t){this._gl.deleteBuffer(t.underlyingResource)},ThinEngine.prototype.updateAndBindInstancesBuffer=function(t,n,u){if(this.bindArrayBuffer(t),n&&this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,n),void 0!==u[0].index)this.bindInstancesBuffer(t,u,!0);else for(var c=0;c<4;c++){var l=u[c];this._vertexAttribArraysEnabled[l]||(this._gl.enableVertexAttribArray(l),this._vertexAttribArraysEnabled[l]=!0),this._vertexAttribPointer(t,l,4,this._gl.FLOAT,!1,64,16*c),this._gl.vertexAttribDivisor(l,1),this._currentInstanceLocations.push(l),this._currentInstanceBuffers.push(t)}},ThinEngine.prototype.bindInstancesBuffer=function(t,n,u){void 0===u&&(u=!0),this.bindArrayBuffer(t);var c=0;if(u)for(var l=0;l<n.length;l++){var d=n[l];c+=4*d.attributeSize}for(l=0;l<n.length;l++){d=n[l];void 0===d.index&&(d.index=this._currentEffect.getAttributeLocationByName(d.attributeName)),d.index<0||(this._vertexAttribArraysEnabled[d.index]||(this._gl.enableVertexAttribArray(d.index),this._vertexAttribArraysEnabled[d.index]=!0),this._vertexAttribPointer(t,d.index,d.attributeSize,d.attributeType||this._gl.FLOAT,d.normalized||!1,c,d.offset),this._gl.vertexAttribDivisor(d.index,void 0===d.divisor?1:d.divisor),this._currentInstanceLocations.push(d.index),this._currentInstanceBuffers.push(t))}},ThinEngine.prototype.disableInstanceAttributeByName=function(t){if(this._currentEffect){var n=this._currentEffect.getAttributeLocationByName(t);this.disableInstanceAttribute(n)}},ThinEngine.prototype.disableInstanceAttribute=function(t){var n,u=!1;while(-1!==(n=this._currentInstanceLocations.indexOf(t)))this._currentInstanceLocations.splice(n,1),this._currentInstanceBuffers.splice(n,1),u=!0,n=this._currentInstanceLocations.indexOf(t);u&&(this._gl.vertexAttribDivisor(t,0),this.disableAttributeByIndex(t))},ThinEngine.prototype.disableAttributeByIndex=function(t){this._gl.disableVertexAttribArray(t),this._vertexAttribArraysEnabled[t]=!1,this._currentBufferPointers[t].active=!1},ThinEngine.prototype.draw=function(t,n,u,c){this.drawElementsType(t?0:1,n,u,c)},ThinEngine.prototype.drawPointClouds=function(t,n,u){this.drawArraysType(2,t,n,u)},ThinEngine.prototype.drawUnIndexed=function(t,n,u,c){this.drawArraysType(t?0:1,n,u,c)},ThinEngine.prototype.drawElementsType=function(t,n,u,c){this.applyStates(),this._reportDrawCall();var l=this._drawMode(t),d=this._uintIndicesCurrentlySet?this._gl.UNSIGNED_INT:this._gl.UNSIGNED_SHORT,h=this._uintIndicesCurrentlySet?4:2;c?this._gl.drawElementsInstanced(l,u,d,n*h,c):this._gl.drawElements(l,u,d,n*h)},ThinEngine.prototype.drawArraysType=function(t,n,u,c){this.applyStates(),this._reportDrawCall();var l=this._drawMode(t);c?this._gl.drawArraysInstanced(l,n,u,c):this._gl.drawArrays(l,n,u)},ThinEngine.prototype._drawMode=function(t){switch(t){case 0:return this._gl.TRIANGLES;case 2:return this._gl.POINTS;case 1:return this._gl.LINES;case 3:return this._gl.POINTS;case 4:return this._gl.LINES;case 5:return this._gl.LINE_LOOP;case 6:return this._gl.LINE_STRIP;case 7:return this._gl.TRIANGLE_STRIP;case 8:return this._gl.TRIANGLE_FAN;default:return this._gl.TRIANGLES}},ThinEngine.prototype._reportDrawCall=function(){},ThinEngine.prototype._releaseEffect=function(t){this._compiledEffects[t._key]&&(delete this._compiledEffects[t._key],this._deletePipelineContext(t.getPipelineContext()))},ThinEngine.prototype._deletePipelineContext=function(t){var n=t;n&&n.program&&(n.program.__SPECTOR_rebuildProgram=null,this._gl.deleteProgram(n.program))},ThinEngine.prototype.createEffect=function(t,n,u,c,d,h,p,m,_){var g=t.vertexElement||t.vertex||t.vertexToken||t.vertexSource||t,b=t.fragmentElement||t.fragment||t.fragmentToken||t.fragmentSource||t,v=g+"+"+b+"@"+(d||n.defines);if(this._compiledEffects[v]){var U=this._compiledEffects[v];return p&&U.isReady()&&p(U),U}var G=new l["Effect"](t,n,u,c,this,d,h,p,m,_);return G._key=v,this._compiledEffects[v]=G,G},ThinEngine._ConcatenateShader=function(t,n,u){return void 0===u&&(u=""),u+(n?n+"\n":"")+t},ThinEngine.prototype._compileShader=function(t,n,u,c){return this._compileRawShader(ThinEngine._ConcatenateShader(t,u,c),n)},ThinEngine.prototype._compileRawShader=function(t,n){var u=this._gl,c=u.createShader("vertex"===n?u.VERTEX_SHADER:u.FRAGMENT_SHADER);if(!c)throw new Error("Something went wrong while compile the shader.");return u.shaderSource(c,t),u.compileShader(c),c},ThinEngine.prototype._getShaderSource=function(t){return this._gl.getShaderSource(t)},ThinEngine.prototype.createRawShaderProgram=function(t,n,u,c,l){void 0===l&&(l=null),c=c||this._gl;var d=this._compileRawShader(n,"vertex"),h=this._compileRawShader(u,"fragment");return this._createShaderProgram(t,d,h,c,l)},ThinEngine.prototype.createShaderProgram=function(t,n,u,c,l,d){void 0===d&&(d=null),l=l||this._gl;var h=this._webGLVersion>1?"#version 300 es\n#define WEBGL2 \n":"",p=this._compileShader(n,"vertex",c,h),m=this._compileShader(u,"fragment",c,h);return this._createShaderProgram(t,p,m,l,d)},ThinEngine.prototype.createPipelineContext=function(){var t=new X["WebGLPipelineContext"];return t.engine=this,this._caps.parallelShaderCompile&&(t.isParallelCompiled=!0),t},ThinEngine.prototype._createShaderProgram=function(t,n,u,c,l){void 0===l&&(l=null);var d=c.createProgram();if(t.program=d,!d)throw new Error("Unable to create program");return c.attachShader(d,n),c.attachShader(d,u),c.linkProgram(d),t.context=c,t.vertexShader=n,t.fragmentShader=u,t.isParallelCompiled||this._finalizePipelineContext(t),d},ThinEngine.prototype._finalizePipelineContext=function(t){var n=t.context,u=t.vertexShader,c=t.fragmentShader,l=t.program,d=n.getProgramParameter(l,n.LINK_STATUS);if(!d){if(!this._gl.getShaderParameter(u,this._gl.COMPILE_STATUS)){var h=this._gl.getShaderInfoLog(u);if(h)throw t.vertexCompilationError=h,new Error("VERTEX SHADER "+h)}if(!this._gl.getShaderParameter(c,this._gl.COMPILE_STATUS)){h=this._gl.getShaderInfoLog(c);if(h)throw t.fragmentCompilationError=h,new Error("FRAGMENT SHADER "+h)}var p=n.getProgramInfoLog(l);if(p)throw t.programLinkError=p,new Error(p)}if(this.validateShaderPrograms){n.validateProgram(l);var m=n.getProgramParameter(l,n.VALIDATE_STATUS);if(!m){p=n.getProgramInfoLog(l);if(p)throw t.programValidationError=p,new Error(p)}}n.deleteShader(u),n.deleteShader(c),t.vertexShader=void 0,t.fragmentShader=void 0,t.onCompiled&&(t.onCompiled(),t.onCompiled=void 0)},ThinEngine.prototype._preparePipelineContext=function(t,n,u,c,l,d,h){var p=t;p.program=c?this.createRawShaderProgram(p,n,u,void 0,h):this.createShaderProgram(p,n,u,d,void 0,h),p.program.__SPECTOR_rebuildProgram=l},ThinEngine.prototype._isRenderingStateCompiled=function(t){var n=t;return!!this._gl.getProgramParameter(n.program,this._caps.parallelShaderCompile.COMPLETION_STATUS_KHR)&&(this._finalizePipelineContext(n),!0)},ThinEngine.prototype._executeWhenRenderingStateIsCompiled=function(t,n){var u=t;if(u.isParallelCompiled){var c=u.onCompiled;u.onCompiled=c?function(){c(),n()}:n}else n()},ThinEngine.prototype.getUniforms=function(t,n){for(var u=new Array,c=t,l=0;l<n.length;l++)u.push(this._gl.getUniformLocation(c.program,n[l]));return u},ThinEngine.prototype.getAttributes=function(t,n){for(var u=[],c=t,l=0;l<n.length;l++)try{u.push(this._gl.getAttribLocation(c.program,n[l]))}catch(d){u.push(-1)}return u},ThinEngine.prototype.enableEffect=function(t){t&&t!==this._currentEffect&&(this.bindSamplers(t),this._currentEffect=t,t.onBind&&t.onBind(t),t._onBindObservable&&t._onBindObservable.notifyObservers(t))},ThinEngine.prototype.setInt=function(t,n){return!!t&&(this._gl.uniform1i(t,n),!0)},ThinEngine.prototype.setIntArray=function(t,n){return!!t&&(this._gl.uniform1iv(t,n),!0)},ThinEngine.prototype.setIntArray2=function(t,n){return!(!t||n.length%2!==0)&&(this._gl.uniform2iv(t,n),!0)},ThinEngine.prototype.setIntArray3=function(t,n){return!(!t||n.length%3!==0)&&(this._gl.uniform3iv(t,n),!0)},ThinEngine.prototype.setIntArray4=function(t,n){return!(!t||n.length%4!==0)&&(this._gl.uniform4iv(t,n),!0)},ThinEngine.prototype.setArray=function(t,n){return!!t&&(this._gl.uniform1fv(t,n),!0)},ThinEngine.prototype.setArray2=function(t,n){return!(!t||n.length%2!==0)&&(this._gl.uniform2fv(t,n),!0)},ThinEngine.prototype.setArray3=function(t,n){return!(!t||n.length%3!==0)&&(this._gl.uniform3fv(t,n),!0)},ThinEngine.prototype.setArray4=function(t,n){return!(!t||n.length%4!==0)&&(this._gl.uniform4fv(t,n),!0)},ThinEngine.prototype.setMatrices=function(t,n){return!!t&&(this._gl.uniformMatrix4fv(t,!1,n),!0)},ThinEngine.prototype.setMatrix3x3=function(t,n){return!!t&&(this._gl.uniformMatrix3fv(t,!1,n),!0)},ThinEngine.prototype.setMatrix2x2=function(t,n){return!!t&&(this._gl.uniformMatrix2fv(t,!1,n),!0)},ThinEngine.prototype.setFloat=function(t,n){return!!t&&(this._gl.uniform1f(t,n),!0)},ThinEngine.prototype.setFloat2=function(t,n,u){return!!t&&(this._gl.uniform2f(t,n,u),!0)},ThinEngine.prototype.setFloat3=function(t,n,u,c){return!!t&&(this._gl.uniform3f(t,n,u,c),!0)},ThinEngine.prototype.setFloat4=function(t,n,u,c,l){return!!t&&(this._gl.uniform4f(t,n,u,c,l),!0)},ThinEngine.prototype.applyStates=function(){if(this._depthCullingState.apply(this._gl),this._stencilState.apply(this._gl),this._alphaState.apply(this._gl),this._colorWriteChanged){this._colorWriteChanged=!1;var t=this._colorWrite;this._gl.colorMask(t,t,t,t)}},ThinEngine.prototype.setColorWrite=function(t){t!==this._colorWrite&&(this._colorWriteChanged=!0,this._colorWrite=t)},ThinEngine.prototype.getColorWrite=function(){return this._colorWrite},Object.defineProperty(ThinEngine.prototype,"depthCullingState",{get:function(){return this._depthCullingState},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"alphaState",{get:function(){return this._alphaState},enumerable:!1,configurable:!0}),Object.defineProperty(ThinEngine.prototype,"stencilState",{get:function(){return this._stencilState},enumerable:!1,configurable:!0}),ThinEngine.prototype.clearInternalTexturesCache=function(){this._internalTexturesCache=[]},ThinEngine.prototype.wipeCaches=function(t){this.preventCacheWipeBetweenFrames&&!t||(this._currentEffect=null,this._viewportCached.x=0,this._viewportCached.y=0,this._viewportCached.z=0,this._viewportCached.w=0,this._unbindVertexArrayObject(),t&&(this._currentProgram=null,this.resetTextureCache(),this._stencilState.reset(),this._depthCullingState.reset(),this._depthCullingState.depthFunc=this._gl.LEQUAL,this._alphaState.reset(),this._alphaMode=1,this._alphaEquation=0,this._colorWrite=!0,this._colorWriteChanged=!0,this._unpackFlipYCached=null,this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._gl.NONE),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),this._mustWipeVertexAttributes=!0,this.unbindAllAttributes()),this._resetVertexBufferBinding(),this._cachedIndexBuffer=null,this._cachedEffectForVertexBuffers=null,this.bindIndexBuffer(null))},ThinEngine.prototype._getSamplingParameters=function(t,n){var u=this._gl,c=u.NEAREST,l=u.NEAREST;switch(t){case 11:c=u.LINEAR,l=n?u.LINEAR_MIPMAP_NEAREST:u.LINEAR;break;case 3:c=u.LINEAR,l=n?u.LINEAR_MIPMAP_LINEAR:u.LINEAR;break;case 8:c=u.NEAREST,l=n?u.NEAREST_MIPMAP_LINEAR:u.NEAREST;break;case 4:c=u.NEAREST,l=n?u.NEAREST_MIPMAP_NEAREST:u.NEAREST;break;case 5:c=u.NEAREST,l=n?u.LINEAR_MIPMAP_NEAREST:u.LINEAR;break;case 6:c=u.NEAREST,l=n?u.LINEAR_MIPMAP_LINEAR:u.LINEAR;break;case 7:c=u.NEAREST,l=u.LINEAR;break;case 1:c=u.NEAREST,l=u.NEAREST;break;case 9:c=u.LINEAR,l=n?u.NEAREST_MIPMAP_NEAREST:u.NEAREST;break;case 10:c=u.LINEAR,l=n?u.NEAREST_MIPMAP_LINEAR:u.NEAREST;break;case 2:c=u.LINEAR,l=u.LINEAR;break;case 12:c=u.LINEAR,l=u.NEAREST;break}return{min:l,mag:c}},ThinEngine.prototype._createTexture=function(){var t=this._gl.createTexture();if(!t)throw new Error("Unable to create texture");return t},ThinEngine.prototype.createTexture=function(t,n,u,l,d,h,p,m,_,v,U,G,W){var X=this;void 0===d&&(d=3),void 0===h&&(h=null),void 0===p&&(p=null),void 0===m&&(m=null),void 0===_&&(_=null),void 0===v&&(v=null),void 0===U&&(U=null),t=t||"";var q="data:"===t.substr(0,5),K="blob:"===t.substr(0,5),Y=q&&-1!==t.indexOf(";base64,"),Q=_||new g["InternalTexture"](this,g["InternalTextureSource"].Url),Z=t;!this._transformTextureUrl||Y||_||m||(t=this._transformTextureUrl(t)),Z!==t&&(Q._originalUrl=Z);var $=t.lastIndexOf("."),J=U||($>-1?t.substring($).toLowerCase():""),ee=null,te=J.indexOf("?");te>-1&&(J=J.split("?")[0]);for(var re=0,ne=ThinEngine._TextureLoaders;re<ne.length;re++){var ie=ne[re];if(ie.canLoad(J,G)){ee=ie;break}}l&&l._addPendingData(Q),Q.url=t,Q.generateMipMaps=!n,Q.samplingMode=d,Q.invertY=u,this._doNotHandleContextLost||(Q._buffer=m);var oe=null;h&&!_&&(oe=Q.onLoadedObservable.add(h)),_||this._internalTexturesCache.push(Q);var onInternalError=function(u,_){l&&l._removePendingData(Q),t===Z?(oe&&Q.onLoadedObservable.remove(oe),c["EngineStore"].UseFallbackTexture&&X.createTexture(c["EngineStore"].FallbackTexture,n,Q.invertY,l,d,null,p,m,Q),p&&p((u||"Unknown error")+(c["EngineStore"].UseFallbackTexture?" - Fallback texture was used":""),_)):(b["Logger"].Warn("Failed to load "+t+", falling back to "+Z),X.createTexture(Z,n,Q.invertY,l,d,h,p,m,Q,v,U,G,W))};if(ee){var callback_1=function(t){ee.loadData(t,Q,(function(t,n,u,c,h,p){p?onInternalError("TextureLoader failed to load data"):X._prepareWebGLTexture(Q,l,t,n,Q.invertY,!u,c,(function(){return h(),!1}),d)}),W)};m?m instanceof ArrayBuffer?callback_1(new Uint8Array(m)):ArrayBuffer.isView(m)?callback_1(m):p&&p("Unable to load: only ArrayBuffer or ArrayBufferView is supported",null):this._loadFile(t,(function(t){return callback_1(new Uint8Array(t))}),void 0,l?l.offlineProvider:void 0,!0,(function(t,n){onInternalError("Unable to load "+(t&&t.responseURL,n))}))}else{var onload_1=function(t){K&&!X._doNotHandleContextLost&&(Q._buffer=t),X._prepareWebGLTexture(Q,l,t.width,t.height,Q.invertY,n,!1,(function(n,u,c){var d=X._gl,h=t.width===n&&t.height===u,p=v?X._getInternalFormat(v):".jpg"===J?d.RGB:d.RGBA;if(h)return d.texImage2D(d.TEXTURE_2D,0,p,p,d.UNSIGNED_BYTE,t),!1;var m=X._caps.maxTextureSize;if(t.width>m||t.height>m||!X._supportsHardwareTextureRescaling)return X._prepareWorkingCanvas(),!(!X._workingCanvas||!X._workingContext)&&(X._workingCanvas.width=n,X._workingCanvas.height=u,X._workingContext.drawImage(t,0,0,t.width,t.height,0,0,n,u),d.texImage2D(d.TEXTURE_2D,0,p,p,d.UNSIGNED_BYTE,X._workingCanvas),Q.width=n,Q.height=u,!1);var _=new g["InternalTexture"](X,g["InternalTextureSource"].Temp);return X._bindTextureDirectly(d.TEXTURE_2D,_,!0),d.texImage2D(d.TEXTURE_2D,0,p,p,d.UNSIGNED_BYTE,t),X._rescaleTexture(_,Q,l,p,(function(){X._releaseTexture(_),X._bindTextureDirectly(d.TEXTURE_2D,Q,!0),c()})),!0}),d)};!q||Y?m&&(m.decoding||m.close)?onload_1(m):ThinEngine._FileToolsLoadImage(t,onload_1,onInternalError,l?l.offlineProvider:null,G):"string"===typeof m||m instanceof ArrayBuffer||ArrayBuffer.isView(m)||m instanceof Blob?ThinEngine._FileToolsLoadImage(m,onload_1,onInternalError,l?l.offlineProvider:null,G):m&&onload_1(m)}return Q},ThinEngine._FileToolsLoadImage=function(t,n,u,c,l){throw d["_DevTools"].WarnImport("FileTools")},ThinEngine.prototype._rescaleTexture=function(t,n,u,c,l){},ThinEngine.prototype.createRawTexture=function(t,n,u,c,l,h,p,m,_){throw void 0===m&&(m=null),void 0===_&&(_=0),d["_DevTools"].WarnImport("Engine.RawTexture")},ThinEngine.prototype.createRawCubeTexture=function(t,n,u,c,l,h,p,m){throw void 0===m&&(m=null),d["_DevTools"].WarnImport("Engine.RawTexture")},ThinEngine.prototype.createRawTexture3D=function(t,n,u,c,l,h,p,m,_,g){throw void 0===_&&(_=null),void 0===g&&(g=0),d["_DevTools"].WarnImport("Engine.RawTexture")},ThinEngine.prototype.createRawTexture2DArray=function(t,n,u,c,l,h,p,m,_,g){throw void 0===_&&(_=null),void 0===g&&(g=0),d["_DevTools"].WarnImport("Engine.RawTexture")},ThinEngine.prototype._unpackFlipY=function(t){this._unpackFlipYCached!==t&&(this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,t?1:0),this.enableUnpackFlipYCached&&(this._unpackFlipYCached=t))},ThinEngine.prototype._getUnpackAlignement=function(){return this._gl.getParameter(this._gl.UNPACK_ALIGNMENT)},ThinEngine.prototype._getTextureTarget=function(t){return t.isCube?this._gl.TEXTURE_CUBE_MAP:t.is3D?this._gl.TEXTURE_3D:t.is2DArray||t.isMultiview?this._gl.TEXTURE_2D_ARRAY:this._gl.TEXTURE_2D},ThinEngine.prototype.updateTextureSamplingMode=function(t,n,u){void 0===u&&(u=!1);var c=this._getTextureTarget(n),l=this._getSamplingParameters(t,n.generateMipMaps||u);this._setTextureParameterInteger(c,this._gl.TEXTURE_MAG_FILTER,l.mag,n),this._setTextureParameterInteger(c,this._gl.TEXTURE_MIN_FILTER,l.min),u&&(n.generateMipMaps=!0,this._gl.generateMipmap(c)),this._bindTextureDirectly(c,null),n.samplingMode=t},ThinEngine.prototype.updateTextureWrappingMode=function(t,n,u,c){void 0===u&&(u=null),void 0===c&&(c=null);var l=this._getTextureTarget(t);null!==n&&(this._setTextureParameterInteger(l,this._gl.TEXTURE_WRAP_S,this._getTextureWrapMode(n),t),t._cachedWrapU=n),null!==u&&(this._setTextureParameterInteger(l,this._gl.TEXTURE_WRAP_T,this._getTextureWrapMode(u),t),t._cachedWrapV=u),(t.is2DArray||t.is3D)&&null!==c&&(this._setTextureParameterInteger(l,this._gl.TEXTURE_WRAP_R,this._getTextureWrapMode(c),t),t._cachedWrapR=c),this._bindTextureDirectly(l,null)},ThinEngine.prototype._setupDepthStencilTexture=function(t,n,u,c,l){var d=n.width||n,h=n.height||n,p=n.layers||0;t.baseWidth=d,t.baseHeight=h,t.width=d,t.height=h,t.is2DArray=p>0,t.depth=p,t.isReady=!0,t.samples=1,t.generateMipMaps=!1,t._generateDepthBuffer=!0,t._generateStencilBuffer=u,t.samplingMode=c?2:1,t.type=0,t._comparisonFunction=l;var m=this._gl,_=this._getTextureTarget(t),g=this._getSamplingParameters(t.samplingMode,!1);m.texParameteri(_,m.TEXTURE_MAG_FILTER,g.mag),m.texParameteri(_,m.TEXTURE_MIN_FILTER,g.min),m.texParameteri(_,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(_,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),0===l?(m.texParameteri(_,m.TEXTURE_COMPARE_FUNC,515),m.texParameteri(_,m.TEXTURE_COMPARE_MODE,m.NONE)):(m.texParameteri(_,m.TEXTURE_COMPARE_FUNC,l),m.texParameteri(_,m.TEXTURE_COMPARE_MODE,m.COMPARE_REF_TO_TEXTURE))},ThinEngine.prototype._uploadCompressedDataToTextureDirectly=function(t,n,u,c,l,d,h){void 0===d&&(d=0),void 0===h&&(h=0);var p=this._gl,m=p.TEXTURE_2D;t.isCube&&(m=p.TEXTURE_CUBE_MAP_POSITIVE_X+d),this._gl.compressedTexImage2D(m,h,n,u,c,0,l)},ThinEngine.prototype._uploadDataToTextureDirectly=function(t,n,u,c,l,d){void 0===u&&(u=0),void 0===c&&(c=0),void 0===d&&(d=!1);var h=this._gl,p=this._getWebGLTextureType(t.type),m=this._getInternalFormat(t.format),_=void 0===l?this._getRGBABufferInternalSizedFormat(t.type,t.format):this._getInternalFormat(l);this._unpackFlipY(t.invertY);var g=h.TEXTURE_2D;t.isCube&&(g=h.TEXTURE_CUBE_MAP_POSITIVE_X+u);var b=Math.round(Math.log(t.width)*Math.LOG2E),v=Math.round(Math.log(t.height)*Math.LOG2E),U=d?t.width:Math.pow(2,Math.max(b-c,0)),G=d?t.height:Math.pow(2,Math.max(v-c,0));h.texImage2D(g,c,_,U,G,0,m,p,n)},ThinEngine.prototype.updateTextureData=function(t,n,u,c,l,d,h,p){void 0===h&&(h=0),void 0===p&&(p=0);var m=this._gl,_=this._getWebGLTextureType(t.type),g=this._getInternalFormat(t.format);this._unpackFlipY(t.invertY);var b=m.TEXTURE_2D;t.isCube&&(b=m.TEXTURE_CUBE_MAP_POSITIVE_X+h),m.texSubImage2D(b,p,u,c,l,d,g,_,n)},ThinEngine.prototype._uploadArrayBufferViewToTexture=function(t,n,u,c){void 0===u&&(u=0),void 0===c&&(c=0);var l=this._gl,d=t.isCube?l.TEXTURE_CUBE_MAP:l.TEXTURE_2D;this._bindTextureDirectly(d,t,!0),this._uploadDataToTextureDirectly(t,n,u,c),this._bindTextureDirectly(d,null,!0)},ThinEngine.prototype._prepareWebGLTextureContinuation=function(t,n,u,c,l){var d=this._gl;if(d){var h=this._getSamplingParameters(l,!u);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,h.mag),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,h.min),u||c||d.generateMipmap(d.TEXTURE_2D),this._bindTextureDirectly(d.TEXTURE_2D,null),n&&n._removePendingData(t),t.onLoadedObservable.notifyObservers(t),t.onLoadedObservable.clear()}},ThinEngine.prototype._prepareWebGLTexture=function(t,n,u,c,l,d,h,p,m){var _=this;void 0===m&&(m=3);var g=this.getCaps().maxTextureSize,b=Math.min(g,this.needPOTTextures?ThinEngine.GetExponentOfTwo(u,g):u),v=Math.min(g,this.needPOTTextures?ThinEngine.GetExponentOfTwo(c,g):c),U=this._gl;U&&(t._webGLTexture?(this._bindTextureDirectly(U.TEXTURE_2D,t,!0),this._unpackFlipY(void 0===l||!!l),t.baseWidth=u,t.baseHeight=c,t.width=b,t.height=v,t.isReady=!0,p(b,v,(function(){_._prepareWebGLTextureContinuation(t,n,d,h,m)}))||this._prepareWebGLTextureContinuation(t,n,d,h,m)):n&&n._removePendingData(t))},ThinEngine.prototype._setupFramebufferDepthAttachments=function(t,n,u,c,l){void 0===l&&(l=1);var d=this._gl;if(t&&n)return this._getDepthStencilBuffer(u,c,l,d.DEPTH_STENCIL,d.DEPTH24_STENCIL8,d.DEPTH_STENCIL_ATTACHMENT);if(n){var h=d.DEPTH_COMPONENT16;return this._webGLVersion>1&&(h=d.DEPTH_COMPONENT32F),this._getDepthStencilBuffer(u,c,l,h,h,d.DEPTH_ATTACHMENT)}return t?this._getDepthStencilBuffer(u,c,l,d.STENCIL_INDEX8,d.STENCIL_INDEX8,d.STENCIL_ATTACHMENT):null},ThinEngine.prototype._releaseFramebufferObjects=function(t){var n=this._gl;t._framebuffer&&(n.deleteFramebuffer(t._framebuffer),t._framebuffer=null),t._depthStencilBuffer&&(n.deleteRenderbuffer(t._depthStencilBuffer),t._depthStencilBuffer=null),t._MSAAFramebuffer&&(n.deleteFramebuffer(t._MSAAFramebuffer),t._MSAAFramebuffer=null),t._MSAARenderBuffer&&(n.deleteRenderbuffer(t._MSAARenderBuffer),t._MSAARenderBuffer=null)},ThinEngine.prototype._releaseTexture=function(t){this._releaseFramebufferObjects(t),this._deleteTexture(t._webGLTexture),this.unbindAllTextures();var n=this._internalTexturesCache.indexOf(t);-1!==n&&this._internalTexturesCache.splice(n,1),t._lodTextureHigh&&t._lodTextureHigh.dispose(),t._lodTextureMid&&t._lodTextureMid.dispose(),t._lodTextureLow&&t._lodTextureLow.dispose(),t._irradianceTexture&&t._irradianceTexture.dispose()},ThinEngine.prototype._deleteTexture=function(t){this._gl.deleteTexture(t)},ThinEngine.prototype._setProgram=function(t){this._currentProgram!==t&&(this._gl.useProgram(t),this._currentProgram=t)},ThinEngine.prototype.bindSamplers=function(t){var n=t.getPipelineContext();this._setProgram(n.program);for(var u=t.getSamplers(),c=0;c<u.length;c++){var l=t.getUniform(u[c]);l&&(this._boundUniforms[c]=l)}this._currentEffect=null},ThinEngine.prototype._activateCurrentTexture=function(){this._currentTextureChannel!==this._activeChannel&&(this._gl.activeTexture(this._gl.TEXTURE0+this._activeChannel),this._currentTextureChannel=this._activeChannel)},ThinEngine.prototype._bindTextureDirectly=function(t,n,u,c){void 0===u&&(u=!1),void 0===c&&(c=!1);var l=!1,d=n&&n._associatedChannel>-1;u&&d&&(this._activeChannel=n._associatedChannel);var h=this._boundTexturesCache[this._activeChannel];return h!==n||c?(this._activateCurrentTexture(),n&&n.isMultiview?this._gl.bindTexture(t,n?n._colorTextureArray:null):this._gl.bindTexture(t,n?n._webGLTexture:null),this._boundTexturesCache[this._activeChannel]=n,n&&(n._associatedChannel=this._activeChannel)):u&&(l=!0,this._activateCurrentTexture()),d&&!u&&this._bindSamplerUniformToChannel(n._associatedChannel,this._activeChannel),l},ThinEngine.prototype._bindTexture=function(t,n){if(void 0!==t){n&&(n._associatedChannel=t),this._activeChannel=t;var u=n?this._getTextureTarget(n):this._gl.TEXTURE_2D;this._bindTextureDirectly(u,n)}},ThinEngine.prototype.unbindAllTextures=function(){for(var t=0;t<this._maxSimultaneousTextures;t++)this._activeChannel=t,this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),this.webGLVersion>1&&(this._bindTextureDirectly(this._gl.TEXTURE_3D,null),this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY,null))},ThinEngine.prototype.setTexture=function(t,n,u){void 0!==t&&(n&&(this._boundUniforms[t]=n),this._setTexture(t,u))},ThinEngine.prototype._bindSamplerUniformToChannel=function(t,n){var u=this._boundUniforms[t];u&&u._currentState!==n&&(this._gl.uniform1i(u,n),u._currentState=n)},ThinEngine.prototype._getTextureWrapMode=function(t){switch(t){case 1:return this._gl.REPEAT;case 0:return this._gl.CLAMP_TO_EDGE;case 2:return this._gl.MIRRORED_REPEAT}return this._gl.REPEAT},ThinEngine.prototype._setTexture=function(t,n,u,c){if(void 0===u&&(u=!1),void 0===c&&(c=!1),!n)return null!=this._boundTexturesCache[t]&&(this._activeChannel=t,this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),this.webGLVersion>1&&(this._bindTextureDirectly(this._gl.TEXTURE_3D,null),this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY,null))),!1;if(n.video)this._activeChannel=t,n.update();else if(4===n.delayLoadState)return n.delayLoad(),!1;var l;l=c?n.depthStencilTexture:n.isReady()?n.getInternalTexture():n.isCube?this.emptyCubeTexture:n.is3D?this.emptyTexture3D:n.is2DArray?this.emptyTexture2DArray:this.emptyTexture,!u&&l&&(l._associatedChannel=t);var d=!0;this._boundTexturesCache[t]===l&&(u||this._bindSamplerUniformToChannel(l._associatedChannel,t),d=!1),this._activeChannel=t;var h=this._getTextureTarget(l);if(d&&this._bindTextureDirectly(h,l,u),l&&!l.isMultiview){if(l.isCube&&l._cachedCoordinatesMode!==n.coordinatesMode){l._cachedCoordinatesMode=n.coordinatesMode;var p=3!==n.coordinatesMode&&5!==n.coordinatesMode?1:0;n.wrapU=p,n.wrapV=p}l._cachedWrapU!==n.wrapU&&(l._cachedWrapU=n.wrapU,this._setTextureParameterInteger(h,this._gl.TEXTURE_WRAP_S,this._getTextureWrapMode(n.wrapU),l)),l._cachedWrapV!==n.wrapV&&(l._cachedWrapV=n.wrapV,this._setTextureParameterInteger(h,this._gl.TEXTURE_WRAP_T,this._getTextureWrapMode(n.wrapV),l)),l.is3D&&l._cachedWrapR!==n.wrapR&&(l._cachedWrapR=n.wrapR,this._setTextureParameterInteger(h,this._gl.TEXTURE_WRAP_R,this._getTextureWrapMode(n.wrapR),l)),this._setAnisotropicLevel(h,l,n.anisotropicFilteringLevel)}return!0},ThinEngine.prototype.setTextureArray=function(t,n,u){if(void 0!==t&&n){this._textureUnits&&this._textureUnits.length===u.length||(this._textureUnits=new Int32Array(u.length));for(var c=0;c<u.length;c++){var l=u[c].getInternalTexture();l?(this._textureUnits[c]=t+c,l._associatedChannel=t+c):this._textureUnits[c]=-1}this._gl.uniform1iv(n,this._textureUnits);for(var d=0;d<u.length;d++)this._setTexture(this._textureUnits[d],u[d],!0)}},ThinEngine.prototype._setAnisotropicLevel=function(t,n,u){var c=this._caps.textureAnisotropicFilterExtension;11!==n.samplingMode&&3!==n.samplingMode&&2!==n.samplingMode&&(u=1),c&&n._cachedAnisotropicFilteringLevel!==u&&(this._setTextureParameterFloat(t,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(u,this._caps.maxAnisotropy),n),n._cachedAnisotropicFilteringLevel=u)},ThinEngine.prototype._setTextureParameterFloat=function(t,n,u,c){this._bindTextureDirectly(t,c,!0,!0),this._gl.texParameterf(t,n,u)},ThinEngine.prototype._setTextureParameterInteger=function(t,n,u,c){c&&this._bindTextureDirectly(t,c,!0,!0),this._gl.texParameteri(t,n,u)},ThinEngine.prototype.unbindAllAttributes=function(){if(this._mustWipeVertexAttributes){this._mustWipeVertexAttributes=!1;for(var t=0;t<this._caps.maxVertexAttribs;t++)this.disableAttributeByIndex(t)}else{t=0;for(var n=this._vertexAttribArraysEnabled.length;t<n;t++)t>=this._caps.maxVertexAttribs||!this._vertexAttribArraysEnabled[t]||this.disableAttributeByIndex(t)}},ThinEngine.prototype.releaseEffects=function(){for(var t in this._compiledEffects){var n=this._compiledEffects[t].getPipelineContext();this._deletePipelineContext(n)}this._compiledEffects={}},ThinEngine.prototype.dispose=function(){this.stopRenderLoop(),this.onBeforeTextureInitObservable&&this.onBeforeTextureInitObservable.clear(),this._emptyTexture&&(this._releaseTexture(this._emptyTexture),this._emptyTexture=null),this._emptyCubeTexture&&(this._releaseTexture(this._emptyCubeTexture),this._emptyCubeTexture=null),this._dummyFramebuffer&&this._gl.deleteFramebuffer(this._dummyFramebuffer),this.releaseEffects(),this.unbindAllAttributes(),this._boundUniforms=[],v["DomManagement"].IsWindowObjectExist()&&this._renderingCanvas&&(this._doNotHandleContextLost||(this._renderingCanvas.removeEventListener("webglcontextlost",this._onContextLost),this._renderingCanvas.removeEventListener("webglcontextrestored",this._onContextRestored))),this._workingCanvas=null,this._workingContext=null,this._currentBufferPointers=[],this._renderingCanvas=null,this._currentProgram=null,this._boundRenderFunction=null,l["Effect"].ResetCache();for(var t=0,n=this._activeRequests;t<n.length;t++){var u=n[t];u.abort()}},ThinEngine.prototype.attachContextLostEvent=function(t){this._renderingCanvas&&this._renderingCanvas.addEventListener("webglcontextlost",t,!1)},ThinEngine.prototype.attachContextRestoredEvent=function(t){this._renderingCanvas&&this._renderingCanvas.addEventListener("webglcontextrestored",t,!1)},ThinEngine.prototype.getError=function(){return this._gl.getError()},ThinEngine.prototype._canRenderToFloatFramebuffer=function(){return this._webGLVersion>1?this._caps.colorBufferFloat:this._canRenderToFramebuffer(1)},ThinEngine.prototype._canRenderToHalfFloatFramebuffer=function(){return this._webGLVersion>1?this._caps.colorBufferFloat:this._canRenderToFramebuffer(2)},ThinEngine.prototype._canRenderToFramebuffer=function(t){var n=this._gl;while(n.getError()!==n.NO_ERROR);var u=!0,c=n.createTexture();n.bindTexture(n.TEXTURE_2D,c),n.texImage2D(n.TEXTURE_2D,0,this._getRGBABufferInternalSizedFormat(t),1,1,0,n.RGBA,this._getWebGLTextureType(t),null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);var l=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,l),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,c,0);var d=n.checkFramebufferStatus(n.FRAMEBUFFER);if(u=u&&d===n.FRAMEBUFFER_COMPLETE,u=u&&n.getError()===n.NO_ERROR,u&&(n.clear(n.COLOR_BUFFER_BIT),u=u&&n.getError()===n.NO_ERROR),u){n.bindFramebuffer(n.FRAMEBUFFER,null);var h=n.RGBA,p=n.UNSIGNED_BYTE,m=new Uint8Array(4);n.readPixels(0,0,1,1,h,p,m),u=u&&n.getError()===n.NO_ERROR}n.deleteTexture(c),n.deleteFramebuffer(l),n.bindFramebuffer(n.FRAMEBUFFER,null);while(!u&&n.getError()!==n.NO_ERROR);return u},ThinEngine.prototype._getWebGLTextureType=function(t){if(1===this._webGLVersion){switch(t){case 1:return this._gl.FLOAT;case 2:return this._gl.HALF_FLOAT_OES;case 0:return this._gl.UNSIGNED_BYTE;case 8:return this._gl.UNSIGNED_SHORT_4_4_4_4;case 9:return this._gl.UNSIGNED_SHORT_5_5_5_1;case 10:return this._gl.UNSIGNED_SHORT_5_6_5}return this._gl.UNSIGNED_BYTE}switch(t){case 3:return this._gl.BYTE;case 0:return this._gl.UNSIGNED_BYTE;case 4:return this._gl.SHORT;case 5:return this._gl.UNSIGNED_SHORT;case 6:return this._gl.INT;case 7:return this._gl.UNSIGNED_INT;case 1:return this._gl.FLOAT;case 2:return this._gl.HALF_FLOAT;case 8:return this._gl.UNSIGNED_SHORT_4_4_4_4;case 9:return this._gl.UNSIGNED_SHORT_5_5_5_1;case 10:return this._gl.UNSIGNED_SHORT_5_6_5;case 11:return this._gl.UNSIGNED_INT_2_10_10_10_REV;case 12:return this._gl.UNSIGNED_INT_24_8;case 13:return this._gl.UNSIGNED_INT_10F_11F_11F_REV;case 14:return this._gl.UNSIGNED_INT_5_9_9_9_REV;case 15:return this._gl.FLOAT_32_UNSIGNED_INT_24_8_REV}return this._gl.UNSIGNED_BYTE},ThinEngine.prototype._getInternalFormat=function(t){var n=this._gl.RGBA;switch(t){case 0:n=this._gl.ALPHA;break;case 1:n=this._gl.LUMINANCE;break;case 2:n=this._gl.LUMINANCE_ALPHA;break;case 6:n=this._gl.RED;break;case 7:n=this._gl.RG;break;case 4:n=this._gl.RGB;break;case 5:n=this._gl.RGBA;break}if(this._webGLVersion>1)switch(t){case 8:n=this._gl.RED_INTEGER;break;case 9:n=this._gl.RG_INTEGER;break;case 10:n=this._gl.RGB_INTEGER;break;case 11:n=this._gl.RGBA_INTEGER;break}return n},ThinEngine.prototype._getRGBABufferInternalSizedFormat=function(t,n){if(1===this._webGLVersion){if(void 0!==n)switch(n){case 0:return this._gl.ALPHA;case 1:return this._gl.LUMINANCE;case 2:return this._gl.LUMINANCE_ALPHA;case 4:return this._gl.RGB}return this._gl.RGBA}switch(t){case 3:switch(n){case 6:return this._gl.R8_SNORM;case 7:return this._gl.RG8_SNORM;case 4:return this._gl.RGB8_SNORM;case 8:return this._gl.R8I;case 9:return this._gl.RG8I;case 10:return this._gl.RGB8I;case 11:return this._gl.RGBA8I;default:return this._gl.RGBA8_SNORM}case 0:switch(n){case 6:return this._gl.R8;case 7:return this._gl.RG8;case 4:return this._gl.RGB8;case 5:return this._gl.RGBA8;case 8:return this._gl.R8UI;case 9:return this._gl.RG8UI;case 10:return this._gl.RGB8UI;case 11:return this._gl.RGBA8UI;case 0:return this._gl.ALPHA;case 1:return this._gl.LUMINANCE;case 2:return this._gl.LUMINANCE_ALPHA;default:return this._gl.RGBA8}case 4:switch(n){case 8:return this._gl.R16I;case 9:return this._gl.RG16I;case 10:return this._gl.RGB16I;case 11:return this._gl.RGBA16I;default:return this._gl.RGBA16I}case 5:switch(n){case 8:return this._gl.R16UI;case 9:return this._gl.RG16UI;case 10:return this._gl.RGB16UI;case 11:return this._gl.RGBA16UI;default:return this._gl.RGBA16UI}case 6:switch(n){case 8:return this._gl.R32I;case 9:return this._gl.RG32I;case 10:return this._gl.RGB32I;case 11:return this._gl.RGBA32I;default:return this._gl.RGBA32I}case 7:switch(n){case 8:return this._gl.R32UI;case 9:return this._gl.RG32UI;case 10:return this._gl.RGB32UI;case 11:return this._gl.RGBA32UI;default:return this._gl.RGBA32UI}case 1:switch(n){case 6:return this._gl.R32F;case 7:return this._gl.RG32F;case 4:return this._gl.RGB32F;case 5:return this._gl.RGBA32F;default:return this._gl.RGBA32F}case 2:switch(n){case 6:return this._gl.R16F;case 7:return this._gl.RG16F;case 4:return this._gl.RGB16F;case 5:return this._gl.RGBA16F;default:return this._gl.RGBA16F}case 10:return this._gl.RGB565;case 13:return this._gl.R11F_G11F_B10F;case 14:return this._gl.RGB9_E5;case 8:return this._gl.RGBA4;case 9:return this._gl.RGB5_A1;case 11:switch(n){case 5:return this._gl.RGB10_A2;case 11:return this._gl.RGB10_A2UI;default:return this._gl.RGB10_A2}}return this._gl.RGBA8},ThinEngine.prototype._getRGBAMultiSampleBufferFormat=function(t){return 1===t?this._gl.RGBA32F:2===t?this._gl.RGBA16F:this._gl.RGBA8},ThinEngine.prototype._loadFile=function(t,n,u,c,l,d){var h=this,p=ThinEngine._FileToolsLoadFile(t,n,u,c,l,d);return this._activeRequests.push(p),p.onCompleteObservable.add((function(t){h._activeRequests.splice(h._activeRequests.indexOf(t),1)})),p},ThinEngine._FileToolsLoadFile=function(t,n,u,c,l,h){throw d["_DevTools"].WarnImport("FileTools")},ThinEngine.prototype.readPixels=function(t,n,u,c,l){void 0===l&&(l=!0);var d=l?4:3,h=l?this._gl.RGBA:this._gl.RGB,p=new Uint8Array(c*u*d);return this._gl.readPixels(t,n,u,c,h,this._gl.UNSIGNED_BYTE,p),p},Object.defineProperty(ThinEngine,"IsSupported",{get:function(){return this.isSupported()},enumerable:!1,configurable:!0}),ThinEngine.isSupported=function(){if(null!==this._HasMajorPerformanceCaveat)return!this._HasMajorPerformanceCaveat;if(null===this._IsSupported)try{var t=q["CanvasGenerator"].CreateCanvas(1,1),n=t.getContext("webgl")||t.getContext("experimental-webgl");this._IsSupported=null!=n&&!!window.WebGLRenderingContext}catch(u){this._IsSupported=!1}return this._IsSupported},Object.defineProperty(ThinEngine,"HasMajorPerformanceCaveat",{get:function(){if(null===this._HasMajorPerformanceCaveat)try{var t=q["CanvasGenerator"].CreateCanvas(1,1),n=t.getContext("webgl",{failIfMajorPerformanceCaveat:!0})||t.getContext("experimental-webgl",{failIfMajorPerformanceCaveat:!0});this._HasMajorPerformanceCaveat=!n}catch(u){this._HasMajorPerformanceCaveat=!1}return this._HasMajorPerformanceCaveat},enumerable:!1,configurable:!0}),ThinEngine.CeilingPOT=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t},ThinEngine.FloorPOT=function(t){return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t-(t>>1)},ThinEngine.NearestPOT=function(t){var n=ThinEngine.CeilingPOT(t),u=ThinEngine.FloorPOT(t);return n-t>t-u?u:n},ThinEngine.GetExponentOfTwo=function(t,n,u){var c;switch(void 0===u&&(u=2),u){case 1:c=ThinEngine.FloorPOT(t);break;case 2:c=ThinEngine.NearestPOT(t);break;case 3:default:c=ThinEngine.CeilingPOT(t);break}return Math.min(c,n)},ThinEngine.QueueNewFrame=function(t,n){return v["DomManagement"].IsWindowObjectExist()?(n||(n=window),n.requestPostAnimationFrame?n.requestPostAnimationFrame(t):n.requestAnimationFrame?n.requestAnimationFrame(t):n.msRequestAnimationFrame?n.msRequestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.mozRequestAnimationFrame?n.mozRequestAnimationFrame(t):n.oRequestAnimationFrame?n.oRequestAnimationFrame(t):window.setTimeout(t,16)):"undefined"!==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,16)},ThinEngine.prototype.getHostDocument=function(){return this._renderingCanvas&&this._renderingCanvas.ownerDocument?this._renderingCanvas.ownerDocument:document},ThinEngine.ExceptionList=[{key:"Chrome/63.0",capture:"63\\.0\\.3239\\.(\\d+)",captureConstraint:108,targets:["uniformBuffer"]},{key:"Firefox/58",capture:null,captureConstraint:null,targets:["uniformBuffer"]},{key:"Firefox/59",capture:null,captureConstraint:null,targets:["uniformBuffer"]},{key:"Chrome/72.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Chrome/73.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Chrome/74.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Mac OS.+Chrome/71",capture:null,captureConstraint:null,targets:["vao"]},{key:"Mac OS.+Chrome/72",capture:null,captureConstraint:null,targets:["vao"]}],ThinEngine._TextureLoaders=[],ThinEngine.CollisionsEpsilon=.001,ThinEngine._IsSupported=null,ThinEngine._HasMajorPerformanceCaveat=null,ThinEngine}()},"./node_modules/@babylonjs/core/Events/keyboardEvents.js":function(t,n,u){"use strict";u.r(n),u.d(n,"KeyboardEventTypes",(function(){return l})),u.d(n,"KeyboardInfo",(function(){return d})),u.d(n,"KeyboardInfoPre",(function(){return h}));var c=u("./node_modules/tslib/tslib.es6.js"),l=function(){function KeyboardEventTypes(){}return KeyboardEventTypes.KEYDOWN=1,KeyboardEventTypes.KEYUP=2,KeyboardEventTypes}(),d=function(){function KeyboardInfo(t,n){this.type=t,this.event=n}return KeyboardInfo}(),h=function(t){function KeyboardInfoPre(n,u){var c=t.call(this,n,u)||this;return c.type=n,c.event=u,c.skipOnPointerObservable=!1,c}return Object(c["__extends"])(KeyboardInfoPre,t),KeyboardInfoPre}(d)},"./node_modules/@babylonjs/core/Events/pointerEvents.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PointerEventTypes",(function(){return d})),u.d(n,"PointerInfoBase",(function(){return h})),u.d(n,"PointerInfoPre",(function(){return p})),u.d(n,"PointerInfo",(function(){return m}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=function(){function PointerEventTypes(){}return PointerEventTypes.POINTERDOWN=1,PointerEventTypes.POINTERUP=2,PointerEventTypes.POINTERMOVE=4,PointerEventTypes.POINTERWHEEL=8,PointerEventTypes.POINTERPICK=16,PointerEventTypes.POINTERTAP=32,PointerEventTypes.POINTERDOUBLETAP=64,PointerEventTypes}(),h=function(){function PointerInfoBase(t,n){this.type=t,this.event=n}return PointerInfoBase}(),p=function(t){function PointerInfoPre(n,u,c,d){var h=t.call(this,n,u)||this;return h.ray=null,h.skipOnPointerObservable=!1,h.localPosition=new l["Vector2"](c,d),h}return Object(c["__extends"])(PointerInfoPre,t),PointerInfoPre}(h),m=function(t){function PointerInfo(n,u,c){var l=t.call(this,n,u)||this;return l.pickInfo=c,l}return Object(c["__extends"])(PointerInfo,t),PointerInfo}(h)},"./node_modules/@babylonjs/core/Inputs/scene.inputManager.js":function(t,n,u){"use strict";u.r(n),u.d(n,"InputManager",(function(){return g}));var c=u("./node_modules/@babylonjs/core/Events/pointerEvents.js"),l=u("./node_modules/@babylonjs/core/Actions/abstractActionManager.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Actions/actionEvent.js"),p=u("./node_modules/@babylonjs/core/Misc/tools.js"),m=u("./node_modules/@babylonjs/core/Events/keyboardEvents.js"),_=function(){function _ClickInfo(){this._singleClick=!1,this._doubleClick=!1,this._hasSwiped=!1,this._ignore=!1}return Object.defineProperty(_ClickInfo.prototype,"singleClick",{get:function(){return this._singleClick},set:function(t){this._singleClick=t},enumerable:!1,configurable:!0}),Object.defineProperty(_ClickInfo.prototype,"doubleClick",{get:function(){return this._doubleClick},set:function(t){this._doubleClick=t},enumerable:!1,configurable:!0}),Object.defineProperty(_ClickInfo.prototype,"hasSwiped",{get:function(){return this._hasSwiped},set:function(t){this._hasSwiped=t},enumerable:!1,configurable:!0}),Object.defineProperty(_ClickInfo.prototype,"ignore",{get:function(){return this._ignore},set:function(t){this._ignore=t},enumerable:!1,configurable:!0}),_ClickInfo}(),g=function(){function InputManager(t){this._alreadyAttached=!1,this._wheelEventName="",this._meshPickProceed=!1,this._currentPickResult=null,this._previousPickResult=null,this._totalPointersPressed=0,this._doubleClickOccured=!1,this._pointerX=0,this._pointerY=0,this._startingPointerPosition=new d["Vector2"](0,0),this._previousStartingPointerPosition=new d["Vector2"](0,0),this._startingPointerTime=0,this._previousStartingPointerTime=0,this._pointerCaptures={},this._meshUnderPointerId=[],this._keyboardIsAttached=!1,this._scene=t}return Object.defineProperty(InputManager.prototype,"meshUnderPointer",{get:function(){return this._pointerOverMesh},enumerable:!1,configurable:!0}),InputManager.prototype.getMeshUnderPointerByPointerId=function(t){return this._meshUnderPointerId[t]},Object.defineProperty(InputManager.prototype,"unTranslatedPointer",{get:function(){return new d["Vector2"](this._unTranslatedPointerX,this._unTranslatedPointerY)},enumerable:!1,configurable:!0}),Object.defineProperty(InputManager.prototype,"pointerX",{get:function(){return this._pointerX},set:function(t){this._pointerX=t},enumerable:!1,configurable:!0}),Object.defineProperty(InputManager.prototype,"pointerY",{get:function(){return this._pointerY},set:function(t){this._pointerY=t},enumerable:!1,configurable:!0}),InputManager.prototype._updatePointerPosition=function(t){var n=this._scene.getEngine().getInputElementClientRect();n&&(this._pointerX=t.clientX-n.left,this._pointerY=t.clientY-n.top,this._unTranslatedPointerX=this._pointerX,this._unTranslatedPointerY=this._pointerY)},InputManager.prototype._processPointerMove=function(t,n){var u=this._scene,l=u.getEngine(),d=l.getInputElement();if(d){d.tabIndex=l.canvasTabIndex,u.doNotHandleCursors||(d.style.cursor=u.defaultCursor);var h=!!(t&&t.hit&&t.pickedMesh);h?(u.setPointerOverMesh(t.pickedMesh,n.pointerId),this._pointerOverMesh&&this._pointerOverMesh.actionManager&&this._pointerOverMesh.actionManager.hasPointerTriggers&&(u.doNotHandleCursors||(this._pointerOverMesh.actionManager.hoverCursor?d.style.cursor=this._pointerOverMesh.actionManager.hoverCursor:d.style.cursor=u.hoverCursor))):u.setPointerOverMesh(null,n.pointerId);for(var p=0,m=u._pointerMoveStage;p<m.length;p++){var _=m[p];t=_.action(this._unTranslatedPointerX,this._unTranslatedPointerY,t,h,d)}if(t){var g=n.type===this._wheelEventName?c["PointerEventTypes"].POINTERWHEEL:c["PointerEventTypes"].POINTERMOVE;if(u.onPointerMove&&u.onPointerMove(n,t,g),u.onPointerObservable.hasObservers()){var b=new c["PointerInfo"](g,n,t);this._setRayOnPointerInfo(b),u.onPointerObservable.notifyObservers(b,g)}}}},InputManager.prototype._setRayOnPointerInfo=function(t){var n=this._scene;t.pickInfo&&!t.pickInfo._pickingUnavailable&&(t.pickInfo.ray||(t.pickInfo.ray=n.createPickingRay(t.event.offsetX,t.event.offsetY,d["Matrix"].Identity(),n.activeCamera)))},InputManager.prototype._checkPrePointerObservable=function(t,n,u){var l=this._scene,d=new c["PointerInfoPre"](u,n,this._unTranslatedPointerX,this._unTranslatedPointerY);return t&&(d.ray=t.ray),l.onPrePointerObservable.notifyObservers(d,u),!!d.skipOnPointerObservable},InputManager.prototype.simulatePointerMove=function(t,n){var u=new PointerEvent("pointermove",n);this._checkPrePointerObservable(t,u,c["PointerEventTypes"].POINTERMOVE)||this._processPointerMove(t,u)},InputManager.prototype.simulatePointerDown=function(t,n){var u=new PointerEvent("pointerdown",n);this._checkPrePointerObservable(t,u,c["PointerEventTypes"].POINTERDOWN)||this._processPointerDown(t,u)},InputManager.prototype._processPointerDown=function(t,n){var u=this,l=this._scene;if(t&&t.hit&&t.pickedMesh){this._pickedDownMesh=t.pickedMesh;var d=t.pickedMesh._getActionManagerForTrigger();if(d){if(d.hasPickTriggers)switch(d.processTrigger(5,h["ActionEvent"].CreateNew(t.pickedMesh,n)),n.button){case 0:d.processTrigger(2,h["ActionEvent"].CreateNew(t.pickedMesh,n));break;case 1:d.processTrigger(4,h["ActionEvent"].CreateNew(t.pickedMesh,n));break;case 2:d.processTrigger(3,h["ActionEvent"].CreateNew(t.pickedMesh,n));break}d.hasSpecificTrigger(8)&&window.setTimeout((function(){var t=l.pick(u._unTranslatedPointerX,u._unTranslatedPointerY,(function(t){return t.isPickable&&t.isVisible&&t.isReady()&&t.actionManager&&t.actionManager.hasSpecificTrigger(8)&&t==u._pickedDownMesh}),!1,l.cameraToUseForPointers);t&&t.hit&&t.pickedMesh&&d&&0!==u._totalPointersPressed&&Date.now()-u._startingPointerTime>InputManager.LongPressDelay&&!u._isPointerSwiping()&&(u._startingPointerTime=0,d.processTrigger(8,h["ActionEvent"].CreateNew(t.pickedMesh,n)))}),InputManager.LongPressDelay)}}else for(var p=0,m=l._pointerDownStage;p<m.length;p++){var _=m[p];t=_.action(this._unTranslatedPointerX,this._unTranslatedPointerY,t,n)}if(t){var g=c["PointerEventTypes"].POINTERDOWN;if(l.onPointerDown&&l.onPointerDown(n,t,g),l.onPointerObservable.hasObservers()){var b=new c["PointerInfo"](g,n,t);this._setRayOnPointerInfo(b),l.onPointerObservable.notifyObservers(b,g)}}},InputManager.prototype._isPointerSwiping=function(){return Math.abs(this._startingPointerPosition.x-this._pointerX)>InputManager.DragMovementThreshold||Math.abs(this._startingPointerPosition.y-this._pointerY)>InputManager.DragMovementThreshold},InputManager.prototype.simulatePointerUp=function(t,n,u){var l=new PointerEvent("pointerup",n),d=new _;u?d.doubleClick=!0:d.singleClick=!0,this._checkPrePointerObservable(t,l,c["PointerEventTypes"].POINTERUP)||this._processPointerUp(t,l,d)},InputManager.prototype._processPointerUp=function(t,n,u){var l=this._scene;if(t&&t&&t.pickedMesh){if(this._pickedUpMesh=t.pickedMesh,this._pickedDownMesh===this._pickedUpMesh&&(l.onPointerPick&&l.onPointerPick(n,t),u.singleClick&&!u.ignore&&l.onPointerObservable.hasObservers())){var d=c["PointerEventTypes"].POINTERPICK,p=new c["PointerInfo"](d,n,t);this._setRayOnPointerInfo(p),l.onPointerObservable.notifyObservers(p,d)}var m=t.pickedMesh._getActionManagerForTrigger();if(m&&!u.ignore){m.processTrigger(7,h["ActionEvent"].CreateNew(t.pickedMesh,n)),!u.hasSwiped&&u.singleClick&&m.processTrigger(1,h["ActionEvent"].CreateNew(t.pickedMesh,n));var _=t.pickedMesh._getActionManagerForTrigger(6);u.doubleClick&&_&&_.processTrigger(6,h["ActionEvent"].CreateNew(t.pickedMesh,n))}}else if(!u.ignore)for(var g=0,b=l._pointerUpStage;g<b.length;g++){var v=b[g];t=v.action(this._unTranslatedPointerX,this._unTranslatedPointerY,t,n)}if(this._pickedDownMesh&&this._pickedDownMesh!==this._pickedUpMesh){var U=this._pickedDownMesh._getActionManagerForTrigger(16);U&&U.processTrigger(16,h["ActionEvent"].CreateNew(this._pickedDownMesh,n))}var G=0;if(l.onPointerObservable.hasObservers()){if(!u.ignore&&!u.hasSwiped&&(u.singleClick&&l.onPointerObservable.hasSpecificMask(c["PointerEventTypes"].POINTERTAP)?G=c["PointerEventTypes"].POINTERTAP:u.doubleClick&&l.onPointerObservable.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP)&&(G=c["PointerEventTypes"].POINTERDOUBLETAP),G)){p=new c["PointerInfo"](G,n,t);this._setRayOnPointerInfo(p),l.onPointerObservable.notifyObservers(p,G)}if(!u.ignore){G=c["PointerEventTypes"].POINTERUP;p=new c["PointerInfo"](G,n,t);this._setRayOnPointerInfo(p),l.onPointerObservable.notifyObservers(p,G)}}l.onPointerUp&&!u.ignore&&l.onPointerUp(n,t,G)},InputManager.prototype.isPointerCaptured=function(t){return void 0===t&&(t=0),this._pointerCaptures[t]},InputManager.prototype.attachControl=function(t,n,u,d){var g=this;void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===u&&(u=!0),void 0===d&&(d=null);var b=this._scene;if(d||(d=b.getEngine().getInputElement()),d){this._alreadyAttached&&this.detachControl(),this._alreadyAttachedTo=d;var v=b.getEngine();this._initActionManager=function(t,n){if(!g._meshPickProceed){var u=b.pick(g._unTranslatedPointerX,g._unTranslatedPointerY,b.pointerDownPredicate,!1,b.cameraToUseForPointers);g._currentPickResult=u,u&&(t=u.hit&&u.pickedMesh?u.pickedMesh._getActionManagerForTrigger():null),g._meshPickProceed=!0}return t},this._delayedSimpleClick=function(t,n,u){(Date.now()-g._previousStartingPointerTime>InputManager.DoubleClickDelay&&!g._doubleClickOccured||t!==g._previousButtonPressed)&&(g._doubleClickOccured=!1,n.singleClick=!0,n.ignore=!1,u(n,g._currentPickResult))},this._initClickEvent=function(t,n,u,d){var h=new _;g._currentPickResult=null;var p=null,m=t.hasSpecificMask(c["PointerEventTypes"].POINTERPICK)||n.hasSpecificMask(c["PointerEventTypes"].POINTERPICK)||t.hasSpecificMask(c["PointerEventTypes"].POINTERTAP)||n.hasSpecificMask(c["PointerEventTypes"].POINTERTAP)||t.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP)||n.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP);!m&&l["AbstractActionManager"]&&(p=g._initActionManager(p,h),p&&(m=p.hasPickTriggers));var b=!1;if(m){var v=u.button;if(h.hasSwiped=g._isPointerSwiping(),!h.hasSwiped){var U=!InputManager.ExclusiveDoubleClickMode;U||(U=!t.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP)&&!n.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP),U&&!l["AbstractActionManager"].HasSpecificTrigger(6)&&(p=g._initActionManager(p,h),p&&(U=!p.hasSpecificTrigger(6)))),U?(Date.now()-g._previousStartingPointerTime>InputManager.DoubleClickDelay||v!==g._previousButtonPressed)&&(h.singleClick=!0,d(h,g._currentPickResult),b=!0):(g._previousDelayedSimpleClickTimeout=g._delayedSimpleClickTimeout,g._delayedSimpleClickTimeout=window.setTimeout(g._delayedSimpleClick.bind(g,v,h,d),InputManager.DoubleClickDelay));var G=t.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP)||n.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP);!G&&l["AbstractActionManager"].HasSpecificTrigger(6)&&(p=g._initActionManager(p,h),p&&(G=p.hasSpecificTrigger(6))),G&&(v===g._previousButtonPressed&&Date.now()-g._previousStartingPointerTime<InputManager.DoubleClickDelay&&!g._doubleClickOccured?(h.hasSwiped||g._isPointerSwiping()?(g._doubleClickOccured=!1,g._previousStartingPointerTime=g._startingPointerTime,g._previousStartingPointerPosition.x=g._startingPointerPosition.x,g._previousStartingPointerPosition.y=g._startingPointerPosition.y,g._previousButtonPressed=v,InputManager.ExclusiveDoubleClickMode?(g._previousDelayedSimpleClickTimeout&&clearTimeout(g._previousDelayedSimpleClickTimeout),g._previousDelayedSimpleClickTimeout=g._delayedSimpleClickTimeout,d(h,g._previousPickResult)):d(h,g._currentPickResult)):(g._previousStartingPointerTime=0,g._doubleClickOccured=!0,h.doubleClick=!0,h.ignore=!1,InputManager.ExclusiveDoubleClickMode&&g._previousDelayedSimpleClickTimeout&&clearTimeout(g._previousDelayedSimpleClickTimeout),g._previousDelayedSimpleClickTimeout=g._delayedSimpleClickTimeout,d(h,g._currentPickResult)),b=!0):(g._doubleClickOccured=!1,g._previousStartingPointerTime=g._startingPointerTime,g._previousStartingPointerPosition.x=g._startingPointerPosition.x,g._previousStartingPointerPosition.y=g._startingPointerPosition.y,g._previousButtonPressed=v))}}b||d(h,g._currentPickResult)},this._onPointerMove=function(t){if(void 0===t.pointerId&&(t.pointerId=0),g._updatePointerPosition(t),!g._checkPrePointerObservable(null,t,t.type===g._wheelEventName?c["PointerEventTypes"].POINTERWHEEL:c["PointerEventTypes"].POINTERMOVE)&&(b.cameraToUseForPointers||b.activeCamera)){b.pointerMovePredicate||(b.pointerMovePredicate=function(t){return t.isPickable&&t.isVisible&&t.isReady()&&t.isEnabled()&&(t.enablePointerMoveEvents||b.constantlyUpdateMeshUnderPointer||null!=t._getActionManagerForTrigger())&&(!b.cameraToUseForPointers||0!==(b.cameraToUseForPointers.layerMask&t.layerMask))});var n=b.pick(g._unTranslatedPointerX,g._unTranslatedPointerY,b.pointerMovePredicate,!1,b.cameraToUseForPointers);g._processPointerMove(n,t)}},this._onPointerDown=function(t){if(g._totalPointersPressed++,g._pickedDownMesh=null,g._meshPickProceed=!1,void 0===t.pointerId&&(t.pointerId=0),g._updatePointerPosition(t),b.preventDefaultOnPointerDown&&d&&(t.preventDefault(),d.focus()),g._startingPointerPosition.x=g._pointerX,g._startingPointerPosition.y=g._pointerY,g._startingPointerTime=Date.now(),!g._checkPrePointerObservable(null,t,c["PointerEventTypes"].POINTERDOWN)&&(b.cameraToUseForPointers||b.activeCamera)){g._pointerCaptures[t.pointerId]=!0,b.pointerDownPredicate||(b.pointerDownPredicate=function(t){return t.isPickable&&t.isVisible&&t.isReady()&&t.isEnabled()&&(!b.cameraToUseForPointers||0!==(b.cameraToUseForPointers.layerMask&t.layerMask))}),g._pickedDownMesh=null;var n=b.pick(g._unTranslatedPointerX,g._unTranslatedPointerY,b.pointerDownPredicate,!1,b.cameraToUseForPointers);g._processPointerDown(n,t)}},this._onPointerUp=function(t){0!==g._totalPointersPressed&&(g._totalPointersPressed--,g._pickedUpMesh=null,g._meshPickProceed=!1,void 0===t.pointerId&&(t.pointerId=0),g._updatePointerPosition(t),b.preventDefaultOnPointerUp&&d&&(t.preventDefault(),d.focus()),g._initClickEvent(b.onPrePointerObservable,b.onPointerObservable,t,(function(n,u){if(b.onPrePointerObservable.hasObservers()&&!n.ignore){if(!n.hasSwiped){if(n.singleClick&&b.onPrePointerObservable.hasSpecificMask(c["PointerEventTypes"].POINTERTAP)&&g._checkPrePointerObservable(null,t,c["PointerEventTypes"].POINTERTAP))return;if(n.doubleClick&&b.onPrePointerObservable.hasSpecificMask(c["PointerEventTypes"].POINTERDOUBLETAP)&&g._checkPrePointerObservable(null,t,c["PointerEventTypes"].POINTERDOUBLETAP))return}if(g._checkPrePointerObservable(null,t,c["PointerEventTypes"].POINTERUP))return}g._pointerCaptures[t.pointerId]&&(g._pointerCaptures[t.pointerId]=!1,(b.cameraToUseForPointers||b.activeCamera)&&(b.pointerUpPredicate||(b.pointerUpPredicate=function(t){return t.isPickable&&t.isVisible&&t.isReady()&&t.isEnabled()&&(!b.cameraToUseForPointers||0!==(b.cameraToUseForPointers.layerMask&t.layerMask))}),!g._meshPickProceed&&(l["AbstractActionManager"]&&l["AbstractActionManager"].HasTriggers||b.onPointerObservable.hasObservers())&&g._initActionManager(null,n),u||(u=g._currentPickResult),g._processPointerUp(u,t,n),g._previousPickResult=g._currentPickResult))})))},this._onKeyDown=function(t){var n=m["KeyboardEventTypes"].KEYDOWN;if(b.onPreKeyboardObservable.hasObservers()){var u=new m["KeyboardInfoPre"](n,t);if(b.onPreKeyboardObservable.notifyObservers(u,n),u.skipOnPointerObservable)return}if(b.onKeyboardObservable.hasObservers()){u=new m["KeyboardInfo"](n,t);b.onKeyboardObservable.notifyObservers(u,n)}b.actionManager&&b.actionManager.processTrigger(14,h["ActionEvent"].CreateNewFromScene(b,t))},this._onKeyUp=function(t){var n=m["KeyboardEventTypes"].KEYUP;if(b.onPreKeyboardObservable.hasObservers()){var u=new m["KeyboardInfoPre"](n,t);if(b.onPreKeyboardObservable.notifyObservers(u,n),u.skipOnPointerObservable)return}if(b.onKeyboardObservable.hasObservers()){u=new m["KeyboardInfo"](n,t);b.onKeyboardObservable.notifyObservers(u,n)}b.actionManager&&b.actionManager.processTrigger(15,h["ActionEvent"].CreateNewFromScene(b,t))};var attachedFunction=function(){d&&!g._keyboardIsAttached&&(d.addEventListener("keydown",g._onKeyDown,!1),d.addEventListener("keyup",g._onKeyUp,!1),g._keyboardIsAttached=!0)};this._onCanvasFocusObserver=v.onCanvasFocusObservable.add(function(){return document.activeElement===d&&attachedFunction(),attachedFunction}()),this._onCanvasBlurObserver=v.onCanvasBlurObservable.add((function(){d&&(d.removeEventListener("keydown",g._onKeyDown),d.removeEventListener("keyup",g._onKeyUp),g._keyboardIsAttached=!1)})),attachedFunction();var U=p["Tools"].GetPointerPrefix(v);if(u&&(d.addEventListener(U+"move",this._onPointerMove,!1),this._wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",d.addEventListener(this._wheelEventName,this._onPointerMove,!1)),n&&d.addEventListener(U+"down",this._onPointerDown,!1),t){var G=b.getEngine().getHostWindow();G&&G.addEventListener(U+"up",this._onPointerUp,!1)}this._alreadyAttached=!0}},InputManager.prototype.detachControl=function(){var t=this._scene.getEngine(),n=p["Tools"].GetPointerPrefix(t);this._alreadyAttachedTo&&this._alreadyAttached&&(this._alreadyAttachedTo.removeEventListener(n+"move",this._onPointerMove),this._alreadyAttachedTo.removeEventListener(this._wheelEventName,this._onPointerMove),this._alreadyAttachedTo.removeEventListener(n+"down",this._onPointerDown),window.removeEventListener(n+"up",this._onPointerUp),this._onCanvasBlurObserver&&t.onCanvasBlurObservable.remove(this._onCanvasBlurObserver),this._onCanvasFocusObserver&&t.onCanvasFocusObservable.remove(this._onCanvasFocusObserver),this._alreadyAttachedTo.removeEventListener("keydown",this._onKeyDown),this._alreadyAttachedTo.removeEventListener("keyup",this._onKeyUp),this._scene.doNotHandleCursors||(this._alreadyAttachedTo.style.cursor=this._scene.defaultCursor),this._alreadyAttached=!1)},InputManager.prototype.setPointerOverMesh=function(t,n){if(void 0===n&&(n=0),n<0&&(n=0),this._meshUnderPointerId[n]!==t){var u,c=this._meshUnderPointerId[n];c&&(u=c._getActionManagerForTrigger(10),u&&u.processTrigger(10,h["ActionEvent"].CreateNew(c,void 0,{pointerId:n}))),this._meshUnderPointerId[n]=t,this._pointerOverMesh=t,c=this._meshUnderPointerId[n],c&&(u=c._getActionManagerForTrigger(9),u&&u.processTrigger(9,h["ActionEvent"].CreateNew(c,void 0,{pointerId:n})))}},InputManager.prototype.getPointerOverMesh=function(){return this._pointerOverMesh},InputManager.DragMovementThreshold=10,InputManager.LongPressDelay=500,InputManager.DoubleClickDelay=300,InputManager.ExclusiveDoubleClickMode=!1,InputManager}()},"./node_modules/@babylonjs/core/Layers/effectLayer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EffectLayer",(function(){return q}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/tools.js"),h=u("./node_modules/@babylonjs/core/Misc/observable.js"),p=u("./node_modules/@babylonjs/core/Maths/math.color.js"),m=u("./node_modules/@babylonjs/core/Engines/engine.js"),_=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),g=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),b=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),v=u("./node_modules/@babylonjs/core/Materials/Textures/renderTargetTexture.js"),U=u("./node_modules/@babylonjs/core/Materials/material.js"),G=u("./node_modules/@babylonjs/core/Materials/materialHelper.js"),W=(u("./node_modules/@babylonjs/core/Shaders/glowMapGeneration.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/glowMapGeneration.vertex.js"),u("./node_modules/@babylonjs/core/Misc/devTools.js")),X=u("./node_modules/@babylonjs/core/Materials/effectFallbacks.js"),q=function(){function EffectLayer(t,n){this._vertexBuffers={},this._maxSize=0,this._mainTextureDesiredSize={width:0,height:0},this._shouldRender=!0,this._postProcesses=[],this._textures=[],this._emissiveTextureAndColor={texture:null,color:new p["Color4"]},this.neutralColor=new p["Color4"],this.isEnabled=!0,this.disableBoundingBoxesFromEffectLayer=!1,this.onDisposeObservable=new h["Observable"],this.onBeforeRenderMainTextureObservable=new h["Observable"],this.onBeforeComposeObservable=new h["Observable"],this.onBeforeRenderMeshToEffect=new h["Observable"],this.onAfterRenderMeshToEffect=new h["Observable"],this.onAfterComposeObservable=new h["Observable"],this.onSizeChangedObservable=new h["Observable"],this.name=t,this._scene=n||_["EngineStore"].LastCreatedScene,EffectLayer._SceneComponentInitialization(this._scene),this._engine=this._scene.getEngine(),this._maxSize=this._engine.getCaps().maxTextureSize,this._scene.effectLayers.push(this),this._generateIndexBuffer(),this._generateVertexBuffer()}return Object.defineProperty(EffectLayer.prototype,"camera",{get:function(){return this._effectLayerOptions.camera},enumerable:!1,configurable:!0}),Object.defineProperty(EffectLayer.prototype,"renderingGroupId",{get:function(){return this._effectLayerOptions.renderingGroupId},set:function(t){this._effectLayerOptions.renderingGroupId=t},enumerable:!1,configurable:!0}),EffectLayer.prototype._init=function(t){this._effectLayerOptions=Object(c["__assign"])({mainTextureRatio:.5,alphaBlendingMode:2,camera:null,renderingGroupId:-1},t),this._setMainTextureSize(),this._createMainTexture(),this._createTextureAndPostProcesses(),this._mergeEffect=this._createMergeEffect()},EffectLayer.prototype._generateIndexBuffer=function(){var t=[];t.push(0),t.push(1),t.push(2),t.push(0),t.push(2),t.push(3),this._indexBuffer=this._engine.createIndexBuffer(t)},EffectLayer.prototype._generateVertexBuffer=function(){var t=[];t.push(1,1),t.push(-1,1),t.push(-1,-1),t.push(1,-1);var n=new g["VertexBuffer"](this._engine,t,g["VertexBuffer"].PositionKind,!1,!1,2);this._vertexBuffers[g["VertexBuffer"].PositionKind]=n},EffectLayer.prototype._setMainTextureSize=function(){this._effectLayerOptions.mainTextureFixedSize?(this._mainTextureDesiredSize.width=this._effectLayerOptions.mainTextureFixedSize,this._mainTextureDesiredSize.height=this._effectLayerOptions.mainTextureFixedSize):(this._mainTextureDesiredSize.width=this._engine.getRenderWidth()*this._effectLayerOptions.mainTextureRatio,this._mainTextureDesiredSize.height=this._engine.getRenderHeight()*this._effectLayerOptions.mainTextureRatio,this._mainTextureDesiredSize.width=this._engine.needPOTTextures?m["Engine"].GetExponentOfTwo(this._mainTextureDesiredSize.width,this._maxSize):this._mainTextureDesiredSize.width,this._mainTextureDesiredSize.height=this._engine.needPOTTextures?m["Engine"].GetExponentOfTwo(this._mainTextureDesiredSize.height,this._maxSize):this._mainTextureDesiredSize.height),this._mainTextureDesiredSize.width=Math.floor(this._mainTextureDesiredSize.width),this._mainTextureDesiredSize.height=Math.floor(this._mainTextureDesiredSize.height)},EffectLayer.prototype._createMainTexture=function(){var t=this;this._mainTexture=new v["RenderTargetTexture"]("HighlightLayerMainRTT",{width:this._mainTextureDesiredSize.width,height:this._mainTextureDesiredSize.height},this._scene,!1,!0,0),this._mainTexture.activeCamera=this._effectLayerOptions.camera,this._mainTexture.wrapU=b["Texture"].CLAMP_ADDRESSMODE,this._mainTexture.wrapV=b["Texture"].CLAMP_ADDRESSMODE,this._mainTexture.anisotropicFilteringLevel=1,this._mainTexture.updateSamplingMode(b["Texture"].BILINEAR_SAMPLINGMODE),this._mainTexture.renderParticles=!1,this._mainTexture.renderList=null,this._mainTexture.ignoreCameraViewport=!0,this._mainTexture.customRenderFunction=function(n,u,c,l){var d;t.onBeforeRenderMainTextureObservable.notifyObservers(t);var h=t._scene.getEngine();if(l.length){for(h.setColorWrite(!1),d=0;d<l.length;d++)t._renderSubMesh(l.data[d]);h.setColorWrite(!0)}for(d=0;d<n.length;d++)t._renderSubMesh(n.data[d]);for(d=0;d<u.length;d++)t._renderSubMesh(u.data[d]);var p=h.getAlphaMode();for(d=0;d<c.length;d++)t._renderSubMesh(c.data[d],!0);h.setAlphaMode(p)},this._mainTexture.onClearObservable.add((function(n){n.clear(t.neutralColor,!0,!0,!0)}));var n=this._scene.getBoundingBoxRenderer().enabled;this._mainTexture.onBeforeBindObservable.add((function(){t._scene.getBoundingBoxRenderer().enabled=!t.disableBoundingBoxesFromEffectLayer&&n})),this._mainTexture.onAfterUnbindObservable.add((function(){t._scene.getBoundingBoxRenderer().enabled=n}))},EffectLayer.prototype._addCustomEffectDefines=function(t){},EffectLayer.prototype._isReady=function(t,n,u){var c=t.getMaterial();if(!c)return!1;if(!c.isReadyForSubMesh(t.getMesh(),t,n))return!1;var l=[],d=[g["VertexBuffer"].PositionKind],h=t.getMesh(),p=!1,m=!1;if(c){var _=c.needAlphaTesting(),b=c.getAlphaTestTexture(),v=b&&b.hasAlpha&&(c.useAlphaFromDiffuseTexture||c._useAlphaFromAlbedoTexture);b&&(_||v)&&(l.push("#define DIFFUSE"),h.isVerticesDataPresent(g["VertexBuffer"].UV2Kind)&&1===b.coordinatesIndex?(l.push("#define DIFFUSEUV2"),m=!0):h.isVerticesDataPresent(g["VertexBuffer"].UVKind)&&(l.push("#define DIFFUSEUV1"),p=!0),_&&(l.push("#define ALPHATEST"),l.push("#define ALPHATESTVALUE 0.4")));var U=c.opacityTexture;U&&(l.push("#define OPACITY"),h.isVerticesDataPresent(g["VertexBuffer"].UV2Kind)&&1===U.coordinatesIndex?(l.push("#define OPACITYUV2"),m=!0):h.isVerticesDataPresent(g["VertexBuffer"].UVKind)&&(l.push("#define OPACITYUV1"),p=!0))}u&&(l.push("#define EMISSIVE"),h.isVerticesDataPresent(g["VertexBuffer"].UV2Kind)&&1===u.coordinatesIndex?(l.push("#define EMISSIVEUV2"),m=!0):h.isVerticesDataPresent(g["VertexBuffer"].UVKind)&&(l.push("#define EMISSIVEUV1"),p=!0)),h.isVerticesDataPresent(g["VertexBuffer"].ColorKind)&&h.hasVertexAlpha&&(d.push(g["VertexBuffer"].ColorKind),l.push("#define VERTEXALPHA")),p&&(d.push(g["VertexBuffer"].UVKind),l.push("#define UV1")),m&&(d.push(g["VertexBuffer"].UV2Kind),l.push("#define UV2"));var W=new X["EffectFallbacks"];if(h.useBones&&h.computeBonesUsingShaders){d.push(g["VertexBuffer"].MatricesIndicesKind),d.push(g["VertexBuffer"].MatricesWeightsKind),h.numBoneInfluencers>4&&(d.push(g["VertexBuffer"].MatricesIndicesExtraKind),d.push(g["VertexBuffer"].MatricesWeightsExtraKind)),l.push("#define NUM_BONE_INFLUENCERS "+h.numBoneInfluencers);var q=h.skeleton;q&&q.isUsingTextureForMatrices?l.push("#define BONETEXTURE"):l.push("#define BonesPerMesh "+(q?q.bones.length+1:0)),h.numBoneInfluencers>0&&W.addCPUSkinningFallback(0,h)}else l.push("#define NUM_BONE_INFLUENCERS 0");var K=h.morphTargetManager,Y=0;K&&K.numInfluencers>0&&(l.push("#define MORPHTARGETS"),Y=K.numInfluencers,l.push("#define NUM_MORPH_INFLUENCERS "+Y),G["MaterialHelper"].PrepareAttributesForMorphTargetsInfluencers(d,h,Y)),n&&(l.push("#define INSTANCES"),G["MaterialHelper"].PushAttributesForInstances(d),t.getRenderingMesh().hasThinInstances&&l.push("#define THIN_INSTANCES")),this._addCustomEffectDefines(l);var Q=l.join("\n");return this._cachedDefines!==Q&&(this._cachedDefines=Q,this._effectLayerMapGenerationEffect=this._scene.getEngine().createEffect("glowMapGeneration",d,["world","mBones","viewProjection","glowColor","morphTargetInfluences","boneTextureWidth","diffuseMatrix","emissiveMatrix","opacityMatrix","opacityIntensity"],["diffuseSampler","emissiveSampler","opacitySampler","boneSampler"],Q,W,void 0,void 0,{maxSimultaneousMorphTargets:Y})),this._effectLayerMapGenerationEffect.isReady()},EffectLayer.prototype.render=function(){var t=this._mergeEffect;if(t.isReady()){for(var n=0;n<this._postProcesses.length;n++)if(!this._postProcesses[n].isReady())return;var u=this._scene.getEngine();this.onBeforeComposeObservable.notifyObservers(this),u.enableEffect(t),u.setState(!1),u.bindBuffers(this._vertexBuffers,this._indexBuffer,t);var c=u.getAlphaMode();u.setAlphaMode(this._effectLayerOptions.alphaBlendingMode),this._internalRender(t),u.setAlphaMode(c),this.onAfterComposeObservable.notifyObservers(this);var l=this._mainTexture.getSize();this._setMainTextureSize(),l.width===this._mainTextureDesiredSize.width&&l.height===this._mainTextureDesiredSize.height||(this.onSizeChangedObservable.notifyObservers(this),this._disposeTextureAndPostProcesses(),this._createMainTexture(),this._createTextureAndPostProcesses())}},EffectLayer.prototype.hasMesh=function(t){return-1===this.renderingGroupId||t.renderingGroupId===this.renderingGroupId},EffectLayer.prototype.shouldRender=function(){return this.isEnabled&&this._shouldRender},EffectLayer.prototype._shouldRenderMesh=function(t){return!0},EffectLayer.prototype._canRenderMesh=function(t,n){return!n.needAlphaBlendingForMesh(t)},EffectLayer.prototype._shouldRenderEmissiveTextureForMesh=function(){return!0},EffectLayer.prototype._renderSubMesh=function(t,n){var u,c=this;if(void 0===n&&(n=!1),this.shouldRender()){var l=t.getMaterial(),d=t.getMesh(),h=t.getReplacementMesh(),p=t.getRenderingMesh(),m=t.getEffectiveMesh(),_=this._scene,g=_.getEngine();if(m._internalAbstractMeshDataInfo._isActiveIntermediate=!1,l&&this._canRenderMesh(p,l)){var b=null!==(u=p.overrideMaterialSideOrientation)&&void 0!==u?u:l.sideOrientation,v=p._getWorldMatrixDeterminant();v<0&&(b=b===U["Material"].ClockWiseSideOrientation?U["Material"].CounterClockWiseSideOrientation:U["Material"].ClockWiseSideOrientation);var W=b===U["Material"].ClockWiseSideOrientation;g.setState(l.backFaceCulling,l.zOffset,void 0,W);var X=p._getInstancesRenderList(t._id,!!h);if(!X.mustReturn&&this._shouldRenderMesh(p)){var q=X.hardwareInstancedRendering[t._id]||p.hasThinInstances;if(this._setEmissiveTextureAndColor(p,t,l),this.onBeforeRenderMeshToEffect.notifyObservers(d),this._useMeshMaterial(p))p.render(t,q,h||void 0);else if(this._isReady(t,q,this._emissiveTextureAndColor.texture)){g.enableEffect(this._effectLayerMapGenerationEffect),p._bind(t,this._effectLayerMapGenerationEffect,U["Material"].TriangleFillMode),this._effectLayerMapGenerationEffect.setMatrix("viewProjection",_.getTransformMatrix()),this._effectLayerMapGenerationEffect.setMatrix("world",m.getWorldMatrix()),this._effectLayerMapGenerationEffect.setFloat4("glowColor",this._emissiveTextureAndColor.color.r,this._emissiveTextureAndColor.color.g,this._emissiveTextureAndColor.color.b,this._emissiveTextureAndColor.color.a);var K=l.needAlphaTesting(),Y=l.getAlphaTestTexture(),Q=Y&&Y.hasAlpha&&(l.useAlphaFromDiffuseTexture||l._useAlphaFromAlbedoTexture);if(Y&&(K||Q)){this._effectLayerMapGenerationEffect.setTexture("diffuseSampler",Y);var Z=Y.getTextureMatrix();Z&&this._effectLayerMapGenerationEffect.setMatrix("diffuseMatrix",Z)}var $=l.opacityTexture;if($){this._effectLayerMapGenerationEffect.setTexture("opacitySampler",$),this._effectLayerMapGenerationEffect.setFloat("opacityIntensity",$.level);Z=$.getTextureMatrix();Z&&this._effectLayerMapGenerationEffect.setMatrix("opacityMatrix",Z)}if(this._emissiveTextureAndColor.texture&&(this._effectLayerMapGenerationEffect.setTexture("emissiveSampler",this._emissiveTextureAndColor.texture),this._effectLayerMapGenerationEffect.setMatrix("emissiveMatrix",this._emissiveTextureAndColor.texture.getTextureMatrix())),p.useBones&&p.computeBonesUsingShaders&&p.skeleton){var J=p.skeleton;if(J.isUsingTextureForMatrices){var ee=J.getTransformMatrixTexture(p);if(!ee)return;this._effectLayerMapGenerationEffect.setTexture("boneSampler",ee),this._effectLayerMapGenerationEffect.setFloat("boneTextureWidth",4*(J.bones.length+1))}else this._effectLayerMapGenerationEffect.setMatrices("mBones",J.getTransformMatrices(p))}G["MaterialHelper"].BindMorphTargetParameters(p,this._effectLayerMapGenerationEffect),n&&g.setAlphaMode(l.alphaMode),p._processRendering(m,t,this._effectLayerMapGenerationEffect,l.fillMode,X,q,(function(t,n){return c._effectLayerMapGenerationEffect.setMatrix("world",n)}))}else this._mainTexture.resetRefreshCounter();this.onAfterRenderMeshToEffect.notifyObservers(d)}}}},EffectLayer.prototype._useMeshMaterial=function(t){return!1},EffectLayer.prototype._rebuild=function(){var t=this._vertexBuffers[g["VertexBuffer"].PositionKind];t&&t._rebuild(),this._generateIndexBuffer()},EffectLayer.prototype._disposeTextureAndPostProcesses=function(){this._mainTexture.dispose();for(var t=0;t<this._postProcesses.length;t++)this._postProcesses[t]&&this._postProcesses[t].dispose();this._postProcesses=[];for(t=0;t<this._textures.length;t++)this._textures[t]&&this._textures[t].dispose();this._textures=[]},EffectLayer.prototype.dispose=function(){var t=this._vertexBuffers[g["VertexBuffer"].PositionKind];t&&(t.dispose(),this._vertexBuffers[g["VertexBuffer"].PositionKind]=null),this._indexBuffer&&(this._scene.getEngine()._releaseBuffer(this._indexBuffer),this._indexBuffer=null),this._disposeTextureAndPostProcesses();var n=this._scene.effectLayers.indexOf(this,0);n>-1&&this._scene.effectLayers.splice(n,1),this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),this.onBeforeRenderMainTextureObservable.clear(),this.onBeforeComposeObservable.clear(),this.onBeforeRenderMeshToEffect.clear(),this.onAfterRenderMeshToEffect.clear(),this.onAfterComposeObservable.clear(),this.onSizeChangedObservable.clear()},EffectLayer.prototype.getClassName=function(){return"EffectLayer"},EffectLayer.Parse=function(t,n,u){var c=d["Tools"].Instantiate(t.customType);return c.Parse(t,n,u)},EffectLayer._SceneComponentInitialization=function(t){throw W["_DevTools"].WarnImport("EffectLayerSceneComponent")},Object(c["__decorate"])([Object(l["serialize"])()],EffectLayer.prototype,"name",void 0),Object(c["__decorate"])([Object(l["serializeAsColor4"])()],EffectLayer.prototype,"neutralColor",void 0),Object(c["__decorate"])([Object(l["serialize"])()],EffectLayer.prototype,"isEnabled",void 0),Object(c["__decorate"])([Object(l["serializeAsCameraReference"])()],EffectLayer.prototype,"camera",null),Object(c["__decorate"])([Object(l["serialize"])()],EffectLayer.prototype,"renderingGroupId",null),Object(c["__decorate"])([Object(l["serialize"])()],EffectLayer.prototype,"disableBoundingBoxesFromEffectLayer",void 0),EffectLayer}()},"./node_modules/@babylonjs/core/Layers/highlightLayer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"HighlightLayer",(function(){return Z}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Engines/engine.js"),m=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),_=u("./node_modules/@babylonjs/core/Materials/material.js"),g=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),b=u("./node_modules/@babylonjs/core/Materials/Textures/renderTargetTexture.js"),v=u("./node_modules/@babylonjs/core/PostProcesses/postProcess.js"),U=u("./node_modules/@babylonjs/core/PostProcesses/passPostProcess.js"),G=u("./node_modules/@babylonjs/core/PostProcesses/blurPostProcess.js"),W=u("./node_modules/@babylonjs/core/Layers/effectLayer.js"),X=u("./node_modules/@babylonjs/core/abstractScene.js"),q=u("./node_modules/@babylonjs/core/Misc/logger.js"),K=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),Y=u("./node_modules/@babylonjs/core/Maths/math.color.js");u("./node_modules/@babylonjs/core/Shaders/glowMapMerge.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/glowMapMerge.vertex.js"),u("./node_modules/@babylonjs/core/Shaders/glowBlurPostProcess.fragment.js");X["AbstractScene"].prototype.getHighlightLayerByName=function(t){for(var n=0;n<this.effectLayers.length;n++)if(this.effectLayers[n].name===t&&this.effectLayers[n].getEffectName()===Z.EffectName)return this.effectLayers[n];return null};var Q=function(t){function GlowBlurPostProcess(n,u,c,l,d,h,p,m){void 0===h&&(h=g["Texture"].BILINEAR_SAMPLINGMODE);var _=t.call(this,n,"glowBlurPostProcess",["screenSize","direction","blurWidth"],null,l,d,h,p,m)||this;return _.direction=u,_.kernel=c,_.onApplyObservable.add((function(t){t.setFloat2("screenSize",_.width,_.height),t.setVector2("direction",_.direction),t.setFloat("blurWidth",_.kernel)})),_}return Object(c["__extends"])(GlowBlurPostProcess,t),GlowBlurPostProcess}(v["PostProcess"]),Z=function(t){function HighlightLayer(n,u,l){var h=t.call(this,n,u)||this;return h.name=n,h.innerGlow=!0,h.outerGlow=!0,h.onBeforeBlurObservable=new d["Observable"],h.onAfterBlurObservable=new d["Observable"],h._instanceGlowingMeshStencilReference=HighlightLayer.GlowingMeshStencilReference++,h._meshes={},h._excludedMeshes={},h.neutralColor=HighlightLayer.NeutralColor,h._engine.isStencilEnable||q["Logger"].Warn("Rendering the Highlight Layer requires the stencil to be active on the canvas. var engine = new Engine(canvas, antialias, { stencil: true }"),h._options=Object(c["__assign"])({mainTextureRatio:.5,blurTextureSizeRatio:.5,blurHorizontalSize:1,blurVerticalSize:1,alphaBlendingMode:2,camera:null,renderingGroupId:-1},l),h._init({alphaBlendingMode:h._options.alphaBlendingMode,camera:h._options.camera,mainTextureFixedSize:h._options.mainTextureFixedSize,mainTextureRatio:h._options.mainTextureRatio,renderingGroupId:h._options.renderingGroupId}),h._shouldRender=!1,h}return Object(c["__extends"])(HighlightLayer,t),Object.defineProperty(HighlightLayer.prototype,"blurHorizontalSize",{get:function(){return this._horizontalBlurPostprocess.kernel},set:function(t){this._horizontalBlurPostprocess.kernel=t},enumerable:!1,configurable:!0}),Object.defineProperty(HighlightLayer.prototype,"blurVerticalSize",{get:function(){return this._verticalBlurPostprocess.kernel},set:function(t){this._verticalBlurPostprocess.kernel=t},enumerable:!1,configurable:!0}),HighlightLayer.prototype.getEffectName=function(){return HighlightLayer.EffectName},HighlightLayer.prototype._createMergeEffect=function(){return this._engine.createEffect("glowMapMerge",[m["VertexBuffer"].PositionKind],["offset"],["textureSampler"],this._options.isStroke?"#define STROKE \n":void 0)},HighlightLayer.prototype._createTextureAndPostProcesses=function(){var t=this,n=this._mainTextureDesiredSize.width*this._options.blurTextureSizeRatio,u=this._mainTextureDesiredSize.height*this._options.blurTextureSizeRatio;n=this._engine.needPOTTextures?p["Engine"].GetExponentOfTwo(n,this._maxSize):n,u=this._engine.needPOTTextures?p["Engine"].GetExponentOfTwo(u,this._maxSize):u;var c=0;c=this._engine.getCaps().textureHalfFloatRender?2:0,this._blurTexture=new b["RenderTargetTexture"]("HighlightLayerBlurRTT",{width:n,height:u},this._scene,!1,!0,c),this._blurTexture.wrapU=g["Texture"].CLAMP_ADDRESSMODE,this._blurTexture.wrapV=g["Texture"].CLAMP_ADDRESSMODE,this._blurTexture.anisotropicFilteringLevel=16,this._blurTexture.updateSamplingMode(g["Texture"].TRILINEAR_SAMPLINGMODE),this._blurTexture.renderParticles=!1,this._blurTexture.ignoreCameraViewport=!0,this._textures=[this._blurTexture],2===this._options.alphaBlendingMode?(this._downSamplePostprocess=new U["PassPostProcess"]("HighlightLayerPPP",this._options.blurTextureSizeRatio,null,g["Texture"].BILINEAR_SAMPLINGMODE,this._scene.getEngine()),this._downSamplePostprocess.onApplyObservable.add((function(n){n.setTexture("textureSampler",t._mainTexture)})),this._horizontalBlurPostprocess=new Q("HighlightLayerHBP",new h["Vector2"](1,0),this._options.blurHorizontalSize,1,null,g["Texture"].BILINEAR_SAMPLINGMODE,this._scene.getEngine()),this._horizontalBlurPostprocess.onApplyObservable.add((function(t){t.setFloat2("screenSize",n,u)})),this._verticalBlurPostprocess=new Q("HighlightLayerVBP",new h["Vector2"](0,1),this._options.blurVerticalSize,1,null,g["Texture"].BILINEAR_SAMPLINGMODE,this._scene.getEngine()),this._verticalBlurPostprocess.onApplyObservable.add((function(t){t.setFloat2("screenSize",n,u)})),this._postProcesses=[this._downSamplePostprocess,this._horizontalBlurPostprocess,this._verticalBlurPostprocess]):(this._horizontalBlurPostprocess=new G["BlurPostProcess"]("HighlightLayerHBP",new h["Vector2"](1,0),this._options.blurHorizontalSize/2,{width:n,height:u},null,g["Texture"].BILINEAR_SAMPLINGMODE,this._scene.getEngine(),!1,c),this._horizontalBlurPostprocess.width=n,this._horizontalBlurPostprocess.height=u,this._horizontalBlurPostprocess.onApplyObservable.add((function(n){n.setTexture("textureSampler",t._mainTexture)})),this._verticalBlurPostprocess=new G["BlurPostProcess"]("HighlightLayerVBP",new h["Vector2"](0,1),this._options.blurVerticalSize/2,{width:n,height:u},null,g["Texture"].BILINEAR_SAMPLINGMODE,this._scene.getEngine(),!1,c),this._postProcesses=[this._horizontalBlurPostprocess,this._verticalBlurPostprocess]),this._mainTexture.onAfterUnbindObservable.add((function(){t.onBeforeBlurObservable.notifyObservers(t);var n=t._blurTexture.getInternalTexture();n&&(t._scene.postProcessManager.directRender(t._postProcesses,n,!0),t._engine.unBindFramebuffer(n,!0)),t.onAfterBlurObservable.notifyObservers(t)})),this._postProcesses.map((function(t){t.autoClear=!1}))},HighlightLayer.prototype.needStencil=function(){return!0},HighlightLayer.prototype.isReady=function(n,u){var c=n.getMaterial(),l=n.getRenderingMesh();if(!c||!l||!this._meshes)return!1;var d=null,h=this._meshes[l.uniqueId];return h&&h.glowEmissiveOnly&&c&&(d=c.emissiveTexture),t.prototype._isReady.call(this,n,u,d)},HighlightLayer.prototype._internalRender=function(t){t.setTexture("textureSampler",this._blurTexture);var n=this._engine;n.cacheStencilState(),n.setStencilOperationPass(7681),n.setStencilOperationFail(7680),n.setStencilOperationDepthFail(7680),n.setStencilMask(0),n.setStencilBuffer(!0),n.setStencilFunctionReference(this._instanceGlowingMeshStencilReference),this.outerGlow&&(t.setFloat("offset",0),n.setStencilFunction(517),n.drawElementsType(_["Material"].TriangleFillMode,0,6)),this.innerGlow&&(t.setFloat("offset",1),n.setStencilFunction(514),n.drawElementsType(_["Material"].TriangleFillMode,0,6)),n.restoreStencilState()},HighlightLayer.prototype.shouldRender=function(){return!!t.prototype.shouldRender.call(this)&&!!this._meshes},HighlightLayer.prototype._shouldRenderMesh=function(n){return(!this._excludedMeshes||!this._excludedMeshes[n.uniqueId])&&!!t.prototype.hasMesh.call(this,n)},HighlightLayer.prototype._canRenderMesh=function(t,n){return!0},HighlightLayer.prototype._addCustomEffectDefines=function(t){t.push("#define HIGHLIGHT")},HighlightLayer.prototype._setEmissiveTextureAndColor=function(t,n,u){var c=this._meshes[t.uniqueId];c?this._emissiveTextureAndColor.color.set(c.color.r,c.color.g,c.color.b,1):this._emissiveTextureAndColor.color.set(this.neutralColor.r,this.neutralColor.g,this.neutralColor.b,this.neutralColor.a),c&&c.glowEmissiveOnly&&u?(this._emissiveTextureAndColor.texture=u.emissiveTexture,this._emissiveTextureAndColor.color.set(1,1,1,1)):this._emissiveTextureAndColor.texture=null},HighlightLayer.prototype.addExcludedMesh=function(t){if(this._excludedMeshes){var n=this._excludedMeshes[t.uniqueId];n||(this._excludedMeshes[t.uniqueId]={mesh:t,beforeBind:t.onBeforeBindObservable.add((function(t){t.getEngine().setStencilBuffer(!1)})),afterRender:t.onAfterRenderObservable.add((function(t){t.getEngine().setStencilBuffer(!0)}))})}},HighlightLayer.prototype.removeExcludedMesh=function(t){if(this._excludedMeshes){var n=this._excludedMeshes[t.uniqueId];n&&(n.beforeBind&&t.onBeforeBindObservable.remove(n.beforeBind),n.afterRender&&t.onAfterRenderObservable.remove(n.afterRender)),this._excludedMeshes[t.uniqueId]=null}},HighlightLayer.prototype.hasMesh=function(n){return!!this._meshes&&(!!t.prototype.hasMesh.call(this,n)&&(void 0!==this._meshes[n.uniqueId]&&null!==this._meshes[n.uniqueId]))},HighlightLayer.prototype.addMesh=function(t,n,u){var c=this;if(void 0===u&&(u=!1),this._meshes){var l=this._meshes[t.uniqueId];l?l.color=n:(this._meshes[t.uniqueId]={mesh:t,color:n,observerHighlight:t.onBeforeBindObservable.add((function(t){c.isEnabled&&(c._excludedMeshes&&c._excludedMeshes[t.uniqueId]?c._defaultStencilReference(t):t.getScene().getEngine().setStencilFunctionReference(c._instanceGlowingMeshStencilReference))})),observerDefault:t.onAfterRenderObservable.add((function(t){c.isEnabled&&c._defaultStencilReference(t)})),glowEmissiveOnly:u},t.onDisposeObservable.add((function(){c._disposeMesh(t)}))),this._shouldRender=!0}},HighlightLayer.prototype.removeMesh=function(t){if(this._meshes){var n=this._meshes[t.uniqueId];for(var u in n&&(n.observerHighlight&&t.onBeforeBindObservable.remove(n.observerHighlight),n.observerDefault&&t.onAfterRenderObservable.remove(n.observerDefault),delete this._meshes[t.uniqueId]),this._shouldRender=!1,this._meshes)if(this._meshes[u]){this._shouldRender=!0;break}}},HighlightLayer.prototype.removeAllMeshes=function(){if(this._meshes)for(var t in this._meshes)if(this._meshes.hasOwnProperty(t)){var n=this._meshes[t];n&&this.removeMesh(n.mesh)}},HighlightLayer.prototype._defaultStencilReference=function(t){t.getScene().getEngine().setStencilFunctionReference(HighlightLayer.NormalMeshStencilReference)},HighlightLayer.prototype._disposeMesh=function(t){this.removeMesh(t),this.removeExcludedMesh(t)},HighlightLayer.prototype.dispose=function(){if(this._meshes){for(var n in this._meshes){var u=this._meshes[n];u&&u.mesh&&(u.observerHighlight&&u.mesh.onBeforeBindObservable.remove(u.observerHighlight),u.observerDefault&&u.mesh.onAfterRenderObservable.remove(u.observerDefault))}this._meshes=null}if(this._excludedMeshes){for(var n in this._excludedMeshes){u=this._excludedMeshes[n];u&&(u.beforeBind&&u.mesh.onBeforeBindObservable.remove(u.beforeBind),u.afterRender&&u.mesh.onAfterRenderObservable.remove(u.afterRender))}this._excludedMeshes=null}t.prototype.dispose.call(this)},HighlightLayer.prototype.getClassName=function(){return"HighlightLayer"},HighlightLayer.prototype.serialize=function(){var t=l["SerializationHelper"].Serialize(this);if(t.customType="BABYLON.HighlightLayer",t.meshes=[],this._meshes)for(var n in this._meshes){var u=this._meshes[n];u&&t.meshes.push({glowEmissiveOnly:u.glowEmissiveOnly,color:u.color.asArray(),meshId:u.mesh.id})}if(t.excludedMeshes=[],this._excludedMeshes)for(var c in this._excludedMeshes){var d=this._excludedMeshes[c];d&&t.excludedMeshes.push(d.mesh.id)}return t},HighlightLayer.Parse=function(t,n,u){var c,d=l["SerializationHelper"].Parse((function(){return new HighlightLayer(t.name,n,t.options)}),t,n,u);for(c=0;c<t.excludedMeshes.length;c++){var h=n.getMeshByID(t.excludedMeshes[c]);h&&d.addExcludedMesh(h)}for(c=0;c<t.meshes.length;c++){var p=t.meshes[c];h=n.getMeshByID(p.meshId);h&&d.addMesh(h,Y["Color3"].FromArray(p.color),p.glowEmissiveOnly)}return d},HighlightLayer.EffectName="HighlightLayer",HighlightLayer.NeutralColor=new Y["Color4"](0,0,0,0),HighlightLayer.GlowingMeshStencilReference=2,HighlightLayer.NormalMeshStencilReference=1,Object(c["__decorate"])([Object(l["serialize"])()],HighlightLayer.prototype,"innerGlow",void 0),Object(c["__decorate"])([Object(l["serialize"])()],HighlightLayer.prototype,"outerGlow",void 0),Object(c["__decorate"])([Object(l["serialize"])()],HighlightLayer.prototype,"blurHorizontalSize",null),Object(c["__decorate"])([Object(l["serialize"])()],HighlightLayer.prototype,"blurVerticalSize",null),Object(c["__decorate"])([Object(l["serialize"])("options")],HighlightLayer.prototype,"_options",void 0),HighlightLayer}(W["EffectLayer"]);K["_TypeStore"].RegisteredTypes["BABYLON.HighlightLayer"]=Z},"./node_modules/@babylonjs/core/Lights/light.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Light",(function(){return g}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Maths/math.color.js"),p=u("./node_modules/@babylonjs/core/node.js"),m=u("./node_modules/@babylonjs/core/Materials/uniformBuffer.js"),_=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),g=function(t){function Light(n,u){var c=t.call(this,n,u)||this;return c.diffuse=new h["Color3"](1,1,1),c.specular=new h["Color3"](1,1,1),c.falloffType=Light.FALLOFF_DEFAULT,c.intensity=1,c._range=Number.MAX_VALUE,c._inverseSquaredRange=0,c._photometricScale=1,c._intensityMode=Light.INTENSITYMODE_AUTOMATIC,c._radius=1e-5,c.renderPriority=0,c._shadowEnabled=!0,c._excludeWithLayerMask=0,c._includeOnlyWithLayerMask=0,c._lightmapMode=0,c._excludedMeshesIds=new Array,c._includedOnlyMeshesIds=new Array,c._isLight=!0,c.getScene().addLight(c),c._uniformBuffer=new m["UniformBuffer"](c.getScene().getEngine()),c._buildUniformLayout(),c.includedOnlyMeshes=new Array,c.excludedMeshes=new Array,c._resyncMeshes(),c}return Object(c["__extends"])(Light,t),Object.defineProperty(Light.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this._inverseSquaredRange=1/(this.range*this.range)},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"intensityMode",{get:function(){return this._intensityMode},set:function(t){this._intensityMode=t,this._computePhotometricScale()},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this._computePhotometricScale()},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"shadowEnabled",{get:function(){return this._shadowEnabled},set:function(t){this._shadowEnabled!==t&&(this._shadowEnabled=t,this._markMeshesAsLightDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"includedOnlyMeshes",{get:function(){return this._includedOnlyMeshes},set:function(t){this._includedOnlyMeshes=t,this._hookArrayForIncludedOnly(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"excludedMeshes",{get:function(){return this._excludedMeshes},set:function(t){this._excludedMeshes=t,this._hookArrayForExcluded(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"excludeWithLayerMask",{get:function(){return this._excludeWithLayerMask},set:function(t){this._excludeWithLayerMask=t,this._resyncMeshes()},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"includeOnlyWithLayerMask",{get:function(){return this._includeOnlyWithLayerMask},set:function(t){this._includeOnlyWithLayerMask=t,this._resyncMeshes()},enumerable:!1,configurable:!0}),Object.defineProperty(Light.prototype,"lightmapMode",{get:function(){return this._lightmapMode},set:function(t){this._lightmapMode!==t&&(this._lightmapMode=t,this._markMeshesAsLightDirty())},enumerable:!1,configurable:!0}),Light.prototype.transferTexturesToEffect=function(t,n){return this},Light.prototype._bindLight=function(t,n,u,c,l){void 0===l&&(l=!1);var d=t.toString(),p=!1;if(!l||!this._uniformBuffer._alreadyBound){if(this._uniformBuffer.bindToEffect(u,"Light"+d),this._renderId!==n.getRenderId()||!this._uniformBuffer.useUbo){this._renderId=n.getRenderId();var m=this.getScaledIntensity();this.transferToEffect(u,d),this.diffuse.scaleToRef(m,h["TmpColors"].Color3[0]),this._uniformBuffer.updateColor4("vLightDiffuse",h["TmpColors"].Color3[0],this.range,d),c&&(this.specular.scaleToRef(m,h["TmpColors"].Color3[1]),this._uniformBuffer.updateColor4("vLightSpecular",h["TmpColors"].Color3[1],this.radius,d)),p=!0}if(this.transferTexturesToEffect(u,d),n.shadowsEnabled&&this.shadowEnabled){var _=this.getShadowGenerator();_&&(_.bindShadowLight(d,u),p=!0)}p&&this._uniformBuffer.update()}},Light.prototype.getClassName=function(){return"Light"},Light.prototype.toString=function(t){var n="Name: "+this.name;if(n+=", type: "+["Point","Directional","Spot","Hemispheric"][this.getTypeID()],this.animations)for(var u=0;u<this.animations.length;u++)n+=", animation[0]: "+this.animations[u].toString(t);return n},Light.prototype._syncParentEnabledState=function(){t.prototype._syncParentEnabledState.call(this),this.isDisposed()||this._resyncMeshes()},Light.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._resyncMeshes()},Light.prototype.getShadowGenerator=function(){return this._shadowGenerator},Light.prototype.getAbsolutePosition=function(){return d["Vector3"].Zero()},Light.prototype.canAffectMesh=function(t){return!t||!(this.includedOnlyMeshes&&this.includedOnlyMeshes.length>0&&-1===this.includedOnlyMeshes.indexOf(t))&&(!(this.excludedMeshes&&this.excludedMeshes.length>0&&-1!==this.excludedMeshes.indexOf(t))&&((0===this.includeOnlyWithLayerMask||0!==(this.includeOnlyWithLayerMask&t.layerMask))&&!(0!==this.excludeWithLayerMask&&this.excludeWithLayerMask&t.layerMask)))},Light.CompareLightsPriority=function(t,n){return t.shadowEnabled!==n.shadowEnabled?(n.shadowEnabled?1:0)-(t.shadowEnabled?1:0):n.renderPriority-t.renderPriority},Light.prototype.dispose=function(n,u){void 0===u&&(u=!1),this._shadowGenerator&&(this._shadowGenerator.dispose(),this._shadowGenerator=null),this.getScene().stopAnimation(this);for(var c=0,l=this.getScene().meshes;c<l.length;c++){var d=l[c];d._removeLightSource(this,!0)}this._uniformBuffer.dispose(),this.getScene().removeLight(this),t.prototype.dispose.call(this,n,u)},Light.prototype.getTypeID=function(){return 0},Light.prototype.getScaledIntensity=function(){return this._photometricScale*this.intensity},Light.prototype.clone=function(t,n){void 0===n&&(n=null);var u=Light.GetConstructorFromName(this.getTypeID(),t,this.getScene());if(!u)return null;var c=l["SerializationHelper"].Clone(u,this);return n&&(c.parent=n),c.setEnabled(this.isEnabled()),c},Light.prototype.serialize=function(){var t=l["SerializationHelper"].Serialize(this);return t.type=this.getTypeID(),this.parent&&(t.parentId=this.parent.id),this.excludedMeshes.length>0&&(t.excludedMeshesIds=[],this.excludedMeshes.forEach((function(n){t.excludedMeshesIds.push(n.id)}))),this.includedOnlyMeshes.length>0&&(t.includedOnlyMeshesIds=[],this.includedOnlyMeshes.forEach((function(n){t.includedOnlyMeshesIds.push(n.id)}))),l["SerializationHelper"].AppendSerializedAnimations(this,t),t.ranges=this.serializeAnimationRanges(),t},Light.GetConstructorFromName=function(t,n,u){var c=p["Node"].Construct("Light_Type_"+t,n,u);return c||null},Light.Parse=function(t,n){var u=Light.GetConstructorFromName(t.type,t.name,n);if(!u)return null;var c=l["SerializationHelper"].Parse(u,t,n);if(t.excludedMeshesIds&&(c._excludedMeshesIds=t.excludedMeshesIds),t.includedOnlyMeshesIds&&(c._includedOnlyMeshesIds=t.includedOnlyMeshesIds),t.parentId&&(c._waitingParentId=t.parentId),void 0!==t.falloffType&&(c.falloffType=t.falloffType),void 0!==t.lightmapMode&&(c.lightmapMode=t.lightmapMode),t.animations){for(var d=0;d<t.animations.length;d++){var h=t.animations[d],m=_["_TypeStore"].GetClass("BABYLON.Animation");m&&c.animations.push(m.Parse(h))}p["Node"].ParseAnimationRanges(c,t,n)}return t.autoAnimate&&n.beginAnimation(c,t.autoAnimateFrom,t.autoAnimateTo,t.autoAnimateLoop,t.autoAnimateSpeed||1),c},Light.prototype._hookArrayForExcluded=function(t){var n=this,u=t.push;t.push=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];for(var d=u.apply(t,c),h=0,p=c;h<p.length;h++){var m=p[h];m._resyncLightSource(n)}return d};var c=t.splice;t.splice=function(u,l){for(var d=c.apply(t,[u,l]),h=0,p=d;h<p.length;h++){var m=p[h];m._resyncLightSource(n)}return d};for(var l=0,d=t;l<d.length;l++){var h=d[l];h._resyncLightSource(this)}},Light.prototype._hookArrayForIncludedOnly=function(t){var n=this,u=t.push;t.push=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var d=u.apply(t,c);return n._resyncMeshes(),d};var c=t.splice;t.splice=function(u,l){var d=c.apply(t,[u,l]);return n._resyncMeshes(),d},this._resyncMeshes()},Light.prototype._resyncMeshes=function(){for(var t=0,n=this.getScene().meshes;t<n.length;t++){var u=n[t];u._resyncLightSource(this)}},Light.prototype._markMeshesAsLightDirty=function(){for(var t=0,n=this.getScene().meshes;t<n.length;t++){var u=n[t];-1!==u.lightSources.indexOf(this)&&u._markSubMeshesAsLightDirty()}},Light.prototype._computePhotometricScale=function(){this._photometricScale=this._getPhotometricScale(),this.getScene().resetCachedMaterial()},Light.prototype._getPhotometricScale=function(){var t=0,n=this.getTypeID(),u=this.intensityMode;switch(u===Light.INTENSITYMODE_AUTOMATIC&&(u=n===Light.LIGHTTYPEID_DIRECTIONALLIGHT?Light.INTENSITYMODE_ILLUMINANCE:Light.INTENSITYMODE_LUMINOUSINTENSITY),n){case Light.LIGHTTYPEID_POINTLIGHT:case Light.LIGHTTYPEID_SPOTLIGHT:switch(u){case Light.INTENSITYMODE_LUMINOUSPOWER:t=1/(4*Math.PI);break;case Light.INTENSITYMODE_LUMINOUSINTENSITY:t=1;break;case Light.INTENSITYMODE_LUMINANCE:t=this.radius*this.radius;break}break;case Light.LIGHTTYPEID_DIRECTIONALLIGHT:switch(u){case Light.INTENSITYMODE_ILLUMINANCE:t=1;break;case Light.INTENSITYMODE_LUMINANCE:var c=this.radius;c=Math.max(c,.001);var l=2*Math.PI*(1-Math.cos(c));t=l;break}break;case Light.LIGHTTYPEID_HEMISPHERICLIGHT:t=1;break}return t},Light.prototype._reorderLightsInScene=function(){var t=this.getScene();0!=this._renderPriority&&(t.requireLightSorting=!0),this.getScene().sortLightsByPriority()},Light.FALLOFF_DEFAULT=0,Light.FALLOFF_PHYSICAL=1,Light.FALLOFF_GLTF=2,Light.FALLOFF_STANDARD=3,Light.LIGHTMAP_DEFAULT=0,Light.LIGHTMAP_SPECULAR=1,Light.LIGHTMAP_SHADOWSONLY=2,Light.INTENSITYMODE_AUTOMATIC=0,Light.INTENSITYMODE_LUMINOUSPOWER=1,Light.INTENSITYMODE_LUMINOUSINTENSITY=2,Light.INTENSITYMODE_ILLUMINANCE=3,Light.INTENSITYMODE_LUMINANCE=4,Light.LIGHTTYPEID_POINTLIGHT=0,Light.LIGHTTYPEID_DIRECTIONALLIGHT=1,Light.LIGHTTYPEID_SPOTLIGHT=2,Light.LIGHTTYPEID_HEMISPHERICLIGHT=3,Object(c["__decorate"])([Object(l["serializeAsColor3"])()],Light.prototype,"diffuse",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])()],Light.prototype,"specular",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Light.prototype,"falloffType",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Light.prototype,"intensity",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Light.prototype,"range",null),Object(c["__decorate"])([Object(l["serialize"])()],Light.prototype,"intensityMode",null),Object(c["__decorate"])([Object(l["serialize"])()],Light.prototype,"radius",null),Object(c["__decorate"])([Object(l["serialize"])()],Light.prototype,"_renderPriority",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_reorderLightsInScene")],Light.prototype,"renderPriority",void 0),Object(c["__decorate"])([Object(l["serialize"])("shadowEnabled")],Light.prototype,"_shadowEnabled",void 0),Object(c["__decorate"])([Object(l["serialize"])("excludeWithLayerMask")],Light.prototype,"_excludeWithLayerMask",void 0),Object(c["__decorate"])([Object(l["serialize"])("includeOnlyWithLayerMask")],Light.prototype,"_includeOnlyWithLayerMask",void 0),Object(c["__decorate"])([Object(l["serialize"])("lightmapMode")],Light.prototype,"_lightmapMode",void 0),Light}(p["Node"])},"./node_modules/@babylonjs/core/Lights/pointLight.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PointLight",(function(){return _}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/node.js"),p=u("./node_modules/@babylonjs/core/Lights/light.js"),m=u("./node_modules/@babylonjs/core/Lights/shadowLight.js");h["Node"].AddNodeConstructor("Light_Type_0",(function(t,n){return function(){return new _(t,d["Vector3"].Zero(),n)}}));var _=function(t){function PointLight(n,u,c){var l=t.call(this,n,c)||this;return l._shadowAngle=Math.PI/2,l.position=u,l}return Object(c["__extends"])(PointLight,t),Object.defineProperty(PointLight.prototype,"shadowAngle",{get:function(){return this._shadowAngle},set:function(t){this._shadowAngle=t,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),Object.defineProperty(PointLight.prototype,"direction",{get:function(){return this._direction},set:function(t){var n=this.needCube();this._direction=t,this.needCube()!==n&&this._shadowGenerator&&this._shadowGenerator.recreateShadowMap()},enumerable:!1,configurable:!0}),PointLight.prototype.getClassName=function(){return"PointLight"},PointLight.prototype.getTypeID=function(){return p["Light"].LIGHTTYPEID_POINTLIGHT},PointLight.prototype.needCube=function(){return!this.direction},PointLight.prototype.getShadowDirection=function(n){if(this.direction)return t.prototype.getShadowDirection.call(this,n);switch(n){case 0:return new d["Vector3"](1,0,0);case 1:return new d["Vector3"](-1,0,0);case 2:return new d["Vector3"](0,-1,0);case 3:return new d["Vector3"](0,1,0);case 4:return new d["Vector3"](0,0,1);case 5:return new d["Vector3"](0,0,-1)}return d["Vector3"].Zero()},PointLight.prototype._setDefaultShadowProjectionMatrix=function(t,n,u){var c=this.getScene().activeCamera;c&&d["Matrix"].PerspectiveFovLHToRef(this.shadowAngle,1,this.getDepthMinZ(c),this.getDepthMaxZ(c),t)},PointLight.prototype._buildUniformLayout=function(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightFalloff",4),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()},PointLight.prototype.transferToEffect=function(t,n){return this.computeTransformedInformation()?this._uniformBuffer.updateFloat4("vLightData",this.transformedPosition.x,this.transformedPosition.y,this.transformedPosition.z,0,n):this._uniformBuffer.updateFloat4("vLightData",this.position.x,this.position.y,this.position.z,0,n),this._uniformBuffer.updateFloat4("vLightFalloff",this.range,this._inverseSquaredRange,0,0,n),this},PointLight.prototype.transferToNodeMaterialEffect=function(t,n){return this.computeTransformedInformation()?t.setFloat3(n,this.transformedPosition.x,this.transformedPosition.y,this.transformedPosition.z):t.setFloat3(n,this.position.x,this.position.y,this.position.z),this},PointLight.prototype.prepareLightSpecificDefines=function(t,n){t["POINTLIGHT"+n]=!0},Object(c["__decorate"])([Object(l["serialize"])()],PointLight.prototype,"shadowAngle",null),PointLight}(m["ShadowLight"])},"./node_modules/@babylonjs/core/Lights/shadowLight.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShadowLight",(function(){return m}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Lights/light.js"),p=u("./node_modules/@babylonjs/core/Maths/math.axis.js"),m=function(t){function ShadowLight(){var n=null!==t&&t.apply(this,arguments)||this;return n._needProjectionMatrixCompute=!0,n}return Object(c["__extends"])(ShadowLight,t),ShadowLight.prototype._setPosition=function(t){this._position=t},Object.defineProperty(ShadowLight.prototype,"position",{get:function(){return this._position},set:function(t){this._setPosition(t)},enumerable:!1,configurable:!0}),ShadowLight.prototype._setDirection=function(t){this._direction=t},Object.defineProperty(ShadowLight.prototype,"direction",{get:function(){return this._direction},set:function(t){this._setDirection(t)},enumerable:!1,configurable:!0}),Object.defineProperty(ShadowLight.prototype,"shadowMinZ",{get:function(){return this._shadowMinZ},set:function(t){this._shadowMinZ=t,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),Object.defineProperty(ShadowLight.prototype,"shadowMaxZ",{get:function(){return this._shadowMaxZ},set:function(t){this._shadowMaxZ=t,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),ShadowLight.prototype.computeTransformedInformation=function(){return!(!this.parent||!this.parent.getWorldMatrix)&&(this.transformedPosition||(this.transformedPosition=d["Vector3"].Zero()),d["Vector3"].TransformCoordinatesToRef(this.position,this.parent.getWorldMatrix(),this.transformedPosition),this.direction&&(this.transformedDirection||(this.transformedDirection=d["Vector3"].Zero()),d["Vector3"].TransformNormalToRef(this.direction,this.parent.getWorldMatrix(),this.transformedDirection)),!0)},ShadowLight.prototype.getDepthScale=function(){return 50},ShadowLight.prototype.getShadowDirection=function(t){return this.transformedDirection?this.transformedDirection:this.direction},ShadowLight.prototype.getAbsolutePosition=function(){return this.transformedPosition?this.transformedPosition:this.position},ShadowLight.prototype.setDirectionToTarget=function(t){return this.direction=d["Vector3"].Normalize(t.subtract(this.position)),this.direction},ShadowLight.prototype.getRotation=function(){this.direction.normalize();var t=d["Vector3"].Cross(this.direction,p["Axis"].Y),n=d["Vector3"].Cross(t,this.direction);return d["Vector3"].RotationFromAxis(t,n,this.direction)},ShadowLight.prototype.needCube=function(){return!1},ShadowLight.prototype.needProjectionMatrixCompute=function(){return this._needProjectionMatrixCompute},ShadowLight.prototype.forceProjectionMatrixCompute=function(){this._needProjectionMatrixCompute=!0},ShadowLight.prototype._initCache=function(){t.prototype._initCache.call(this),this._cache.position=d["Vector3"].Zero()},ShadowLight.prototype._isSynchronized=function(){return!!this._cache.position.equals(this.position)},ShadowLight.prototype.computeWorldMatrix=function(t){return!t&&this.isSynchronized()?(this._currentRenderId=this.getScene().getRenderId(),this._worldMatrix):(this._updateCache(),this._cache.position.copyFrom(this.position),this._worldMatrix||(this._worldMatrix=d["Matrix"].Identity()),d["Matrix"].TranslationToRef(this.position.x,this.position.y,this.position.z,this._worldMatrix),this.parent&&this.parent.getWorldMatrix&&(this._worldMatrix.multiplyToRef(this.parent.getWorldMatrix(),this._worldMatrix),this._markSyncedWithParent()),this._worldMatrixDeterminantIsDirty=!0,this._worldMatrix)},ShadowLight.prototype.getDepthMinZ=function(t){return void 0!==this.shadowMinZ?this.shadowMinZ:t.minZ},ShadowLight.prototype.getDepthMaxZ=function(t){return void 0!==this.shadowMaxZ?this.shadowMaxZ:t.maxZ},ShadowLight.prototype.setShadowProjectionMatrix=function(t,n,u){return this.customProjectionMatrixBuilder?this.customProjectionMatrixBuilder(n,u,t):this._setDefaultShadowProjectionMatrix(t,n,u),this},Object(c["__decorate"])([Object(l["serializeAsVector3"])()],ShadowLight.prototype,"position",null),Object(c["__decorate"])([Object(l["serializeAsVector3"])()],ShadowLight.prototype,"direction",null),Object(c["__decorate"])([Object(l["serialize"])()],ShadowLight.prototype,"shadowMinZ",null),Object(c["__decorate"])([Object(l["serialize"])()],ShadowLight.prototype,"shadowMaxZ",null),ShadowLight}(h["Light"])},"./node_modules/@babylonjs/core/Loading/sceneLoaderFlags.js":function(t,n,u){"use strict";u.r(n),u.d(n,"SceneLoaderFlags",(function(){return c}));var c=function(){function SceneLoaderFlags(){}return Object.defineProperty(SceneLoaderFlags,"ForceFullSceneLoadingForIncremental",{get:function(){return SceneLoaderFlags._ForceFullSceneLoadingForIncremental},set:function(t){SceneLoaderFlags._ForceFullSceneLoadingForIncremental=t},enumerable:!1,configurable:!0}),Object.defineProperty(SceneLoaderFlags,"ShowLoadingScreen",{get:function(){return SceneLoaderFlags._ShowLoadingScreen},set:function(t){SceneLoaderFlags._ShowLoadingScreen=t},enumerable:!1,configurable:!0}),Object.defineProperty(SceneLoaderFlags,"loggingLevel",{get:function(){return SceneLoaderFlags._loggingLevel},set:function(t){SceneLoaderFlags._loggingLevel=t},enumerable:!1,configurable:!0}),Object.defineProperty(SceneLoaderFlags,"CleanBoneMatrixWeights",{get:function(){return SceneLoaderFlags._CleanBoneMatrixWeights},set:function(t){SceneLoaderFlags._CleanBoneMatrixWeights=t},enumerable:!1,configurable:!0}),SceneLoaderFlags._ForceFullSceneLoadingForIncremental=!1,SceneLoaderFlags._ShowLoadingScreen=!0,SceneLoaderFlags._CleanBoneMatrixWeights=!1,SceneLoaderFlags._loggingLevel=0,SceneLoaderFlags}()},"./node_modules/@babylonjs/core/Materials/Textures/baseTexture.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BaseTexture",(function(){return g}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),m=u("./node_modules/@babylonjs/core/Misc/guid.js"),_=(u("./node_modules/@babylonjs/core/Misc/fileTools.js"),u("./node_modules/@babylonjs/core/Materials/Textures/thinTexture.js")),g=function(t){function BaseTexture(n){var u=t.call(this,null)||this;return u.metadata=null,u.reservedDataStore=null,u._hasAlpha=!1,u.getAlphaFromRGB=!1,u.level=1,u.coordinatesIndex=0,u._coordinatesMode=0,u.wrapR=1,u.anisotropicFilteringLevel=BaseTexture.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,u._isCube=!1,u._gammaSpace=!0,u.invertZ=!1,u.lodLevelInAlpha=!1,u.isRenderTarget=!1,u._prefiltered=!1,u.animations=new Array,u.onDisposeObservable=new d["Observable"],u._onDisposeObserver=null,u._scene=null,u._texture=null,u._uid=null,n?BaseTexture._isScene(n)?u._scene=n:u._engine=n:u._scene=p["EngineStore"].LastCreatedScene,u._scene&&(u.uniqueId=u._scene.getUniqueId(),u._scene.addTexture(u),u._engine=u._scene.getEngine()),u._uid=null,u}return Object(c["__extends"])(BaseTexture,t),Object.defineProperty(BaseTexture.prototype,"hasAlpha",{get:function(){return this._hasAlpha},set:function(t){this._hasAlpha!==t&&(this._hasAlpha=t,this._scene&&this._scene.markAllMaterialsAsDirty(17))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"coordinatesMode",{get:function(){return this._coordinatesMode},set:function(t){this._coordinatesMode!==t&&(this._coordinatesMode=t,this._scene&&this._scene.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"wrapU",{get:function(){return this._wrapU},set:function(t){this._wrapU=t},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"wrapV",{get:function(){return this._wrapV},set:function(t){this._wrapV=t},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"isCube",{get:function(){return this._texture?this._texture.isCube:this._isCube},set:function(t){this._texture?this._texture.isCube=t:this._isCube=t},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"is3D",{get:function(){return!!this._texture&&this._texture.is3D},set:function(t){this._texture&&(this._texture.is3D=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"is2DArray",{get:function(){return!!this._texture&&this._texture.is2DArray},set:function(t){this._texture&&(this._texture.is2DArray=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"gammaSpace",{get:function(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace):this._gammaSpace},set:function(t){if(this._texture){if(this._texture._gammaSpace===t)return;this._texture._gammaSpace=t}else{if(this._gammaSpace===t)return;this._gammaSpace=t}this._markAllSubMeshesAsTexturesDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"isRGBD",{get:function(){return null!=this._texture&&this._texture._isRGBD},set:function(t){this._texture&&(this._texture._isRGBD=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"noMipmap",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"lodGenerationOffset",{get:function(){return this._texture?this._texture._lodGenerationOffset:0},set:function(t){this._texture&&(this._texture._lodGenerationOffset=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"lodGenerationScale",{get:function(){return this._texture?this._texture._lodGenerationScale:0},set:function(t){this._texture&&(this._texture._lodGenerationScale=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"linearSpecularLOD",{get:function(){return!!this._texture&&this._texture._linearSpecularLOD},set:function(t){this._texture&&(this._texture._linearSpecularLOD=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"irradianceTexture",{get:function(){return this._texture?this._texture._irradianceTexture:null},set:function(t){this._texture&&(this._texture._irradianceTexture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"uid",{get:function(){return this._uid||(this._uid=m["GUID"].RandomId()),this._uid},enumerable:!1,configurable:!0}),BaseTexture.prototype.toString=function(){return this.name},BaseTexture.prototype.getClassName=function(){return"BaseTexture"},Object.defineProperty(BaseTexture.prototype,"onDispose",{set:function(t){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"isBlocking",{get:function(){return!0},enumerable:!1,configurable:!0}),BaseTexture.prototype.getScene=function(){return this._scene},BaseTexture.prototype._getEngine=function(){return this._engine},BaseTexture.prototype.checkTransformsAreIdentical=function(t){return null!==t},BaseTexture.prototype.getTextureMatrix=function(){return h["Matrix"].IdentityReadOnly},BaseTexture.prototype.getReflectionTextureMatrix=function(){return h["Matrix"].IdentityReadOnly},BaseTexture.prototype.isReadyOrNotBlocking=function(){return!this.isBlocking||this.isReady()},BaseTexture.prototype.scale=function(t){},Object.defineProperty(BaseTexture.prototype,"canRescale",{get:function(){return!1},enumerable:!1,configurable:!0}),BaseTexture.prototype._getFromCache=function(t,n,u,c){var l=this._getEngine();if(!l)return null;for(var d=l.getLoadedTexturesCache(),h=0;h<d.length;h++){var p=d[h];if((void 0===c||c===p.invertY)&&p.url===t&&p.generateMipMaps===!n&&(!u||u===p.samplingMode))return p.incrementReferences(),p}return null},BaseTexture.prototype._rebuild=function(){},BaseTexture.prototype.clone=function(){return null},Object.defineProperty(BaseTexture.prototype,"textureType",{get:function(){return this._texture&&void 0!==this._texture.type?this._texture.type:0},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"textureFormat",{get:function(){return this._texture&&void 0!==this._texture.format?this._texture.format:5},enumerable:!1,configurable:!0}),BaseTexture.prototype._markAllSubMeshesAsTexturesDirty=function(){var t=this.getScene();t&&t.markAllMaterialsAsDirty(1)},BaseTexture.prototype.readPixels=function(t,n,u){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===u&&(u=null),!this._texture)return null;var c=this.getSize(),l=c.width,d=c.height,h=this._getEngine();if(!h)return null;0!=n&&(l/=Math.pow(2,n),d/=Math.pow(2,n),l=Math.round(l),d=Math.round(d));try{return this._texture.isCube?h._readTexturePixels(this._texture,l,d,t,n,u):h._readTexturePixels(this._texture,l,d,-1,n,u)}catch(p){return null}},Object.defineProperty(BaseTexture.prototype,"_lodTextureHigh",{get:function(){return this._texture?this._texture._lodTextureHigh:null},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"_lodTextureMid",{get:function(){return this._texture?this._texture._lodTextureMid:null},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"_lodTextureLow",{get:function(){return this._texture?this._texture._lodTextureLow:null},enumerable:!1,configurable:!0}),BaseTexture.prototype.dispose=function(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene._removePendingData(this);var n=this._scene.textures.indexOf(this);n>=0&&this._scene.textures.splice(n,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null}this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),t.prototype.dispose.call(this)},BaseTexture.prototype.serialize=function(){if(!this.name)return null;var t=l["SerializationHelper"].Serialize(this);return l["SerializationHelper"].AppendSerializedAnimations(this,t),t},BaseTexture.WhenAllReady=function(t,n){var u=t.length;if(0!==u)for(var c=0;c<t.length;c++){var l=t[c];if(l.isReady())0===--u&&n();else{var d=l.onLoadObservable;d&&d.addOnce((function(){0===--u&&n()}))}}else n()},BaseTexture._isScene=function(t){return"Scene"===t.getClassName()},BaseTexture.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"uniqueId",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"name",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"metadata",void 0),Object(c["__decorate"])([Object(l["serialize"])("hasAlpha")],BaseTexture.prototype,"_hasAlpha",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"getAlphaFromRGB",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"level",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"coordinatesIndex",void 0),Object(c["__decorate"])([Object(l["serialize"])("coordinatesMode")],BaseTexture.prototype,"_coordinatesMode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"wrapU",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"wrapV",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"wrapR",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"anisotropicFilteringLevel",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"isCube",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"is3D",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"is2DArray",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"gammaSpace",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"invertZ",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"lodLevelInAlpha",void 0),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"lodGenerationOffset",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"lodGenerationScale",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"linearSpecularLOD",null),Object(c["__decorate"])([Object(l["serializeAsTexture"])()],BaseTexture.prototype,"irradianceTexture",null),Object(c["__decorate"])([Object(l["serialize"])()],BaseTexture.prototype,"isRenderTarget",void 0),BaseTexture}(_["ThinTexture"])},"./node_modules/@babylonjs/core/Materials/Textures/dynamicTexture.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DynamicTexture",(function(){return p}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/logger.js"),d=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),h=(u("./node_modules/@babylonjs/core/Engines/Extensions/engine.dynamicTexture.js"),u("./node_modules/@babylonjs/core/Misc/canvasGenerator.js")),p=function(t){function DynamicTexture(n,u,c,l,p,m,_){void 0===c&&(c=null),void 0===p&&(p=3),void 0===m&&(m=5);var g=t.call(this,null,c,!l,_,p,void 0,void 0,void 0,void 0,m)||this;g.name=n,g.wrapU=d["Texture"].CLAMP_ADDRESSMODE,g.wrapV=d["Texture"].CLAMP_ADDRESSMODE,g._generateMipMaps=l;var b=g._getEngine();if(!b)return g;u.getContext?(g._canvas=u,g._texture=b.createDynamicTexture(u.width,u.height,l,p)):(g._canvas=h["CanvasGenerator"].CreateCanvas(1,1),u.width||0===u.width?g._texture=b.createDynamicTexture(u.width,u.height,l,p):g._texture=b.createDynamicTexture(u,u,l,p));var v=g.getSize();return g._canvas.width=v.width,g._canvas.height=v.height,g._context=g._canvas.getContext("2d"),g}return Object(c["__extends"])(DynamicTexture,t),DynamicTexture.prototype.getClassName=function(){return"DynamicTexture"},Object.defineProperty(DynamicTexture.prototype,"canRescale",{get:function(){return!0},enumerable:!1,configurable:!0}),DynamicTexture.prototype._recreate=function(t){this._canvas.width=t.width,this._canvas.height=t.height,this.releaseInternalTexture(),this._texture=this._getEngine().createDynamicTexture(t.width,t.height,this._generateMipMaps,this.samplingMode)},DynamicTexture.prototype.scale=function(t){var n=this.getSize();n.width*=t,n.height*=t,this._recreate(n)},DynamicTexture.prototype.scaleTo=function(t,n){var u=this.getSize();u.width=t,u.height=n,this._recreate(u)},DynamicTexture.prototype.getContext=function(){return this._context},DynamicTexture.prototype.clear=function(){var t=this.getSize();this._context.fillRect(0,0,t.width,t.height)},DynamicTexture.prototype.update=function(t,n){void 0===n&&(n=!1),this._getEngine().updateDynamicTexture(this._texture,this._canvas,void 0===t||t,n,this._format||void 0)},DynamicTexture.prototype.drawText=function(t,n,u,c,l,d,h,p){void 0===p&&(p=!0);var m=this.getSize();if(d&&(this._context.fillStyle=d,this._context.fillRect(0,0,m.width,m.height)),this._context.font=c,null===n||void 0===n){var _=this._context.measureText(t);n=(m.width-_.width)/2}if(null===u||void 0===u){var g=parseInt(c.replace(/\D/g,""));u=m.height/2+g/3.65}this._context.fillStyle=l||"",this._context.fillText(t,n,u),p&&this.update(h)},DynamicTexture.prototype.clone=function(){var t=this.getScene();if(!t)return this;var n=this.getSize(),u=new DynamicTexture(this.name,n,t,this._generateMipMaps);return u.hasAlpha=this.hasAlpha,u.level=this.level,u.wrapU=this.wrapU,u.wrapV=this.wrapV,u},DynamicTexture.prototype.serialize=function(){var n=this.getScene();n&&!n.isReady()&&l["Logger"].Warn("The scene must be ready before serializing the dynamic texture");var u=t.prototype.serialize.call(this);return this._IsCanvasElement(this._canvas)&&(u.base64String=this._canvas.toDataURL()),u.invertY=this._invertY,u.samplingMode=this.samplingMode,u},DynamicTexture.prototype._IsCanvasElement=function(t){return void 0!==t.toDataURL},DynamicTexture.prototype._rebuild=function(){this.update()},DynamicTexture}(d["Texture"])},"./node_modules/@babylonjs/core/Materials/Textures/internalTexture.js":function(t,n,u){"use strict";u.r(n),u.d(n,"InternalTextureSource",(function(){return c})),u.d(n,"InternalTexture",(function(){return p}));var c,l=u("./node_modules/@babylonjs/core/Misc/observable.js"),d=u("./node_modules/@babylonjs/core/Materials/Textures/renderTargetCreationOptions.js"),h=u("./node_modules/@babylonjs/core/Misc/devTools.js");(function(t){t[t["Unknown"]=0]="Unknown",t[t["Url"]=1]="Url",t[t["Temp"]=2]="Temp",t[t["Raw"]=3]="Raw",t[t["Dynamic"]=4]="Dynamic",t[t["RenderTarget"]=5]="RenderTarget",t[t["MultiRenderTarget"]=6]="MultiRenderTarget",t[t["Cube"]=7]="Cube",t[t["CubeRaw"]=8]="CubeRaw",t[t["CubePrefiltered"]=9]="CubePrefiltered",t[t["Raw3D"]=10]="Raw3D",t[t["Raw2DArray"]=11]="Raw2DArray",t[t["Depth"]=12]="Depth",t[t["CubeRawRGBD"]=13]="CubeRawRGBD"})(c||(c={}));var p=function(){function InternalTexture(t,n,u){void 0===u&&(u=!1),this.isReady=!1,this.isCube=!1,this.is3D=!1,this.is2DArray=!1,this.isMultiview=!1,this.url="",this.samplingMode=-1,this.generateMipMaps=!1,this.samples=0,this.type=-1,this.format=-1,this.onLoadedObservable=new l["Observable"],this.width=0,this.height=0,this.depth=0,this.baseWidth=0,this.baseHeight=0,this.baseDepth=0,this.invertY=!1,this._invertVScale=!1,this._associatedChannel=-1,this._source=c.Unknown,this._buffer=null,this._bufferView=null,this._bufferViewArray=null,this._bufferViewArrayArray=null,this._size=0,this._extension="",this._files=null,this._workingCanvas=null,this._workingContext=null,this._framebuffer=null,this._depthStencilBuffer=null,this._MSAAFramebuffer=null,this._MSAARenderBuffer=null,this._attachments=null,this._textureArray=null,this._cachedCoordinatesMode=null,this._cachedWrapU=null,this._cachedWrapV=null,this._cachedWrapR=null,this._cachedAnisotropicFilteringLevel=null,this._isDisabled=!1,this._compression=null,this._generateStencilBuffer=!1,this._generateDepthBuffer=!1,this._comparisonFunction=0,this._sphericalPolynomial=null,this._lodGenerationScale=0,this._lodGenerationOffset=0,this._colorTextureArray=null,this._depthStencilTextureArray=null,this._lodTextureHigh=null,this._lodTextureMid=null,this._lodTextureLow=null,this._isRGBD=!1,this._linearSpecularLOD=!1,this._irradianceTexture=null,this._webGLTexture=null,this._references=1,this._gammaSpace=null,this._engine=t,this._source=n,u||(this._webGLTexture=t._createTexture())}return InternalTexture.prototype.getEngine=function(){return this._engine},Object.defineProperty(InternalTexture.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),InternalTexture.prototype.incrementReferences=function(){this._references++},InternalTexture.prototype.updateSize=function(t,n,u){void 0===u&&(u=1),this.width=t,this.height=n,this.depth=u,this.baseWidth=t,this.baseHeight=n,this.baseDepth=u,this._size=t*n*u},InternalTexture.prototype._rebuild=function(){var t,n,u=this;switch(this.isReady=!1,this._cachedCoordinatesMode=null,this._cachedWrapU=null,this._cachedWrapV=null,this._cachedAnisotropicFilteringLevel=null,this.source){case c.Temp:return;case c.Url:return void(n=this._engine.createTexture(null!==(t=this._originalUrl)&&void 0!==t?t:this.url,!this.generateMipMaps,this.invertY,null,this.samplingMode,(function(){n._swapAndDie(u),u.isReady=!0}),null,this._buffer,void 0,this.format));case c.Raw:return n=this._engine.createRawTexture(this._bufferView,this.baseWidth,this.baseHeight,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression),n._swapAndDie(this),void(this.isReady=!0);case c.Raw3D:return n=this._engine.createRawTexture3D(this._bufferView,this.baseWidth,this.baseHeight,this.baseDepth,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression),n._swapAndDie(this),void(this.isReady=!0);case c.Raw2DArray:return n=this._engine.createRawTexture2DArray(this._bufferView,this.baseWidth,this.baseHeight,this.baseDepth,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression),n._swapAndDie(this),void(this.isReady=!0);case c.Dynamic:return n=this._engine.createDynamicTexture(this.baseWidth,this.baseHeight,this.generateMipMaps,this.samplingMode),n._swapAndDie(this),void this._engine.updateDynamicTexture(this,this._engine.getRenderingCanvas(),this.invertY,void 0,void 0,!0);case c.RenderTarget:var l=new d["RenderTargetCreationOptions"];if(l.generateDepthBuffer=this._generateDepthBuffer,l.generateMipMaps=this.generateMipMaps,l.generateStencilBuffer=this._generateStencilBuffer,l.samplingMode=this.samplingMode,l.type=this.type,this.isCube)n=this._engine.createRenderTargetCubeTexture(this.width,l);else{var h={width:this.width,height:this.height,layers:this.is2DArray?this.depth:void 0};n=this._engine.createRenderTargetTexture(h,l)}return n._swapAndDie(this),void(this.isReady=!0);case c.Depth:var p={bilinearFiltering:2!==this.samplingMode,comparisonFunction:this._comparisonFunction,generateStencil:this._generateStencilBuffer,isCube:this.isCube},m={width:this.width,height:this.height,layers:this.is2DArray?this.depth:void 0};return n=this._engine.createDepthStencilTexture(m,p),n._swapAndDie(this),void(this.isReady=!0);case c.Cube:return void(n=this._engine.createCubeTexture(this.url,null,this._files,!this.generateMipMaps,(function(){n._swapAndDie(u),u.isReady=!0}),null,this.format,this._extension));case c.CubeRaw:return n=this._engine.createRawCubeTexture(this._bufferViewArray,this.width,this.format,this.type,this.generateMipMaps,this.invertY,this.samplingMode,this._compression),n._swapAndDie(this),void(this.isReady=!0);case c.CubeRawRGBD:return n=this._engine.createRawCubeTexture(null,this.width,this.format,this.type,this.generateMipMaps,this.invertY,this.samplingMode,this._compression),void InternalTexture._UpdateRGBDAsync(n,this._bufferViewArrayArray,this._sphericalPolynomial,this._lodGenerationScale,this._lodGenerationOffset).then((function(){n._swapAndDie(u),u.isReady=!0}));case c.CubePrefiltered:return n=this._engine.createPrefilteredCubeTexture(this.url,null,this._lodGenerationScale,this._lodGenerationOffset,(function(t){t&&t._swapAndDie(u),u.isReady=!0}),null,this.format,this._extension),void(n._sphericalPolynomial=this._sphericalPolynomial)}},InternalTexture.prototype._swapAndDie=function(t){t._webGLTexture=this._webGLTexture,t._isRGBD=this._isRGBD,this._framebuffer&&(t._framebuffer=this._framebuffer),this._depthStencilBuffer&&(t._depthStencilBuffer=this._depthStencilBuffer),t._depthStencilTexture=this._depthStencilTexture,this._lodTextureHigh&&(t._lodTextureHigh&&t._lodTextureHigh.dispose(),t._lodTextureHigh=this._lodTextureHigh),this._lodTextureMid&&(t._lodTextureMid&&t._lodTextureMid.dispose(),t._lodTextureMid=this._lodTextureMid),this._lodTextureLow&&(t._lodTextureLow&&t._lodTextureLow.dispose(),t._lodTextureLow=this._lodTextureLow),this._irradianceTexture&&(t._irradianceTexture&&t._irradianceTexture.dispose(),t._irradianceTexture=this._irradianceTexture);var n=this._engine.getLoadedTexturesCache(),u=n.indexOf(this);-1!==u&&n.splice(u,1);u=n.indexOf(t);-1===u&&n.push(t)},InternalTexture.prototype.dispose=function(){this._webGLTexture&&(this._references--,0===this._references&&(this._engine._releaseTexture(this),this._webGLTexture=null))},InternalTexture._UpdateRGBDAsync=function(t,n,u,c,l){throw h["_DevTools"].WarnImport("environmentTextureTools")},InternalTexture}()},"./node_modules/@babylonjs/core/Materials/Textures/renderTargetCreationOptions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"RenderTargetCreationOptions",(function(){return c}));var c=function(){function RenderTargetCreationOptions(){}return RenderTargetCreationOptions}()},"./node_modules/@babylonjs/core/Materials/Textures/renderTargetTexture.js":function(t,n,u){"use strict";u.r(n),u.d(n,"RenderTargetTexture",(function(){return b}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/observable.js"),d=u("./node_modules/@babylonjs/core/Misc/tools.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),m=u("./node_modules/@babylonjs/core/PostProcesses/postProcessManager.js"),_=u("./node_modules/@babylonjs/core/Rendering/renderingManager.js"),g=(u("./node_modules/@babylonjs/core/Engines/Extensions/engine.renderTarget.js"),u("./node_modules/@babylonjs/core/Engines/Extensions/engine.renderTargetCube.js"),u("./node_modules/@babylonjs/core/Engines/engine.js")),b=function(t){function RenderTargetTexture(n,u,c,d,m,g,b,v,U,G,W,X,q){void 0===m&&(m=!0),void 0===g&&(g=0),void 0===b&&(b=!1),void 0===v&&(v=p["Texture"].TRILINEAR_SAMPLINGMODE),void 0===U&&(U=!0),void 0===G&&(G=!1),void 0===W&&(W=!1),void 0===X&&(X=5),void 0===q&&(q=!1);var K=t.call(this,null,c,!d)||this;return K.renderParticles=!0,K.renderSprites=!1,K.ignoreCameraViewport=!1,K.onBeforeBindObservable=new l["Observable"],K.onAfterUnbindObservable=new l["Observable"],K.onBeforeRenderObservable=new l["Observable"],K.onAfterRenderObservable=new l["Observable"],K.onClearObservable=new l["Observable"],K.onResizeObservable=new l["Observable"],K._currentRefreshId=-1,K._refreshRate=1,K._samples=1,K.boundingBoxPosition=h["Vector3"].Zero(),c=K.getScene(),c?(K._coordinatesMode=p["Texture"].PROJECTION_MODE,K.renderList=new Array,K.name=n,K.isRenderTarget=!0,K._initialSizeParameter=u,K._processSizeParameter(u),K._resizeObserver=K.getScene().getEngine().onResizeObservable.add((function(){})),K._generateMipMaps=!!d,K._doNotChangeAspectRatio=m,K._renderingManager=new _["RenderingManager"](c),K._renderingManager._useSceneAutoClearSetup=!0,W||(K._renderTargetOptions={generateMipMaps:d,type:g,format:X,samplingMode:v,generateDepthBuffer:U,generateStencilBuffer:G},v===p["Texture"].NEAREST_SAMPLINGMODE&&(K.wrapU=p["Texture"].CLAMP_ADDRESSMODE,K.wrapV=p["Texture"].CLAMP_ADDRESSMODE),q||(b?(K._texture=c.getEngine().createRenderTargetCubeTexture(K.getRenderSize(),K._renderTargetOptions),K.coordinatesMode=p["Texture"].INVCUBIC_MODE,K._textureMatrix=h["Matrix"].Identity()):K._texture=c.getEngine().createRenderTargetTexture(K._size,K._renderTargetOptions))),K):K}return Object(c["__extends"])(RenderTargetTexture,t),Object.defineProperty(RenderTargetTexture.prototype,"renderList",{get:function(){return this._renderList},set:function(t){this._renderList=t,this._renderList&&this._hookArray(this._renderList)},enumerable:!1,configurable:!0}),RenderTargetTexture.prototype._hookArray=function(t){var n=this,u=t.push;t.push=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var d=0===t.length,h=u.apply(t,c);return d&&n.getScene()&&n.getScene().meshes.forEach((function(t){t._markSubMeshesAsLightDirty()})),h};var c=t.splice;t.splice=function(u,l){var d=c.apply(t,[u,l]);return 0===t.length&&n.getScene().meshes.forEach((function(t){t._markSubMeshesAsLightDirty()})),d}},Object.defineProperty(RenderTargetTexture.prototype,"onAfterUnbind",{set:function(t){this._onAfterUnbindObserver&&this.onAfterUnbindObservable.remove(this._onAfterUnbindObserver),this._onAfterUnbindObserver=this.onAfterUnbindObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(RenderTargetTexture.prototype,"onBeforeRender",{set:function(t){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(RenderTargetTexture.prototype,"onAfterRender",{set:function(t){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver),this._onAfterRenderObserver=this.onAfterRenderObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(RenderTargetTexture.prototype,"onClear",{set:function(t){this._onClearObserver&&this.onClearObservable.remove(this._onClearObserver),this._onClearObserver=this.onClearObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(RenderTargetTexture.prototype,"renderTargetOptions",{get:function(){return this._renderTargetOptions},enumerable:!1,configurable:!0}),RenderTargetTexture.prototype._onRatioRescale=function(){this._sizeRatio&&this.resize(this._initialSizeParameter)},Object.defineProperty(RenderTargetTexture.prototype,"boundingBoxSize",{get:function(){return this._boundingBoxSize},set:function(t){if(!this._boundingBoxSize||!this._boundingBoxSize.equals(t)){this._boundingBoxSize=t;var n=this.getScene();n&&n.markAllMaterialsAsDirty(1)}},enumerable:!1,configurable:!0}),Object.defineProperty(RenderTargetTexture.prototype,"depthStencilTexture",{get:function(){var t;return(null===(t=this.getInternalTexture())||void 0===t?void 0:t._depthStencilTexture)||null},enumerable:!1,configurable:!0}),RenderTargetTexture.prototype.createDepthStencilTexture=function(t,n,u){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===u&&(u=!1);var c=this.getInternalTexture();if(this.getScene()&&c){var l=this.getScene().getEngine();c._depthStencilTexture=l.createDepthStencilTexture(this._size,{bilinearFiltering:n,comparisonFunction:t,generateStencil:u,isCube:this.isCube})}},RenderTargetTexture.prototype._processSizeParameter=function(t){if(t.ratio){this._sizeRatio=t.ratio;var n=this._getEngine();this._size={width:this._bestReflectionRenderTargetDimension(n.getRenderWidth(),this._sizeRatio),height:this._bestReflectionRenderTargetDimension(n.getRenderHeight(),this._sizeRatio)}}else this._size=t},Object.defineProperty(RenderTargetTexture.prototype,"samples",{get:function(){return this._samples},set:function(t){if(this._samples!==t){var n=this.getScene();n&&(this._samples=n.getEngine().updateRenderTargetTextureSampleCount(this._texture,t))}},enumerable:!1,configurable:!0}),RenderTargetTexture.prototype.resetRefreshCounter=function(){this._currentRefreshId=-1},Object.defineProperty(RenderTargetTexture.prototype,"refreshRate",{get:function(){return this._refreshRate},set:function(t){this._refreshRate=t,this.resetRefreshCounter()},enumerable:!1,configurable:!0}),RenderTargetTexture.prototype.addPostProcess=function(t){if(!this._postProcessManager){var n=this.getScene();if(!n)return;this._postProcessManager=new m["PostProcessManager"](n),this._postProcesses=new Array}this._postProcesses.push(t),this._postProcesses[0].autoClear=!1},RenderTargetTexture.prototype.clearPostProcesses=function(t){if(void 0===t&&(t=!1),this._postProcesses){if(t)for(var n=0,u=this._postProcesses;n<u.length;n++){var c=u[n];c.dispose()}this._postProcesses=[]}},RenderTargetTexture.prototype.removePostProcess=function(t){if(this._postProcesses){var n=this._postProcesses.indexOf(t);-1!==n&&(this._postProcesses.splice(n,1),this._postProcesses.length>0&&(this._postProcesses[0].autoClear=!1))}},RenderTargetTexture.prototype._shouldRender=function(){return-1===this._currentRefreshId||this.refreshRate===this._currentRefreshId?(this._currentRefreshId=1,!0):(this._currentRefreshId++,!1)},RenderTargetTexture.prototype.getRenderSize=function(){return this.getRenderWidth()},RenderTargetTexture.prototype.getRenderWidth=function(){return this._size.width?this._size.width:this._size},RenderTargetTexture.prototype.getRenderHeight=function(){return this._size.width?this._size.height:this._size},RenderTargetTexture.prototype.getRenderLayers=function(){var t=this._size.layers;return t||0},Object.defineProperty(RenderTargetTexture.prototype,"canRescale",{get:function(){return!0},enumerable:!1,configurable:!0}),RenderTargetTexture.prototype.scale=function(t){var n=Math.max(1,this.getRenderSize()*t);this.resize(n)},RenderTargetTexture.prototype.getReflectionTextureMatrix=function(){return this.isCube?this._textureMatrix:t.prototype.getReflectionTextureMatrix.call(this)},RenderTargetTexture.prototype.resize=function(t){var n=this.isCube;this.releaseInternalTexture();var u=this.getScene();u&&(this._processSizeParameter(t),this._texture=n?u.getEngine().createRenderTargetCubeTexture(this.getRenderSize(),this._renderTargetOptions):u.getEngine().createRenderTargetTexture(this._size,this._renderTargetOptions),this.onResizeObservable.hasObservers()&&this.onResizeObservable.notifyObservers(this))},RenderTargetTexture.prototype.render=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var u=this.getScene();if(u){var c,l=u.getEngine();if(void 0!==this.useCameraPostProcesses&&(t=this.useCameraPostProcesses),this._waitingRenderList){this.renderList=[];for(var d=0;d<this._waitingRenderList.length;d++){var h=this._waitingRenderList[d],p=u.getMeshByID(h);p&&this.renderList.push(p)}this._waitingRenderList=void 0}if(this.renderListPredicate){this.renderList?this.renderList.length=0:this.renderList=[];u=this.getScene();if(!u)return;var m=u.meshes;for(d=0;d<m.length;d++){var _=m[d];this.renderListPredicate(_)&&this.renderList.push(_)}}if(this.onBeforeBindObservable.notifyObservers(this),this.activeCamera?(c=this.activeCamera,l.setViewport(this.activeCamera.viewport,this.getRenderWidth(),this.getRenderHeight()),this.activeCamera!==u.activeCamera&&u.setTransformMatrix(this.activeCamera.getViewMatrix(),this.activeCamera.getProjectionMatrix(!0))):(c=u.activeCamera,c&&l.setViewport(c.viewport,this.getRenderWidth(),this.getRenderHeight())),this._defaultRenderListPrepared=!1,this.is2DArray)for(var g=0;g<this.getRenderLayers();g++)this.renderToTarget(0,t,n,g,c),u.incrementRenderId(),u.resetCachedMaterial();else if(this.isCube)for(var b=0;b<6;b++)this.renderToTarget(b,t,n,void 0,c),u.incrementRenderId(),u.resetCachedMaterial();else this.renderToTarget(0,t,n,void 0,c);this.onAfterUnbindObservable.notifyObservers(this),u.activeCamera&&((u.getEngine().scenes.length>1||this.activeCamera&&this.activeCamera!==u.activeCamera)&&u.setTransformMatrix(u.activeCamera.getViewMatrix(),u.activeCamera.getProjectionMatrix(!0)),l.setViewport(u.activeCamera.viewport)),u.resetCachedMaterial()}},RenderTargetTexture.prototype._bestReflectionRenderTargetDimension=function(t,n){var u=128,c=t*n,l=g["Engine"].NearestPOT(c+u*u/(u+c));return Math.min(g["Engine"].FloorPOT(t),l)},RenderTargetTexture.prototype._prepareRenderingManager=function(t,n,u,c){var l=this.getScene();if(l){this._renderingManager.reset();for(var d=l.getRenderId(),h=0;h<n;h++){var p=t[h];if(p&&!p.isBlocked){if(this.customIsReadyFunction){if(!this.customIsReadyFunction(p,this.refreshRate)){this.resetRefreshCounter();continue}}else if(!p.isReady(0===this.refreshRate)){this.resetRefreshCounter();continue}if(!p._internalAbstractMeshDataInfo._currentLODIsUpToDate&&l.activeCamera&&(p._internalAbstractMeshDataInfo._currentLOD=l.customLODSelector?l.customLODSelector(p,l.activeCamera):p.getLOD(l.activeCamera),p._internalAbstractMeshDataInfo._currentLODIsUpToDate=!0),!p._internalAbstractMeshDataInfo._currentLOD)continue;var m=p._internalAbstractMeshDataInfo._currentLOD;m._preActivateForIntermediateRendering(d);var _=void 0;if(_=!(!c||!u)&&0===(p.layerMask&u.layerMask),p.isEnabled()&&p.isVisible&&p.subMeshes&&!_&&(m!==p&&m._activate(d,!0),p._activate(d,!0)&&p.subMeshes.length)){p.isAnInstance?p._internalAbstractMeshDataInfo._actAsRegularMesh&&(m=p):m._internalAbstractMeshDataInfo._onlyForInstancesIntermediate=!1,m._internalAbstractMeshDataInfo._isActiveIntermediate=!0;for(var g=0;g<m.subMeshes.length;g++){var b=m.subMeshes[g];this._renderingManager.dispatch(b,m)}}}}for(var v=0;v<l.particleSystems.length;v++){var U=l.particleSystems[v],G=U.emitter;U.isStarted()&&G&&G.position&&G.isEnabled()&&(t.indexOf(G)>=0&&this._renderingManager.dispatchParticles(U))}}},RenderTargetTexture.prototype._bindFrameBuffer=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var u=this.getScene();if(u){var c=u.getEngine();this._texture&&c.bindFramebuffer(this._texture,this.isCube?t:void 0,void 0,void 0,this.ignoreCameraViewport,0,n)}},RenderTargetTexture.prototype.unbindFrameBuffer=function(t,n){var u=this;this._texture&&t.unBindFramebuffer(this._texture,this.isCube,(function(){u.onAfterRenderObservable.notifyObservers(n)}))},RenderTargetTexture.prototype.renderToTarget=function(t,n,u,c,l){void 0===c&&(c=0),void 0===l&&(l=null);var h=this.getScene();if(h){var p=h.getEngine();if(this._texture){this._postProcessManager?this._postProcessManager._prepareFrame(this._texture,this._postProcesses):n&&h.postProcessManager._prepareFrame(this._texture)||this._bindFrameBuffer(t,c),this.is2DArray?this.onBeforeRenderObservable.notifyObservers(c):this.onBeforeRenderObservable.notifyObservers(t);var m=null,_=this.renderList?this.renderList:h.getActiveMeshes().data,g=this.renderList?this.renderList.length:h.getActiveMeshes().length;this.getCustomRenderList&&(m=this.getCustomRenderList(this.is2DArray?c:t,_,g)),m?this._prepareRenderingManager(m,m.length,l,!1):(this._defaultRenderListPrepared||(this._prepareRenderingManager(_,g,l,!this.renderList),this._defaultRenderListPrepared=!0),m=_),this.onClearObservable.hasObservers()?this.onClearObservable.notifyObservers(p):p.clear(this.clearColor||h.clearColor,!0,!0,!0),this._doNotChangeAspectRatio||h.updateTransformMatrix(!0);for(var b=0,v=h._beforeRenderTargetDrawStage;b<v.length;b++){var U=v[b];U.action(this)}this._renderingManager.render(this.customRenderFunction,m,this.renderParticles,this.renderSprites);for(var G=0,W=h._afterRenderTargetDrawStage;G<W.length;G++){U=W[G];U.action(this)}this._postProcessManager?this._postProcessManager._finalizeFrame(!1,this._texture,t,this._postProcesses,this.ignoreCameraViewport):n&&h.postProcessManager._finalizeFrame(!1,this._texture,t),this._doNotChangeAspectRatio||h.updateTransformMatrix(!0),u&&d["Tools"].DumpFramebuffer(this.getRenderWidth(),this.getRenderHeight(),p),this.isCube&&5!==t?this.onAfterRenderObservable.notifyObservers(t):(this.isCube&&5===t&&p.generateMipMapsForCubemap(this._texture),this.unbindFrameBuffer(p,t))}}},RenderTargetTexture.prototype.setRenderingOrder=function(t,n,u,c){void 0===n&&(n=null),void 0===u&&(u=null),void 0===c&&(c=null),this._renderingManager.setRenderingOrder(t,n,u,c)},RenderTargetTexture.prototype.setRenderingAutoClearDepthStencil=function(t,n){this._renderingManager.setRenderingAutoClearDepthStencil(t,n),this._renderingManager._useSceneAutoClearSetup=!1},RenderTargetTexture.prototype.clone=function(){var t=this.getSize(),n=new RenderTargetTexture(this.name,t,this.getScene(),this._renderTargetOptions.generateMipMaps,this._doNotChangeAspectRatio,this._renderTargetOptions.type,this.isCube,this._renderTargetOptions.samplingMode,this._renderTargetOptions.generateDepthBuffer,this._renderTargetOptions.generateStencilBuffer);return n.hasAlpha=this.hasAlpha,n.level=this.level,n.coordinatesMode=this.coordinatesMode,this.renderList&&(n.renderList=this.renderList.slice(0)),n},RenderTargetTexture.prototype.serialize=function(){if(!this.name)return null;var n=t.prototype.serialize.call(this);if(n.renderTargetSize=this.getRenderSize(),n.renderList=[],this.renderList)for(var u=0;u<this.renderList.length;u++)n.renderList.push(this.renderList[u].id);return n},RenderTargetTexture.prototype.disposeFramebufferObjects=function(){var t=this.getInternalTexture(),n=this.getScene();t&&n&&n.getEngine()._releaseFramebufferObjects(t)},RenderTargetTexture.prototype.dispose=function(){this.onResizeObservable.clear(),this.onClearObservable.clear(),this.onAfterRenderObservable.clear(),this.onAfterUnbindObservable.clear(),this.onBeforeBindObservable.clear(),this.onBeforeRenderObservable.clear(),this._postProcessManager&&(this._postProcessManager.dispose(),this._postProcessManager=null),this.clearPostProcesses(!0),this._resizeObserver&&(this.getScene().getEngine().onResizeObservable.remove(this._resizeObserver),this._resizeObserver=null),this.renderList=null;var n=this.getScene();if(n){var u=n.customRenderTargets.indexOf(this);u>=0&&n.customRenderTargets.splice(u,1);for(var c=0,l=n.cameras;c<l.length;c++){var d=l[c];u=d.customRenderTargets.indexOf(this),u>=0&&d.customRenderTargets.splice(u,1)}this.depthStencilTexture&&this.getScene().getEngine()._releaseTexture(this.depthStencilTexture),t.prototype.dispose.call(this)}},RenderTargetTexture.prototype._rebuild=function(){this.refreshRate===RenderTargetTexture.REFRESHRATE_RENDER_ONCE&&(this.refreshRate=RenderTargetTexture.REFRESHRATE_RENDER_ONCE),this._postProcessManager&&this._postProcessManager._rebuild()},RenderTargetTexture.prototype.freeRenderingGroups=function(){this._renderingManager&&this._renderingManager.freeRenderingGroups()},RenderTargetTexture.prototype.getViewCount=function(){return 1},RenderTargetTexture.REFRESHRATE_RENDER_ONCE=0,RenderTargetTexture.REFRESHRATE_RENDER_ONEVERYFRAME=1,RenderTargetTexture.REFRESHRATE_RENDER_ONEVERYTWOFRAMES=2,RenderTargetTexture}(p["Texture"]);p["Texture"]._CreateRenderTargetTexture=function(t,n,u,c){return new b(t,n,u,c)}},"./node_modules/@babylonjs/core/Materials/Textures/texture.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Texture",(function(){return W}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Materials/Textures/baseTexture.js"),m=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),_=u("./node_modules/@babylonjs/core/Misc/devTools.js"),g=u("./node_modules/@babylonjs/core/Misc/timingTools.js"),b=u("./node_modules/@babylonjs/core/Misc/instantiationTools.js"),v=u("./node_modules/@babylonjs/core/Maths/math.plane.js"),U=u("./node_modules/@babylonjs/core/Misc/stringTools.js"),G=u("./node_modules/@babylonjs/core/Misc/copyTools.js"),W=function(t){function Texture(n,u,c,l,h,p,m,_,b,v,U,G){void 0===c&&(c=!1),void 0===l&&(l=!0),void 0===h&&(h=Texture.TRILINEAR_SAMPLINGMODE),void 0===p&&(p=null),void 0===m&&(m=null),void 0===_&&(_=null),void 0===b&&(b=!1);var W=t.call(this,u)||this;W.url=null,W.uOffset=0,W.vOffset=0,W.uScale=1,W.vScale=1,W.uAng=0,W.vAng=0,W.wAng=0,W.uRotationCenter=.5,W.vRotationCenter=.5,W.wRotationCenter=.5,W.homogeneousRotationInUVTransform=!1,W.inspectableCustomProperties=null,W._noMipmap=!1,W._invertY=!1,W._rowGenerationMatrix=null,W._cachedTextureMatrix=null,W._projectionModeMatrix=null,W._t0=null,W._t1=null,W._t2=null,W._cachedUOffset=-1,W._cachedVOffset=-1,W._cachedUScale=0,W._cachedVScale=0,W._cachedUAng=-1,W._cachedVAng=-1,W._cachedWAng=-1,W._cachedProjectionMatrixId=-1,W._cachedURotationCenter=-1,W._cachedVRotationCenter=-1,W._cachedWRotationCenter=-1,W._cachedHomogeneousRotationInUVTransform=!1,W._cachedCoordinatesMode=-1,W._initialSamplingMode=Texture.BILINEAR_SAMPLINGMODE,W._buffer=null,W._deleteBuffer=!1,W._format=null,W._delayedOnLoad=null,W._delayedOnError=null,W.onLoadObservable=new d["Observable"],W._isBlocking=!0,W.name=n||"",W.url=n,W._noMipmap=c,W._invertY=l,W._initialSamplingMode=h,W._buffer=_,W._deleteBuffer=b,W._mimeType=U,W._loaderOptions=G,v&&(W._format=v);var X=W.getScene(),q=W._getEngine();if(!q)return W;q.onBeforeTextureInitObservable.notifyObservers(W);var load=function(){W._texture&&(W._texture._invertVScale&&(W.vScale*=-1,W.vOffset+=1),null!==W._texture._cachedWrapU&&(W.wrapU=W._texture._cachedWrapU,W._texture._cachedWrapU=null),null!==W._texture._cachedWrapV&&(W.wrapV=W._texture._cachedWrapV,W._texture._cachedWrapV=null),null!==W._texture._cachedWrapR&&(W.wrapR=W._texture._cachedWrapR,W._texture._cachedWrapR=null)),W.onLoadObservable.hasObservers()&&W.onLoadObservable.notifyObservers(W),p&&p(),!W.isBlocking&&X&&X.resetCachedMaterial()};return W.url?(W._texture=W._getFromCache(W.url,c,h,l),W._texture?W._texture.isReady?g["TimingTools"].SetImmediate((function(){return load()})):W._texture.onLoadedObservable.add(load):X&&X.useDelayedTextureLoading?(W.delayLoadState=4,W._delayedOnLoad=load,W._delayedOnError=m):(W._texture=q.createTexture(W.url,c,l,X,h,load,m,W._buffer,void 0,W._format,null,U,G),b&&(W._buffer=null)),W):(W._delayedOnLoad=load,W._delayedOnError=m,W)}return Object(c["__extends"])(Texture,t),Object.defineProperty(Texture.prototype,"noMipmap",{get:function(){return this._noMipmap},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"mimeType",{get:function(){return this._mimeType},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"isBlocking",{get:function(){return this._isBlocking},set:function(t){this._isBlocking=t},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"samplingMode",{get:function(){return this._texture?this._texture.samplingMode:this._initialSamplingMode},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"invertY",{get:function(){return this._invertY},enumerable:!1,configurable:!0}),Texture.prototype.updateURL=function(t,n,u){void 0===n&&(n=null),this.url&&(this.releaseInternalTexture(),this.getScene().markAllMaterialsAsDirty(1)),this.name&&!U["StringTools"].StartsWith(this.name,"data:")||(this.name=t),this.url=t,this._buffer=n,this.delayLoadState=4,u&&(this._delayedOnLoad=u),this.delayLoad()},Texture.prototype.delayLoad=function(){if(4===this.delayLoadState){var t=this.getScene();t&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY),this._texture?this._delayedOnLoad&&(this._texture.isReady?g["TimingTools"].SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=t.getEngine().createTexture(this.url,this._noMipmap,this._invertY,t,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,null,this._mimeType,this._loaderOptions),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}},Texture.prototype._prepareRowForTextureGeneration=function(t,n,u,c){t*=this._cachedUScale,n*=this._cachedVScale,t-=this.uRotationCenter*this._cachedUScale,n-=this.vRotationCenter*this._cachedVScale,u-=this.wRotationCenter,h["Vector3"].TransformCoordinatesFromFloatsToRef(t,n,u,this._rowGenerationMatrix,c),c.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,c.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,c.z+=this.wRotationCenter},Texture.prototype.checkTransformsAreIdentical=function(t){return null!==t&&this.uOffset===t.uOffset&&this.vOffset===t.vOffset&&this.uScale===t.uScale&&this.vScale===t.vScale&&this.uAng===t.uAng&&this.vAng===t.vAng&&this.wAng===t.wAng},Texture.prototype.getTextureMatrix=function(t){var n=this;if(void 0===t&&(t=1),this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*t===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*t,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=h["Matrix"].Zero(),this._rowGenerationMatrix=new h["Matrix"],this._t0=h["Vector3"].Zero(),this._t1=h["Vector3"].Zero(),this._t2=h["Vector3"].Zero()),h["Matrix"].RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(h["Matrix"].TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,h["TmpVectors"].Matrix[0]),h["Matrix"].TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,h["TmpVectors"].Matrix[1]),h["Matrix"].ScalingToRef(this._cachedUScale,this._cachedVScale,0,h["TmpVectors"].Matrix[2]),h["Matrix"].TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,h["TmpVectors"].Matrix[3]),h["TmpVectors"].Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(h["TmpVectors"].Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(h["TmpVectors"].Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(h["TmpVectors"].Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.subtractInPlace(this._t0),this._t2.subtractInPlace(this._t0),h["Matrix"].FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));var u=this.getScene();return u?(u.markAllMaterialsAsDirty(1,(function(t){return t.hasTexture(n)})),this._cachedTextureMatrix):this._cachedTextureMatrix},Texture.prototype.getReflectionTextureMatrix=function(){var t=this,n=this.getScene();if(!n)return this._cachedTextureMatrix;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale===this._cachedUScale&&this.vScale===this._cachedVScale&&this.coordinatesMode===this._cachedCoordinatesMode){if(this.coordinatesMode!==Texture.PROJECTION_MODE)return this._cachedTextureMatrix;if(this._cachedProjectionMatrixId===n.getProjectionMatrix().updateFlag)return this._cachedTextureMatrix}switch(this._cachedTextureMatrix||(this._cachedTextureMatrix=h["Matrix"].Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=h["Matrix"].Zero()),this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale,this._cachedVScale=this.vScale,this._cachedCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case Texture.PLANAR_MODE:h["Matrix"].IdentityToRef(this._cachedTextureMatrix),this._cachedTextureMatrix[0]=this.uScale,this._cachedTextureMatrix[5]=this.vScale,this._cachedTextureMatrix[12]=this.uOffset,this._cachedTextureMatrix[13]=this.vOffset;break;case Texture.PROJECTION_MODE:h["Matrix"].FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);var u=n.getProjectionMatrix();this._cachedProjectionMatrixId=u.updateFlag,u.multiplyToRef(this._projectionModeMatrix,this._cachedTextureMatrix);break;default:h["Matrix"].IdentityToRef(this._cachedTextureMatrix);break}return n.markAllMaterialsAsDirty(1,(function(n){return-1!==n.getActiveTextures().indexOf(t)})),this._cachedTextureMatrix},Texture.prototype.clone=function(){var t=this;return l["SerializationHelper"].Clone((function(){return new Texture(t._texture?t._texture.url:null,t.getScene(),t._noMipmap,t._invertY,t.samplingMode,void 0,void 0,t._texture?t._texture._buffer:void 0)}),this)},Texture.prototype.serialize=function(){var n=this.name;Texture.SerializeBuffers||U["StringTools"].StartsWith(this.name,"data:")&&(this.name=""),U["StringTools"].StartsWith(this.name,"data:")&&this.url===this.name&&(this.url="");var u=t.prototype.serialize.call(this);return u?((Texture.SerializeBuffers||Texture.ForceSerializeBuffers)&&("string"===typeof this._buffer&&"data:"===this._buffer.substr(0,5)?(u.base64String=this._buffer,u.name=u.name.replace("data:","")):this.url&&U["StringTools"].StartsWith(this.url,"data:")&&this._buffer instanceof Uint8Array?u.base64String="data:image/png;base64,"+U["StringTools"].EncodeArrayBufferToBase64(this._buffer):Texture.ForceSerializeBuffers&&(u.base64String=G["CopyTools"].GenerateBase64StringFromTexture(this))),u.invertY=this._invertY,u.samplingMode=this.samplingMode,this.name=n,u):null},Texture.prototype.getClassName=function(){return"Texture"},Texture.prototype.dispose=function(){t.prototype.dispose.call(this),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null},Texture.Parse=function(t,n,u){if(t.customType){var c=b["InstantiationTools"].Instantiate(t.customType),d=c.Parse(t,n,u);return t.samplingMode&&d.updateSamplingMode&&d._samplingMode&&d._samplingMode!==t.samplingMode&&d.updateSamplingMode(t.samplingMode),d}if(t.isCube&&!t.isRenderTarget)return Texture._CubeTextureParser(t,n,u);if(!t.name&&!t.isRenderTarget)return null;var onLoaded=function(){if(h&&h._texture&&(h._texture._cachedWrapU=null,h._texture._cachedWrapV=null,h._texture._cachedWrapR=null),t.samplingMode){var n=t.samplingMode;h&&h.samplingMode!==n&&h.updateSamplingMode(n)}if(h&&t.animations)for(var u=0;u<t.animations.length;u++){var c=t.animations[u],l=m["_TypeStore"].GetClass("BABYLON.Animation");l&&h.animations.push(l.Parse(c))}},h=l["SerializationHelper"].Parse((function(){var c,l=!0;if(t.noMipmap&&(l=!1),t.mirrorPlane){var d=Texture._CreateMirror(t.name,t.renderTargetSize,n,l);return d._waitingRenderList=t.renderList,d.mirrorPlane=v["Plane"].FromArray(t.mirrorPlane),onLoaded(),d}if(t.isRenderTarget){var h=null;if(t.isCube){if(n.reflectionProbes)for(var p=0;p<n.reflectionProbes.length;p++){var m=n.reflectionProbes[p];if(m.name===t.name)return m.cubeTexture}}else h=Texture._CreateRenderTargetTexture(t.name,t.renderTargetSize,n,l),h._waitingRenderList=t.renderList;return onLoaded(),h}if(t.base64String)c=Texture.CreateFromBase64String(t.base64String,t.name,n,!l,t.invertY,void 0,onLoaded);else{var _=void 0;_=t.name&&t.name.indexOf("://")>0?t.name:u+t.name,(U["StringTools"].StartsWith(t.url,"data:")||Texture.UseSerializedUrlIfAny&&t.url)&&(_=t.url),c=new Texture(_,n,!l,t.invertY,void 0,onLoaded)}return c}),t,n);return h},Texture.CreateFromBase64String=function(t,n,u,c,l,d,h,p,m){return void 0===d&&(d=Texture.TRILINEAR_SAMPLINGMODE),void 0===h&&(h=null),void 0===p&&(p=null),void 0===m&&(m=5),new Texture("data:"+n,u,c,l,d,h,p,t,!1,m)},Texture.LoadFromDataString=function(t,n,u,c,l,d,h,p,m,_){return void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=!0),void 0===h&&(h=Texture.TRILINEAR_SAMPLINGMODE),void 0===p&&(p=null),void 0===m&&(m=null),void 0===_&&(_=5),"data:"!==t.substr(0,5)&&(t="data:"+t),new Texture(t,u,l,d,h,p,m,n,c,_)},Texture.SerializeBuffers=!0,Texture.ForceSerializeBuffers=!1,Texture._CubeTextureParser=function(t,n,u){throw _["_DevTools"].WarnImport("CubeTexture")},Texture._CreateMirror=function(t,n,u,c){throw _["_DevTools"].WarnImport("MirrorTexture")},Texture._CreateRenderTargetTexture=function(t,n,u,c){throw _["_DevTools"].WarnImport("RenderTargetTexture")},Texture.NEAREST_SAMPLINGMODE=1,Texture.NEAREST_NEAREST_MIPLINEAR=8,Texture.BILINEAR_SAMPLINGMODE=2,Texture.LINEAR_LINEAR_MIPNEAREST=11,Texture.TRILINEAR_SAMPLINGMODE=3,Texture.LINEAR_LINEAR_MIPLINEAR=3,Texture.NEAREST_NEAREST_MIPNEAREST=4,Texture.NEAREST_LINEAR_MIPNEAREST=5,Texture.NEAREST_LINEAR_MIPLINEAR=6,Texture.NEAREST_LINEAR=7,Texture.NEAREST_NEAREST=1,Texture.LINEAR_NEAREST_MIPNEAREST=9,Texture.LINEAR_NEAREST_MIPLINEAR=10,Texture.LINEAR_LINEAR=2,Texture.LINEAR_NEAREST=12,Texture.EXPLICIT_MODE=0,Texture.SPHERICAL_MODE=1,Texture.PLANAR_MODE=2,Texture.CUBIC_MODE=3,Texture.PROJECTION_MODE=4,Texture.SKYBOX_MODE=5,Texture.INVCUBIC_MODE=6,Texture.EQUIRECTANGULAR_MODE=7,Texture.FIXED_EQUIRECTANGULAR_MODE=8,Texture.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,Texture.CLAMP_ADDRESSMODE=0,Texture.WRAP_ADDRESSMODE=1,Texture.MIRROR_ADDRESSMODE=2,Texture.UseSerializedUrlIfAny=!1,Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"url",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"uOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"vOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"uScale",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"vScale",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"uAng",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"vAng",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"wAng",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"uRotationCenter",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"vRotationCenter",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"wRotationCenter",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"homogeneousRotationInUVTransform",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Texture.prototype,"isBlocking",null),Texture}(p["BaseTexture"]);m["_TypeStore"].RegisteredTypes["BABYLON.Texture"]=W,l["SerializationHelper"]._TextureParser=W.Parse},"./node_modules/@babylonjs/core/Materials/Textures/thinTexture.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ThinTexture",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Maths/math.size.js"),l=function(){function ThinTexture(t){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=c["Size"].Zero(),this._cachedBaseSize=c["Size"].Zero(),this._texture=t,this._texture&&(this._engine=this._texture.getEngine())}return Object.defineProperty(ThinTexture.prototype,"wrapU",{get:function(){return this._wrapU},set:function(t){this._wrapU=t},enumerable:!1,configurable:!0}),Object.defineProperty(ThinTexture.prototype,"wrapV",{get:function(){return this._wrapV},set:function(t){this._wrapV=t},enumerable:!1,configurable:!0}),Object.defineProperty(ThinTexture.prototype,"coordinatesMode",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(ThinTexture.prototype,"isCube",{get:function(){return!!this._texture&&this._texture.isCube},set:function(t){this._texture&&(this._texture.isCube=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ThinTexture.prototype,"is3D",{get:function(){return!!this._texture&&this._texture.is3D},set:function(t){this._texture&&(this._texture.is3D=t)},enumerable:!1,configurable:!0}),Object.defineProperty(ThinTexture.prototype,"is2DArray",{get:function(){return!!this._texture&&this._texture.is2DArray},set:function(t){this._texture&&(this._texture.is2DArray=t)},enumerable:!1,configurable:!0}),ThinTexture.prototype.getClassName=function(){return"ThinTexture"},ThinTexture.prototype.isReady=function(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady},ThinTexture.prototype.delayLoad=function(){},ThinTexture.prototype.getInternalTexture=function(){return this._texture},ThinTexture.prototype.getSize=function(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize},ThinTexture.prototype.getBaseSize=function(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)},ThinTexture.prototype.updateSamplingMode=function(t){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(t,this._texture)},ThinTexture.prototype.releaseInternalTexture=function(){this._texture&&(this._texture.dispose(),this._texture=null)},ThinTexture.prototype.dispose=function(){this._texture&&(this.releaseInternalTexture(),this._engine=null)},ThinTexture}()},"./node_modules/@babylonjs/core/Materials/colorCurves.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ColorCurves",(function(){return h}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Maths/math.color.js"),h=function(){function ColorCurves(){this._dirty=!0,this._tempColor=new d["Color4"](0,0,0,0),this._globalCurve=new d["Color4"](0,0,0,0),this._highlightsCurve=new d["Color4"](0,0,0,0),this._midtonesCurve=new d["Color4"](0,0,0,0),this._shadowsCurve=new d["Color4"](0,0,0,0),this._positiveCurve=new d["Color4"](0,0,0,0),this._negativeCurve=new d["Color4"](0,0,0,0),this._globalHue=30,this._globalDensity=0,this._globalSaturation=0,this._globalExposure=0,this._highlightsHue=30,this._highlightsDensity=0,this._highlightsSaturation=0,this._highlightsExposure=0,this._midtonesHue=30,this._midtonesDensity=0,this._midtonesSaturation=0,this._midtonesExposure=0,this._shadowsHue=30,this._shadowsDensity=0,this._shadowsSaturation=0,this._shadowsExposure=0}return Object.defineProperty(ColorCurves.prototype,"globalHue",{get:function(){return this._globalHue},set:function(t){this._globalHue=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"globalDensity",{get:function(){return this._globalDensity},set:function(t){this._globalDensity=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"globalSaturation",{get:function(){return this._globalSaturation},set:function(t){this._globalSaturation=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"globalExposure",{get:function(){return this._globalExposure},set:function(t){this._globalExposure=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"highlightsHue",{get:function(){return this._highlightsHue},set:function(t){this._highlightsHue=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"highlightsDensity",{get:function(){return this._highlightsDensity},set:function(t){this._highlightsDensity=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"highlightsSaturation",{get:function(){return this._highlightsSaturation},set:function(t){this._highlightsSaturation=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"highlightsExposure",{get:function(){return this._highlightsExposure},set:function(t){this._highlightsExposure=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"midtonesHue",{get:function(){return this._midtonesHue},set:function(t){this._midtonesHue=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"midtonesDensity",{get:function(){return this._midtonesDensity},set:function(t){this._midtonesDensity=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"midtonesSaturation",{get:function(){return this._midtonesSaturation},set:function(t){this._midtonesSaturation=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"midtonesExposure",{get:function(){return this._midtonesExposure},set:function(t){this._midtonesExposure=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"shadowsHue",{get:function(){return this._shadowsHue},set:function(t){this._shadowsHue=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"shadowsDensity",{get:function(){return this._shadowsDensity},set:function(t){this._shadowsDensity=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"shadowsSaturation",{get:function(){return this._shadowsSaturation},set:function(t){this._shadowsSaturation=t,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ColorCurves.prototype,"shadowsExposure",{get:function(){return this._shadowsExposure},set:function(t){this._shadowsExposure=t,this._dirty=!0},enumerable:!1,configurable:!0}),ColorCurves.prototype.getClassName=function(){return"ColorCurves"},ColorCurves.Bind=function(t,n,u,c,l){void 0===u&&(u="vCameraColorCurvePositive"),void 0===c&&(c="vCameraColorCurveNeutral"),void 0===l&&(l="vCameraColorCurveNegative"),t._dirty&&(t._dirty=!1,t.getColorGradingDataToRef(t._globalHue,t._globalDensity,t._globalSaturation,t._globalExposure,t._globalCurve),t.getColorGradingDataToRef(t._highlightsHue,t._highlightsDensity,t._highlightsSaturation,t._highlightsExposure,t._tempColor),t._tempColor.multiplyToRef(t._globalCurve,t._highlightsCurve),t.getColorGradingDataToRef(t._midtonesHue,t._midtonesDensity,t._midtonesSaturation,t._midtonesExposure,t._tempColor),t._tempColor.multiplyToRef(t._globalCurve,t._midtonesCurve),t.getColorGradingDataToRef(t._shadowsHue,t._shadowsDensity,t._shadowsSaturation,t._shadowsExposure,t._tempColor),t._tempColor.multiplyToRef(t._globalCurve,t._shadowsCurve),t._highlightsCurve.subtractToRef(t._midtonesCurve,t._positiveCurve),t._midtonesCurve.subtractToRef(t._shadowsCurve,t._negativeCurve)),n&&(n.setFloat4(u,t._positiveCurve.r,t._positiveCurve.g,t._positiveCurve.b,t._positiveCurve.a),n.setFloat4(c,t._midtonesCurve.r,t._midtonesCurve.g,t._midtonesCurve.b,t._midtonesCurve.a),n.setFloat4(l,t._negativeCurve.r,t._negativeCurve.g,t._negativeCurve.b,t._negativeCurve.a))},ColorCurves.PrepareUniforms=function(t){t.push("vCameraColorCurveNeutral","vCameraColorCurvePositive","vCameraColorCurveNegative")},ColorCurves.prototype.getColorGradingDataToRef=function(t,n,u,c,l){null!=t&&(t=ColorCurves.clamp(t,0,360),n=ColorCurves.clamp(n,-100,100),u=ColorCurves.clamp(u,-100,100),c=ColorCurves.clamp(c,-100,100),n=ColorCurves.applyColorGradingSliderNonlinear(n),n*=.5,c=ColorCurves.applyColorGradingSliderNonlinear(c),n<0&&(n*=-1,t=(t+180)%360),ColorCurves.fromHSBToRef(t,n,50+.25*c,l),l.scaleToRef(2,l),l.a=1+.01*u)},ColorCurves.applyColorGradingSliderNonlinear=function(t){t/=100;var n=Math.abs(t);return n=Math.pow(n,2),t<0&&(n*=-1),n*=100,n},ColorCurves.fromHSBToRef=function(t,n,u,c){var l=ColorCurves.clamp(t,0,360),d=ColorCurves.clamp(n/100,0,1),h=ColorCurves.clamp(u/100,0,1);if(0===d)c.r=h,c.g=h,c.b=h;else{l/=60;var p=Math.floor(l),m=l-p,_=h*(1-d),g=h*(1-d*m),b=h*(1-d*(1-m));switch(p){case 0:c.r=h,c.g=b,c.b=_;break;case 1:c.r=g,c.g=h,c.b=_;break;case 2:c.r=_,c.g=h,c.b=b;break;case 3:c.r=_,c.g=g,c.b=h;break;case 4:c.r=b,c.g=_,c.b=h;break;default:c.r=h,c.g=_,c.b=g;break}}c.a=1},ColorCurves.clamp=function(t,n,u){return Math.min(Math.max(t,n),u)},ColorCurves.prototype.clone=function(){return l["SerializationHelper"].Clone((function(){return new ColorCurves}),this)},ColorCurves.prototype.serialize=function(){return l["SerializationHelper"].Serialize(this)},ColorCurves.Parse=function(t){return l["SerializationHelper"].Parse((function(){return new ColorCurves}),t,null,null)},Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_globalHue",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_globalDensity",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_globalSaturation",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_globalExposure",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_highlightsHue",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_highlightsDensity",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_highlightsSaturation",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_highlightsExposure",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_midtonesHue",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_midtonesDensity",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_midtonesSaturation",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ColorCurves.prototype,"_midtonesExposure",void 0),ColorCurves}();l["SerializationHelper"]._ColorCurvesParser=h.Parse},"./node_modules/@babylonjs/core/Materials/effect.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Effect",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Misc/observable.js"),l=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),d=u("./node_modules/@babylonjs/core/Misc/logger.js"),h=u("./node_modules/@babylonjs/core/Engines/Processors/shaderProcessor.js"),p=function(){function Effect(t,n,u,d,p,m,_,g,b,v){var U,G=this;void 0===d&&(d=null),void 0===m&&(m=null),void 0===_&&(_=null),void 0===g&&(g=null),void 0===b&&(b=null),this.name=null,this.defines="",this.onCompiled=null,this.onError=null,this.onBind=null,this.uniqueId=0,this.onCompileObservable=new c["Observable"],this.onErrorObservable=new c["Observable"],this._onBindObservable=null,this._wasPreviouslyReady=!1,this._bonesComputationForcedToCPU=!1,this._multiTarget=!1,this._uniformBuffersNames={},this._samplers={},this._isReady=!1,this._compilationError="",this._allFallbacksProcessed=!1,this._uniforms={},this._key="",this._fallbacks=null,this._vertexSourceCode="",this._fragmentSourceCode="",this._vertexSourceCodeOverride="",this._fragmentSourceCodeOverride="",this._transformFeedbackVaryings=null,this._rawVertexSourceCode="",this._rawFragmentSourceCode="",this._pipelineContext=null,this._valueCache={},this.name=t;var W,X,q=null;if(n.attributes){var K=n;if(this._engine=u,this._attributesNames=K.attributes,this._uniformsNames=K.uniformsNames.concat(K.samplers),this._samplerList=K.samplers.slice(),this.defines=K.defines,this.onError=K.onError,this.onCompiled=K.onCompiled,this._fallbacks=K.fallbacks,this._indexParameters=K.indexParameters,this._transformFeedbackVaryings=K.transformFeedbackVaryings||null,this._multiTarget=!!K.multiTarget,K.uniformBuffersNames){this._uniformBuffersNamesList=K.uniformBuffersNames.slice();for(var Y=0;Y<K.uniformBuffersNames.length;Y++)this._uniformBuffersNames[K.uniformBuffersNames[Y]]=Y}q=null!==(U=K.processFinalCode)&&void 0!==U?U:null}else this._engine=p,this.defines=null==m?"":m,this._uniformsNames=u.concat(d),this._samplerList=d?d.slice():[],this._attributesNames=n,this._uniformBuffersNamesList=[],this.onError=b,this.onCompiled=g,this._indexParameters=v,this._fallbacks=_;this._attributeLocationByName={},this.uniqueId=Effect._uniqueIdSeed++;var Q=l["DomManagement"].IsWindowObjectExist()?this._engine.getHostDocument():null;t.vertexSource?W="source:"+t.vertexSource:t.vertexElement?(W=Q?Q.getElementById(t.vertexElement):null,W||(W=t.vertexElement)):W=t.vertex||t,t.fragmentSource?X="source:"+t.fragmentSource:t.fragmentElement?(X=Q?Q.getElementById(t.fragmentElement):null,X||(X=t.fragmentElement)):X=t.fragment||t;var Z={defines:this.defines.split("\n"),indexParameters:this._indexParameters,isFragment:!1,shouldUseHighPrecisionShader:this._engine._shouldUseHighPrecisionShader,processor:this._engine._shaderProcessor,supportsUniformBuffers:this._engine.supportsUniformBuffers,shadersRepository:Effect.ShadersRepository,includesShadersStore:Effect.IncludesShadersStore,version:(100*this._engine.webGLVersion).toString(),platformName:this._engine.webGLVersion>=2?"WEBGL2":"WEBGL1"};this._loadShader(W,"Vertex","",(function(n){G._rawVertexSourceCode=n,G._loadShader(X,"Fragment","Pixel",(function(u){G._rawFragmentSourceCode=u,h["ShaderProcessor"].Process(n,Z,(function(n){q&&(n=q("vertex",n)),Z.isFragment=!0,h["ShaderProcessor"].Process(u,Z,(function(u){q&&(u=q("fragment",u)),G._useFinalCode(n,u,t)}),G._engine)}),G._engine)}))}))}return Object.defineProperty(Effect.prototype,"onBindObservable",{get:function(){return this._onBindObservable||(this._onBindObservable=new c["Observable"]),this._onBindObservable},enumerable:!1,configurable:!0}),Effect.prototype._useFinalCode=function(t,n,u){if(u){var c=u.vertexElement||u.vertex||u.spectorName||u,l=u.fragmentElement||u.fragment||u.spectorName||u;this._vertexSourceCode="#define SHADER_NAME vertex:"+c+"\n"+t,this._fragmentSourceCode="#define SHADER_NAME fragment:"+l+"\n"+n}else this._vertexSourceCode=t,this._fragmentSourceCode=n;this._prepareEffect()},Object.defineProperty(Effect.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),Effect.prototype.isReady=function(){try{return this._isReadyInternal()}catch(t){return!1}},Effect.prototype._isReadyInternal=function(){return!!this._isReady||!!this._pipelineContext&&this._pipelineContext.isReady},Effect.prototype.getEngine=function(){return this._engine},Effect.prototype.getPipelineContext=function(){return this._pipelineContext},Effect.prototype.getAttributesNames=function(){return this._attributesNames},Effect.prototype.getAttributeLocation=function(t){return this._attributes[t]},Effect.prototype.getAttributeLocationByName=function(t){return this._attributeLocationByName[t]},Effect.prototype.getAttributesCount=function(){return this._attributes.length},Effect.prototype.getUniformIndex=function(t){return this._uniformsNames.indexOf(t)},Effect.prototype.getUniform=function(t){return this._uniforms[t]},Effect.prototype.getSamplers=function(){return this._samplerList},Effect.prototype.getUniformNames=function(){return this._uniformsNames},Effect.prototype.getUniformBuffersNames=function(){return this._uniformBuffersNamesList},Effect.prototype.getIndexParameters=function(){return this._indexParameters},Effect.prototype.getCompilationError=function(){return this._compilationError},Effect.prototype.allFallbacksProcessed=function(){return this._allFallbacksProcessed},Effect.prototype.executeWhenCompiled=function(t){var n=this;this.isReady()?t(this):(this.onCompileObservable.add((function(n){t(n)})),this._pipelineContext&&!this._pipelineContext.isAsync||setTimeout((function(){n._checkIsReady(null)}),16))},Effect.prototype._checkIsReady=function(t){var n=this;try{if(this._isReadyInternal())return}catch(u){return void this._processCompilationErrors(u,t)}setTimeout((function(){n._checkIsReady(t)}),16)},Effect.prototype._loadShader=function(t,n,u,c){if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement){var d=l["DomManagement"].GetDOMTextContent(t);c(d)}else if("source:"!==t.substr(0,7))if("base64:"!==t.substr(0,7)){var h;if(Effect.ShadersStore[t+n+"Shader"])c(Effect.ShadersStore[t+n+"Shader"]);else if(u&&Effect.ShadersStore[t+u+"Shader"])c(Effect.ShadersStore[t+u+"Shader"]);else h="."===t[0]||"/"===t[0]||t.indexOf("http")>-1?t:Effect.ShadersRepository+t,this._engine._loadFile(h+"."+n.toLowerCase()+".fx",c)}else{var p=window.atob(t.substr(7));c(p)}else c(t.substr(7))},Object.defineProperty(Effect.prototype,"vertexSourceCode",{get:function(){return this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?this._vertexSourceCodeOverride:this._vertexSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(Effect.prototype,"fragmentSourceCode",{get:function(){return this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?this._fragmentSourceCodeOverride:this._fragmentSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(Effect.prototype,"rawVertexSourceCode",{get:function(){return this._rawVertexSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(Effect.prototype,"rawFragmentSourceCode",{get:function(){return this._rawFragmentSourceCode},enumerable:!1,configurable:!0}),Effect.prototype._rebuildProgram=function(t,n,u,c){var l=this;this._isReady=!1,this._vertexSourceCodeOverride=t,this._fragmentSourceCodeOverride=n,this.onError=function(t,n){c&&c(n)},this.onCompiled=function(){var t=l.getEngine().scenes;if(t)for(var n=0;n<t.length;n++)t[n].markAllMaterialsAsDirty(63);l._pipelineContext._handlesSpectorRebuildCallback(u)},this._fallbacks=null,this._prepareEffect()},Effect.prototype._prepareEffect=function(){var t=this,n=this._attributesNames,u=this.defines;this._valueCache={};var c=this._pipelineContext;try{var l=this._engine;this._pipelineContext=l.createPipelineContext();var d=this._rebuildProgram.bind(this);this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?l._preparePipelineContext(this._pipelineContext,this._vertexSourceCodeOverride,this._fragmentSourceCodeOverride,!0,d,null,this._transformFeedbackVaryings):l._preparePipelineContext(this._pipelineContext,this._vertexSourceCode,this._fragmentSourceCode,!1,d,u,this._transformFeedbackVaryings),l._executeWhenRenderingStateIsCompiled(this._pipelineContext,(function(){if(l.supportsUniformBuffers)for(var u in t._uniformBuffersNames)t.bindUniformBlock(u,t._uniformBuffersNames[u]);var d,h=l.getUniforms(t._pipelineContext,t._uniformsNames);if(h.forEach((function(n,u){t._uniforms[t._uniformsNames[u]]=n})),t._attributes=l.getAttributes(t._pipelineContext,n),n)for(var p=0;p<n.length;p++){var m=n[p];t._attributeLocationByName[m]=t._attributes[p]}for(d=0;d<t._samplerList.length;d++){var _=t.getUniform(t._samplerList[d]);null==_&&(t._samplerList.splice(d,1),d--)}t._samplerList.forEach((function(n,u){t._samplers[n]=u})),l.bindSamplers(t),t._compilationError="",t._isReady=!0,t.onCompiled&&t.onCompiled(t),t.onCompileObservable.notifyObservers(t),t.onCompileObservable.clear(),t._fallbacks&&t._fallbacks.unBindMesh(),c&&t.getEngine()._deletePipelineContext(c)})),this._pipelineContext.isAsync&&this._checkIsReady(c)}catch(h){this._processCompilationErrors(h,c)}},Effect.prototype._getShaderCodeAndErrorLine=function(t,n,u){var c=u?/FRAGMENT SHADER ERROR: 0:(\d+?):/:/VERTEX SHADER ERROR: 0:(\d+?):/,l=null;if(n&&t){var d=n.match(c);if(d&&2===d.length){var h=parseInt(d[1]),p=t.split("\n",-1);p.length>=h&&(l="Offending line ["+h+"] in "+(u?"fragment":"vertex")+" code: "+p[h-1])}}return[t,l]},Effect.prototype._processCompilationErrors=function(t,n){var u,c,l,h,p;void 0===n&&(n=null),this._compilationError=t.message;var m=this._attributesNames,_=this._fallbacks;if(d["Logger"].Error("Unable to compile effect:"),d["Logger"].Error("Uniforms: "+this._uniformsNames.map((function(t){return" "+t}))),d["Logger"].Error("Attributes: "+m.map((function(t){return" "+t}))),d["Logger"].Error("Defines:\r\n"+this.defines),Effect.LogShaderCodeOnCompilationError){var g=null,b=null,v=null;(null===(l=this._pipelineContext)||void 0===l?void 0:l._getVertexShaderCode())&&(u=this._getShaderCodeAndErrorLine(this._pipelineContext._getVertexShaderCode(),this._compilationError,!1),v=u[0],g=u[1],v&&(d["Logger"].Error("Vertex code:"),d["Logger"].Error(v))),(null===(h=this._pipelineContext)||void 0===h?void 0:h._getFragmentShaderCode())&&(c=this._getShaderCodeAndErrorLine(null===(p=this._pipelineContext)||void 0===p?void 0:p._getFragmentShaderCode(),this._compilationError,!0),v=c[0],b=c[1],v&&(d["Logger"].Error("Fragment code:"),d["Logger"].Error(v))),g&&d["Logger"].Error(g),b&&d["Logger"].Error(b)}d["Logger"].Error("Error: "+this._compilationError),n&&(this._pipelineContext=n,this._isReady=!0,this.onError&&this.onError(this,this._compilationError),this.onErrorObservable.notifyObservers(this)),_?(this._pipelineContext=null,_.hasMoreFallbacks?(this._allFallbacksProcessed=!1,d["Logger"].Error("Trying next fallback."),this.defines=_.reduce(this.defines,this),this._prepareEffect()):(this._allFallbacksProcessed=!0,this.onError&&this.onError(this,this._compilationError),this.onErrorObservable.notifyObservers(this),this.onErrorObservable.clear(),this._fallbacks&&this._fallbacks.unBindMesh())):this._allFallbacksProcessed=!0},Object.defineProperty(Effect.prototype,"isSupported",{get:function(){return""===this._compilationError},enumerable:!1,configurable:!0}),Effect.prototype._bindTexture=function(t,n){this._engine._bindTexture(this._samplers[t],n)},Effect.prototype.setTexture=function(t,n){this._engine.setTexture(this._samplers[t],this._uniforms[t],n)},Effect.prototype.setDepthStencilTexture=function(t,n){this._engine.setDepthStencilTexture(this._samplers[t],this._uniforms[t],n)},Effect.prototype.setTextureArray=function(t,n){var u=t+"Ex";if(-1===this._samplerList.indexOf(u+"0")){for(var c=this._samplerList.indexOf(t),l=1;l<n.length;l++){var d=u+(l-1).toString();this._samplerList.splice(c+l,0,d)}for(var h=0,p=0,m=this._samplerList;p<m.length;p++){var _=m[p];this._samplers[_]=h,h+=1}}this._engine.setTextureArray(this._samplers[t],this._uniforms[t],n)},Effect.prototype.setTextureFromPostProcess=function(t,n){this._engine.setTextureFromPostProcess(this._samplers[t],n)},Effect.prototype.setTextureFromPostProcessOutput=function(t,n){this._engine.setTextureFromPostProcessOutput(this._samplers[t],n)},Effect.prototype._cacheMatrix=function(t,n){var u=this._valueCache[t],c=n.updateFlag;return(void 0===u||u!==c)&&(this._valueCache[t]=c,!0)},Effect.prototype._cacheFloat2=function(t,n,u){var c=this._valueCache[t];if(!c||2!==c.length)return c=[n,u],this._valueCache[t]=c,!0;var l=!1;return c[0]!==n&&(c[0]=n,l=!0),c[1]!==u&&(c[1]=u,l=!0),l},Effect.prototype._cacheFloat3=function(t,n,u,c){var l=this._valueCache[t];if(!l||3!==l.length)return l=[n,u,c],this._valueCache[t]=l,!0;var d=!1;return l[0]!==n&&(l[0]=n,d=!0),l[1]!==u&&(l[1]=u,d=!0),l[2]!==c&&(l[2]=c,d=!0),d},Effect.prototype._cacheFloat4=function(t,n,u,c,l){var d=this._valueCache[t];if(!d||4!==d.length)return d=[n,u,c,l],this._valueCache[t]=d,!0;var h=!1;return d[0]!==n&&(d[0]=n,h=!0),d[1]!==u&&(d[1]=u,h=!0),d[2]!==c&&(d[2]=c,h=!0),d[3]!==l&&(d[3]=l,h=!0),h},Effect.prototype.bindUniformBuffer=function(t,n){var u=this._uniformBuffersNames[n];void 0!==u&&Effect._baseCache[u]!==t&&(Effect._baseCache[u]=t,this._engine.bindUniformBufferBase(t,u))},Effect.prototype.bindUniformBlock=function(t,n){this._engine.bindUniformBlock(this._pipelineContext,t,n)},Effect.prototype.setInt=function(t,n){var u=this._valueCache[t];return void 0!==u&&u===n||this._engine.setInt(this._uniforms[t],n)&&(this._valueCache[t]=n),this},Effect.prototype.setIntArray=function(t,n){return this._valueCache[t]=null,this._engine.setIntArray(this._uniforms[t],n),this},Effect.prototype.setIntArray2=function(t,n){return this._valueCache[t]=null,this._engine.setIntArray2(this._uniforms[t],n),this},Effect.prototype.setIntArray3=function(t,n){return this._valueCache[t]=null,this._engine.setIntArray3(this._uniforms[t],n),this},Effect.prototype.setIntArray4=function(t,n){return this._valueCache[t]=null,this._engine.setIntArray4(this._uniforms[t],n),this},Effect.prototype.setFloatArray=function(t,n){return this._valueCache[t]=null,this._engine.setArray(this._uniforms[t],n),this},Effect.prototype.setFloatArray2=function(t,n){return this._valueCache[t]=null,this._engine.setArray2(this._uniforms[t],n),this},Effect.prototype.setFloatArray3=function(t,n){return this._valueCache[t]=null,this._engine.setArray3(this._uniforms[t],n),this},Effect.prototype.setFloatArray4=function(t,n){return this._valueCache[t]=null,this._engine.setArray4(this._uniforms[t],n),this},Effect.prototype.setArray=function(t,n){return this._valueCache[t]=null,this._engine.setArray(this._uniforms[t],n),this},Effect.prototype.setArray2=function(t,n){return this._valueCache[t]=null,this._engine.setArray2(this._uniforms[t],n),this},Effect.prototype.setArray3=function(t,n){return this._valueCache[t]=null,this._engine.setArray3(this._uniforms[t],n),this},Effect.prototype.setArray4=function(t,n){return this._valueCache[t]=null,this._engine.setArray4(this._uniforms[t],n),this},Effect.prototype.setMatrices=function(t,n){return n?(this._valueCache[t]=null,this._engine.setMatrices(this._uniforms[t],n),this):this},Effect.prototype.setMatrix=function(t,n){return this._cacheMatrix(t,n)&&(this._engine.setMatrices(this._uniforms[t],n.toArray())||(this._valueCache[t]=null)),this},Effect.prototype.setMatrix3x3=function(t,n){return this._valueCache[t]=null,this._engine.setMatrix3x3(this._uniforms[t],n),this},Effect.prototype.setMatrix2x2=function(t,n){return this._valueCache[t]=null,this._engine.setMatrix2x2(this._uniforms[t],n),this},Effect.prototype.setFloat=function(t,n){var u=this._valueCache[t];return void 0!==u&&u===n||this._engine.setFloat(this._uniforms[t],n)&&(this._valueCache[t]=n),this},Effect.prototype.setBool=function(t,n){var u=this._valueCache[t];return void 0!==u&&u===n||this._engine.setInt(this._uniforms[t],n?1:0)&&(this._valueCache[t]=n),this},Effect.prototype.setVector2=function(t,n){return this._cacheFloat2(t,n.x,n.y)&&(this._engine.setFloat2(this._uniforms[t],n.x,n.y)||(this._valueCache[t]=null)),this},Effect.prototype.setFloat2=function(t,n,u){return this._cacheFloat2(t,n,u)&&(this._engine.setFloat2(this._uniforms[t],n,u)||(this._valueCache[t]=null)),this},Effect.prototype.setVector3=function(t,n){return this._cacheFloat3(t,n.x,n.y,n.z)&&(this._engine.setFloat3(this._uniforms[t],n.x,n.y,n.z)||(this._valueCache[t]=null)),this},Effect.prototype.setFloat3=function(t,n,u,c){return this._cacheFloat3(t,n,u,c)&&(this._engine.setFloat3(this._uniforms[t],n,u,c)||(this._valueCache[t]=null)),this},Effect.prototype.setVector4=function(t,n){return this._cacheFloat4(t,n.x,n.y,n.z,n.w)&&(this._engine.setFloat4(this._uniforms[t],n.x,n.y,n.z,n.w)||(this._valueCache[t]=null)),this},Effect.prototype.setFloat4=function(t,n,u,c,l){return this._cacheFloat4(t,n,u,c,l)&&(this._engine.setFloat4(this._uniforms[t],n,u,c,l)||(this._valueCache[t]=null)),this},Effect.prototype.setColor3=function(t,n){return this._cacheFloat3(t,n.r,n.g,n.b)&&(this._engine.setFloat3(this._uniforms[t],n.r,n.g,n.b)||(this._valueCache[t]=null)),this},Effect.prototype.setColor4=function(t,n,u){return this._cacheFloat4(t,n.r,n.g,n.b,u)&&(this._engine.setFloat4(this._uniforms[t],n.r,n.g,n.b,u)||(this._valueCache[t]=null)),this},Effect.prototype.setDirectColor4=function(t,n){return this._cacheFloat4(t,n.r,n.g,n.b,n.a)&&(this._engine.setFloat4(this._uniforms[t],n.r,n.g,n.b,n.a)||(this._valueCache[t]=null)),this},Effect.prototype.dispose=function(){this._engine._releaseEffect(this)},Effect.RegisterShader=function(t,n,u){n&&(Effect.ShadersStore[t+"PixelShader"]=n),u&&(Effect.ShadersStore[t+"VertexShader"]=u)},Effect.ResetCache=function(){Effect._baseCache={}},Effect.ShadersRepository="src/Shaders/",Effect.LogShaderCodeOnCompilationError=!0,Effect._uniqueIdSeed=0,Effect._baseCache={},Effect.ShadersStore={},Effect.IncludesShadersStore={},Effect}()},"./node_modules/@babylonjs/core/Materials/effectFallbacks.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EffectFallbacks",(function(){return c}));var c=function(){function EffectFallbacks(){this._defines={},this._currentRank=32,this._maxRank=-1,this._mesh=null}return EffectFallbacks.prototype.unBindMesh=function(){this._mesh=null},EffectFallbacks.prototype.addFallback=function(t,n){this._defines[t]||(t<this._currentRank&&(this._currentRank=t),t>this._maxRank&&(this._maxRank=t),this._defines[t]=new Array),this._defines[t].push(n)},EffectFallbacks.prototype.addCPUSkinningFallback=function(t,n){this._mesh=n,t<this._currentRank&&(this._currentRank=t),t>this._maxRank&&(this._maxRank=t)},Object.defineProperty(EffectFallbacks.prototype,"hasMoreFallbacks",{get:function(){return this._currentRank<=this._maxRank},enumerable:!1,configurable:!0}),EffectFallbacks.prototype.reduce=function(t,n){if(this._mesh&&this._mesh.computeBonesUsingShaders&&this._mesh.numBoneInfluencers>0){this._mesh.computeBonesUsingShaders=!1,t=t.replace("#define NUM_BONE_INFLUENCERS "+this._mesh.numBoneInfluencers,"#define NUM_BONE_INFLUENCERS 0"),n._bonesComputationForcedToCPU=!0;for(var u=this._mesh.getScene(),c=0;c<u.meshes.length;c++){var l=u.meshes[c];if(l.material){if(l.computeBonesUsingShaders&&0!==l.numBoneInfluencers)if(l.material.getEffect()===n)l.computeBonesUsingShaders=!1;else if(l.subMeshes)for(var d=0,h=l.subMeshes;d<h.length;d++){var p=h[d],m=p.effect;if(m===n){l.computeBonesUsingShaders=!1;break}}}else!this._mesh.material&&l.computeBonesUsingShaders&&l.numBoneInfluencers>0&&(l.computeBonesUsingShaders=!1)}}else{var _=this._defines[this._currentRank];if(_)for(c=0;c<_.length;c++)t=t.replace("#define "+_[c],"");this._currentRank++}return t},EffectFallbacks}()},"./node_modules/@babylonjs/core/Materials/imageProcessingConfiguration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ImageProcessingConfigurationDefines",(function(){return g})),u.d(n,"ImageProcessingConfiguration",(function(){return b}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Misc/tools.js"),p=u("./node_modules/@babylonjs/core/Maths/math.color.js"),m=u("./node_modules/@babylonjs/core/Materials/materialDefines.js"),_=u("./node_modules/@babylonjs/core/Materials/colorCurves.js"),g=function(t){function ImageProcessingConfigurationDefines(){var n=t.call(this)||this;return n.IMAGEPROCESSING=!1,n.VIGNETTE=!1,n.VIGNETTEBLENDMODEMULTIPLY=!1,n.VIGNETTEBLENDMODEOPAQUE=!1,n.TONEMAPPING=!1,n.TONEMAPPING_ACES=!1,n.CONTRAST=!1,n.COLORCURVES=!1,n.COLORGRADING=!1,n.COLORGRADING3D=!1,n.SAMPLER3DGREENDEPTH=!1,n.SAMPLER3DBGRMAP=!1,n.IMAGEPROCESSINGPOSTPROCESS=!1,n.EXPOSURE=!1,n.rebuild(),n}return Object(c["__extends"])(ImageProcessingConfigurationDefines,t),ImageProcessingConfigurationDefines}(m["MaterialDefines"]),b=function(){function ImageProcessingConfiguration(){this.colorCurves=new _["ColorCurves"],this._colorCurvesEnabled=!1,this._colorGradingEnabled=!1,this._colorGradingWithGreenDepth=!0,this._colorGradingBGR=!0,this._exposure=1,this._toneMappingEnabled=!1,this._toneMappingType=ImageProcessingConfiguration.TONEMAPPING_STANDARD,this._contrast=1,this.vignetteStretch=0,this.vignetteCentreX=0,this.vignetteCentreY=0,this.vignetteWeight=1.5,this.vignetteColor=new p["Color4"](0,0,0,0),this.vignetteCameraFov=.5,this._vignetteBlendMode=ImageProcessingConfiguration.VIGNETTEMODE_MULTIPLY,this._vignetteEnabled=!1,this._applyByPostProcess=!1,this._isEnabled=!0,this.onUpdateParameters=new d["Observable"]}return Object.defineProperty(ImageProcessingConfiguration.prototype,"colorCurvesEnabled",{get:function(){return this._colorCurvesEnabled},set:function(t){this._colorCurvesEnabled!==t&&(this._colorCurvesEnabled=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"colorGradingTexture",{get:function(){return this._colorGradingTexture},set:function(t){this._colorGradingTexture!==t&&(this._colorGradingTexture=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"colorGradingEnabled",{get:function(){return this._colorGradingEnabled},set:function(t){this._colorGradingEnabled!==t&&(this._colorGradingEnabled=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"colorGradingWithGreenDepth",{get:function(){return this._colorGradingWithGreenDepth},set:function(t){this._colorGradingWithGreenDepth!==t&&(this._colorGradingWithGreenDepth=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"colorGradingBGR",{get:function(){return this._colorGradingBGR},set:function(t){this._colorGradingBGR!==t&&(this._colorGradingBGR=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"exposure",{get:function(){return this._exposure},set:function(t){this._exposure!==t&&(this._exposure=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"toneMappingEnabled",{get:function(){return this._toneMappingEnabled},set:function(t){this._toneMappingEnabled!==t&&(this._toneMappingEnabled=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"toneMappingType",{get:function(){return this._toneMappingType},set:function(t){this._toneMappingType!==t&&(this._toneMappingType=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"contrast",{get:function(){return this._contrast},set:function(t){this._contrast!==t&&(this._contrast=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"vignetteBlendMode",{get:function(){return this._vignetteBlendMode},set:function(t){this._vignetteBlendMode!==t&&(this._vignetteBlendMode=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"vignetteEnabled",{get:function(){return this._vignetteEnabled},set:function(t){this._vignetteEnabled!==t&&(this._vignetteEnabled=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"applyByPostProcess",{get:function(){return this._applyByPostProcess},set:function(t){this._applyByPostProcess!==t&&(this._applyByPostProcess=t,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled!==t&&(this._isEnabled=t,this._updateParameters())},enumerable:!1,configurable:!0}),ImageProcessingConfiguration.prototype._updateParameters=function(){this.onUpdateParameters.notifyObservers(this)},ImageProcessingConfiguration.prototype.getClassName=function(){return"ImageProcessingConfiguration"},ImageProcessingConfiguration.PrepareUniforms=function(t,n){n.EXPOSURE&&t.push("exposureLinear"),n.CONTRAST&&t.push("contrast"),n.COLORGRADING&&t.push("colorTransformSettings"),n.VIGNETTE&&(t.push("vInverseScreenSize"),t.push("vignetteSettings1"),t.push("vignetteSettings2")),n.COLORCURVES&&_["ColorCurves"].PrepareUniforms(t)},ImageProcessingConfiguration.PrepareSamplers=function(t,n){n.COLORGRADING&&t.push("txColorTransform")},ImageProcessingConfiguration.prototype.prepareDefines=function(t,n){if(void 0===n&&(n=!1),n!==this.applyByPostProcess||!this._isEnabled)return t.VIGNETTE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.EXPOSURE=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.IMAGEPROCESSING=!1,void(t.IMAGEPROCESSINGPOSTPROCESS=this.applyByPostProcess&&this._isEnabled);switch(t.VIGNETTE=this.vignetteEnabled,t.VIGNETTEBLENDMODEMULTIPLY=this.vignetteBlendMode===ImageProcessingConfiguration._VIGNETTEMODE_MULTIPLY,t.VIGNETTEBLENDMODEOPAQUE=!t.VIGNETTEBLENDMODEMULTIPLY,t.TONEMAPPING=this.toneMappingEnabled,this._toneMappingType){case ImageProcessingConfiguration.TONEMAPPING_ACES:t.TONEMAPPING_ACES=!0;break;default:t.TONEMAPPING_ACES=!1;break}t.CONTRAST=1!==this.contrast,t.EXPOSURE=1!==this.exposure,t.COLORCURVES=this.colorCurvesEnabled&&!!this.colorCurves,t.COLORGRADING=this.colorGradingEnabled&&!!this.colorGradingTexture,t.COLORGRADING?t.COLORGRADING3D=this.colorGradingTexture.is3D:t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=this.colorGradingWithGreenDepth,t.SAMPLER3DBGRMAP=this.colorGradingBGR,t.IMAGEPROCESSINGPOSTPROCESS=this.applyByPostProcess,t.IMAGEPROCESSING=t.VIGNETTE||t.TONEMAPPING||t.CONTRAST||t.EXPOSURE||t.COLORCURVES||t.COLORGRADING},ImageProcessingConfiguration.prototype.isReady=function(){return!this.colorGradingEnabled||!this.colorGradingTexture||this.colorGradingTexture.isReady()},ImageProcessingConfiguration.prototype.bind=function(t,n){if(this._colorCurvesEnabled&&this.colorCurves&&_["ColorCurves"].Bind(this.colorCurves,t),this._vignetteEnabled){var u=1/t.getEngine().getRenderWidth(),c=1/t.getEngine().getRenderHeight();t.setFloat2("vInverseScreenSize",u,c);var l=null!=n?n:c/u,d=Math.tan(.5*this.vignetteCameraFov),p=d*l,m=Math.sqrt(p*d);p=h["Tools"].Mix(p,m,this.vignetteStretch),d=h["Tools"].Mix(d,m,this.vignetteStretch),t.setFloat4("vignetteSettings1",p,d,-p*this.vignetteCentreX,-d*this.vignetteCentreY);var g=-2*this.vignetteWeight;t.setFloat4("vignetteSettings2",this.vignetteColor.r,this.vignetteColor.g,this.vignetteColor.b,g)}if(t.setFloat("exposureLinear",this.exposure),t.setFloat("contrast",this.contrast),this.colorGradingTexture){t.setTexture("txColorTransform",this.colorGradingTexture);var b=this.colorGradingTexture.getSize().height;t.setFloat4("colorTransformSettings",(b-1)/b,.5/b,b,this.colorGradingTexture.level)}},ImageProcessingConfiguration.prototype.clone=function(){return l["SerializationHelper"].Clone((function(){return new ImageProcessingConfiguration}),this)},ImageProcessingConfiguration.prototype.serialize=function(){return l["SerializationHelper"].Serialize(this)},ImageProcessingConfiguration.Parse=function(t){return l["SerializationHelper"].Parse((function(){return new ImageProcessingConfiguration}),t,null,null)},Object.defineProperty(ImageProcessingConfiguration,"VIGNETTEMODE_MULTIPLY",{get:function(){return this._VIGNETTEMODE_MULTIPLY},enumerable:!1,configurable:!0}),Object.defineProperty(ImageProcessingConfiguration,"VIGNETTEMODE_OPAQUE",{get:function(){return this._VIGNETTEMODE_OPAQUE},enumerable:!1,configurable:!0}),ImageProcessingConfiguration.TONEMAPPING_STANDARD=0,ImageProcessingConfiguration.TONEMAPPING_ACES=1,ImageProcessingConfiguration._VIGNETTEMODE_MULTIPLY=0,ImageProcessingConfiguration._VIGNETTEMODE_OPAQUE=1,Object(c["__decorate"])([Object(l["serializeAsColorCurves"])()],ImageProcessingConfiguration.prototype,"colorCurves",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_colorCurvesEnabled",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("colorGradingTexture")],ImageProcessingConfiguration.prototype,"_colorGradingTexture",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_colorGradingEnabled",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_colorGradingWithGreenDepth",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_colorGradingBGR",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_exposure",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_toneMappingEnabled",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_toneMappingType",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_contrast",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"vignetteStretch",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"vignetteCentreX",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"vignetteCentreY",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"vignetteWeight",void 0),Object(c["__decorate"])([Object(l["serializeAsColor4"])()],ImageProcessingConfiguration.prototype,"vignetteColor",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"vignetteCameraFov",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_vignetteBlendMode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_vignetteEnabled",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_applyByPostProcess",void 0),Object(c["__decorate"])([Object(l["serialize"])()],ImageProcessingConfiguration.prototype,"_isEnabled",void 0),ImageProcessingConfiguration}();l["SerializationHelper"]._ImageProcessingConfigurationParser=b.Parse},"./node_modules/@babylonjs/core/Materials/material.detailMapConfiguration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DetailMapConfiguration",(function(){return m}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Materials/material.js"),d=u("./node_modules/@babylonjs/core/Misc/decorators.js"),h=u("./node_modules/@babylonjs/core/Materials/materialFlags.js"),p=u("./node_modules/@babylonjs/core/Materials/materialHelper.js"),m=function(){function DetailMapConfiguration(t){this._texture=null,this.diffuseBlendLevel=1,this.roughnessBlendLevel=1,this.bumpLevel=1,this._normalBlendMethod=l["Material"].MATERIAL_NORMALBLENDMETHOD_WHITEOUT,this._isEnabled=!1,this.isEnabled=!1,this._internalMarkAllSubMeshesAsTexturesDirty=t}return DetailMapConfiguration.prototype._markAllSubMeshesAsTexturesDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty()},DetailMapConfiguration.prototype.isReadyForSubMesh=function(t,n){var u=n.getEngine();return!(t._areTexturesDirty&&n.texturesEnabled&&u.getCaps().standardDerivatives&&this._texture&&h["MaterialFlags"].DetailTextureEnabled&&!this._texture.isReady())},DetailMapConfiguration.prototype.prepareDefines=function(t,n){if(this._isEnabled){t.DETAIL_NORMALBLENDMETHOD=this._normalBlendMethod;var u=n.getEngine();t._areTexturesDirty&&(u.getCaps().standardDerivatives&&this._texture&&h["MaterialFlags"].DetailTextureEnabled&&this._isEnabled?(p["MaterialHelper"].PrepareDefinesForMergedUV(this._texture,t,"DETAIL"),t.DETAIL_NORMALBLENDMETHOD=this._normalBlendMethod):t.DETAIL=!1)}else t.DETAIL=!1},DetailMapConfiguration.prototype.bindForSubMesh=function(t,n,u){this._isEnabled&&(t.useUbo&&u&&t.isSync||this._texture&&h["MaterialFlags"].DetailTextureEnabled&&(t.updateFloat4("vDetailInfos",this._texture.coordinatesIndex,this.diffuseBlendLevel,this.bumpLevel,this.roughnessBlendLevel),p["MaterialHelper"].BindTextureMatrix(this._texture,t,"detail")),n.texturesEnabled&&this._texture&&h["MaterialFlags"].DetailTextureEnabled&&t.setTexture("detailSampler",this._texture))},DetailMapConfiguration.prototype.hasTexture=function(t){return this._texture===t},DetailMapConfiguration.prototype.getActiveTextures=function(t){this._texture&&t.push(this._texture)},DetailMapConfiguration.prototype.getAnimatables=function(t){this._texture&&this._texture.animations&&this._texture.animations.length>0&&t.push(this._texture)},DetailMapConfiguration.prototype.dispose=function(t){var n;t&&(null===(n=this._texture)||void 0===n||n.dispose())},DetailMapConfiguration.prototype.getClassName=function(){return"DetailMap"},DetailMapConfiguration.AddUniforms=function(t){t.push("vDetailInfos")},DetailMapConfiguration.AddSamplers=function(t){t.push("detailSampler")},DetailMapConfiguration.PrepareUniformBuffer=function(t){t.addUniform("vDetailInfos",4),t.addUniform("detailMatrix",16)},DetailMapConfiguration.prototype.copyTo=function(t){d["SerializationHelper"].Clone((function(){return t}),this)},DetailMapConfiguration.prototype.serialize=function(){return d["SerializationHelper"].Serialize(this)},DetailMapConfiguration.prototype.parse=function(t,n,u){var c=this;d["SerializationHelper"].Parse((function(){return c}),t,n,u)},Object(c["__decorate"])([Object(d["serializeAsTexture"])("detailTexture"),Object(d["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],DetailMapConfiguration.prototype,"texture",void 0),Object(c["__decorate"])([Object(d["serialize"])()],DetailMapConfiguration.prototype,"diffuseBlendLevel",void 0),Object(c["__decorate"])([Object(d["serialize"])()],DetailMapConfiguration.prototype,"roughnessBlendLevel",void 0),Object(c["__decorate"])([Object(d["serialize"])()],DetailMapConfiguration.prototype,"bumpLevel",void 0),Object(c["__decorate"])([Object(d["serialize"])(),Object(d["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],DetailMapConfiguration.prototype,"normalBlendMethod",void 0),Object(c["__decorate"])([Object(d["serialize"])(),Object(d["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],DetailMapConfiguration.prototype,"isEnabled",void 0),DetailMapConfiguration}()},"./node_modules/@babylonjs/core/Materials/material.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Material",(function(){return v}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/tools.js"),h=u("./node_modules/@babylonjs/core/Misc/observable.js"),p=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),m=u("./node_modules/@babylonjs/core/Meshes/subMesh.js"),_=u("./node_modules/@babylonjs/core/Materials/uniformBuffer.js"),g=u("./node_modules/@babylonjs/core/Misc/logger.js"),b=u("./node_modules/@babylonjs/core/Maths/math.plane.js"),v=function(){function Material(t,n,u){this.shadowDepthWrapper=null,this.allowShaderHotSwapping=!0,this.metadata=null,this.reservedDataStore=null,this.checkReadyOnEveryCall=!1,this.checkReadyOnlyOnce=!1,this.state="",this._alpha=1,this._backFaceCulling=!0,this.onCompiled=null,this.onError=null,this.getRenderTargetTextures=null,this.doNotSerialize=!1,this._storeEffectOnSubMeshes=!1,this.animations=null,this.onDisposeObservable=new h["Observable"],this._onDisposeObserver=null,this._onUnBindObservable=null,this._onBindObserver=null,this._alphaMode=2,this._needDepthPrePass=!1,this.disableDepthWrite=!1,this.disableColorWrite=!1,this.forceDepthWrite=!1,this.depthFunction=0,this.separateCullingPass=!1,this._fogEnabled=!0,this.pointSize=1,this.zOffset=0,this._effect=null,this._useUBO=!1,this._fillMode=Material.TriangleFillMode,this._cachedDepthWriteState=!1,this._cachedColorWriteState=!1,this._cachedDepthFunctionState=0,this._indexInSceneMaterialArray=-1,this.meshMap=null,this._forceAlphaTest=!1,this._transparencyMode=null,this.name=t;var c=1;this._scene=n||p["EngineStore"].LastCreatedScene,this.id=t||d["Tools"].RandomId();while(this._scene.getMaterialByID(this.id))this.id=t+" "+c++;this.uniqueId=this._scene.getUniqueId(),this._scene.useRightHandedSystem?this.sideOrientation=Material.ClockWiseSideOrientation:this.sideOrientation=Material.CounterClockWiseSideOrientation,this._uniformBuffer=new _["UniformBuffer"](this._scene.getEngine()),this._useUBO=this.getScene().getEngine().supportsUniformBuffers,u||this._scene.addMaterial(this),this._scene.useMaterialMeshMap&&(this.meshMap={})}return Object.defineProperty(Material.prototype,"canRenderToMRT",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.markAsDirty(Material.MiscDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"backFaceCulling",{get:function(){return this._backFaceCulling},set:function(t){this._backFaceCulling!==t&&(this._backFaceCulling=t,this.markAsDirty(Material.TextureDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"hasRenderTargetTextures",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"onDispose",{set:function(t){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"onBindObservable",{get:function(){return this._onBindObservable||(this._onBindObservable=new h["Observable"]),this._onBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"onBind",{set:function(t){this._onBindObserver&&this.onBindObservable.remove(this._onBindObserver),this._onBindObserver=this.onBindObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"onUnBindObservable",{get:function(){return this._onUnBindObservable||(this._onUnBindObservable=new h["Observable"]),this._onUnBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"onEffectCreatedObservable",{get:function(){return this._onEffectCreatedObservable||(this._onEffectCreatedObservable=new h["Observable"]),this._onEffectCreatedObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"alphaMode",{get:function(){return this._alphaMode},set:function(t){this._alphaMode!==t&&(this._alphaMode=t,this.markAsDirty(Material.TextureDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"needDepthPrePass",{get:function(){return this._needDepthPrePass},set:function(t){this._needDepthPrePass!==t&&(this._needDepthPrePass=t,this._needDepthPrePass&&(this.checkReadyOnEveryCall=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"fogEnabled",{get:function(){return this._fogEnabled},set:function(t){this._fogEnabled!==t&&(this._fogEnabled=t,this.markAsDirty(Material.MiscDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"wireframe",{get:function(){switch(this._fillMode){case Material.WireFrameFillMode:case Material.LineListDrawMode:case Material.LineLoopDrawMode:case Material.LineStripDrawMode:return!0}return this._scene.forceWireframe},set:function(t){this.fillMode=t?Material.WireFrameFillMode:Material.TriangleFillMode},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"pointsCloud",{get:function(){switch(this._fillMode){case Material.PointFillMode:case Material.PointListDrawMode:return!0}return this._scene.forcePointsCloud},set:function(t){this.fillMode=t?Material.PointFillMode:Material.TriangleFillMode},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){this._fillMode!==t&&(this._fillMode=t,this.markAsDirty(Material.MiscDirtyFlag))},enumerable:!1,configurable:!0}),Material.prototype.toString=function(t){var n="Name: "+this.name;return n},Material.prototype.getClassName=function(){return"Material"},Object.defineProperty(Material.prototype,"isFrozen",{get:function(){return this.checkReadyOnlyOnce},enumerable:!1,configurable:!0}),Material.prototype.freeze=function(){this.markDirty(),this.checkReadyOnlyOnce=!0},Material.prototype.unfreeze=function(){this.markDirty(),this.checkReadyOnlyOnce=!1},Material.prototype.isReady=function(t,n){return!0},Material.prototype.isReadyForSubMesh=function(t,n,u){return!1},Material.prototype.getEffect=function(){return this._effect},Material.prototype.getScene=function(){return this._scene},Object.defineProperty(Material.prototype,"transparencyMode",{get:function(){return this._transparencyMode},set:function(t){this._transparencyMode!==t&&(this._transparencyMode=t,this._forceAlphaTest=t===Material.MATERIAL_ALPHATESTANDBLEND,this._markAllSubMeshesAsTexturesAndMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(Material.prototype,"_disableAlphaBlending",{get:function(){return this._transparencyMode===Material.MATERIAL_OPAQUE||this._transparencyMode===Material.MATERIAL_ALPHATEST},enumerable:!1,configurable:!0}),Material.prototype.needAlphaBlending=function(){return!this._disableAlphaBlending&&this.alpha<1},Material.prototype.needAlphaBlendingForMesh=function(t){return!(this._disableAlphaBlending&&t.visibility>=1)&&(this.needAlphaBlending()||t.visibility<1||t.hasVertexAlpha)},Material.prototype.needAlphaTesting=function(){return!!this._forceAlphaTest},Material.prototype._shouldTurnAlphaTestOn=function(t){return!this.needAlphaBlendingForMesh(t)&&this.needAlphaTesting()},Material.prototype.getAlphaTestTexture=function(){return null},Material.prototype.markDirty=function(){for(var t=this.getScene().meshes,n=0,u=t;n<u.length;n++){var c=u[n];if(c.subMeshes)for(var l=0,d=c.subMeshes;l<d.length;l++){var h=d[l];h.getMaterial()===this&&(h.effect&&(h.effect._wasPreviouslyReady=!1))}}},Material.prototype._preBind=function(t,n){void 0===n&&(n=null);var u=this._scene.getEngine(),c=null==n?this.sideOrientation:n,l=c===Material.ClockWiseSideOrientation;return u.enableEffect(t||this._effect),u.setState(this.backFaceCulling,this.zOffset,!1,l),l},Material.prototype.bind=function(t,n){},Material.prototype.bindForSubMesh=function(t,n,u){},Material.prototype.bindOnlyWorldMatrix=function(t){},Material.prototype.bindSceneUniformBuffer=function(t,n){n.bindToEffect(t,"Scene")},Material.prototype.bindView=function(t){this._useUBO?this.bindSceneUniformBuffer(t,this.getScene().getSceneUniformBuffer()):t.setMatrix("view",this.getScene().getViewMatrix())},Material.prototype.bindViewProjection=function(t){this._useUBO?this.bindSceneUniformBuffer(t,this.getScene().getSceneUniformBuffer()):t.setMatrix("viewProjection",this.getScene().getTransformMatrix())},Material.prototype._afterBind=function(t){if(this._scene._cachedMaterial=this,this._scene._cachedVisibility=t?t.visibility:1,this._onBindObservable&&t&&this._onBindObservable.notifyObservers(t),this.disableDepthWrite){var n=this._scene.getEngine();this._cachedDepthWriteState=n.getDepthWrite(),n.setDepthWrite(!1)}if(this.disableColorWrite){n=this._scene.getEngine();this._cachedColorWriteState=n.getColorWrite(),n.setColorWrite(!1)}if(0!==this.depthFunction){n=this._scene.getEngine();this._cachedDepthFunctionState=n.getDepthFunction()||0,n.setDepthFunction(this.depthFunction)}},Material.prototype.unbind=function(){if(this._onUnBindObservable&&this._onUnBindObservable.notifyObservers(this),0!==this.depthFunction){var t=this._scene.getEngine();t.setDepthFunction(this._cachedDepthFunctionState)}if(this.disableDepthWrite){t=this._scene.getEngine();t.setDepthWrite(this._cachedDepthWriteState)}if(this.disableColorWrite){t=this._scene.getEngine();t.setColorWrite(this._cachedColorWriteState)}},Material.prototype.getActiveTextures=function(){return[]},Material.prototype.hasTexture=function(t){return!1},Material.prototype.clone=function(t){return null},Material.prototype.getBindedMeshes=function(){var t=this;if(this.meshMap){var n=new Array;for(var u in this.meshMap){var c=this.meshMap[u];c&&n.push(c)}return n}var l=this._scene.meshes;return l.filter((function(n){return n.material===t}))},Material.prototype.forceCompilation=function(t,n,u,l){var d=this,h=Object(c["__assign"])({clipPlane:!1,useInstances:!1},u),p=this.getScene(),_=this.allowShaderHotSwapping;this.allowShaderHotSwapping=!1;var checkReady=function(){if(d._scene&&d._scene.getEngine()){var u=p.clipPlane;if(h.clipPlane&&(p.clipPlane=new b["Plane"](0,0,0,1)),d._storeEffectOnSubMeshes){var c=!0,g=null;if(t.subMeshes){var v=new m["SubMesh"](0,0,0,0,0,t,void 0,!1,!1);v._materialDefines&&(v._materialDefines._renderId=-1),d.isReadyForSubMesh(t,v,h.useInstances)||(v.effect&&v.effect.getCompilationError()&&v.effect.allFallbacksProcessed()?g=v.effect.getCompilationError():(c=!1,setTimeout(checkReady,16)))}c&&(d.allowShaderHotSwapping=_,g&&l&&l(g),n&&n(d))}else d.isReady()?(d.allowShaderHotSwapping=_,n&&n(d)):setTimeout(checkReady,16);h.clipPlane&&(p.clipPlane=u)}};checkReady()},Material.prototype.forceCompilationAsync=function(t,n){var u=this;return new Promise((function(c,l){u.forceCompilation(t,(function(){c()}),n,(function(t){l(t)}))}))},Material.prototype.markAsDirty=function(t){this.getScene().blockMaterialDirtyMechanism||(Material._DirtyCallbackArray.length=0,t&Material.TextureDirtyFlag&&Material._DirtyCallbackArray.push(Material._TextureDirtyCallBack),t&Material.LightDirtyFlag&&Material._DirtyCallbackArray.push(Material._LightsDirtyCallBack),t&Material.FresnelDirtyFlag&&Material._DirtyCallbackArray.push(Material._FresnelDirtyCallBack),t&Material.AttributesDirtyFlag&&Material._DirtyCallbackArray.push(Material._AttributeDirtyCallBack),t&Material.MiscDirtyFlag&&Material._DirtyCallbackArray.push(Material._MiscDirtyCallBack),t&Material.PrePassDirtyFlag&&Material._DirtyCallbackArray.push(Material._PrePassDirtyCallBack),Material._DirtyCallbackArray.length&&this._markAllSubMeshesAsDirty(Material._RunDirtyCallBacks),this.getScene().resetCachedMaterial())},Material.prototype._markAllSubMeshesAsDirty=function(t){if(!this.getScene().blockMaterialDirtyMechanism)for(var n=this.getScene().meshes,u=0,c=n;u<c.length;u++){var l=c[u];if(l.subMeshes)for(var d=0,h=l.subMeshes;d<h.length;d++){var p=h[d];p.getMaterial()===this&&(p._materialDefines&&t(p._materialDefines))}}},Material.prototype._markScenePrePassDirty=function(){if(!this.getScene().blockMaterialDirtyMechanism){var t=this.getScene().enablePrePassRenderer();t&&t.markAsDirty()}},Material.prototype._markAllSubMeshesAsAllDirty=function(){this._markAllSubMeshesAsDirty(Material._AllDirtyCallBack)},Material.prototype._markAllSubMeshesAsImageProcessingDirty=function(){this._markAllSubMeshesAsDirty(Material._ImageProcessingDirtyCallBack)},Material.prototype._markAllSubMeshesAsTexturesDirty=function(){this._markAllSubMeshesAsDirty(Material._TextureDirtyCallBack)},Material.prototype._markAllSubMeshesAsFresnelDirty=function(){this._markAllSubMeshesAsDirty(Material._FresnelDirtyCallBack)},Material.prototype._markAllSubMeshesAsFresnelAndMiscDirty=function(){this._markAllSubMeshesAsDirty(Material._FresnelAndMiscDirtyCallBack)},Material.prototype._markAllSubMeshesAsLightsDirty=function(){this._markAllSubMeshesAsDirty(Material._LightsDirtyCallBack)},Material.prototype._markAllSubMeshesAsAttributesDirty=function(){this._markAllSubMeshesAsDirty(Material._AttributeDirtyCallBack)},Material.prototype._markAllSubMeshesAsMiscDirty=function(){this._markAllSubMeshesAsDirty(Material._MiscDirtyCallBack)},Material.prototype._markAllSubMeshesAsPrePassDirty=function(){this._markAllSubMeshesAsDirty(Material._MiscDirtyCallBack)},Material.prototype._markAllSubMeshesAsTexturesAndMiscDirty=function(){this._markAllSubMeshesAsDirty(Material._TextureAndMiscDirtyCallBack)},Material.prototype.setPrePassRenderer=function(t){return!1},Material.prototype.dispose=function(t,n,u){var c=this.getScene();if(c.stopAnimation(this),c.freeProcessedMaterials(),c.removeMaterial(this),!0!==u)if(this.meshMap)for(var l in this.meshMap){var d=this.meshMap[l];d&&(d.material=null,this.releaseVertexArrayObject(d,t))}else for(var h=c.meshes,p=0,m=h;p<m.length;p++){d=m[p];d.material!==this||d.sourceMesh||(d.material=null,this.releaseVertexArrayObject(d,t))}this._uniformBuffer.dispose(),t&&this._effect&&(this._storeEffectOnSubMeshes||this._effect.dispose(),this._effect=null),this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),this._onBindObservable&&this._onBindObservable.clear(),this._onUnBindObservable&&this._onUnBindObservable.clear(),this._onEffectCreatedObservable&&this._onEffectCreatedObservable.clear()},Material.prototype.releaseVertexArrayObject=function(t,n){if(t.geometry){var u=t.geometry;if(this._storeEffectOnSubMeshes)for(var c=0,l=t.subMeshes;c<l.length;c++){var d=l[c];u._releaseVertexArrayObject(d._materialEffect),n&&d._materialEffect&&d._materialEffect.dispose()}else u._releaseVertexArrayObject(this._effect)}},Material.prototype.serialize=function(){return l["SerializationHelper"].Serialize(this)},Material.Parse=function(t,n,u){if(t.customType){if("BABYLON.PBRMaterial"===t.customType&&t.overloadedAlbedo&&(t.customType="BABYLON.LegacyPBRMaterial",!BABYLON.LegacyPBRMaterial))return g["Logger"].Error("Your scene is trying to load a legacy version of the PBRMaterial, please, include it from the materials library."),null}else t.customType="BABYLON.StandardMaterial";var c=d["Tools"].Instantiate(t.customType);return c.Parse(t,n,u)},Material.TriangleFillMode=0,Material.WireFrameFillMode=1,Material.PointFillMode=2,Material.PointListDrawMode=3,Material.LineListDrawMode=4,Material.LineLoopDrawMode=5,Material.LineStripDrawMode=6,Material.TriangleStripDrawMode=7,Material.TriangleFanDrawMode=8,Material.ClockWiseSideOrientation=0,Material.CounterClockWiseSideOrientation=1,Material.TextureDirtyFlag=1,Material.LightDirtyFlag=2,Material.FresnelDirtyFlag=4,Material.AttributesDirtyFlag=8,Material.MiscDirtyFlag=16,Material.PrePassDirtyFlag=32,Material.AllDirtyFlag=63,Material.MATERIAL_OPAQUE=0,Material.MATERIAL_ALPHATEST=1,Material.MATERIAL_ALPHABLEND=2,Material.MATERIAL_ALPHATESTANDBLEND=3,Material.MATERIAL_NORMALBLENDMETHOD_WHITEOUT=0,Material.MATERIAL_NORMALBLENDMETHOD_RNM=1,Material._AllDirtyCallBack=function(t){return t.markAllAsDirty()},Material._ImageProcessingDirtyCallBack=function(t){return t.markAsImageProcessingDirty()},Material._TextureDirtyCallBack=function(t){return t.markAsTexturesDirty()},Material._FresnelDirtyCallBack=function(t){return t.markAsFresnelDirty()},Material._MiscDirtyCallBack=function(t){return t.markAsMiscDirty()},Material._PrePassDirtyCallBack=function(t){return t.markAsPrePassDirty()},Material._LightsDirtyCallBack=function(t){return t.markAsLightDirty()},Material._AttributeDirtyCallBack=function(t){return t.markAsAttributesDirty()},Material._FresnelAndMiscDirtyCallBack=function(t){Material._FresnelDirtyCallBack(t),Material._MiscDirtyCallBack(t)},Material._TextureAndMiscDirtyCallBack=function(t){Material._TextureDirtyCallBack(t),Material._MiscDirtyCallBack(t)},Material._DirtyCallbackArray=[],Material._RunDirtyCallBacks=function(t){for(var n=0,u=Material._DirtyCallbackArray;n<u.length;n++){var c=u[n];c(t)}},Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"id",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"uniqueId",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"name",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"checkReadyOnEveryCall",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"checkReadyOnlyOnce",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"state",void 0),Object(c["__decorate"])([Object(l["serialize"])("alpha")],Material.prototype,"_alpha",void 0),Object(c["__decorate"])([Object(l["serialize"])("backFaceCulling")],Material.prototype,"_backFaceCulling",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"sideOrientation",void 0),Object(c["__decorate"])([Object(l["serialize"])("alphaMode")],Material.prototype,"_alphaMode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"_needDepthPrePass",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"disableDepthWrite",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"disableColorWrite",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"forceDepthWrite",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"depthFunction",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"separateCullingPass",void 0),Object(c["__decorate"])([Object(l["serialize"])("fogEnabled")],Material.prototype,"_fogEnabled",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"pointSize",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"zOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"pointsCloud",null),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"fillMode",null),Object(c["__decorate"])([Object(l["serialize"])()],Material.prototype,"transparencyMode",null),Material}()},"./node_modules/@babylonjs/core/Materials/materialDefines.js":function(t,n,u){"use strict";u.r(n),u.d(n,"MaterialDefines",(function(){return c}));var c=function(){function MaterialDefines(){this._isDirty=!0,this._areLightsDirty=!0,this._areLightsDisposed=!1,this._areAttributesDirty=!0,this._areTexturesDirty=!0,this._areFresnelDirty=!0,this._areMiscDirty=!0,this._arePrePassDirty=!0,this._areImageProcessingDirty=!0,this._normals=!1,this._uvs=!1,this._needNormals=!1,this._needUVs=!1}return Object.defineProperty(MaterialDefines.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),MaterialDefines.prototype.markAsProcessed=function(){this._isDirty=!1,this._areAttributesDirty=!1,this._areTexturesDirty=!1,this._areFresnelDirty=!1,this._areLightsDirty=!1,this._areLightsDisposed=!1,this._areMiscDirty=!1,this._arePrePassDirty=!1,this._areImageProcessingDirty=!1},MaterialDefines.prototype.markAsUnprocessed=function(){this._isDirty=!0},MaterialDefines.prototype.markAllAsDirty=function(){this._areTexturesDirty=!0,this._areAttributesDirty=!0,this._areLightsDirty=!0,this._areFresnelDirty=!0,this._areMiscDirty=!0,this._areImageProcessingDirty=!0,this._isDirty=!0},MaterialDefines.prototype.markAsImageProcessingDirty=function(){this._areImageProcessingDirty=!0,this._isDirty=!0},MaterialDefines.prototype.markAsLightDirty=function(t){void 0===t&&(t=!1),this._areLightsDirty=!0,this._areLightsDisposed=this._areLightsDisposed||t,this._isDirty=!0},MaterialDefines.prototype.markAsAttributesDirty=function(){this._areAttributesDirty=!0,this._isDirty=!0},MaterialDefines.prototype.markAsTexturesDirty=function(){this._areTexturesDirty=!0,this._isDirty=!0},MaterialDefines.prototype.markAsFresnelDirty=function(){this._areFresnelDirty=!0,this._isDirty=!0},MaterialDefines.prototype.markAsMiscDirty=function(){this._areMiscDirty=!0,this._isDirty=!0},MaterialDefines.prototype.markAsPrePassDirty=function(){this._arePrePassDirty=!0,this._isDirty=!0},MaterialDefines.prototype.rebuild=function(){this._keys=[];for(var t=0,n=Object.keys(this);t<n.length;t++){var u=n[t];"_"!==u[0]&&this._keys.push(u)}},MaterialDefines.prototype.isEqual=function(t){if(this._keys.length!==t._keys.length)return!1;for(var n=0;n<this._keys.length;n++){var u=this._keys[n];if(this[u]!==t[u])return!1}return!0},MaterialDefines.prototype.cloneTo=function(t){this._keys.length!==t._keys.length&&(t._keys=this._keys.slice(0));for(var n=0;n<this._keys.length;n++){var u=this._keys[n];t[u]=this[u]}},MaterialDefines.prototype.reset=function(){for(var t=0;t<this._keys.length;t++){var n=this._keys[t],u=typeof this[n];switch(u){case"number":this[n]=0;break;case"string":this[n]="";break;default:this[n]=!1;break}}},MaterialDefines.prototype.toString=function(){for(var t="",n=0;n<this._keys.length;n++){var u=this._keys[n],c=this[u],l=typeof c;switch(l){case"number":case"string":t+="#define "+u+" "+c+"\n";break;default:c&&(t+="#define "+u+"\n");break}}return t},MaterialDefines}()},"./node_modules/@babylonjs/core/Materials/materialFlags.js":function(t,n,u){"use strict";u.r(n),u.d(n,"MaterialFlags",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Engines/engine.js"),l=function(){function MaterialFlags(){}return Object.defineProperty(MaterialFlags,"DiffuseTextureEnabled",{get:function(){return this._DiffuseTextureEnabled},set:function(t){this._DiffuseTextureEnabled!==t&&(this._DiffuseTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"DetailTextureEnabled",{get:function(){return this._DetailTextureEnabled},set:function(t){this._DetailTextureEnabled!==t&&(this._DetailTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"AmbientTextureEnabled",{get:function(){return this._AmbientTextureEnabled},set:function(t){this._AmbientTextureEnabled!==t&&(this._AmbientTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"OpacityTextureEnabled",{get:function(){return this._OpacityTextureEnabled},set:function(t){this._OpacityTextureEnabled!==t&&(this._OpacityTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"ReflectionTextureEnabled",{get:function(){return this._ReflectionTextureEnabled},set:function(t){this._ReflectionTextureEnabled!==t&&(this._ReflectionTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"EmissiveTextureEnabled",{get:function(){return this._EmissiveTextureEnabled},set:function(t){this._EmissiveTextureEnabled!==t&&(this._EmissiveTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"SpecularTextureEnabled",{get:function(){return this._SpecularTextureEnabled},set:function(t){this._SpecularTextureEnabled!==t&&(this._SpecularTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"BumpTextureEnabled",{get:function(){return this._BumpTextureEnabled},set:function(t){this._BumpTextureEnabled!==t&&(this._BumpTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"LightmapTextureEnabled",{get:function(){return this._LightmapTextureEnabled},set:function(t){this._LightmapTextureEnabled!==t&&(this._LightmapTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"RefractionTextureEnabled",{get:function(){return this._RefractionTextureEnabled},set:function(t){this._RefractionTextureEnabled!==t&&(this._RefractionTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"ColorGradingTextureEnabled",{get:function(){return this._ColorGradingTextureEnabled},set:function(t){this._ColorGradingTextureEnabled!==t&&(this._ColorGradingTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"FresnelEnabled",{get:function(){return this._FresnelEnabled},set:function(t){this._FresnelEnabled!==t&&(this._FresnelEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(4))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"ClearCoatTextureEnabled",{get:function(){return this._ClearCoatTextureEnabled},set:function(t){this._ClearCoatTextureEnabled!==t&&(this._ClearCoatTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"ClearCoatBumpTextureEnabled",{get:function(){return this._ClearCoatBumpTextureEnabled},set:function(t){this._ClearCoatBumpTextureEnabled!==t&&(this._ClearCoatBumpTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"ClearCoatTintTextureEnabled",{get:function(){return this._ClearCoatTintTextureEnabled},set:function(t){this._ClearCoatTintTextureEnabled!==t&&(this._ClearCoatTintTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"SheenTextureEnabled",{get:function(){return this._SheenTextureEnabled},set:function(t){this._SheenTextureEnabled!==t&&(this._SheenTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"AnisotropicTextureEnabled",{get:function(){return this._AnisotropicTextureEnabled},set:function(t){this._AnisotropicTextureEnabled!==t&&(this._AnisotropicTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(MaterialFlags,"ThicknessTextureEnabled",{get:function(){return this._ThicknessTextureEnabled},set:function(t){this._ThicknessTextureEnabled!==t&&(this._ThicknessTextureEnabled=t,c["Engine"].MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),MaterialFlags._DiffuseTextureEnabled=!0,MaterialFlags._DetailTextureEnabled=!0,MaterialFlags._AmbientTextureEnabled=!0,MaterialFlags._OpacityTextureEnabled=!0,MaterialFlags._ReflectionTextureEnabled=!0,MaterialFlags._EmissiveTextureEnabled=!0,MaterialFlags._SpecularTextureEnabled=!0,MaterialFlags._BumpTextureEnabled=!0,MaterialFlags._LightmapTextureEnabled=!0,MaterialFlags._RefractionTextureEnabled=!0,MaterialFlags._ColorGradingTextureEnabled=!0,MaterialFlags._FresnelEnabled=!0,MaterialFlags._ClearCoatTextureEnabled=!0,MaterialFlags._ClearCoatBumpTextureEnabled=!0,MaterialFlags._ClearCoatTintTextureEnabled=!0,MaterialFlags._SheenTextureEnabled=!0,MaterialFlags._AnisotropicTextureEnabled=!0,MaterialFlags._ThicknessTextureEnabled=!0,MaterialFlags}()},"./node_modules/@babylonjs/core/Materials/materialHelper.js":function(t,n,u){"use strict";u.r(n),u.d(n,"MaterialHelper",(function(){return g}));var c=u("./node_modules/@babylonjs/core/Misc/logger.js"),l=u("./node_modules/@babylonjs/core/scene.js"),d=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),h=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),p=u("./node_modules/@babylonjs/core/Lights/light.js"),m=u("./node_modules/@babylonjs/core/Maths/math.color.js"),_=u("./node_modules/@babylonjs/core/Materials/thinMaterialHelper.js"),g=function(){function MaterialHelper(){}return MaterialHelper.BindEyePosition=function(t,n,u){if(void 0===u&&(u="vEyePosition"),n._forcedViewPosition)t.setVector3(u,n._forcedViewPosition);else{var c=n.activeCamera.globalPosition;c||(c=n.activeCamera.devicePosition),t.setVector3(u,n._mirroredCameraPosition?n._mirroredCameraPosition:c)}},MaterialHelper.PrepareDefinesForMergedUV=function(t,n,u){n._needUVs=!0,n[u]=!0,t.getTextureMatrix().isIdentityAs3x2()?(n[u+"DIRECTUV"]=t.coordinatesIndex+1,0===t.coordinatesIndex?n["MAINUV1"]=!0:n["MAINUV2"]=!0):n[u+"DIRECTUV"]=0},MaterialHelper.BindTextureMatrix=function(t,n,u){var c=t.getTextureMatrix();n.updateMatrix(u+"Matrix",c)},MaterialHelper.GetFogState=function(t,n){return n.fogEnabled&&t.applyFog&&n.fogMode!==l["Scene"].FOGMODE_NONE},MaterialHelper.PrepareDefinesForMisc=function(t,n,u,c,l,d,h){h._areMiscDirty&&(h["LOGARITHMICDEPTH"]=u,h["POINTSIZE"]=c,h["FOG"]=l&&this.GetFogState(t,n),h["NONUNIFORMSCALING"]=t.nonUniformScaling,h["ALPHATEST"]=d)},MaterialHelper.PrepareDefinesForFrameBoundValues=function(t,n,u,c,l,d){void 0===l&&(l=null),void 0===d&&(d=!1);var h=!1,p=!1,m=!1,_=!1,g=!1,b=!1,v=!1;p=null==l?void 0!==t.clipPlane&&null!==t.clipPlane:l,m=null==l?void 0!==t.clipPlane2&&null!==t.clipPlane2:l,_=null==l?void 0!==t.clipPlane3&&null!==t.clipPlane3:l,g=null==l?void 0!==t.clipPlane4&&null!==t.clipPlane4:l,b=null==l?void 0!==t.clipPlane5&&null!==t.clipPlane5:l,v=null==l?void 0!==t.clipPlane6&&null!==t.clipPlane6:l,u["CLIPPLANE"]!==p&&(u["CLIPPLANE"]=p,h=!0),u["CLIPPLANE2"]!==m&&(u["CLIPPLANE2"]=m,h=!0),u["CLIPPLANE3"]!==_&&(u["CLIPPLANE3"]=_,h=!0),u["CLIPPLANE4"]!==g&&(u["CLIPPLANE4"]=g,h=!0),u["CLIPPLANE5"]!==b&&(u["CLIPPLANE5"]=b,h=!0),u["CLIPPLANE6"]!==v&&(u["CLIPPLANE6"]=v,h=!0),u["DEPTHPREPASS"]!==!n.getColorWrite()&&(u["DEPTHPREPASS"]=!u["DEPTHPREPASS"],h=!0),u["INSTANCES"]!==c&&(u["INSTANCES"]=c,h=!0),u["THIN_INSTANCES"]!==d&&(u["THIN_INSTANCES"]=d,h=!0),h&&u.markAsUnprocessed()},MaterialHelper.PrepareDefinesForBones=function(t,n){if(t.useBones&&t.computeBonesUsingShaders&&t.skeleton){n["NUM_BONE_INFLUENCERS"]=t.numBoneInfluencers;var u=void 0!==n["BONETEXTURE"];if(t.skeleton.isUsingTextureForMatrices&&u)n["BONETEXTURE"]=!0;else{n["BonesPerMesh"]=t.skeleton.bones.length+1,n["BONETEXTURE"]=!u&&void 0;var c=t.getScene().prePassRenderer;if(c&&c.enabled){var l=-1===c.excludedSkinnedMesh.indexOf(t);n["BONES_VELOCITY_ENABLED"]=l}}}else n["NUM_BONE_INFLUENCERS"]=0,n["BonesPerMesh"]=0},MaterialHelper.PrepareDefinesForMorphTargets=function(t,n){var u=t.morphTargetManager;u?(n["MORPHTARGETS_UV"]=u.supportsUVs&&n["UV1"],n["MORPHTARGETS_TANGENT"]=u.supportsTangents&&n["TANGENT"],n["MORPHTARGETS_NORMAL"]=u.supportsNormals&&n["NORMAL"],n["MORPHTARGETS"]=u.numInfluencers>0,n["NUM_MORPH_INFLUENCERS"]=u.numInfluencers):(n["MORPHTARGETS_UV"]=!1,n["MORPHTARGETS_TANGENT"]=!1,n["MORPHTARGETS_NORMAL"]=!1,n["MORPHTARGETS"]=!1,n["NUM_MORPH_INFLUENCERS"]=0)},MaterialHelper.PrepareDefinesForAttributes=function(t,n,u,c,l,d){if(void 0===l&&(l=!1),void 0===d&&(d=!0),!n._areAttributesDirty&&n._needNormals===n._normals&&n._needUVs===n._uvs)return!1;if(n._normals=n._needNormals,n._uvs=n._needUVs,n["NORMAL"]=n._needNormals&&t.isVerticesDataPresent(h["VertexBuffer"].NormalKind),n._needNormals&&t.isVerticesDataPresent(h["VertexBuffer"].TangentKind)&&(n["TANGENT"]=!0),n._needUVs?(n["UV1"]=t.isVerticesDataPresent(h["VertexBuffer"].UVKind),n["UV2"]=t.isVerticesDataPresent(h["VertexBuffer"].UV2Kind)):(n["UV1"]=!1,n["UV2"]=!1),u){var p=t.useVertexColors&&t.isVerticesDataPresent(h["VertexBuffer"].ColorKind);n["VERTEXCOLOR"]=p,n["VERTEXALPHA"]=t.hasVertexAlpha&&p&&d}return c&&this.PrepareDefinesForBones(t,n),l&&this.PrepareDefinesForMorphTargets(t,n),!0},MaterialHelper.PrepareDefinesForMultiview=function(t,n){if(t.activeCamera){var u=n.MULTIVIEW;n.MULTIVIEW=null!==t.activeCamera.outputRenderTarget&&t.activeCamera.outputRenderTarget.getViewCount()>1,n.MULTIVIEW!=u&&n.markAsUnprocessed()}},MaterialHelper.PrepareDefinesForPrePass=function(t,n,u){var c=n.PREPASS;if(n._arePrePassDirty){var l=[{type:1,define:"PREPASS_POSITION",index:"PREPASS_POSITION_INDEX"},{type:2,define:"PREPASS_VELOCITY",index:"PREPASS_VELOCITY_INDEX"},{type:3,define:"PREPASS_REFLECTIVITY",index:"PREPASS_REFLECTIVITY_INDEX"},{type:0,define:"PREPASS_IRRADIANCE",index:"PREPASS_IRRADIANCE_INDEX"},{type:6,define:"PREPASS_ALBEDO",index:"PREPASS_ALBEDO_INDEX"},{type:5,define:"PREPASS_DEPTHNORMAL",index:"PREPASS_DEPTHNORMAL_INDEX"}];if(t.prePassRenderer&&t.prePassRenderer.enabled&&u){n.PREPASS=!0,n.SCENE_MRT_COUNT=t.prePassRenderer.mrtCount;for(var d=0;d<l.length;d++){var h=t.prePassRenderer.getIndex(l[d].type);-1!==h?(n[l[d].define]=!0,n[l[d].index]=h):n[l[d].define]=!1}}else{n.PREPASS=!1;for(d=0;d<l.length;d++)n[l[d].define]=!1}n.PREPASS!=c&&(n.markAsUnprocessed(),n.markAsImageProcessingDirty())}},MaterialHelper.PrepareDefinesForLight=function(t,n,u,c,l,d,h){switch(h.needNormals=!0,void 0===l["LIGHT"+c]&&(h.needRebuild=!0),l["LIGHT"+c]=!0,l["SPOTLIGHT"+c]=!1,l["HEMILIGHT"+c]=!1,l["POINTLIGHT"+c]=!1,l["DIRLIGHT"+c]=!1,u.prepareLightSpecificDefines(l,c),l["LIGHT_FALLOFF_PHYSICAL"+c]=!1,l["LIGHT_FALLOFF_GLTF"+c]=!1,l["LIGHT_FALLOFF_STANDARD"+c]=!1,u.falloffType){case p["Light"].FALLOFF_GLTF:l["LIGHT_FALLOFF_GLTF"+c]=!0;break;case p["Light"].FALLOFF_PHYSICAL:l["LIGHT_FALLOFF_PHYSICAL"+c]=!0;break;case p["Light"].FALLOFF_STANDARD:l["LIGHT_FALLOFF_STANDARD"+c]=!0;break}if(d&&!u.specular.equalsFloats(0,0,0)&&(h.specularEnabled=!0),l["SHADOW"+c]=!1,l["SHADOWCSM"+c]=!1,l["SHADOWCSMDEBUG"+c]=!1,l["SHADOWCSMNUM_CASCADES"+c]=!1,l["SHADOWCSMUSESHADOWMAXZ"+c]=!1,l["SHADOWCSMNOBLEND"+c]=!1,l["SHADOWCSM_RIGHTHANDED"+c]=!1,l["SHADOWPCF"+c]=!1,l["SHADOWPCSS"+c]=!1,l["SHADOWPOISSON"+c]=!1,l["SHADOWESM"+c]=!1,l["SHADOWCLOSEESM"+c]=!1,l["SHADOWCUBE"+c]=!1,l["SHADOWLOWQUALITY"+c]=!1,l["SHADOWMEDIUMQUALITY"+c]=!1,n&&n.receiveShadows&&t.shadowsEnabled&&u.shadowEnabled){var m=u.getShadowGenerator();if(m){var _=m.getShadowMap();_&&_.renderList&&_.renderList.length>0&&(h.shadowEnabled=!0,m.prepareDefines(l,c))}}u.lightmapMode!=p["Light"].LIGHTMAP_DEFAULT?(h.lightmapMode=!0,l["LIGHTMAPEXCLUDED"+c]=!0,l["LIGHTMAPNOSPECULAR"+c]=u.lightmapMode==p["Light"].LIGHTMAP_SHADOWSONLY):(l["LIGHTMAPEXCLUDED"+c]=!1,l["LIGHTMAPNOSPECULAR"+c]=!1)},MaterialHelper.PrepareDefinesForLights=function(t,n,u,c,l,d){if(void 0===l&&(l=4),void 0===d&&(d=!1),!u._areLightsDirty)return u._needNormals;var h=0,p={needNormals:!1,needRebuild:!1,lightmapMode:!1,shadowEnabled:!1,specularEnabled:!1};if(t.lightsEnabled&&!d)for(var m=0,_=n.lightSources;m<_.length;m++){var g=_[m];if(this.PrepareDefinesForLight(t,n,g,h,u,c,p),h++,h===l)break}u["SPECULARTERM"]=p.specularEnabled,u["SHADOWS"]=p.shadowEnabled;for(var b=h;b<l;b++)void 0!==u["LIGHT"+b]&&(u["LIGHT"+b]=!1,u["HEMILIGHT"+b]=!1,u["POINTLIGHT"+b]=!1,u["DIRLIGHT"+b]=!1,u["SPOTLIGHT"+b]=!1,u["SHADOW"+b]=!1,u["SHADOWCSM"+b]=!1,u["SHADOWCSMDEBUG"+b]=!1,u["SHADOWCSMNUM_CASCADES"+b]=!1,u["SHADOWCSMUSESHADOWMAXZ"+b]=!1,u["SHADOWCSMNOBLEND"+b]=!1,u["SHADOWCSM_RIGHTHANDED"+b]=!1,u["SHADOWPCF"+b]=!1,u["SHADOWPCSS"+b]=!1,u["SHADOWPOISSON"+b]=!1,u["SHADOWESM"+b]=!1,u["SHADOWCLOSEESM"+b]=!1,u["SHADOWCUBE"+b]=!1,u["SHADOWLOWQUALITY"+b]=!1,u["SHADOWMEDIUMQUALITY"+b]=!1);var v=t.getEngine().getCaps();return void 0===u["SHADOWFLOAT"]&&(p.needRebuild=!0),u["SHADOWFLOAT"]=p.shadowEnabled&&(v.textureFloatRender&&v.textureFloatLinearFiltering||v.textureHalfFloatRender&&v.textureHalfFloatLinearFiltering),u["LIGHTMAPEXCLUDED"]=p.lightmapMode,p.needRebuild&&u.rebuild(),p.needNormals},MaterialHelper.PrepareUniformsAndSamplersForLight=function(t,n,u,c,l,d){void 0===l&&(l=null),void 0===d&&(d=!1),l&&l.push("Light"+t),d||(n.push("vLightData"+t,"vLightDiffuse"+t,"vLightSpecular"+t,"vLightDirection"+t,"vLightFalloff"+t,"vLightGround"+t,"lightMatrix"+t,"shadowsInfo"+t,"depthValues"+t),u.push("shadowSampler"+t),u.push("depthSampler"+t),n.push("viewFrustumZ"+t,"cascadeBlendFactor"+t,"lightSizeUVCorrection"+t,"depthCorrection"+t,"penumbraDarkness"+t,"frustumLengths"+t),c&&(u.push("projectionLightSampler"+t),n.push("textureProjectionMatrix"+t)))},MaterialHelper.PrepareUniformsAndSamplersList=function(t,n,u,c){var l;void 0===c&&(c=4);var d=null;if(t.uniformsNames){var h=t;l=h.uniformsNames,d=h.uniformBuffersNames,n=h.samplers,u=h.defines,c=h.maxSimultaneousLights||0}else l=t,n||(n=[]);for(var p=0;p<c;p++){if(!u["LIGHT"+p])break;this.PrepareUniformsAndSamplersForLight(p,l,n,u["PROJECTEDLIGHTTEXTURE"+p],d)}u["NUM_MORPH_INFLUENCERS"]&&l.push("morphTargetInfluences")},MaterialHelper.HandleFallbacksForShadows=function(t,n,u,c){void 0===u&&(u=4),void 0===c&&(c=0);for(var l=0,d=0;d<u;d++){if(!t["LIGHT"+d])break;d>0&&(l=c+d,n.addFallback(l,"LIGHT"+d)),t["SHADOWS"]||(t["SHADOW"+d]&&n.addFallback(c,"SHADOW"+d),t["SHADOWPCF"+d]&&n.addFallback(c,"SHADOWPCF"+d),t["SHADOWPCSS"+d]&&n.addFallback(c,"SHADOWPCSS"+d),t["SHADOWPOISSON"+d]&&n.addFallback(c,"SHADOWPOISSON"+d),t["SHADOWESM"+d]&&n.addFallback(c,"SHADOWESM"+d),t["SHADOWCLOSEESM"+d]&&n.addFallback(c,"SHADOWCLOSEESM"+d))}return l++},MaterialHelper.PrepareAttributesForMorphTargetsInfluencers=function(t,n,u){this._TmpMorphInfluencers.NUM_MORPH_INFLUENCERS=u,this.PrepareAttributesForMorphTargets(t,n,this._TmpMorphInfluencers)},MaterialHelper.PrepareAttributesForMorphTargets=function(t,n,u){var l=u["NUM_MORPH_INFLUENCERS"];if(l>0&&d["EngineStore"].LastCreatedEngine)for(var p=d["EngineStore"].LastCreatedEngine.getCaps().maxVertexAttribs,m=n.morphTargetManager,_=m&&m.supportsNormals&&u["NORMAL"],g=m&&m.supportsTangents&&u["TANGENT"],b=m&&m.supportsUVs&&u["UV1"],v=0;v<l;v++)t.push(h["VertexBuffer"].PositionKind+v),_&&t.push(h["VertexBuffer"].NormalKind+v),g&&t.push(h["VertexBuffer"].TangentKind+v),b&&t.push(h["VertexBuffer"].UVKind+"_"+v),t.length>p&&c["Logger"].Error("Cannot add more vertex attributes for mesh "+n.name)},MaterialHelper.PrepareAttributesForBones=function(t,n,u,c){u["NUM_BONE_INFLUENCERS"]>0&&(c.addCPUSkinningFallback(0,n),t.push(h["VertexBuffer"].MatricesIndicesKind),t.push(h["VertexBuffer"].MatricesWeightsKind),u["NUM_BONE_INFLUENCERS"]>4&&(t.push(h["VertexBuffer"].MatricesIndicesExtraKind),t.push(h["VertexBuffer"].MatricesWeightsExtraKind)))},MaterialHelper.PrepareAttributesForInstances=function(t,n){(n["INSTANCES"]||n["THIN_INSTANCES"])&&this.PushAttributesForInstances(t)},MaterialHelper.PushAttributesForInstances=function(t){t.push("world0"),t.push("world1"),t.push("world2"),t.push("world3")},MaterialHelper.BindLightProperties=function(t,n,u){t.transferToEffect(n,u+"")},MaterialHelper.BindLight=function(t,n,u,c,l,d){void 0===d&&(d=!1),t._bindLight(n,u,c,l,d)},MaterialHelper.BindLights=function(t,n,u,c,l,d){void 0===l&&(l=4),void 0===d&&(d=!1);for(var h=Math.min(n.lightSources.length,l),p=0;p<h;p++){var m=n.lightSources[p];this.BindLight(m,p,t,u,"boolean"===typeof c?c:c["SPECULARTERM"],d)}},MaterialHelper.BindFogParameters=function(t,n,u,c){void 0===c&&(c=!1),t.fogEnabled&&n.applyFog&&t.fogMode!==l["Scene"].FOGMODE_NONE&&(u.setFloat4("vFogInfos",t.fogMode,t.fogStart,t.fogEnd,t.fogDensity),c?(t.fogColor.toLinearSpaceToRef(this._tempFogColor),u.setColor3("vFogColor",this._tempFogColor)):u.setColor3("vFogColor",t.fogColor))},MaterialHelper.BindBonesParameters=function(t,n,u){if(n&&t&&(t.computeBonesUsingShaders&&n._bonesComputationForcedToCPU&&(t.computeBonesUsingShaders=!1),t.useBones&&t.computeBonesUsingShaders&&t.skeleton)){var c=t.skeleton;if(c.isUsingTextureForMatrices&&n.getUniformIndex("boneTextureWidth")>-1){var l=c.getTransformMatrixTexture(t);n.setTexture("boneSampler",l),n.setFloat("boneTextureWidth",4*(c.bones.length+1))}else{var d=c.getTransformMatrices(t);d&&(n.setMatrices("mBones",d),u&&t.getScene().prePassRenderer&&t.getScene().prePassRenderer.getIndex(2)&&(u.previousBones[t.uniqueId]&&n.setMatrices("mPreviousBones",u.previousBones[t.uniqueId]),MaterialHelper._CopyBonesTransformationMatrices(d,u.previousBones[t.uniqueId])))}}},MaterialHelper._CopyBonesTransformationMatrices=function(t,n){return n.set(t),n},MaterialHelper.BindMorphTargetParameters=function(t,n){var u=t.morphTargetManager;t&&u&&n.setFloatArray("morphTargetInfluences",u.influences)},MaterialHelper.BindLogDepth=function(t,n,u){t["LOGARITHMICDEPTH"]&&n.setFloat("logarithmicDepthConstant",2/(Math.log(u.activeCamera.maxZ+1)/Math.LN2))},MaterialHelper.BindClipPlane=function(t,n){_["ThinMaterialHelper"].BindClipPlane(t,n)},MaterialHelper._TmpMorphInfluencers={NUM_MORPH_INFLUENCERS:0},MaterialHelper._tempFogColor=m["Color3"].Black(),MaterialHelper}()},"./node_modules/@babylonjs/core/Materials/multiMaterial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"MultiMaterial",(function(){return p}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Materials/material.js"),d=u("./node_modules/@babylonjs/core/Misc/tags.js"),h=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),p=function(t){function MultiMaterial(n,u){var c=t.call(this,n,u,!0)||this;return u.multiMaterials.push(c),c.subMaterials=new Array,c._storeEffectOnSubMeshes=!0,c}return Object(c["__extends"])(MultiMaterial,t),Object.defineProperty(MultiMaterial.prototype,"subMaterials",{get:function(){return this._subMaterials},set:function(t){this._subMaterials=t,this._hookArray(t)},enumerable:!1,configurable:!0}),MultiMaterial.prototype.getChildren=function(){return this.subMaterials},MultiMaterial.prototype._hookArray=function(t){var n=this,u=t.push;t.push=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var d=u.apply(t,c);return n._markAllSubMeshesAsTexturesDirty(),d};var c=t.splice;t.splice=function(u,l){var d=c.apply(t,[u,l]);return n._markAllSubMeshesAsTexturesDirty(),d}},MultiMaterial.prototype.getSubMaterial=function(t){return t<0||t>=this.subMaterials.length?this.getScene().defaultMaterial:this.subMaterials[t]},MultiMaterial.prototype.getActiveTextures=function(){var n;return(n=t.prototype.getActiveTextures.call(this)).concat.apply(n,this.subMaterials.map((function(t){return t?t.getActiveTextures():[]})))},MultiMaterial.prototype.hasTexture=function(n){var u;if(t.prototype.hasTexture.call(this,n))return!0;for(var c=0;c<this.subMaterials.length;c++)if(null===(u=this.subMaterials[c])||void 0===u?void 0:u.hasTexture(n))return!0;return!1},MultiMaterial.prototype.getClassName=function(){return"MultiMaterial"},MultiMaterial.prototype.isReadyForSubMesh=function(t,n,u){for(var c=0;c<this.subMaterials.length;c++){var l=this.subMaterials[c];if(l){if(l._storeEffectOnSubMeshes){if(!l.isReadyForSubMesh(t,n,u))return!1;continue}if(!l.isReady(t))return!1}}return!0},MultiMaterial.prototype.clone=function(t,n){for(var u=new MultiMaterial(t,this.getScene()),c=0;c<this.subMaterials.length;c++){var l=null,d=this.subMaterials[c];l=n&&d?d.clone(t+"-"+d.name):this.subMaterials[c],u.subMaterials.push(l)}return u},MultiMaterial.prototype.serialize=function(){var t={};t.name=this.name,t.id=this.id,d["Tags"]&&(t.tags=d["Tags"].GetTags(this)),t.materials=[];for(var n=0;n<this.subMaterials.length;n++){var u=this.subMaterials[n];u?t.materials.push(u.id):t.materials.push(null)}return t},MultiMaterial.prototype.dispose=function(n,u,c){var l=this.getScene();if(l){if(c)for(var d=0;d<this.subMaterials.length;d++){var h=this.subMaterials[d];h&&h.dispose(n,u)}d=l.multiMaterials.indexOf(this);d>=0&&l.multiMaterials.splice(d,1),t.prototype.dispose.call(this,n,u)}},MultiMaterial.ParseMultiMaterial=function(t,n){var u=new MultiMaterial(t.name,n);u.id=t.id,d["Tags"]&&d["Tags"].AddTagsTo(u,t.tags);for(var c=0;c<t.materials.length;c++){var l=t.materials[c];l?u.subMaterials.push(n.getLastMaterialByID(l)):u.subMaterials.push(null)}return u},MultiMaterial}(l["Material"]);h["_TypeStore"].RegisteredTypes["BABYLON.MultiMaterial"]=p},"./node_modules/@babylonjs/core/Materials/prePassConfiguration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PrePassConfiguration",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=function(){function PrePassConfiguration(){this.previousWorldMatrices={},this.previousBones={}}return PrePassConfiguration.AddUniforms=function(t){t.push("previousWorld","previousViewProjection")},PrePassConfiguration.AddSamplers=function(t){},PrePassConfiguration.prototype.bindForSubMesh=function(t,n,u,l,d){n.prePassRenderer&&n.prePassRenderer.enabled&&-1!==n.prePassRenderer.getIndex(2)&&(this.previousWorldMatrices[u.uniqueId]||(this.previousWorldMatrices[u.uniqueId]=c["Matrix"].Identity()),this.previousViewProjection||(this.previousViewProjection=n.getTransformMatrix()),t.setMatrix("previousWorld",this.previousWorldMatrices[u.uniqueId]),t.setMatrix("previousViewProjection",this.previousViewProjection),this.previousWorldMatrices[u.uniqueId]=l.clone(),this.previousViewProjection=n.getTransformMatrix().clone())},PrePassConfiguration}()},"./node_modules/@babylonjs/core/Materials/pushMaterial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PushMaterial",(function(){return h}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Materials/material.js"),h=function(t){function PushMaterial(n,u){var c=t.call(this,n,u)||this;return c._normalMatrix=new l["Matrix"],c._storeEffectOnSubMeshes=!0,c}return Object(c["__extends"])(PushMaterial,t),PushMaterial.prototype.getEffect=function(){return this._activeEffect},PushMaterial.prototype.isReady=function(t,n){return!!t&&(!t.subMeshes||0===t.subMeshes.length||this.isReadyForSubMesh(t,t.subMeshes[0],n))},PushMaterial.prototype._isReadyForSubMesh=function(t){var n=t._materialDefines;return!(this.checkReadyOnEveryCall||!t.effect||!n||n._renderId!==this.getScene().getRenderId())},PushMaterial.prototype.bindOnlyWorldMatrix=function(t){this._activeEffect.setMatrix("world",t)},PushMaterial.prototype.bindOnlyNormalMatrix=function(t){this._activeEffect.setMatrix("normalMatrix",t)},PushMaterial.prototype.bind=function(t,n){n&&this.bindForSubMesh(t,n,n.subMeshes[0])},PushMaterial.prototype._afterBind=function(n,u){void 0===u&&(u=null),t.prototype._afterBind.call(this,n),this.getScene()._cachedEffect=u},PushMaterial.prototype._mustRebind=function(t,n,u){return void 0===u&&(u=1),t.isCachedMaterialInvalid(this,n,u)},PushMaterial}(d["Material"])},"./node_modules/@babylonjs/core/Materials/shaderMaterial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShaderMaterial",(function(){return X}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),p=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),m=u("./node_modules/@babylonjs/core/Materials/materialHelper.js"),_=u("./node_modules/@babylonjs/core/Materials/material.js"),g=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),b=u("./node_modules/@babylonjs/core/Maths/math.color.js"),v=u("./node_modules/@babylonjs/core/Materials/effectFallbacks.js"),U=u("./node_modules/@babylonjs/core/Misc/webRequest.js"),G=u("./node_modules/@babylonjs/core/Engines/engine.js"),W={effect:null,subMesh:null},X=function(t){function ShaderMaterial(n,u,l,h){void 0===h&&(h={});var p=t.call(this,n,u)||this;return p._textures={},p._textureArrays={},p._floats={},p._ints={},p._floatsArrays={},p._colors3={},p._colors3Arrays={},p._colors4={},p._colors4Arrays={},p._vectors2={},p._vectors3={},p._vectors4={},p._matrices={},p._matrixArrays={},p._matrices3x3={},p._matrices2x2={},p._vectors2Arrays={},p._vectors3Arrays={},p._vectors4Arrays={},p._cachedWorldViewMatrix=new d["Matrix"],p._cachedWorldViewProjectionMatrix=new d["Matrix"],p._multiview=!1,p._shaderPath=l,p._options=Object(c["__assign"])({needAlphaBlending:!1,needAlphaTesting:!1,attributes:["position","normal","uv"],uniforms:["worldViewProjection"],uniformBuffers:[],samplers:[],defines:[]},h),p}return Object(c["__extends"])(ShaderMaterial,t),Object.defineProperty(ShaderMaterial.prototype,"shaderPath",{get:function(){return this._shaderPath},set:function(t){this._shaderPath=t},enumerable:!1,configurable:!0}),Object.defineProperty(ShaderMaterial.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),ShaderMaterial.prototype.getClassName=function(){return"ShaderMaterial"},ShaderMaterial.prototype.needAlphaBlending=function(){return this.alpha<1||this._options.needAlphaBlending},ShaderMaterial.prototype.needAlphaTesting=function(){return this._options.needAlphaTesting},ShaderMaterial.prototype._checkUniform=function(t){-1===this._options.uniforms.indexOf(t)&&this._options.uniforms.push(t)},ShaderMaterial.prototype.setTexture=function(t,n){return-1===this._options.samplers.indexOf(t)&&this._options.samplers.push(t),this._textures[t]=n,this},ShaderMaterial.prototype.setTextureArray=function(t,n){return-1===this._options.samplers.indexOf(t)&&this._options.samplers.push(t),this._checkUniform(t),this._textureArrays[t]=n,this},ShaderMaterial.prototype.setFloat=function(t,n){return this._checkUniform(t),this._floats[t]=n,this},ShaderMaterial.prototype.setInt=function(t,n){return this._checkUniform(t),this._ints[t]=n,this},ShaderMaterial.prototype.setFloats=function(t,n){return this._checkUniform(t),this._floatsArrays[t]=n,this},ShaderMaterial.prototype.setColor3=function(t,n){return this._checkUniform(t),this._colors3[t]=n,this},ShaderMaterial.prototype.setColor3Array=function(t,n){return this._checkUniform(t),this._colors3Arrays[t]=n.reduce((function(t,n){return n.toArray(t,t.length),t}),[]),this},ShaderMaterial.prototype.setColor4=function(t,n){return this._checkUniform(t),this._colors4[t]=n,this},ShaderMaterial.prototype.setColor4Array=function(t,n){return this._checkUniform(t),this._colors4Arrays[t]=n.reduce((function(t,n){return n.toArray(t,t.length),t}),[]),this},ShaderMaterial.prototype.setVector2=function(t,n){return this._checkUniform(t),this._vectors2[t]=n,this},ShaderMaterial.prototype.setVector3=function(t,n){return this._checkUniform(t),this._vectors3[t]=n,this},ShaderMaterial.prototype.setVector4=function(t,n){return this._checkUniform(t),this._vectors4[t]=n,this},ShaderMaterial.prototype.setMatrix=function(t,n){return this._checkUniform(t),this._matrices[t]=n,this},ShaderMaterial.prototype.setMatrices=function(t,n){this._checkUniform(t);for(var u=new Float32Array(16*n.length),c=0;c<n.length;c++){var l=n[c];l.copyToArray(u,16*c)}return this._matrixArrays[t]=u,this},ShaderMaterial.prototype.setMatrix3x3=function(t,n){return this._checkUniform(t),this._matrices3x3[t]=n,this},ShaderMaterial.prototype.setMatrix2x2=function(t,n){return this._checkUniform(t),this._matrices2x2[t]=n,this},ShaderMaterial.prototype.setArray2=function(t,n){return this._checkUniform(t),this._vectors2Arrays[t]=n,this},ShaderMaterial.prototype.setArray3=function(t,n){return this._checkUniform(t),this._vectors3Arrays[t]=n,this},ShaderMaterial.prototype.setArray4=function(t,n){return this._checkUniform(t),this._vectors4Arrays[t]=n,this},ShaderMaterial.prototype._checkCache=function(t,n){return!t||(!this._effect||-1!==this._effect.defines.indexOf("#define INSTANCES")===n)},ShaderMaterial.prototype.isReadyForSubMesh=function(t,n,u){return this.isReady(t,u)},ShaderMaterial.prototype.isReady=function(t,n){var u,c;if(this._effect&&this.isFrozen&&this._effect._wasPreviouslyReady)return!0;var l=this.getScene(),d=l.getEngine();if(!this.checkReadyOnEveryCall&&this._renderId===l.getRenderId()&&this._checkCache(t,n))return!0;var p=[],_=[],g=new v["EffectFallbacks"];d.getCaps().multiview&&l.activeCamera&&l.activeCamera.outputRenderTarget&&l.activeCamera.outputRenderTarget.getViewCount()>1&&(this._multiview=!0,p.push("#define MULTIVIEW"),-1!==this._options.uniforms.indexOf("viewProjection")&&-1===this._options.uniforms.push("viewProjectionR")&&this._options.uniforms.push("viewProjectionR"));for(var b=0;b<this._options.defines.length;b++)p.push(this._options.defines[b]);for(b=0;b<this._options.attributes.length;b++)_.push(this._options.attributes[b]);t&&t.isVerticesDataPresent(h["VertexBuffer"].ColorKind)&&(_.push(h["VertexBuffer"].ColorKind),p.push("#define VERTEXCOLOR")),n&&(p.push("#define INSTANCES"),m["MaterialHelper"].PushAttributesForInstances(_),(null===t||void 0===t?void 0:t.hasThinInstances)&&p.push("#define THIN_INSTANCES"));var U=0;if(t&&t.useBones&&t.computeBonesUsingShaders&&t.skeleton){_.push(h["VertexBuffer"].MatricesIndicesKind),_.push(h["VertexBuffer"].MatricesWeightsKind),t.numBoneInfluencers>4&&(_.push(h["VertexBuffer"].MatricesIndicesExtraKind),_.push(h["VertexBuffer"].MatricesWeightsExtraKind));var G=t.skeleton;U=t.numBoneInfluencers,p.push("#define NUM_BONE_INFLUENCERS "+U),g.addCPUSkinningFallback(0,t),G.isUsingTextureForMatrices?(p.push("#define BONETEXTURE"),-1===this._options.uniforms.indexOf("boneTextureWidth")&&this._options.uniforms.push("boneTextureWidth"),-1===this._options.samplers.indexOf("boneSampler")&&this._options.samplers.push("boneSampler")):(p.push("#define BonesPerMesh "+(G.bones.length+1)),-1===this._options.uniforms.indexOf("mBones")&&this._options.uniforms.push("mBones"))}else p.push("#define NUM_BONE_INFLUENCERS 0");for(var X in this._textures)if(!this._textures[X].isReady())return!1;t&&this._shouldTurnAlphaTestOn(t)&&p.push("#define ALPHATEST");var q=this._shaderPath,K=this._options.uniforms,Y=this._options.uniformBuffers,Q=this._options.samplers;this.customShaderNameResolve&&(K=K.slice(),Y=Y.slice(),Q=Q.slice(),q=this.customShaderNameResolve(q,K,Y,Q,p,_));var Z=this._effect,$=p.join("\n");return this._cachedDefines!==$&&(this._cachedDefines=$,this._effect=d.createEffect(q,{attributes:_,uniformsNames:K,uniformBuffersNames:Y,samplers:Q,defines:$,fallbacks:g,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousMorphTargets:U}},d),this._onEffectCreatedObservable&&(W.effect=this._effect,this._onEffectCreatedObservable.notifyObservers(W))),null!==(c=!(null===(u=this._effect)||void 0===u?void 0:u.isReady()))&&void 0!==c&&!c&&(Z!==this._effect&&l.resetCachedMaterial(),this._renderId=l.getRenderId(),this._effect._wasPreviouslyReady=!0,!0)},ShaderMaterial.prototype.bindOnlyWorldMatrix=function(t,n){var u=this.getScene(),c=null!==n&&void 0!==n?n:this._effect;c&&(-1!==this._options.uniforms.indexOf("world")&&c.setMatrix("world",t),-1!==this._options.uniforms.indexOf("worldView")&&(t.multiplyToRef(u.getViewMatrix(),this._cachedWorldViewMatrix),c.setMatrix("worldView",this._cachedWorldViewMatrix)),-1!==this._options.uniforms.indexOf("worldViewProjection")&&(t.multiplyToRef(u.getTransformMatrix(),this._cachedWorldViewProjectionMatrix),c.setMatrix("worldViewProjection",this._cachedWorldViewProjectionMatrix)))},ShaderMaterial.prototype.bindForSubMesh=function(t,n,u){this.bind(t,n,u._effectOverride)},ShaderMaterial.prototype.bind=function(t,n,u){this.bindOnlyWorldMatrix(t,u);var c=null!==u&&void 0!==u?u:this._effect;if(c&&this.getScene().getCachedMaterial()!==this){var l;for(l in-1!==this._options.uniforms.indexOf("view")&&c.setMatrix("view",this.getScene().getViewMatrix()),-1!==this._options.uniforms.indexOf("projection")&&c.setMatrix("projection",this.getScene().getProjectionMatrix()),-1!==this._options.uniforms.indexOf("viewProjection")&&(c.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._multiview&&c.setMatrix("viewProjectionR",this.getScene()._transformMatrixR)),this.getScene().activeCamera&&-1!==this._options.uniforms.indexOf("cameraPosition")&&c.setVector3("cameraPosition",this.getScene().activeCamera.globalPosition),m["MaterialHelper"].BindBonesParameters(n,c),this._textures)c.setTexture(l,this._textures[l]);for(l in this._textureArrays)c.setTextureArray(l,this._textureArrays[l]);for(l in this._ints)c.setInt(l,this._ints[l]);for(l in this._floats)c.setFloat(l,this._floats[l]);for(l in this._floatsArrays)c.setArray(l,this._floatsArrays[l]);for(l in this._colors3)c.setColor3(l,this._colors3[l]);for(l in this._colors3Arrays)c.setArray3(l,this._colors3Arrays[l]);for(l in this._colors4){var d=this._colors4[l];c.setFloat4(l,d.r,d.g,d.b,d.a)}for(l in this._colors4Arrays)c.setArray4(l,this._colors4Arrays[l]);for(l in this._vectors2)c.setVector2(l,this._vectors2[l]);for(l in this._vectors3)c.setVector3(l,this._vectors3[l]);for(l in this._vectors4)c.setVector4(l,this._vectors4[l]);for(l in this._matrices)c.setMatrix(l,this._matrices[l]);for(l in this._matrixArrays)c.setMatrices(l,this._matrixArrays[l]);for(l in this._matrices3x3)c.setMatrix3x3(l,this._matrices3x3[l]);for(l in this._matrices2x2)c.setMatrix2x2(l,this._matrices2x2[l]);for(l in this._vectors2Arrays)c.setArray2(l,this._vectors2Arrays[l]);for(l in this._vectors3Arrays)c.setArray3(l,this._vectors3Arrays[l]);for(l in this._vectors4Arrays)c.setArray4(l,this._vectors4Arrays[l])}var h=this._effect;this._effect=c,this._afterBind(n),this._effect=h},ShaderMaterial.prototype._afterBind=function(n){t.prototype._afterBind.call(this,n),this.getScene()._cachedEffect=this._effect},ShaderMaterial.prototype.getActiveTextures=function(){var n=t.prototype.getActiveTextures.call(this);for(var u in this._textures)n.push(this._textures[u]);for(var u in this._textureArrays)for(var c=this._textureArrays[u],l=0;l<c.length;l++)n.push(c[l]);return n},ShaderMaterial.prototype.hasTexture=function(n){if(t.prototype.hasTexture.call(this,n))return!0;for(var u in this._textures)if(this._textures[u]===n)return!0;for(var u in this._textureArrays)for(var c=this._textureArrays[u],l=0;l<c.length;l++)if(c[l]===n)return!0;return!1},ShaderMaterial.prototype.clone=function(t){var n=this,u=l["SerializationHelper"].Clone((function(){return new ShaderMaterial(t,n.getScene(),n._shaderPath,n._options)}),this);for(var d in u.name=t,u.id=t,"object"===typeof u._shaderPath&&(u._shaderPath=Object(c["__assign"])({},u._shaderPath)),this._options=Object(c["__assign"])({},this._options),Object.keys(this._options).forEach((function(t){var u=n._options[t];Array.isArray(u)&&(n._options[t]=u.slice(0))})),this._textures)u.setTexture(d,this._textures[d]);for(var d in this._floats)u.setFloat(d,this._floats[d]);for(var d in this._floatsArrays)u.setFloats(d,this._floatsArrays[d]);for(var d in this._colors3)u.setColor3(d,this._colors3[d]);for(var d in this._colors4)u.setColor4(d,this._colors4[d]);for(var d in this._vectors2)u.setVector2(d,this._vectors2[d]);for(var d in this._vectors3)u.setVector3(d,this._vectors3[d]);for(var d in this._vectors4)u.setVector4(d,this._vectors4[d]);for(var d in this._matrices)u.setMatrix(d,this._matrices[d]);for(var d in this._matrices3x3)u.setMatrix3x3(d,this._matrices3x3[d]);for(var d in this._matrices2x2)u.setMatrix2x2(d,this._matrices2x2[d]);return u},ShaderMaterial.prototype.dispose=function(n,u,c){if(u){var l;for(l in this._textures)this._textures[l].dispose();for(l in this._textureArrays)for(var d=this._textureArrays[l],h=0;h<d.length;h++)d[h].dispose()}this._textures={},t.prototype.dispose.call(this,n,u,c)},ShaderMaterial.prototype.serialize=function(){var t,n=l["SerializationHelper"].Serialize(this);for(t in n.customType="BABYLON.ShaderMaterial",n.options=this._options,n.shaderPath=this._shaderPath,n.textures={},this._textures)n.textures[t]=this._textures[t].serialize();for(t in n.textureArrays={},this._textureArrays){n.textureArrays[t]=[];for(var u=this._textureArrays[t],c=0;c<u.length;c++)n.textureArrays[t].push(u[c].serialize())}for(t in n.floats={},this._floats)n.floats[t]=this._floats[t];for(t in n.FloatArrays={},this._floatsArrays)n.FloatArrays[t]=this._floatsArrays[t];for(t in n.colors3={},this._colors3)n.colors3[t]=this._colors3[t].asArray();for(t in n.colors3Arrays={},this._colors3Arrays)n.colors3Arrays[t]=this._colors3Arrays[t];for(t in n.colors4={},this._colors4)n.colors4[t]=this._colors4[t].asArray();for(t in n.colors4Arrays={},this._colors4Arrays)n.colors4Arrays[t]=this._colors4Arrays[t];for(t in n.vectors2={},this._vectors2)n.vectors2[t]=this._vectors2[t].asArray();for(t in n.vectors3={},this._vectors3)n.vectors3[t]=this._vectors3[t].asArray();for(t in n.vectors4={},this._vectors4)n.vectors4[t]=this._vectors4[t].asArray();for(t in n.matrices={},this._matrices)n.matrices[t]=this._matrices[t].asArray();for(t in n.matrixArray={},this._matrixArrays)n.matrixArray[t]=this._matrixArrays[t];for(t in n.matrices3x3={},this._matrices3x3)n.matrices3x3[t]=this._matrices3x3[t];for(t in n.matrices2x2={},this._matrices2x2)n.matrices2x2[t]=this._matrices2x2[t];for(t in n.vectors2Arrays={},this._vectors2Arrays)n.vectors2Arrays[t]=this._vectors2Arrays[t];for(t in n.vectors3Arrays={},this._vectors3Arrays)n.vectors3Arrays[t]=this._vectors3Arrays[t];for(t in n.vectors4Arrays={},this._vectors4Arrays)n.vectors4Arrays[t]=this._vectors4Arrays[t];return n},ShaderMaterial.Parse=function(t,n,u){var c,h=l["SerializationHelper"].Parse((function(){return new ShaderMaterial(t.name,n,t.shaderPath,t.options)}),t,n,u);for(c in t.textures)h.setTexture(c,p["Texture"].Parse(t.textures[c],n,u));for(c in t.textureArrays){for(var m=t.textureArrays[c],_=new Array,g=0;g<m.length;g++)_.push(p["Texture"].Parse(m[g],n,u));h.setTextureArray(c,_)}for(c in t.floats)h.setFloat(c,t.floats[c]);for(c in t.floatsArrays)h.setFloats(c,t.floatsArrays[c]);for(c in t.colors3)h.setColor3(c,b["Color3"].FromArray(t.colors3[c]));for(c in t.colors3Arrays){var v=t.colors3Arrays[c].reduce((function(t,n,u){return u%3===0?t.push([n]):t[t.length-1].push(n),t}),[]).map((function(t){return b["Color3"].FromArray(t)}));h.setColor3Array(c,v)}for(c in t.colors4)h.setColor4(c,b["Color4"].FromArray(t.colors4[c]));for(c in t.colors4Arrays){v=t.colors4Arrays[c].reduce((function(t,n,u){return u%4===0?t.push([n]):t[t.length-1].push(n),t}),[]).map((function(t){return b["Color4"].FromArray(t)}));h.setColor4Array(c,v)}for(c in t.vectors2)h.setVector2(c,d["Vector2"].FromArray(t.vectors2[c]));for(c in t.vectors3)h.setVector3(c,d["Vector3"].FromArray(t.vectors3[c]));for(c in t.vectors4)h.setVector4(c,d["Vector4"].FromArray(t.vectors4[c]));for(c in t.matrices)h.setMatrix(c,d["Matrix"].FromArray(t.matrices[c]));for(c in t.matrixArray)h._matrixArrays[c]=new Float32Array(t.matrixArray[c]);for(c in t.matrices3x3)h.setMatrix3x3(c,t.matrices3x3[c]);for(c in t.matrices2x2)h.setMatrix2x2(c,t.matrices2x2[c]);for(c in t.vectors2Arrays)h.setArray2(c,t.vectors2Arrays[c]);for(c in t.vectors3Arrays)h.setArray3(c,t.vectors3Arrays[c]);for(c in t.vectors4Arrays)h.setArray4(c,t.vectors4Arrays[c]);return h},ShaderMaterial.ParseFromFileAsync=function(t,n,u,c){var l=this;return void 0===c&&(c=""),new Promise((function(d,h){var p=new U["WebRequest"];p.addEventListener("readystatechange",(function(){if(4==p.readyState)if(200==p.status){var n=JSON.parse(p.responseText),m=l.Parse(n,u||G["Engine"].LastCreatedScene,c);t&&(m.name=t),d(m)}else h("Unable to load the ShaderMaterial")})),p.open("GET",n),p.send()}))},ShaderMaterial.CreateFromSnippetAsync=function(t,n,u){var c=this;return void 0===u&&(u=""),new Promise((function(l,d){var h=new U["WebRequest"];h.addEventListener("readystatechange",(function(){if(4==h.readyState)if(200==h.status){var p=JSON.parse(JSON.parse(h.responseText).jsonPayload),m=JSON.parse(p.shaderMaterial),_=c.Parse(m,n||G["Engine"].LastCreatedScene,u);_.snippetId=t,l(_)}else d("Unable to load the snippet "+t)})),h.open("GET",c.SnippetUrl+"/"+t.replace(/#/g,"/")),h.send()}))},ShaderMaterial.SnippetUrl="https://snippet.babylonjs.com",ShaderMaterial}(_["Material"]);g["_TypeStore"].RegisteredTypes["BABYLON.ShaderMaterial"]=X},"./node_modules/@babylonjs/core/Materials/standardMaterial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"StandardMaterialDefines",(function(){return $})),u.d(n,"StandardMaterial",(function(){return J}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/smartArray.js"),h=u("./node_modules/@babylonjs/core/scene.js"),p=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),m=u("./node_modules/@babylonjs/core/Maths/math.color.js"),_=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),g=u("./node_modules/@babylonjs/core/Materials/prePassConfiguration.js"),b=u("./node_modules/@babylonjs/core/Materials/imageProcessingConfiguration.js"),v=u("./node_modules/@babylonjs/core/Materials/material.js"),U=u("./node_modules/@babylonjs/core/Materials/materialDefines.js"),G=u("./node_modules/@babylonjs/core/Materials/pushMaterial.js"),W=u("./node_modules/@babylonjs/core/Materials/materialHelper.js"),X=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),q=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),K=u("./node_modules/@babylonjs/core/Materials/materialFlags.js"),Y=(u("./node_modules/@babylonjs/core/Shaders/default.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/default.vertex.js"),u("./node_modules/@babylonjs/core/Materials/effectFallbacks.js")),Q=u("./node_modules/@babylonjs/core/Materials/material.detailMapConfiguration.js"),Z={effect:null,subMesh:null},$=function(t){function StandardMaterialDefines(){var n=t.call(this)||this;return n.MAINUV1=!1,n.MAINUV2=!1,n.DIFFUSE=!1,n.DIFFUSEDIRECTUV=0,n.DETAIL=!1,n.DETAILDIRECTUV=0,n.DETAIL_NORMALBLENDMETHOD=0,n.AMBIENT=!1,n.AMBIENTDIRECTUV=0,n.OPACITY=!1,n.OPACITYDIRECTUV=0,n.OPACITYRGB=!1,n.REFLECTION=!1,n.EMISSIVE=!1,n.EMISSIVEDIRECTUV=0,n.SPECULAR=!1,n.SPECULARDIRECTUV=0,n.BUMP=!1,n.BUMPDIRECTUV=0,n.PARALLAX=!1,n.PARALLAXOCCLUSION=!1,n.SPECULAROVERALPHA=!1,n.CLIPPLANE=!1,n.CLIPPLANE2=!1,n.CLIPPLANE3=!1,n.CLIPPLANE4=!1,n.CLIPPLANE5=!1,n.CLIPPLANE6=!1,n.ALPHATEST=!1,n.DEPTHPREPASS=!1,n.ALPHAFROMDIFFUSE=!1,n.POINTSIZE=!1,n.FOG=!1,n.SPECULARTERM=!1,n.DIFFUSEFRESNEL=!1,n.OPACITYFRESNEL=!1,n.REFLECTIONFRESNEL=!1,n.REFRACTIONFRESNEL=!1,n.EMISSIVEFRESNEL=!1,n.FRESNEL=!1,n.NORMAL=!1,n.UV1=!1,n.UV2=!1,n.VERTEXCOLOR=!1,n.VERTEXALPHA=!1,n.NUM_BONE_INFLUENCERS=0,n.BonesPerMesh=0,n.BONETEXTURE=!1,n.BONES_VELOCITY_ENABLED=!1,n.INSTANCES=!1,n.THIN_INSTANCES=!1,n.GLOSSINESS=!1,n.ROUGHNESS=!1,n.EMISSIVEASILLUMINATION=!1,n.LINKEMISSIVEWITHDIFFUSE=!1,n.REFLECTIONFRESNELFROMSPECULAR=!1,n.LIGHTMAP=!1,n.LIGHTMAPDIRECTUV=0,n.OBJECTSPACE_NORMALMAP=!1,n.USELIGHTMAPASSHADOWMAP=!1,n.REFLECTIONMAP_3D=!1,n.REFLECTIONMAP_SPHERICAL=!1,n.REFLECTIONMAP_PLANAR=!1,n.REFLECTIONMAP_CUBIC=!1,n.USE_LOCAL_REFLECTIONMAP_CUBIC=!1,n.REFLECTIONMAP_PROJECTION=!1,n.REFLECTIONMAP_SKYBOX=!1,n.REFLECTIONMAP_EXPLICIT=!1,n.REFLECTIONMAP_EQUIRECTANGULAR=!1,n.REFLECTIONMAP_EQUIRECTANGULAR_FIXED=!1,n.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED=!1,n.INVERTCUBICMAP=!1,n.LOGARITHMICDEPTH=!1,n.REFRACTION=!1,n.REFRACTIONMAP_3D=!1,n.REFLECTIONOVERALPHA=!1,n.TWOSIDEDLIGHTING=!1,n.SHADOWFLOAT=!1,n.MORPHTARGETS=!1,n.MORPHTARGETS_NORMAL=!1,n.MORPHTARGETS_TANGENT=!1,n.MORPHTARGETS_UV=!1,n.NUM_MORPH_INFLUENCERS=0,n.NONUNIFORMSCALING=!1,n.PREMULTIPLYALPHA=!1,n.ALPHATEST_AFTERALLALPHACOMPUTATIONS=!1,n.ALPHABLEND=!0,n.PREPASS=!1,n.PREPASS_IRRADIANCE=!1,n.PREPASS_IRRADIANCE_INDEX=-1,n.PREPASS_ALBEDO=!1,n.PREPASS_ALBEDO_INDEX=-1,n.PREPASS_DEPTHNORMAL=!1,n.PREPASS_DEPTHNORMAL_INDEX=-1,n.PREPASS_POSITION=!1,n.PREPASS_POSITION_INDEX=-1,n.PREPASS_VELOCITY=!1,n.PREPASS_VELOCITY_INDEX=-1,n.PREPASS_REFLECTIVITY=!1,n.PREPASS_REFLECTIVITY_INDEX=-1,n.SCENE_MRT_COUNT=0,n.RGBDLIGHTMAP=!1,n.RGBDREFLECTION=!1,n.RGBDREFRACTION=!1,n.IMAGEPROCESSING=!1,n.VIGNETTE=!1,n.VIGNETTEBLENDMODEMULTIPLY=!1,n.VIGNETTEBLENDMODEOPAQUE=!1,n.TONEMAPPING=!1,n.TONEMAPPING_ACES=!1,n.CONTRAST=!1,n.COLORCURVES=!1,n.COLORGRADING=!1,n.COLORGRADING3D=!1,n.SAMPLER3DGREENDEPTH=!1,n.SAMPLER3DBGRMAP=!1,n.IMAGEPROCESSINGPOSTPROCESS=!1,n.MULTIVIEW=!1,n.IS_REFLECTION_LINEAR=!1,n.IS_REFRACTION_LINEAR=!1,n.EXPOSURE=!1,n.rebuild(),n}return Object(c["__extends"])(StandardMaterialDefines,t),StandardMaterialDefines.prototype.setReflectionMode=function(t){for(var n=["REFLECTIONMAP_CUBIC","REFLECTIONMAP_EXPLICIT","REFLECTIONMAP_PLANAR","REFLECTIONMAP_PROJECTION","REFLECTIONMAP_PROJECTION","REFLECTIONMAP_SKYBOX","REFLECTIONMAP_SPHERICAL","REFLECTIONMAP_EQUIRECTANGULAR","REFLECTIONMAP_EQUIRECTANGULAR_FIXED","REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED"],u=0,c=n;u<c.length;u++){var l=c[u];this[l]=l===t}},StandardMaterialDefines}(U["MaterialDefines"]),J=function(t){function StandardMaterial(n,u){var c=t.call(this,n,u)||this;return c._diffuseTexture=null,c._ambientTexture=null,c._opacityTexture=null,c._reflectionTexture=null,c._emissiveTexture=null,c._specularTexture=null,c._bumpTexture=null,c._lightmapTexture=null,c._refractionTexture=null,c.ambientColor=new m["Color3"](0,0,0),c.diffuseColor=new m["Color3"](1,1,1),c.specularColor=new m["Color3"](1,1,1),c.emissiveColor=new m["Color3"](0,0,0),c.specularPower=64,c._useAlphaFromDiffuseTexture=!1,c._useEmissiveAsIllumination=!1,c._linkEmissiveWithDiffuse=!1,c._useSpecularOverAlpha=!1,c._useReflectionOverAlpha=!1,c._disableLighting=!1,c._useObjectSpaceNormalMap=!1,c._useParallax=!1,c._useParallaxOcclusion=!1,c.parallaxScaleBias=.05,c._roughness=0,c.indexOfRefraction=.98,c.invertRefractionY=!0,c.alphaCutOff=.4,c._useLightmapAsShadowmap=!1,c._useReflectionFresnelFromSpecular=!1,c._useGlossinessFromSpecularMapAlpha=!1,c._maxSimultaneousLights=4,c._invertNormalMapX=!1,c._invertNormalMapY=!1,c._twoSidedLighting=!1,c.detailMap=new Q["DetailMapConfiguration"](c._markAllSubMeshesAsTexturesDirty.bind(c)),c._renderTargets=new d["SmartArray"](16),c._worldViewProjectionMatrix=p["Matrix"].Zero(),c._globalAmbientColor=new m["Color3"](0,0,0),c._rebuildInParallel=!1,c._attachImageProcessingConfiguration(null),c.prePassConfiguration=new g["PrePassConfiguration"],c.getRenderTargetTextures=function(){return c._renderTargets.reset(),StandardMaterial.ReflectionTextureEnabled&&c._reflectionTexture&&c._reflectionTexture.isRenderTarget&&c._renderTargets.push(c._reflectionTexture),StandardMaterial.RefractionTextureEnabled&&c._refractionTexture&&c._refractionTexture.isRenderTarget&&c._renderTargets.push(c._refractionTexture),c._renderTargets},c}return Object(c["__extends"])(StandardMaterial,t),Object.defineProperty(StandardMaterial.prototype,"imageProcessingConfiguration",{get:function(){return this._imageProcessingConfiguration},set:function(t){this._attachImageProcessingConfiguration(t),this._markAllSubMeshesAsTexturesDirty()},enumerable:!1,configurable:!0}),StandardMaterial.prototype._attachImageProcessingConfiguration=function(t){var n=this;t!==this._imageProcessingConfiguration&&(this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),this._imageProcessingConfiguration=t||this.getScene().imageProcessingConfiguration,this._imageProcessingConfiguration&&(this._imageProcessingObserver=this._imageProcessingConfiguration.onUpdateParameters.add((function(){n._markAllSubMeshesAsImageProcessingDirty()}))))},Object.defineProperty(StandardMaterial.prototype,"cameraColorCurvesEnabled",{get:function(){return this.imageProcessingConfiguration.colorCurvesEnabled},set:function(t){this.imageProcessingConfiguration.colorCurvesEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"cameraColorGradingEnabled",{get:function(){return this.imageProcessingConfiguration.colorGradingEnabled},set:function(t){this.imageProcessingConfiguration.colorGradingEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"cameraToneMappingEnabled",{get:function(){return this._imageProcessingConfiguration.toneMappingEnabled},set:function(t){this._imageProcessingConfiguration.toneMappingEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"cameraExposure",{get:function(){return this._imageProcessingConfiguration.exposure},set:function(t){this._imageProcessingConfiguration.exposure=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"cameraContrast",{get:function(){return this._imageProcessingConfiguration.contrast},set:function(t){this._imageProcessingConfiguration.contrast=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"cameraColorGradingTexture",{get:function(){return this._imageProcessingConfiguration.colorGradingTexture},set:function(t){this._imageProcessingConfiguration.colorGradingTexture=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"cameraColorCurves",{get:function(){return this._imageProcessingConfiguration.colorCurves},set:function(t){this._imageProcessingConfiguration.colorCurves=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"canRenderToMRT",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial.prototype,"hasRenderTargetTextures",{get:function(){return!!(StandardMaterial.ReflectionTextureEnabled&&this._reflectionTexture&&this._reflectionTexture.isRenderTarget)||!!(StandardMaterial.RefractionTextureEnabled&&this._refractionTexture&&this._refractionTexture.isRenderTarget)},enumerable:!1,configurable:!0}),StandardMaterial.prototype.getClassName=function(){return"StandardMaterial"},Object.defineProperty(StandardMaterial.prototype,"useLogarithmicDepth",{get:function(){return this._useLogarithmicDepth},set:function(t){this._useLogarithmicDepth=t&&this.getScene().getEngine().getCaps().fragmentDepthSupported,this._markAllSubMeshesAsMiscDirty()},enumerable:!1,configurable:!0}),StandardMaterial.prototype.needAlphaBlending=function(){return!this._disableAlphaBlending&&(this.alpha<1||null!=this._opacityTexture||this._shouldUseAlphaFromDiffuseTexture()||this._opacityFresnelParameters&&this._opacityFresnelParameters.isEnabled)},StandardMaterial.prototype.needAlphaTesting=function(){return!!this._forceAlphaTest||this._hasAlphaChannel()&&(null==this._transparencyMode||this._transparencyMode===v["Material"].MATERIAL_ALPHATEST)},StandardMaterial.prototype._shouldUseAlphaFromDiffuseTexture=function(){return null!=this._diffuseTexture&&this._diffuseTexture.hasAlpha&&this._useAlphaFromDiffuseTexture&&this._transparencyMode!==v["Material"].MATERIAL_OPAQUE},StandardMaterial.prototype._hasAlphaChannel=function(){return null!=this._diffuseTexture&&this._diffuseTexture.hasAlpha||null!=this._opacityTexture},StandardMaterial.prototype.getAlphaTestTexture=function(){return this._diffuseTexture},StandardMaterial.prototype.isReadyForSubMesh=function(t,n,u){if(void 0===u&&(u=!1),n.effect&&this.isFrozen&&n.effect._wasPreviouslyReady)return!0;n._materialDefines||(n._materialDefines=new $);var c=this.getScene(),l=n._materialDefines;if(this._isReadyForSubMesh(n))return!0;var d=c.getEngine();if(l._needNormals=W["MaterialHelper"].PrepareDefinesForLights(c,t,l,!0,this._maxSimultaneousLights,this._disableLighting),W["MaterialHelper"].PrepareDefinesForMultiview(c,l),W["MaterialHelper"].PrepareDefinesForPrePass(c,l,this.canRenderToMRT),l._areTexturesDirty){if(l._needUVs=!1,l.MAINUV1=!1,l.MAINUV2=!1,c.texturesEnabled){if(this._diffuseTexture&&StandardMaterial.DiffuseTextureEnabled){if(!this._diffuseTexture.isReadyOrNotBlocking())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._diffuseTexture,l,"DIFFUSE")}else l.DIFFUSE=!1;if(this._ambientTexture&&StandardMaterial.AmbientTextureEnabled){if(!this._ambientTexture.isReadyOrNotBlocking())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._ambientTexture,l,"AMBIENT")}else l.AMBIENT=!1;if(this._opacityTexture&&StandardMaterial.OpacityTextureEnabled){if(!this._opacityTexture.isReadyOrNotBlocking())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._opacityTexture,l,"OPACITY"),l.OPACITYRGB=this._opacityTexture.getAlphaFromRGB}else l.OPACITY=!1;if(this._reflectionTexture&&StandardMaterial.ReflectionTextureEnabled){if(!this._reflectionTexture.isReadyOrNotBlocking())return!1;switch(l._needNormals=!0,l.REFLECTION=!0,l.ROUGHNESS=this._roughness>0,l.REFLECTIONOVERALPHA=this._useReflectionOverAlpha,l.INVERTCUBICMAP=this._reflectionTexture.coordinatesMode===X["Texture"].INVCUBIC_MODE,l.REFLECTIONMAP_3D=this._reflectionTexture.isCube,l.RGBDREFLECTION=this._reflectionTexture.isRGBD,this._reflectionTexture.coordinatesMode){case X["Texture"].EXPLICIT_MODE:l.setReflectionMode("REFLECTIONMAP_EXPLICIT");break;case X["Texture"].PLANAR_MODE:l.setReflectionMode("REFLECTIONMAP_PLANAR");break;case X["Texture"].PROJECTION_MODE:l.setReflectionMode("REFLECTIONMAP_PROJECTION");break;case X["Texture"].SKYBOX_MODE:l.setReflectionMode("REFLECTIONMAP_SKYBOX");break;case X["Texture"].SPHERICAL_MODE:l.setReflectionMode("REFLECTIONMAP_SPHERICAL");break;case X["Texture"].EQUIRECTANGULAR_MODE:l.setReflectionMode("REFLECTIONMAP_EQUIRECTANGULAR");break;case X["Texture"].FIXED_EQUIRECTANGULAR_MODE:l.setReflectionMode("REFLECTIONMAP_EQUIRECTANGULAR_FIXED");break;case X["Texture"].FIXED_EQUIRECTANGULAR_MIRRORED_MODE:l.setReflectionMode("REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED");break;case X["Texture"].CUBIC_MODE:case X["Texture"].INVCUBIC_MODE:default:l.setReflectionMode("REFLECTIONMAP_CUBIC");break}l.USE_LOCAL_REFLECTIONMAP_CUBIC=!!this._reflectionTexture.boundingBoxSize}else l.REFLECTION=!1;if(this._emissiveTexture&&StandardMaterial.EmissiveTextureEnabled){if(!this._emissiveTexture.isReadyOrNotBlocking())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._emissiveTexture,l,"EMISSIVE")}else l.EMISSIVE=!1;if(this._lightmapTexture&&StandardMaterial.LightmapTextureEnabled){if(!this._lightmapTexture.isReadyOrNotBlocking())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._lightmapTexture,l,"LIGHTMAP"),l.USELIGHTMAPASSHADOWMAP=this._useLightmapAsShadowmap,l.RGBDLIGHTMAP=this._lightmapTexture.isRGBD}else l.LIGHTMAP=!1;if(this._specularTexture&&StandardMaterial.SpecularTextureEnabled){if(!this._specularTexture.isReadyOrNotBlocking())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._specularTexture,l,"SPECULAR"),l.GLOSSINESS=this._useGlossinessFromSpecularMapAlpha}else l.SPECULAR=!1;if(c.getEngine().getCaps().standardDerivatives&&this._bumpTexture&&StandardMaterial.BumpTextureEnabled){if(!this._bumpTexture.isReady())return!1;W["MaterialHelper"].PrepareDefinesForMergedUV(this._bumpTexture,l,"BUMP"),l.PARALLAX=this._useParallax,l.PARALLAXOCCLUSION=this._useParallaxOcclusion,l.OBJECTSPACE_NORMALMAP=this._useObjectSpaceNormalMap}else l.BUMP=!1;if(this._refractionTexture&&StandardMaterial.RefractionTextureEnabled){if(!this._refractionTexture.isReadyOrNotBlocking())return!1;l._needUVs=!0,l.REFRACTION=!0,l.REFRACTIONMAP_3D=this._refractionTexture.isCube,l.RGBDREFRACTION=this._refractionTexture.isRGBD}else l.REFRACTION=!1;l.TWOSIDEDLIGHTING=!this._backFaceCulling&&this._twoSidedLighting}else l.DIFFUSE=!1,l.AMBIENT=!1,l.OPACITY=!1,l.REFLECTION=!1,l.EMISSIVE=!1,l.LIGHTMAP=!1,l.BUMP=!1,l.REFRACTION=!1;l.ALPHAFROMDIFFUSE=this._shouldUseAlphaFromDiffuseTexture(),l.EMISSIVEASILLUMINATION=this._useEmissiveAsIllumination,l.LINKEMISSIVEWITHDIFFUSE=this._linkEmissiveWithDiffuse,l.SPECULAROVERALPHA=this._useSpecularOverAlpha,l.PREMULTIPLYALPHA=7===this.alphaMode||8===this.alphaMode,l.ALPHATEST_AFTERALLALPHACOMPUTATIONS=null!==this.transparencyMode,l.ALPHABLEND=null===this.transparencyMode||this.needAlphaBlendingForMesh(t)}if(!this.detailMap.isReadyForSubMesh(l,c))return!1;if(l._areImageProcessingDirty&&this._imageProcessingConfiguration){if(!this._imageProcessingConfiguration.isReady())return!1;this._imageProcessingConfiguration.prepareDefines(l),l.IS_REFLECTION_LINEAR=null!=this.reflectionTexture&&!this.reflectionTexture.gammaSpace,l.IS_REFRACTION_LINEAR=null!=this.refractionTexture&&!this.refractionTexture.gammaSpace}if(l._areFresnelDirty&&(StandardMaterial.FresnelEnabled?(this._diffuseFresnelParameters||this._opacityFresnelParameters||this._emissiveFresnelParameters||this._refractionFresnelParameters||this._reflectionFresnelParameters)&&(l.DIFFUSEFRESNEL=this._diffuseFresnelParameters&&this._diffuseFresnelParameters.isEnabled,l.OPACITYFRESNEL=this._opacityFresnelParameters&&this._opacityFresnelParameters.isEnabled,l.REFLECTIONFRESNEL=this._reflectionFresnelParameters&&this._reflectionFresnelParameters.isEnabled,l.REFLECTIONFRESNELFROMSPECULAR=this._useReflectionFresnelFromSpecular,l.REFRACTIONFRESNEL=this._refractionFresnelParameters&&this._refractionFresnelParameters.isEnabled,l.EMISSIVEFRESNEL=this._emissiveFresnelParameters&&this._emissiveFresnelParameters.isEnabled,l._needNormals=!0,l.FRESNEL=!0):l.FRESNEL=!1),W["MaterialHelper"].PrepareDefinesForMisc(t,c,this._useLogarithmicDepth,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(t)||this._forceAlphaTest,l),W["MaterialHelper"].PrepareDefinesForAttributes(t,l,!0,!0,!0),W["MaterialHelper"].PrepareDefinesForFrameBoundValues(c,d,l,u,null,n.getRenderingMesh().hasThinInstances),this.detailMap.prepareDefines(l,c),l.isDirty){var h=l._areLightsDisposed;l.markAsProcessed();var p=new Y["EffectFallbacks"];l.REFLECTION&&p.addFallback(0,"REFLECTION"),l.SPECULAR&&p.addFallback(0,"SPECULAR"),l.BUMP&&p.addFallback(0,"BUMP"),l.PARALLAX&&p.addFallback(1,"PARALLAX"),l.PARALLAXOCCLUSION&&p.addFallback(0,"PARALLAXOCCLUSION"),l.SPECULAROVERALPHA&&p.addFallback(0,"SPECULAROVERALPHA"),l.FOG&&p.addFallback(1,"FOG"),l.POINTSIZE&&p.addFallback(0,"POINTSIZE"),l.LOGARITHMICDEPTH&&p.addFallback(0,"LOGARITHMICDEPTH"),W["MaterialHelper"].HandleFallbacksForShadows(l,p,this._maxSimultaneousLights),l.SPECULARTERM&&p.addFallback(0,"SPECULARTERM"),l.DIFFUSEFRESNEL&&p.addFallback(1,"DIFFUSEFRESNEL"),l.OPACITYFRESNEL&&p.addFallback(2,"OPACITYFRESNEL"),l.REFLECTIONFRESNEL&&p.addFallback(3,"REFLECTIONFRESNEL"),l.EMISSIVEFRESNEL&&p.addFallback(4,"EMISSIVEFRESNEL"),l.FRESNEL&&p.addFallback(4,"FRESNEL"),l.MULTIVIEW&&p.addFallback(0,"MULTIVIEW");var m=[_["VertexBuffer"].PositionKind];l.NORMAL&&m.push(_["VertexBuffer"].NormalKind),l.UV1&&m.push(_["VertexBuffer"].UVKind),l.UV2&&m.push(_["VertexBuffer"].UV2Kind),l.VERTEXCOLOR&&m.push(_["VertexBuffer"].ColorKind),W["MaterialHelper"].PrepareAttributesForBones(m,t,l,p),W["MaterialHelper"].PrepareAttributesForInstances(m,l),W["MaterialHelper"].PrepareAttributesForMorphTargets(m,t,l);var v="default",U=["world","view","viewProjection","vEyePosition","vLightsType","vAmbientColor","vDiffuseColor","vSpecularColor","vEmissiveColor","visibility","vFogInfos","vFogColor","pointSize","vDiffuseInfos","vAmbientInfos","vOpacityInfos","vReflectionInfos","vEmissiveInfos","vSpecularInfos","vBumpInfos","vLightmapInfos","vRefractionInfos","mBones","vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","diffuseMatrix","ambientMatrix","opacityMatrix","reflectionMatrix","emissiveMatrix","specularMatrix","bumpMatrix","normalMatrix","lightmapMatrix","refractionMatrix","diffuseLeftColor","diffuseRightColor","opacityParts","reflectionLeftColor","reflectionRightColor","emissiveLeftColor","emissiveRightColor","refractionLeftColor","refractionRightColor","vReflectionPosition","vReflectionSize","logarithmicDepthConstant","vTangentSpaceParams","alphaCutOff","boneTextureWidth"],G=["diffuseSampler","ambientSampler","opacitySampler","reflectionCubeSampler","reflection2DSampler","emissiveSampler","specularSampler","bumpSampler","lightmapSampler","refractionCubeSampler","refraction2DSampler","boneSampler"],q=["Material","Scene"];Q["DetailMapConfiguration"].AddUniforms(U),Q["DetailMapConfiguration"].AddSamplers(G),g["PrePassConfiguration"].AddUniforms(U),g["PrePassConfiguration"].AddSamplers(U),b["ImageProcessingConfiguration"]&&(b["ImageProcessingConfiguration"].PrepareUniforms(U,l),b["ImageProcessingConfiguration"].PrepareSamplers(G,l)),W["MaterialHelper"].PrepareUniformsAndSamplersList({uniformsNames:U,uniformBuffersNames:q,samplers:G,defines:l,maxSimultaneousLights:this._maxSimultaneousLights});var K={};this.customShaderNameResolve&&(v=this.customShaderNameResolve(v,U,q,G,l,m,K));var J=l.toString(),ee=n.effect,te=c.getEngine().createEffect(v,{attributes:m,uniformsNames:U,uniformBuffersNames:q,samplers:G,defines:J,fallbacks:p,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights,maxSimultaneousMorphTargets:l.NUM_MORPH_INFLUENCERS},processFinalCode:K.processFinalCode,multiTarget:l.PREPASS},d);if(te)if(this._onEffectCreatedObservable&&(Z.effect=te,Z.subMesh=n,this._onEffectCreatedObservable.notifyObservers(Z)),this.allowShaderHotSwapping&&ee&&!te.isReady()){if(te=ee,this._rebuildInParallel=!0,l.markAsUnprocessed(),h)return l._areLightsDisposed=!0,!1}else this._rebuildInParallel=!1,c.resetCachedMaterial(),n.setEffect(te,l),this.buildUniformLayout()}return!(!n.effect||!n.effect.isReady())&&(l._renderId=c.getRenderId(),n.effect._wasPreviouslyReady=!0,!0)},StandardMaterial.prototype.buildUniformLayout=function(){var t=this._uniformBuffer;t.addUniform("diffuseLeftColor",4),t.addUniform("diffuseRightColor",4),t.addUniform("opacityParts",4),t.addUniform("reflectionLeftColor",4),t.addUniform("reflectionRightColor",4),t.addUniform("refractionLeftColor",4),t.addUniform("refractionRightColor",4),t.addUniform("emissiveLeftColor",4),t.addUniform("emissiveRightColor",4),t.addUniform("vDiffuseInfos",2),t.addUniform("vAmbientInfos",2),t.addUniform("vOpacityInfos",2),t.addUniform("vReflectionInfos",2),t.addUniform("vReflectionPosition",3),t.addUniform("vReflectionSize",3),t.addUniform("vEmissiveInfos",2),t.addUniform("vLightmapInfos",2),t.addUniform("vSpecularInfos",2),t.addUniform("vBumpInfos",3),t.addUniform("diffuseMatrix",16),t.addUniform("ambientMatrix",16),t.addUniform("opacityMatrix",16),t.addUniform("reflectionMatrix",16),t.addUniform("emissiveMatrix",16),t.addUniform("lightmapMatrix",16),t.addUniform("specularMatrix",16),t.addUniform("bumpMatrix",16),t.addUniform("vTangentSpaceParams",2),t.addUniform("pointSize",1),t.addUniform("refractionMatrix",16),t.addUniform("vRefractionInfos",4),t.addUniform("vSpecularColor",4),t.addUniform("vEmissiveColor",3),t.addUniform("visibility",1),t.addUniform("vDiffuseColor",4),Q["DetailMapConfiguration"].PrepareUniformBuffer(t),t.create()},StandardMaterial.prototype.unbind=function(){if(this._activeEffect){var n=!1;this._reflectionTexture&&this._reflectionTexture.isRenderTarget&&(this._activeEffect.setTexture("reflection2DSampler",null),n=!0),this._refractionTexture&&this._refractionTexture.isRenderTarget&&(this._activeEffect.setTexture("refraction2DSampler",null),n=!0),n&&this._markAllSubMeshesAsTexturesDirty()}t.prototype.unbind.call(this)},StandardMaterial.prototype.bindForSubMesh=function(t,n,u){var c=this.getScene(),l=u._materialDefines;if(l){var d=u.effect;if(d){this._activeEffect=d,l.INSTANCES&&!l.THIN_INSTANCES||this.bindOnlyWorldMatrix(t),this.prePassConfiguration.bindForSubMesh(this._activeEffect,c,n,t,this.isFrozen),l.OBJECTSPACE_NORMALMAP&&(t.toNormalMatrix(this._normalMatrix),this.bindOnlyNormalMatrix(this._normalMatrix));var p=this._mustRebind(c,d,n.visibility);W["MaterialHelper"].BindBonesParameters(n,d);var _=this._uniformBuffer;if(p){if(_.bindToEffect(d,"Material"),this.bindViewProjection(d),!_.useUbo||!this.isFrozen||!_.isSync){if(StandardMaterial.FresnelEnabled&&l.FRESNEL&&(this.diffuseFresnelParameters&&this.diffuseFresnelParameters.isEnabled&&(_.updateColor4("diffuseLeftColor",this.diffuseFresnelParameters.leftColor,this.diffuseFresnelParameters.power),_.updateColor4("diffuseRightColor",this.diffuseFresnelParameters.rightColor,this.diffuseFresnelParameters.bias)),this.opacityFresnelParameters&&this.opacityFresnelParameters.isEnabled&&_.updateColor4("opacityParts",new m["Color3"](this.opacityFresnelParameters.leftColor.toLuminance(),this.opacityFresnelParameters.rightColor.toLuminance(),this.opacityFresnelParameters.bias),this.opacityFresnelParameters.power),this.reflectionFresnelParameters&&this.reflectionFresnelParameters.isEnabled&&(_.updateColor4("reflectionLeftColor",this.reflectionFresnelParameters.leftColor,this.reflectionFresnelParameters.power),_.updateColor4("reflectionRightColor",this.reflectionFresnelParameters.rightColor,this.reflectionFresnelParameters.bias)),this.refractionFresnelParameters&&this.refractionFresnelParameters.isEnabled&&(_.updateColor4("refractionLeftColor",this.refractionFresnelParameters.leftColor,this.refractionFresnelParameters.power),_.updateColor4("refractionRightColor",this.refractionFresnelParameters.rightColor,this.refractionFresnelParameters.bias)),this.emissiveFresnelParameters&&this.emissiveFresnelParameters.isEnabled&&(_.updateColor4("emissiveLeftColor",this.emissiveFresnelParameters.leftColor,this.emissiveFresnelParameters.power),_.updateColor4("emissiveRightColor",this.emissiveFresnelParameters.rightColor,this.emissiveFresnelParameters.bias))),c.texturesEnabled){if(this._diffuseTexture&&StandardMaterial.DiffuseTextureEnabled&&(_.updateFloat2("vDiffuseInfos",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),W["MaterialHelper"].BindTextureMatrix(this._diffuseTexture,_,"diffuse")),this._ambientTexture&&StandardMaterial.AmbientTextureEnabled&&(_.updateFloat2("vAmbientInfos",this._ambientTexture.coordinatesIndex,this._ambientTexture.level),W["MaterialHelper"].BindTextureMatrix(this._ambientTexture,_,"ambient")),this._opacityTexture&&StandardMaterial.OpacityTextureEnabled&&(_.updateFloat2("vOpacityInfos",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),W["MaterialHelper"].BindTextureMatrix(this._opacityTexture,_,"opacity")),this._hasAlphaChannel()&&d.setFloat("alphaCutOff",this.alphaCutOff),this._reflectionTexture&&StandardMaterial.ReflectionTextureEnabled&&(_.updateFloat2("vReflectionInfos",this._reflectionTexture.level,this.roughness),_.updateMatrix("reflectionMatrix",this._reflectionTexture.getReflectionTextureMatrix()),this._reflectionTexture.boundingBoxSize)){var g=this._reflectionTexture;_.updateVector3("vReflectionPosition",g.boundingBoxPosition),_.updateVector3("vReflectionSize",g.boundingBoxSize)}if(this._emissiveTexture&&StandardMaterial.EmissiveTextureEnabled&&(_.updateFloat2("vEmissiveInfos",this._emissiveTexture.coordinatesIndex,this._emissiveTexture.level),W["MaterialHelper"].BindTextureMatrix(this._emissiveTexture,_,"emissive")),this._lightmapTexture&&StandardMaterial.LightmapTextureEnabled&&(_.updateFloat2("vLightmapInfos",this._lightmapTexture.coordinatesIndex,this._lightmapTexture.level),W["MaterialHelper"].BindTextureMatrix(this._lightmapTexture,_,"lightmap")),this._specularTexture&&StandardMaterial.SpecularTextureEnabled&&(_.updateFloat2("vSpecularInfos",this._specularTexture.coordinatesIndex,this._specularTexture.level),W["MaterialHelper"].BindTextureMatrix(this._specularTexture,_,"specular")),this._bumpTexture&&c.getEngine().getCaps().standardDerivatives&&StandardMaterial.BumpTextureEnabled&&(_.updateFloat3("vBumpInfos",this._bumpTexture.coordinatesIndex,1/this._bumpTexture.level,this.parallaxScaleBias),W["MaterialHelper"].BindTextureMatrix(this._bumpTexture,_,"bump"),c._mirroredCameraPosition?_.updateFloat2("vTangentSpaceParams",this._invertNormalMapX?1:-1,this._invertNormalMapY?1:-1):_.updateFloat2("vTangentSpaceParams",this._invertNormalMapX?-1:1,this._invertNormalMapY?-1:1)),this._refractionTexture&&StandardMaterial.RefractionTextureEnabled){var b=1;this._refractionTexture.isCube||(_.updateMatrix("refractionMatrix",this._refractionTexture.getReflectionTextureMatrix()),this._refractionTexture.depth&&(b=this._refractionTexture.depth)),_.updateFloat4("vRefractionInfos",this._refractionTexture.level,this.indexOfRefraction,b,this.invertRefractionY?-1:1)}}this.pointsCloud&&_.updateFloat("pointSize",this.pointSize),l.SPECULARTERM&&_.updateColor4("vSpecularColor",this.specularColor,this.specularPower),_.updateColor3("vEmissiveColor",StandardMaterial.EmissiveTextureEnabled?this.emissiveColor:m["Color3"].BlackReadOnly),_.updateColor4("vDiffuseColor",this.diffuseColor,this.alpha)}if(_.updateFloat("visibility",n.visibility),c.texturesEnabled&&(this._diffuseTexture&&StandardMaterial.DiffuseTextureEnabled&&d.setTexture("diffuseSampler",this._diffuseTexture),this._ambientTexture&&StandardMaterial.AmbientTextureEnabled&&d.setTexture("ambientSampler",this._ambientTexture),this._opacityTexture&&StandardMaterial.OpacityTextureEnabled&&d.setTexture("opacitySampler",this._opacityTexture),this._reflectionTexture&&StandardMaterial.ReflectionTextureEnabled&&(this._reflectionTexture.isCube?d.setTexture("reflectionCubeSampler",this._reflectionTexture):d.setTexture("reflection2DSampler",this._reflectionTexture)),this._emissiveTexture&&StandardMaterial.EmissiveTextureEnabled&&d.setTexture("emissiveSampler",this._emissiveTexture),this._lightmapTexture&&StandardMaterial.LightmapTextureEnabled&&d.setTexture("lightmapSampler",this._lightmapTexture),this._specularTexture&&StandardMaterial.SpecularTextureEnabled&&d.setTexture("specularSampler",this._specularTexture),this._bumpTexture&&c.getEngine().getCaps().standardDerivatives&&StandardMaterial.BumpTextureEnabled&&d.setTexture("bumpSampler",this._bumpTexture),this._refractionTexture&&StandardMaterial.RefractionTextureEnabled)){b=1;this._refractionTexture.isCube?d.setTexture("refractionCubeSampler",this._refractionTexture):d.setTexture("refraction2DSampler",this._refractionTexture)}this.detailMap.bindForSubMesh(_,c,this.isFrozen),W["MaterialHelper"].BindClipPlane(d,c),c.ambientColor.multiplyToRef(this.ambientColor,this._globalAmbientColor),W["MaterialHelper"].BindEyePosition(d,c),d.setColor3("vAmbientColor",this._globalAmbientColor)}!p&&this.isFrozen||(c.lightsEnabled&&!this._disableLighting&&W["MaterialHelper"].BindLights(c,n,d,l,this._maxSimultaneousLights,this._rebuildInParallel),(c.fogEnabled&&n.applyFog&&c.fogMode!==h["Scene"].FOGMODE_NONE||this._reflectionTexture||this._refractionTexture)&&this.bindView(d),W["MaterialHelper"].BindFogParameters(c,n,d),l.NUM_MORPH_INFLUENCERS&&W["MaterialHelper"].BindMorphTargetParameters(n,d),this.useLogarithmicDepth&&W["MaterialHelper"].BindLogDepth(l,d,c),this._imageProcessingConfiguration&&!this._imageProcessingConfiguration.applyByPostProcess&&this._imageProcessingConfiguration.bind(this._activeEffect)),_.update(),this._afterBind(n,this._activeEffect)}}},StandardMaterial.prototype.getAnimatables=function(){var t=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&t.push(this._diffuseTexture),this._ambientTexture&&this._ambientTexture.animations&&this._ambientTexture.animations.length>0&&t.push(this._ambientTexture),this._opacityTexture&&this._opacityTexture.animations&&this._opacityTexture.animations.length>0&&t.push(this._opacityTexture),this._reflectionTexture&&this._reflectionTexture.animations&&this._reflectionTexture.animations.length>0&&t.push(this._reflectionTexture),this._emissiveTexture&&this._emissiveTexture.animations&&this._emissiveTexture.animations.length>0&&t.push(this._emissiveTexture),this._specularTexture&&this._specularTexture.animations&&this._specularTexture.animations.length>0&&t.push(this._specularTexture),this._bumpTexture&&this._bumpTexture.animations&&this._bumpTexture.animations.length>0&&t.push(this._bumpTexture),this._lightmapTexture&&this._lightmapTexture.animations&&this._lightmapTexture.animations.length>0&&t.push(this._lightmapTexture),this._refractionTexture&&this._refractionTexture.animations&&this._refractionTexture.animations.length>0&&t.push(this._refractionTexture),this.detailMap.getAnimatables(t),t},StandardMaterial.prototype.getActiveTextures=function(){var n=t.prototype.getActiveTextures.call(this);return this._diffuseTexture&&n.push(this._diffuseTexture),this._ambientTexture&&n.push(this._ambientTexture),this._opacityTexture&&n.push(this._opacityTexture),this._reflectionTexture&&n.push(this._reflectionTexture),this._emissiveTexture&&n.push(this._emissiveTexture),this._specularTexture&&n.push(this._specularTexture),this._bumpTexture&&n.push(this._bumpTexture),this._lightmapTexture&&n.push(this._lightmapTexture),this._refractionTexture&&n.push(this._refractionTexture),this.detailMap.getActiveTextures(n),n},StandardMaterial.prototype.hasTexture=function(n){return!!t.prototype.hasTexture.call(this,n)||(this._diffuseTexture===n||(this._ambientTexture===n||(this._opacityTexture===n||(this._reflectionTexture===n||(this._emissiveTexture===n||(this._specularTexture===n||(this._bumpTexture===n||(this._lightmapTexture===n||(this._refractionTexture===n||this.detailMap.hasTexture(n))))))))))},StandardMaterial.prototype.dispose=function(n,u){var c,l,d,h,p,m,_,g,b;u&&(null===(c=this._diffuseTexture)||void 0===c||c.dispose(),null===(l=this._ambientTexture)||void 0===l||l.dispose(),null===(d=this._opacityTexture)||void 0===d||d.dispose(),null===(h=this._reflectionTexture)||void 0===h||h.dispose(),null===(p=this._emissiveTexture)||void 0===p||p.dispose(),null===(m=this._specularTexture)||void 0===m||m.dispose(),null===(_=this._bumpTexture)||void 0===_||_.dispose(),null===(g=this._lightmapTexture)||void 0===g||g.dispose(),null===(b=this._refractionTexture)||void 0===b||b.dispose()),this.detailMap.dispose(u),this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),t.prototype.dispose.call(this,n,u)},StandardMaterial.prototype.clone=function(t){var n=this,u=l["SerializationHelper"].Clone((function(){return new StandardMaterial(t,n.getScene())}),this);return u.name=t,u.id=t,u},StandardMaterial.prototype.serialize=function(){return l["SerializationHelper"].Serialize(this)},StandardMaterial.Parse=function(t,n,u){return l["SerializationHelper"].Parse((function(){return new StandardMaterial(t.name,n)}),t,n,u)},Object.defineProperty(StandardMaterial,"DiffuseTextureEnabled",{get:function(){return K["MaterialFlags"].DiffuseTextureEnabled},set:function(t){K["MaterialFlags"].DiffuseTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"DetailTextureEnabled",{get:function(){return K["MaterialFlags"].DetailTextureEnabled},set:function(t){K["MaterialFlags"].DetailTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"AmbientTextureEnabled",{get:function(){return K["MaterialFlags"].AmbientTextureEnabled},set:function(t){K["MaterialFlags"].AmbientTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"OpacityTextureEnabled",{get:function(){return K["MaterialFlags"].OpacityTextureEnabled},set:function(t){K["MaterialFlags"].OpacityTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"ReflectionTextureEnabled",{get:function(){return K["MaterialFlags"].ReflectionTextureEnabled},set:function(t){K["MaterialFlags"].ReflectionTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"EmissiveTextureEnabled",{get:function(){return K["MaterialFlags"].EmissiveTextureEnabled},set:function(t){K["MaterialFlags"].EmissiveTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"SpecularTextureEnabled",{get:function(){return K["MaterialFlags"].SpecularTextureEnabled},set:function(t){K["MaterialFlags"].SpecularTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"BumpTextureEnabled",{get:function(){return K["MaterialFlags"].BumpTextureEnabled},set:function(t){K["MaterialFlags"].BumpTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"LightmapTextureEnabled",{get:function(){return K["MaterialFlags"].LightmapTextureEnabled},set:function(t){K["MaterialFlags"].LightmapTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"RefractionTextureEnabled",{get:function(){return K["MaterialFlags"].RefractionTextureEnabled},set:function(t){K["MaterialFlags"].RefractionTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"ColorGradingTextureEnabled",{get:function(){return K["MaterialFlags"].ColorGradingTextureEnabled},set:function(t){K["MaterialFlags"].ColorGradingTextureEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(StandardMaterial,"FresnelEnabled",{get:function(){return K["MaterialFlags"].FresnelEnabled},set:function(t){K["MaterialFlags"].FresnelEnabled=t},enumerable:!1,configurable:!0}),Object(c["__decorate"])([Object(l["serializeAsTexture"])("diffuseTexture")],StandardMaterial.prototype,"_diffuseTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesAndMiscDirty")],StandardMaterial.prototype,"diffuseTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("ambientTexture")],StandardMaterial.prototype,"_ambientTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"ambientTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("opacityTexture")],StandardMaterial.prototype,"_opacityTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesAndMiscDirty")],StandardMaterial.prototype,"opacityTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("reflectionTexture")],StandardMaterial.prototype,"_reflectionTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"reflectionTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("emissiveTexture")],StandardMaterial.prototype,"_emissiveTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"emissiveTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("specularTexture")],StandardMaterial.prototype,"_specularTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"specularTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("bumpTexture")],StandardMaterial.prototype,"_bumpTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"bumpTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("lightmapTexture")],StandardMaterial.prototype,"_lightmapTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"lightmapTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("refractionTexture")],StandardMaterial.prototype,"_refractionTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"refractionTexture",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])("ambient")],StandardMaterial.prototype,"ambientColor",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])("diffuse")],StandardMaterial.prototype,"diffuseColor",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])("specular")],StandardMaterial.prototype,"specularColor",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])("emissive")],StandardMaterial.prototype,"emissiveColor",void 0),Object(c["__decorate"])([Object(l["serialize"])()],StandardMaterial.prototype,"specularPower",void 0),Object(c["__decorate"])([Object(l["serialize"])("useAlphaFromDiffuseTexture")],StandardMaterial.prototype,"_useAlphaFromDiffuseTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesAndMiscDirty")],StandardMaterial.prototype,"useAlphaFromDiffuseTexture",void 0),Object(c["__decorate"])([Object(l["serialize"])("useEmissiveAsIllumination")],StandardMaterial.prototype,"_useEmissiveAsIllumination",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useEmissiveAsIllumination",void 0),Object(c["__decorate"])([Object(l["serialize"])("linkEmissiveWithDiffuse")],StandardMaterial.prototype,"_linkEmissiveWithDiffuse",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"linkEmissiveWithDiffuse",void 0),Object(c["__decorate"])([Object(l["serialize"])("useSpecularOverAlpha")],StandardMaterial.prototype,"_useSpecularOverAlpha",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useSpecularOverAlpha",void 0),Object(c["__decorate"])([Object(l["serialize"])("useReflectionOverAlpha")],StandardMaterial.prototype,"_useReflectionOverAlpha",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useReflectionOverAlpha",void 0),Object(c["__decorate"])([Object(l["serialize"])("disableLighting")],StandardMaterial.prototype,"_disableLighting",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsLightsDirty")],StandardMaterial.prototype,"disableLighting",void 0),Object(c["__decorate"])([Object(l["serialize"])("useObjectSpaceNormalMap")],StandardMaterial.prototype,"_useObjectSpaceNormalMap",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useObjectSpaceNormalMap",void 0),Object(c["__decorate"])([Object(l["serialize"])("useParallax")],StandardMaterial.prototype,"_useParallax",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useParallax",void 0),Object(c["__decorate"])([Object(l["serialize"])("useParallaxOcclusion")],StandardMaterial.prototype,"_useParallaxOcclusion",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useParallaxOcclusion",void 0),Object(c["__decorate"])([Object(l["serialize"])()],StandardMaterial.prototype,"parallaxScaleBias",void 0),Object(c["__decorate"])([Object(l["serialize"])("roughness")],StandardMaterial.prototype,"_roughness",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"roughness",void 0),Object(c["__decorate"])([Object(l["serialize"])()],StandardMaterial.prototype,"indexOfRefraction",void 0),Object(c["__decorate"])([Object(l["serialize"])()],StandardMaterial.prototype,"invertRefractionY",void 0),Object(c["__decorate"])([Object(l["serialize"])()],StandardMaterial.prototype,"alphaCutOff",void 0),Object(c["__decorate"])([Object(l["serialize"])("useLightmapAsShadowmap")],StandardMaterial.prototype,"_useLightmapAsShadowmap",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useLightmapAsShadowmap",void 0),Object(c["__decorate"])([Object(l["serializeAsFresnelParameters"])("diffuseFresnelParameters")],StandardMaterial.prototype,"_diffuseFresnelParameters",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsFresnelDirty")],StandardMaterial.prototype,"diffuseFresnelParameters",void 0),Object(c["__decorate"])([Object(l["serializeAsFresnelParameters"])("opacityFresnelParameters")],StandardMaterial.prototype,"_opacityFresnelParameters",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsFresnelAndMiscDirty")],StandardMaterial.prototype,"opacityFresnelParameters",void 0),Object(c["__decorate"])([Object(l["serializeAsFresnelParameters"])("reflectionFresnelParameters")],StandardMaterial.prototype,"_reflectionFresnelParameters",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsFresnelDirty")],StandardMaterial.prototype,"reflectionFresnelParameters",void 0),Object(c["__decorate"])([Object(l["serializeAsFresnelParameters"])("refractionFresnelParameters")],StandardMaterial.prototype,"_refractionFresnelParameters",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsFresnelDirty")],StandardMaterial.prototype,"refractionFresnelParameters",void 0),Object(c["__decorate"])([Object(l["serializeAsFresnelParameters"])("emissiveFresnelParameters")],StandardMaterial.prototype,"_emissiveFresnelParameters",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsFresnelDirty")],StandardMaterial.prototype,"emissiveFresnelParameters",void 0),Object(c["__decorate"])([Object(l["serialize"])("useReflectionFresnelFromSpecular")],StandardMaterial.prototype,"_useReflectionFresnelFromSpecular",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsFresnelDirty")],StandardMaterial.prototype,"useReflectionFresnelFromSpecular",void 0),Object(c["__decorate"])([Object(l["serialize"])("useGlossinessFromSpecularMapAlpha")],StandardMaterial.prototype,"_useGlossinessFromSpecularMapAlpha",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"useGlossinessFromSpecularMapAlpha",void 0),Object(c["__decorate"])([Object(l["serialize"])("maxSimultaneousLights")],StandardMaterial.prototype,"_maxSimultaneousLights",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsLightsDirty")],StandardMaterial.prototype,"maxSimultaneousLights",void 0),Object(c["__decorate"])([Object(l["serialize"])("invertNormalMapX")],StandardMaterial.prototype,"_invertNormalMapX",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"invertNormalMapX",void 0),Object(c["__decorate"])([Object(l["serialize"])("invertNormalMapY")],StandardMaterial.prototype,"_invertNormalMapY",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"invertNormalMapY",void 0),Object(c["__decorate"])([Object(l["serialize"])("twoSidedLighting")],StandardMaterial.prototype,"_twoSidedLighting",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],StandardMaterial.prototype,"twoSidedLighting",void 0),Object(c["__decorate"])([Object(l["serialize"])()],StandardMaterial.prototype,"useLogarithmicDepth",null),StandardMaterial}(G["PushMaterial"]);q["_TypeStore"].RegisteredTypes["BABYLON.StandardMaterial"]=J,h["Scene"].DefaultMaterialFactory=function(t){return new J("default material",t)}},"./node_modules/@babylonjs/core/Materials/thinMaterialHelper.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ThinMaterialHelper",(function(){return c}));var c=function(){function ThinMaterialHelper(){}return ThinMaterialHelper.BindClipPlane=function(t,n){if(n.clipPlane){var u=n.clipPlane;t.setFloat4("vClipPlane",u.normal.x,u.normal.y,u.normal.z,u.d)}if(n.clipPlane2){u=n.clipPlane2;t.setFloat4("vClipPlane2",u.normal.x,u.normal.y,u.normal.z,u.d)}if(n.clipPlane3){u=n.clipPlane3;t.setFloat4("vClipPlane3",u.normal.x,u.normal.y,u.normal.z,u.d)}if(n.clipPlane4){u=n.clipPlane4;t.setFloat4("vClipPlane4",u.normal.x,u.normal.y,u.normal.z,u.d)}if(n.clipPlane5){u=n.clipPlane5;t.setFloat4("vClipPlane5",u.normal.x,u.normal.y,u.normal.z,u.d)}if(n.clipPlane6){u=n.clipPlane6;t.setFloat4("vClipPlane6",u.normal.x,u.normal.y,u.normal.z,u.d)}},ThinMaterialHelper}()},"./node_modules/@babylonjs/core/Materials/uniformBuffer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"UniformBuffer",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Misc/logger.js"),l=(u("./node_modules/@babylonjs/core/Engines/Extensions/engine.uniformBuffer.js"),function(){function UniformBuffer(t,n,u){this._alreadyBound=!1,this._valueCache={},this._engine=t,this._noUBO=!t.supportsUniformBuffers,this._dynamic=u,this._data=n||[],this._uniformLocations={},this._uniformSizes={},this._uniformLocationPointer=0,this._needSync=!1,this._noUBO?(this.updateMatrix3x3=this._updateMatrix3x3ForEffect,this.updateMatrix2x2=this._updateMatrix2x2ForEffect,this.updateFloat=this._updateFloatForEffect,this.updateFloat2=this._updateFloat2ForEffect,this.updateFloat3=this._updateFloat3ForEffect,this.updateFloat4=this._updateFloat4ForEffect,this.updateMatrix=this._updateMatrixForEffect,this.updateVector3=this._updateVector3ForEffect,this.updateVector4=this._updateVector4ForEffect,this.updateColor3=this._updateColor3ForEffect,this.updateColor4=this._updateColor4ForEffect):(this._engine._uniformBuffers.push(this),this.updateMatrix3x3=this._updateMatrix3x3ForUniform,this.updateMatrix2x2=this._updateMatrix2x2ForUniform,this.updateFloat=this._updateFloatForUniform,this.updateFloat2=this._updateFloat2ForUniform,this.updateFloat3=this._updateFloat3ForUniform,this.updateFloat4=this._updateFloat4ForUniform,this.updateMatrix=this._updateMatrixForUniform,this.updateVector3=this._updateVector3ForUniform,this.updateVector4=this._updateVector4ForUniform,this.updateColor3=this._updateColor3ForUniform,this.updateColor4=this._updateColor4ForUniform)}return Object.defineProperty(UniformBuffer.prototype,"useUbo",{get:function(){return!this._noUBO},enumerable:!1,configurable:!0}),Object.defineProperty(UniformBuffer.prototype,"isSync",{get:function(){return!this._needSync},enumerable:!1,configurable:!0}),UniformBuffer.prototype.isDynamic=function(){return void 0!==this._dynamic},UniformBuffer.prototype.getData=function(){return this._bufferData},UniformBuffer.prototype.getBuffer=function(){return this._buffer},UniformBuffer.prototype._fillAlignment=function(t){var n;if(n=t<=2?t:4,this._uniformLocationPointer%n!==0){var u=this._uniformLocationPointer;this._uniformLocationPointer+=n-this._uniformLocationPointer%n;for(var c=this._uniformLocationPointer-u,l=0;l<c;l++)this._data.push(0)}},UniformBuffer.prototype.addUniform=function(t,n){if(!this._noUBO&&void 0===this._uniformLocations[t]){var u;if(n instanceof Array)u=n,n=u.length;else{n=n,u=[];for(var c=0;c<n;c++)u.push(0)}this._fillAlignment(n),this._uniformSizes[t]=n,this._uniformLocations[t]=this._uniformLocationPointer,this._uniformLocationPointer+=n;for(c=0;c<n;c++)this._data.push(u[c]);this._needSync=!0}},UniformBuffer.prototype.addMatrix=function(t,n){this.addUniform(t,Array.prototype.slice.call(n.toArray()))},UniformBuffer.prototype.addFloat2=function(t,n,u){var c=[n,u];this.addUniform(t,c)},UniformBuffer.prototype.addFloat3=function(t,n,u,c){var l=[n,u,c];this.addUniform(t,l)},UniformBuffer.prototype.addColor3=function(t,n){var u=new Array;n.toArray(u),this.addUniform(t,u)},UniformBuffer.prototype.addColor4=function(t,n,u){var c=new Array;n.toArray(c),c.push(u),this.addUniform(t,c)},UniformBuffer.prototype.addVector3=function(t,n){var u=new Array;n.toArray(u),this.addUniform(t,u)},UniformBuffer.prototype.addMatrix3x3=function(t){this.addUniform(t,12)},UniformBuffer.prototype.addMatrix2x2=function(t){this.addUniform(t,8)},UniformBuffer.prototype.create=function(){this._noUBO||this._buffer||(this._fillAlignment(4),this._bufferData=new Float32Array(this._data),this._rebuild(),this._needSync=!0)},UniformBuffer.prototype._rebuild=function(){!this._noUBO&&this._bufferData&&(this._dynamic?this._buffer=this._engine.createDynamicUniformBuffer(this._bufferData):this._buffer=this._engine.createUniformBuffer(this._bufferData))},UniformBuffer.prototype.update=function(){this._buffer?(this._dynamic||this._needSync)&&(this._engine.updateUniformBuffer(this._buffer,this._bufferData),this._needSync=!1):this.create()},UniformBuffer.prototype.updateUniform=function(t,n,u){var l=this._uniformLocations[t];if(void 0===l){if(this._buffer)return void c["Logger"].Error("Cannot add an uniform after UBO has been created.");this.addUniform(t,u),l=this._uniformLocations[t]}if(this._buffer||this.create(),this._dynamic)for(h=0;h<u;h++)this._bufferData[l+h]=n[h];else{for(var d=!1,h=0;h<u;h++)16!==u&&this._bufferData[l+h]===n[h]||(d=!0,this._bufferData[l+h]=n[h]);this._needSync=this._needSync||d}},UniformBuffer.prototype._cacheMatrix=function(t,n){var u=this._valueCache[t],c=n.updateFlag;return(void 0===u||u!==c)&&(this._valueCache[t]=c,!0)},UniformBuffer.prototype._updateMatrix3x3ForUniform=function(t,n){for(var u=0;u<3;u++)UniformBuffer._tempBuffer[4*u]=n[3*u],UniformBuffer._tempBuffer[4*u+1]=n[3*u+1],UniformBuffer._tempBuffer[4*u+2]=n[3*u+2],UniformBuffer._tempBuffer[4*u+3]=0;this.updateUniform(t,UniformBuffer._tempBuffer,12)},UniformBuffer.prototype._updateMatrix3x3ForEffect=function(t,n){this._currentEffect.setMatrix3x3(t,n)},UniformBuffer.prototype._updateMatrix2x2ForEffect=function(t,n){this._currentEffect.setMatrix2x2(t,n)},UniformBuffer.prototype._updateMatrix2x2ForUniform=function(t,n){for(var u=0;u<2;u++)UniformBuffer._tempBuffer[4*u]=n[2*u],UniformBuffer._tempBuffer[4*u+1]=n[2*u+1],UniformBuffer._tempBuffer[4*u+2]=0,UniformBuffer._tempBuffer[4*u+3]=0;this.updateUniform(t,UniformBuffer._tempBuffer,8)},UniformBuffer.prototype._updateFloatForEffect=function(t,n){this._currentEffect.setFloat(t,n)},UniformBuffer.prototype._updateFloatForUniform=function(t,n){UniformBuffer._tempBuffer[0]=n,this.updateUniform(t,UniformBuffer._tempBuffer,1)},UniformBuffer.prototype._updateFloat2ForEffect=function(t,n,u,c){void 0===c&&(c=""),this._currentEffect.setFloat2(t+c,n,u)},UniformBuffer.prototype._updateFloat2ForUniform=function(t,n,u){UniformBuffer._tempBuffer[0]=n,UniformBuffer._tempBuffer[1]=u,this.updateUniform(t,UniformBuffer._tempBuffer,2)},UniformBuffer.prototype._updateFloat3ForEffect=function(t,n,u,c,l){void 0===l&&(l=""),this._currentEffect.setFloat3(t+l,n,u,c)},UniformBuffer.prototype._updateFloat3ForUniform=function(t,n,u,c){UniformBuffer._tempBuffer[0]=n,UniformBuffer._tempBuffer[1]=u,UniformBuffer._tempBuffer[2]=c,this.updateUniform(t,UniformBuffer._tempBuffer,3)},UniformBuffer.prototype._updateFloat4ForEffect=function(t,n,u,c,l,d){void 0===d&&(d=""),this._currentEffect.setFloat4(t+d,n,u,c,l)},UniformBuffer.prototype._updateFloat4ForUniform=function(t,n,u,c,l){UniformBuffer._tempBuffer[0]=n,UniformBuffer._tempBuffer[1]=u,UniformBuffer._tempBuffer[2]=c,UniformBuffer._tempBuffer[3]=l,this.updateUniform(t,UniformBuffer._tempBuffer,4)},UniformBuffer.prototype._updateMatrixForEffect=function(t,n){this._currentEffect.setMatrix(t,n)},UniformBuffer.prototype._updateMatrixForUniform=function(t,n){this._cacheMatrix(t,n)&&this.updateUniform(t,n.toArray(),16)},UniformBuffer.prototype._updateVector3ForEffect=function(t,n){this._currentEffect.setVector3(t,n)},UniformBuffer.prototype._updateVector3ForUniform=function(t,n){n.toArray(UniformBuffer._tempBuffer),this.updateUniform(t,UniformBuffer._tempBuffer,3)},UniformBuffer.prototype._updateVector4ForEffect=function(t,n){this._currentEffect.setVector4(t,n)},UniformBuffer.prototype._updateVector4ForUniform=function(t,n){n.toArray(UniformBuffer._tempBuffer),this.updateUniform(t,UniformBuffer._tempBuffer,4)},UniformBuffer.prototype._updateColor3ForEffect=function(t,n,u){void 0===u&&(u=""),this._currentEffect.setColor3(t+u,n)},UniformBuffer.prototype._updateColor3ForUniform=function(t,n){n.toArray(UniformBuffer._tempBuffer),this.updateUniform(t,UniformBuffer._tempBuffer,3)},UniformBuffer.prototype._updateColor4ForEffect=function(t,n,u,c){void 0===c&&(c=""),this._currentEffect.setColor4(t+c,n,u)},UniformBuffer.prototype._updateColor4ForUniform=function(t,n,u){n.toArray(UniformBuffer._tempBuffer),UniformBuffer._tempBuffer[3]=u,this.updateUniform(t,UniformBuffer._tempBuffer,4)},UniformBuffer.prototype.setTexture=function(t,n){this._currentEffect.setTexture(t,n)},UniformBuffer.prototype.updateUniformDirectly=function(t,n){this.updateUniform(t,n,n.length),this.update()},UniformBuffer.prototype.bindToEffect=function(t,n){this._currentEffect=t,!this._noUBO&&this._buffer&&(this._alreadyBound=!0,t.bindUniformBuffer(this._buffer,n))},UniformBuffer.prototype.dispose=function(){if(!this._noUBO){var t=this._engine._uniformBuffers,n=t.indexOf(this);-1!==n&&(t[n]=t[t.length-1],t.pop()),this._buffer&&this._engine._releaseBuffer(this._buffer)&&(this._buffer=null)}},UniformBuffer._MAX_UNIFORM_SIZE=256,UniformBuffer._tempBuffer=new Float32Array(UniformBuffer._MAX_UNIFORM_SIZE),UniformBuffer}())},"./node_modules/@babylonjs/core/Maths/math.axis.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Space",(function(){return c})),u.d(n,"Axis",(function(){return h})),u.d(n,"Coordinate",(function(){return d}));var c,l=u("./node_modules/@babylonjs/core/Maths/math.vector.js");(function(t){t[t["LOCAL"]=0]="LOCAL",t[t["WORLD"]=1]="WORLD",t[t["BONE"]=2]="BONE"})(c||(c={}));var d,h=function(){function Axis(){}return Axis.X=new l["Vector3"](1,0,0),Axis.Y=new l["Vector3"](0,1,0),Axis.Z=new l["Vector3"](0,0,1),Axis}();(function(t){t[t["X"]=0]="X",t[t["Y"]=1]="Y",t[t["Z"]=2]="Z"})(d||(d={}))},"./node_modules/@babylonjs/core/Maths/math.color.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Color3",(function(){return p})),u.d(n,"Color4",(function(){return m})),u.d(n,"TmpColors",(function(){return _}));var c=u("./node_modules/@babylonjs/core/Maths/math.scalar.js"),l=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),d=u("./node_modules/@babylonjs/core/Misc/arrayTools.js"),h=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),p=function(){function Color3(t,n,u){void 0===t&&(t=0),void 0===n&&(n=0),void 0===u&&(u=0),this.r=t,this.g=n,this.b=u}return Color3.prototype.toString=function(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+"}"},Color3.prototype.getClassName=function(){return"Color3"},Color3.prototype.getHashCode=function(){var t=255*this.r|0;return t=397*t^(255*this.g|0),t=397*t^(255*this.b|0),t},Color3.prototype.toArray=function(t,n){return void 0===n&&(n=0),t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,this},Color3.prototype.fromArray=function(t,n){return void 0===n&&(n=0),Color3.FromArrayToRef(t,n,this),this},Color3.prototype.toColor4=function(t){return void 0===t&&(t=1),new m(this.r,this.g,this.b,t)},Color3.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Color3.prototype.toLuminance=function(){return.3*this.r+.59*this.g+.11*this.b},Color3.prototype.multiply=function(t){return new Color3(this.r*t.r,this.g*t.g,this.b*t.b)},Color3.prototype.multiplyToRef=function(t,n){return n.r=this.r*t.r,n.g=this.g*t.g,n.b=this.b*t.b,this},Color3.prototype.equals=function(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b},Color3.prototype.equalsFloats=function(t,n,u){return this.r===t&&this.g===n&&this.b===u},Color3.prototype.scale=function(t){return new Color3(this.r*t,this.g*t,this.b*t)},Color3.prototype.scaleToRef=function(t,n){return n.r=this.r*t,n.g=this.g*t,n.b=this.b*t,this},Color3.prototype.scaleAndAddToRef=function(t,n){return n.r+=this.r*t,n.g+=this.g*t,n.b+=this.b*t,this},Color3.prototype.clampToRef=function(t,n,u){return void 0===t&&(t=0),void 0===n&&(n=1),u.r=c["Scalar"].Clamp(this.r,t,n),u.g=c["Scalar"].Clamp(this.g,t,n),u.b=c["Scalar"].Clamp(this.b,t,n),this},Color3.prototype.add=function(t){return new Color3(this.r+t.r,this.g+t.g,this.b+t.b)},Color3.prototype.addToRef=function(t,n){return n.r=this.r+t.r,n.g=this.g+t.g,n.b=this.b+t.b,this},Color3.prototype.subtract=function(t){return new Color3(this.r-t.r,this.g-t.g,this.b-t.b)},Color3.prototype.subtractToRef=function(t,n){return n.r=this.r-t.r,n.g=this.g-t.g,n.b=this.b-t.b,this},Color3.prototype.clone=function(){return new Color3(this.r,this.g,this.b)},Color3.prototype.copyFrom=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},Color3.prototype.copyFromFloats=function(t,n,u){return this.r=t,this.g=n,this.b=u,this},Color3.prototype.set=function(t,n,u){return this.copyFromFloats(t,n,u)},Color3.prototype.toHexString=function(){var t=255*this.r|0,n=255*this.g|0,u=255*this.b|0;return"#"+c["Scalar"].ToHex(t)+c["Scalar"].ToHex(n)+c["Scalar"].ToHex(u)},Color3.prototype.toLinearSpace=function(){var t=new Color3;return this.toLinearSpaceToRef(t),t},Color3.prototype.toHSV=function(){var t=new Color3;return this.toHSVToRef(t),t},Color3.prototype.toHSVToRef=function(t){var n=this.r,u=this.g,c=this.b,l=Math.max(n,u,c),d=Math.min(n,u,c),h=0,p=0,m=l,_=l-d;0!==l&&(p=_/l),l!=d&&(l==n?(h=(u-c)/_,u<c&&(h+=6)):l==u?h=(c-n)/_+2:l==c&&(h=(n-u)/_+4),h*=60),t.r=h,t.g=p,t.b=m},Color3.prototype.toLinearSpaceToRef=function(t){return t.r=Math.pow(this.r,l["ToLinearSpace"]),t.g=Math.pow(this.g,l["ToLinearSpace"]),t.b=Math.pow(this.b,l["ToLinearSpace"]),this},Color3.prototype.toGammaSpace=function(){var t=new Color3;return this.toGammaSpaceToRef(t),t},Color3.prototype.toGammaSpaceToRef=function(t){return t.r=Math.pow(this.r,l["ToGammaSpace"]),t.g=Math.pow(this.g,l["ToGammaSpace"]),t.b=Math.pow(this.b,l["ToGammaSpace"]),this},Color3.HSVtoRGBToRef=function(t,n,u,c){var l=u*n,d=t/60,h=l*(1-Math.abs(d%2-1)),p=0,m=0,_=0;d>=0&&d<=1?(p=l,m=h):d>=1&&d<=2?(p=h,m=l):d>=2&&d<=3?(m=l,_=h):d>=3&&d<=4?(m=h,_=l):d>=4&&d<=5?(p=h,_=l):d>=5&&d<=6&&(p=l,_=h);var g=u-l;c.set(p+g,m+g,_+g)},Color3.FromHexString=function(t){if("#"!==t.substring(0,1)||7!==t.length)return new Color3(0,0,0);var n=parseInt(t.substring(1,3),16),u=parseInt(t.substring(3,5),16),c=parseInt(t.substring(5,7),16);return Color3.FromInts(n,u,c)},Color3.FromArray=function(t,n){return void 0===n&&(n=0),new Color3(t[n],t[n+1],t[n+2])},Color3.FromArrayToRef=function(t,n,u){void 0===n&&(n=0),u.r=t[n],u.g=t[n+1],u.b=t[n+2]},Color3.FromInts=function(t,n,u){return new Color3(t/255,n/255,u/255)},Color3.Lerp=function(t,n,u){var c=new Color3(0,0,0);return Color3.LerpToRef(t,n,u,c),c},Color3.LerpToRef=function(t,n,u,c){c.r=t.r+(n.r-t.r)*u,c.g=t.g+(n.g-t.g)*u,c.b=t.b+(n.b-t.b)*u},Color3.Red=function(){return new Color3(1,0,0)},Color3.Green=function(){return new Color3(0,1,0)},Color3.Blue=function(){return new Color3(0,0,1)},Color3.Black=function(){return new Color3(0,0,0)},Object.defineProperty(Color3,"BlackReadOnly",{get:function(){return Color3._BlackReadOnly},enumerable:!1,configurable:!0}),Color3.White=function(){return new Color3(1,1,1)},Color3.Purple=function(){return new Color3(.5,0,.5)},Color3.Magenta=function(){return new Color3(1,0,1)},Color3.Yellow=function(){return new Color3(1,1,0)},Color3.Gray=function(){return new Color3(.5,.5,.5)},Color3.Teal=function(){return new Color3(0,1,1)},Color3.Random=function(){return new Color3(Math.random(),Math.random(),Math.random())},Color3._BlackReadOnly=Color3.Black(),Color3}(),m=function(){function Color4(t,n,u,c){void 0===t&&(t=0),void 0===n&&(n=0),void 0===u&&(u=0),void 0===c&&(c=1),this.r=t,this.g=n,this.b=u,this.a=c}return Color4.prototype.addInPlace=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this},Color4.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Color4.prototype.toArray=function(t,n){return void 0===n&&(n=0),t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t[n+3]=this.a,this},Color4.prototype.fromArray=function(t,n){return void 0===n&&(n=0),Color4.FromArrayToRef(t,n,this),this},Color4.prototype.equals=function(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a},Color4.prototype.add=function(t){return new Color4(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)},Color4.prototype.subtract=function(t){return new Color4(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)},Color4.prototype.subtractToRef=function(t,n){return n.r=this.r-t.r,n.g=this.g-t.g,n.b=this.b-t.b,n.a=this.a-t.a,this},Color4.prototype.scale=function(t){return new Color4(this.r*t,this.g*t,this.b*t,this.a*t)},Color4.prototype.scaleToRef=function(t,n){return n.r=this.r*t,n.g=this.g*t,n.b=this.b*t,n.a=this.a*t,this},Color4.prototype.scaleAndAddToRef=function(t,n){return n.r+=this.r*t,n.g+=this.g*t,n.b+=this.b*t,n.a+=this.a*t,this},Color4.prototype.clampToRef=function(t,n,u){return void 0===t&&(t=0),void 0===n&&(n=1),u.r=c["Scalar"].Clamp(this.r,t,n),u.g=c["Scalar"].Clamp(this.g,t,n),u.b=c["Scalar"].Clamp(this.b,t,n),u.a=c["Scalar"].Clamp(this.a,t,n),this},Color4.prototype.multiply=function(t){return new Color4(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)},Color4.prototype.multiplyToRef=function(t,n){return n.r=this.r*t.r,n.g=this.g*t.g,n.b=this.b*t.b,n.a=this.a*t.a,n},Color4.prototype.toString=function(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+" A:"+this.a+"}"},Color4.prototype.getClassName=function(){return"Color4"},Color4.prototype.getHashCode=function(){var t=255*this.r|0;return t=397*t^(255*this.g|0),t=397*t^(255*this.b|0),t=397*t^(255*this.a|0),t},Color4.prototype.clone=function(){return new Color4(this.r,this.g,this.b,this.a)},Color4.prototype.copyFrom=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},Color4.prototype.copyFromFloats=function(t,n,u,c){return this.r=t,this.g=n,this.b=u,this.a=c,this},Color4.prototype.set=function(t,n,u,c){return this.copyFromFloats(t,n,u,c)},Color4.prototype.toHexString=function(t){void 0===t&&(t=!1);var n=255*this.r|0,u=255*this.g|0,l=255*this.b|0;if(t)return"#"+c["Scalar"].ToHex(n)+c["Scalar"].ToHex(u)+c["Scalar"].ToHex(l);var d=255*this.a|0;return"#"+c["Scalar"].ToHex(n)+c["Scalar"].ToHex(u)+c["Scalar"].ToHex(l)+c["Scalar"].ToHex(d)},Color4.prototype.toLinearSpace=function(){var t=new Color4;return this.toLinearSpaceToRef(t),t},Color4.prototype.toLinearSpaceToRef=function(t){return t.r=Math.pow(this.r,l["ToLinearSpace"]),t.g=Math.pow(this.g,l["ToLinearSpace"]),t.b=Math.pow(this.b,l["ToLinearSpace"]),t.a=this.a,this},Color4.prototype.toGammaSpace=function(){var t=new Color4;return this.toGammaSpaceToRef(t),t},Color4.prototype.toGammaSpaceToRef=function(t){return t.r=Math.pow(this.r,l["ToGammaSpace"]),t.g=Math.pow(this.g,l["ToGammaSpace"]),t.b=Math.pow(this.b,l["ToGammaSpace"]),t.a=this.a,this},Color4.FromHexString=function(t){if("#"!==t.substring(0,1)||9!==t.length)return new Color4(0,0,0,0);var n=parseInt(t.substring(1,3),16),u=parseInt(t.substring(3,5),16),c=parseInt(t.substring(5,7),16),l=parseInt(t.substring(7,9),16);return Color4.FromInts(n,u,c,l)},Color4.Lerp=function(t,n,u){var c=new Color4(0,0,0,0);return Color4.LerpToRef(t,n,u,c),c},Color4.LerpToRef=function(t,n,u,c){c.r=t.r+(n.r-t.r)*u,c.g=t.g+(n.g-t.g)*u,c.b=t.b+(n.b-t.b)*u,c.a=t.a+(n.a-t.a)*u},Color4.FromColor3=function(t,n){return void 0===n&&(n=1),new Color4(t.r,t.g,t.b,n)},Color4.FromArray=function(t,n){return void 0===n&&(n=0),new Color4(t[n],t[n+1],t[n+2],t[n+3])},Color4.FromArrayToRef=function(t,n,u){void 0===n&&(n=0),u.r=t[n],u.g=t[n+1],u.b=t[n+2],u.a=t[n+3]},Color4.FromInts=function(t,n,u,c){return new Color4(t/255,n/255,u/255,c/255)},Color4.CheckColors4=function(t,n){if(t.length===3*n){for(var u=[],c=0;c<t.length;c+=3){var l=c/3*4;u[l]=t[c],u[l+1]=t[c+1],u[l+2]=t[c+2],u[l+3]=1}return u}return t},Color4}(),_=function(){function TmpColors(){}return TmpColors.Color3=d["ArrayTools"].BuildArray(3,p.Black),TmpColors.Color4=d["ArrayTools"].BuildArray(3,(function(){return new m(0,0,0,0)})),TmpColors}();h["_TypeStore"].RegisteredTypes["BABYLON.Color3"]=p,h["_TypeStore"].RegisteredTypes["BABYLON.Color4"]=m},"./node_modules/@babylonjs/core/Maths/math.constants.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ToGammaSpace",(function(){return c})),u.d(n,"ToLinearSpace",(function(){return l})),u.d(n,"Epsilon",(function(){return d}));var c=1/2.2,l=2.2,d=.001},"./node_modules/@babylonjs/core/Maths/math.frustum.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Frustum",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Maths/math.plane.js"),l=function(){function Frustum(){}return Frustum.GetPlanes=function(t){for(var n=[],u=0;u<6;u++)n.push(new c["Plane"](0,0,0,0));return Frustum.GetPlanesToRef(t,n),n},Frustum.GetNearPlaneToRef=function(t,n){var u=t.m;n.normal.x=u[3]+u[2],n.normal.y=u[7]+u[6],n.normal.z=u[11]+u[10],n.d=u[15]+u[14],n.normalize()},Frustum.GetFarPlaneToRef=function(t,n){var u=t.m;n.normal.x=u[3]-u[2],n.normal.y=u[7]-u[6],n.normal.z=u[11]-u[10],n.d=u[15]-u[14],n.normalize()},Frustum.GetLeftPlaneToRef=function(t,n){var u=t.m;n.normal.x=u[3]+u[0],n.normal.y=u[7]+u[4],n.normal.z=u[11]+u[8],n.d=u[15]+u[12],n.normalize()},Frustum.GetRightPlaneToRef=function(t,n){var u=t.m;n.normal.x=u[3]-u[0],n.normal.y=u[7]-u[4],n.normal.z=u[11]-u[8],n.d=u[15]-u[12],n.normalize()},Frustum.GetTopPlaneToRef=function(t,n){var u=t.m;n.normal.x=u[3]-u[1],n.normal.y=u[7]-u[5],n.normal.z=u[11]-u[9],n.d=u[15]-u[13],n.normalize()},Frustum.GetBottomPlaneToRef=function(t,n){var u=t.m;n.normal.x=u[3]+u[1],n.normal.y=u[7]+u[5],n.normal.z=u[11]+u[9],n.d=u[15]+u[13],n.normalize()},Frustum.GetPlanesToRef=function(t,n){Frustum.GetNearPlaneToRef(t,n[0]),Frustum.GetFarPlaneToRef(t,n[1]),Frustum.GetLeftPlaneToRef(t,n[2]),Frustum.GetRightPlaneToRef(t,n[3]),Frustum.GetTopPlaneToRef(t,n[4]),Frustum.GetBottomPlaneToRef(t,n[5])},Frustum}()},"./node_modules/@babylonjs/core/Maths/math.functions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"extractMinAndMaxIndexed",(function(){return extractMinAndMaxIndexed})),u.d(n,"extractMinAndMax",(function(){return extractMinAndMax}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js");function extractMinAndMaxIndexed(t,n,u,l,d){void 0===d&&(d=null);for(var h=new c["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),p=new c["Vector3"](-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),m=u;m<u+l;m++){var _=3*n[m],g=t[_],b=t[_+1],v=t[_+2];h.minimizeInPlaceFromFloats(g,b,v),p.maximizeInPlaceFromFloats(g,b,v)}return d&&(h.x-=h.x*d.x+d.y,h.y-=h.y*d.x+d.y,h.z-=h.z*d.x+d.y,p.x+=p.x*d.x+d.y,p.y+=p.y*d.x+d.y,p.z+=p.z*d.x+d.y),{minimum:h,maximum:p}}function extractMinAndMax(t,n,u,l,d){void 0===l&&(l=null);var h=new c["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),p=new c["Vector3"](-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);d||(d=3);for(var m=n,_=n*d;m<n+u;m++,_+=d){var g=t[_],b=t[_+1],v=t[_+2];h.minimizeInPlaceFromFloats(g,b,v),p.maximizeInPlaceFromFloats(g,b,v)}return l&&(h.x-=h.x*l.x+l.y,h.y-=h.y*l.x+l.y,h.z-=h.z*l.x+l.y,p.x+=p.x*l.x+l.y,p.y+=p.y*l.x+l.y,p.z+=p.z*l.x+l.y),{minimum:h,maximum:p}}},"./node_modules/@babylonjs/core/Maths/math.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Maths/math.axis.js");u.d(n,"Space",(function(){return c["Space"]})),u.d(n,"Axis",(function(){return c["Axis"]})),u.d(n,"Coordinate",(function(){return c["Coordinate"]}));var l=u("./node_modules/@babylonjs/core/Maths/math.color.js");u.d(n,"Color3",(function(){return l["Color3"]})),u.d(n,"Color4",(function(){return l["Color4"]})),u.d(n,"TmpColors",(function(){return l["TmpColors"]}));var d=u("./node_modules/@babylonjs/core/Maths/math.constants.js");u.d(n,"ToGammaSpace",(function(){return d["ToGammaSpace"]})),u.d(n,"ToLinearSpace",(function(){return d["ToLinearSpace"]})),u.d(n,"Epsilon",(function(){return d["Epsilon"]}));var h=u("./node_modules/@babylonjs/core/Maths/math.frustum.js");u.d(n,"Frustum",(function(){return h["Frustum"]}));var p=u("./node_modules/@babylonjs/core/Maths/math.path.js");u.d(n,"Orientation",(function(){return p["Orientation"]})),u.d(n,"BezierCurve",(function(){return p["BezierCurve"]})),u.d(n,"Angle",(function(){return p["Angle"]})),u.d(n,"Arc2",(function(){return p["Arc2"]})),u.d(n,"Path2",(function(){return p["Path2"]})),u.d(n,"Path3D",(function(){return p["Path3D"]})),u.d(n,"Curve3",(function(){return p["Curve3"]}));var m=u("./node_modules/@babylonjs/core/Maths/math.plane.js");u.d(n,"Plane",(function(){return m["Plane"]}));var _=u("./node_modules/@babylonjs/core/Maths/math.size.js");u.d(n,"Size",(function(){return _["Size"]}));var g=u("./node_modules/@babylonjs/core/Maths/math.vector.js");u.d(n,"Vector2",(function(){return g["Vector2"]})),u.d(n,"Vector3",(function(){return g["Vector3"]})),u.d(n,"Vector4",(function(){return g["Vector4"]})),u.d(n,"Quaternion",(function(){return g["Quaternion"]})),u.d(n,"Matrix",(function(){return g["Matrix"]})),u.d(n,"TmpVectors",(function(){return g["TmpVectors"]}));var b=u("./node_modules/@babylonjs/core/Maths/math.vertexFormat.js");u.d(n,"PositionNormalVertex",(function(){return b["PositionNormalVertex"]})),u.d(n,"PositionNormalTextureVertex",(function(){return b["PositionNormalTextureVertex"]}));var v=u("./node_modules/@babylonjs/core/Maths/math.viewport.js");u.d(n,"Viewport",(function(){return v["Viewport"]}))},"./node_modules/@babylonjs/core/Maths/math.path.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Orientation",(function(){return c})),u.d(n,"BezierCurve",(function(){return p})),u.d(n,"Angle",(function(){return m})),u.d(n,"Arc2",(function(){return _})),u.d(n,"Path2",(function(){return g})),u.d(n,"Path3D",(function(){return b})),u.d(n,"Curve3",(function(){return v}));var c,l=u("./node_modules/@babylonjs/core/Maths/math.scalar.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Maths/math.constants.js");(function(t){t[t["CW"]=0]="CW",t[t["CCW"]=1]="CCW"})(c||(c={}));var p=function(){function BezierCurve(){}return BezierCurve.Interpolate=function(t,n,u,c,l){for(var d=1-3*c+3*n,h=3*c-6*n,p=3*n,m=t,_=0;_<5;_++){var g=m*m,b=g*m,v=d*b+h*g+p*m,U=1/(3*d*g+2*h*m+p);m-=(v-t)*U,m=Math.min(1,Math.max(0,m))}return 3*Math.pow(1-m,2)*m*u+3*(1-m)*Math.pow(m,2)*l+Math.pow(m,3)},BezierCurve}(),m=function(){function Angle(t){this._radians=t,this._radians<0&&(this._radians+=2*Math.PI)}return Angle.prototype.degrees=function(){return 180*this._radians/Math.PI},Angle.prototype.radians=function(){return this._radians},Angle.BetweenTwoPoints=function(t,n){var u=n.subtract(t),c=Math.atan2(u.y,u.x);return new Angle(c)},Angle.FromRadians=function(t){return new Angle(t)},Angle.FromDegrees=function(t){return new Angle(t*Math.PI/180)},Angle}(),_=function(){function Arc2(t,n,u){this.startPoint=t,this.midPoint=n,this.endPoint=u;var l=Math.pow(n.x,2)+Math.pow(n.y,2),h=(Math.pow(t.x,2)+Math.pow(t.y,2)-l)/2,p=(l-Math.pow(u.x,2)-Math.pow(u.y,2))/2,_=(t.x-n.x)*(n.y-u.y)-(n.x-u.x)*(t.y-n.y);this.centerPoint=new d["Vector2"]((h*(n.y-u.y)-p*(t.y-n.y))/_,((t.x-n.x)*p-(n.x-u.x)*h)/_),this.radius=this.centerPoint.subtract(this.startPoint).length(),this.startAngle=m.BetweenTwoPoints(this.centerPoint,this.startPoint);var g=this.startAngle.degrees(),b=m.BetweenTwoPoints(this.centerPoint,this.midPoint).degrees(),v=m.BetweenTwoPoints(this.centerPoint,this.endPoint).degrees();b-g>180&&(b-=360),b-g<-180&&(b+=360),v-b>180&&(v-=360),v-b<-180&&(v+=360),this.orientation=b-g<0?c.CW:c.CCW,this.angle=m.FromDegrees(this.orientation===c.CW?g-v:v-g)}return Arc2}(),g=function(){function Path2(t,n){this._points=new Array,this._length=0,this.closed=!1,this._points.push(new d["Vector2"](t,n))}return Path2.prototype.addLineTo=function(t,n){if(this.closed)return this;var u=new d["Vector2"](t,n),c=this._points[this._points.length-1];return this._points.push(u),this._length+=u.subtract(c).length(),this},Path2.prototype.addArcTo=function(t,n,u,l,h){if(void 0===h&&(h=36),this.closed)return this;var p=this._points[this._points.length-1],m=new d["Vector2"](t,n),g=new d["Vector2"](u,l),b=new _(p,m,g),v=b.angle.radians()/h;b.orientation===c.CW&&(v*=-1);for(var U=b.startAngle.radians()+v,G=0;G<h;G++){var W=Math.cos(U)*b.radius+b.centerPoint.x,X=Math.sin(U)*b.radius+b.centerPoint.y;this.addLineTo(W,X),U+=v}return this},Path2.prototype.close=function(){return this.closed=!0,this},Path2.prototype.length=function(){var t=this._length;if(this.closed){var n=this._points[this._points.length-1],u=this._points[0];t+=u.subtract(n).length()}return t},Path2.prototype.getPoints=function(){return this._points},Path2.prototype.getPointAtLengthPosition=function(t){if(t<0||t>1)return d["Vector2"].Zero();for(var n=t*this.length(),u=0,c=0;c<this._points.length;c++){var l=(c+1)%this._points.length,h=this._points[c],p=this._points[l],m=p.subtract(h),_=m.length()+u;if(n>=u&&n<=_){var g=m.normalize(),b=n-u;return new d["Vector2"](h.x+g.x*b,h.y+g.y*b)}u=_}return d["Vector2"].Zero()},Path2.StartingAt=function(t,n){return new Path2(t,n)},Path2}(),b=function(){function Path3D(t,n,u,c){void 0===n&&(n=null),void 0===c&&(c=!1),this.path=t,this._curve=new Array,this._distances=new Array,this._tangents=new Array,this._normals=new Array,this._binormals=new Array,this._pointAtData={id:0,point:d["Vector3"].Zero(),previousPointArrayIndex:0,position:0,subPosition:0,interpolateReady:!1,interpolationMatrix:d["Matrix"].Identity()};for(var l=0;l<t.length;l++)this._curve[l]=t[l].clone();this._raw=u||!1,this._alignTangentsWithPath=c,this._compute(n,c)}return Path3D.prototype.getCurve=function(){return this._curve},Path3D.prototype.getPoints=function(){return this._curve},Path3D.prototype.length=function(){return this._distances[this._distances.length-1]},Path3D.prototype.getTangents=function(){return this._tangents},Path3D.prototype.getNormals=function(){return this._normals},Path3D.prototype.getBinormals=function(){return this._binormals},Path3D.prototype.getDistances=function(){return this._distances},Path3D.prototype.getPointAt=function(t){return this._updatePointAtData(t).point},Path3D.prototype.getTangentAt=function(t,n){return void 0===n&&(n=!1),this._updatePointAtData(t,n),n?d["Vector3"].TransformCoordinates(d["Vector3"].Forward(),this._pointAtData.interpolationMatrix):this._tangents[this._pointAtData.previousPointArrayIndex]},Path3D.prototype.getNormalAt=function(t,n){return void 0===n&&(n=!1),this._updatePointAtData(t,n),n?d["Vector3"].TransformCoordinates(d["Vector3"].Right(),this._pointAtData.interpolationMatrix):this._normals[this._pointAtData.previousPointArrayIndex]},Path3D.prototype.getBinormalAt=function(t,n){return void 0===n&&(n=!1),this._updatePointAtData(t,n),n?d["Vector3"].TransformCoordinates(d["Vector3"].UpReadOnly,this._pointAtData.interpolationMatrix):this._binormals[this._pointAtData.previousPointArrayIndex]},Path3D.prototype.getDistanceAt=function(t){return this.length()*t},Path3D.prototype.getPreviousPointIndexAt=function(t){return this._updatePointAtData(t),this._pointAtData.previousPointArrayIndex},Path3D.prototype.getSubPositionAt=function(t){return this._updatePointAtData(t),this._pointAtData.subPosition},Path3D.prototype.getClosestPositionTo=function(t){for(var n=Number.MAX_VALUE,u=0,c=0;c<this._curve.length-1;c++){var l=this._curve[c+0],h=this._curve[c+1].subtract(l).normalize(),p=this._distances[c+1]-this._distances[c+0],m=Math.min(Math.max(d["Vector3"].Dot(h,t.subtract(l).normalize()),0)*d["Vector3"].Distance(l,t)/p,1),_=d["Vector3"].Distance(l.add(h.scale(m*p)),t);_<n&&(n=_,u=(this._distances[c+0]+p*m)/this.length())}return u},Path3D.prototype.slice=function(t,n){if(void 0===t&&(t=0),void 0===n&&(n=1),t<0&&(t=1- -1*t%1),n<0&&(n=1- -1*n%1),t>n){var u=t;t=n,n=u}var c=this.getCurve(),l=this.getPointAt(t),d=this.getPreviousPointIndexAt(t),h=this.getPointAt(n),p=this.getPreviousPointIndexAt(n)+1,m=[];return 0!==t&&(d++,m.push(l)),m.push.apply(m,c.slice(d,p)),1===n&&1!==t||m.push(h),new Path3D(m,this.getNormalAt(t),this._raw,this._alignTangentsWithPath)},Path3D.prototype.update=function(t,n,u){void 0===n&&(n=null),void 0===u&&(u=!1);for(var c=0;c<t.length;c++)this._curve[c].x=t[c].x,this._curve[c].y=t[c].y,this._curve[c].z=t[c].z;return this._compute(n,u),this},Path3D.prototype._compute=function(t,n){void 0===n&&(n=!1);var u=this._curve.length;if(!(u<2)){this._tangents[0]=this._getFirstNonNullVector(0),this._raw||this._tangents[0].normalize(),this._tangents[u-1]=this._curve[u-1].subtract(this._curve[u-2]),this._raw||this._tangents[u-1].normalize();var c,l,h,p,m,_=this._tangents[0],g=this._normalVector(_,t);this._normals[0]=g,this._raw||this._normals[0].normalize(),this._binormals[0]=d["Vector3"].Cross(_,this._normals[0]),this._raw||this._binormals[0].normalize(),this._distances[0]=0;for(var b=1;b<u;b++)c=this._getLastNonNullVector(b),b<u-1&&(l=this._getFirstNonNullVector(b),this._tangents[b]=n?l:c.add(l),this._tangents[b].normalize()),this._distances[b]=this._distances[b-1]+this._curve[b].subtract(this._curve[b-1]).length(),h=this._tangents[b],m=this._binormals[b-1],this._normals[b]=d["Vector3"].Cross(m,h),this._raw||(0===this._normals[b].length()?(p=this._normals[b-1],this._normals[b]=p.clone()):this._normals[b].normalize()),this._binormals[b]=d["Vector3"].Cross(h,this._normals[b]),this._raw||this._binormals[b].normalize();this._pointAtData.id=NaN}},Path3D.prototype._getFirstNonNullVector=function(t){var n=1,u=this._curve[t+n].subtract(this._curve[t]);while(0===u.length()&&t+n+1<this._curve.length)n++,u=this._curve[t+n].subtract(this._curve[t]);return u},Path3D.prototype._getLastNonNullVector=function(t){var n=1,u=this._curve[t].subtract(this._curve[t-n]);while(0===u.length()&&t>n+1)n++,u=this._curve[t].subtract(this._curve[t-n]);return u},Path3D.prototype._normalVector=function(t,n){var u,c,p=t.length();(0===p&&(p=1),void 0===n||null===n)?(c=l["Scalar"].WithinEpsilon(Math.abs(t.y)/p,1,h["Epsilon"])?l["Scalar"].WithinEpsilon(Math.abs(t.x)/p,1,h["Epsilon"])?l["Scalar"].WithinEpsilon(Math.abs(t.z)/p,1,h["Epsilon"])?d["Vector3"].Zero():new d["Vector3"](0,0,1):new d["Vector3"](1,0,0):new d["Vector3"](0,-1,0),u=d["Vector3"].Cross(t,c)):(u=d["Vector3"].Cross(t,n),d["Vector3"].CrossToRef(u,t,u));return u.normalize(),u},Path3D.prototype._updatePointAtData=function(t,n){if(void 0===n&&(n=!1),this._pointAtData.id===t)return this._pointAtData.interpolateReady||this._updateInterpolationMatrix(),this._pointAtData;this._pointAtData.id=t;var u=this.getPoints();if(t<=0)return this._setPointAtData(0,0,u[0],0,n);if(t>=1)return this._setPointAtData(1,1,u[u.length-1],u.length-1,n);for(var c,l=u[0],h=0,p=t*this.length(),m=1;m<u.length;m++){c=u[m];var _=d["Vector3"].Distance(l,c);if(h+=_,h===p)return this._setPointAtData(t,1,c,m,n);if(h>p){var g=h-p,b=g/_,v=l.subtract(c),U=c.add(v.scaleInPlace(b));return this._setPointAtData(t,1-b,U,m-1,n)}l=c}return this._pointAtData},Path3D.prototype._setPointAtData=function(t,n,u,c,l){return this._pointAtData.point=u,this._pointAtData.position=t,this._pointAtData.subPosition=n,this._pointAtData.previousPointArrayIndex=c,this._pointAtData.interpolateReady=l,l&&this._updateInterpolationMatrix(),this._pointAtData},Path3D.prototype._updateInterpolationMatrix=function(){this._pointAtData.interpolationMatrix=d["Matrix"].Identity();var t=this._pointAtData.previousPointArrayIndex;if(t!==this._tangents.length-1){var n=t+1,u=this._tangents[t].clone(),c=this._normals[t].clone(),l=this._binormals[t].clone(),h=this._tangents[n].clone(),p=this._normals[n].clone(),m=this._binormals[n].clone(),_=d["Quaternion"].RotationQuaternionFromAxis(c,l,u),g=d["Quaternion"].RotationQuaternionFromAxis(p,m,h),b=d["Quaternion"].Slerp(_,g,this._pointAtData.subPosition);b.toRotationMatrix(this._pointAtData.interpolationMatrix)}},Path3D}(),v=function(){function Curve3(t){this._length=0,this._points=t,this._length=this._computeLength(t)}return Curve3.CreateQuadraticBezier=function(t,n,u,c){c=c>2?c:3;for(var l=new Array,equation=function(t,n,u,c){var l=(1-t)*(1-t)*n+2*t*(1-t)*u+t*t*c;return l},h=0;h<=c;h++)l.push(new d["Vector3"](equation(h/c,t.x,n.x,u.x),equation(h/c,t.y,n.y,u.y),equation(h/c,t.z,n.z,u.z)));return new Curve3(l)},Curve3.CreateCubicBezier=function(t,n,u,c,l){l=l>3?l:4;for(var h=new Array,equation=function(t,n,u,c,l){var d=(1-t)*(1-t)*(1-t)*n+3*t*(1-t)*(1-t)*u+3*t*t*(1-t)*c+t*t*t*l;return d},p=0;p<=l;p++)h.push(new d["Vector3"](equation(p/l,t.x,n.x,u.x,c.x),equation(p/l,t.y,n.y,u.y,c.y),equation(p/l,t.z,n.z,u.z,c.z)));return new Curve3(h)},Curve3.CreateHermiteSpline=function(t,n,u,c,l){for(var h=new Array,p=1/l,m=0;m<=l;m++)h.push(d["Vector3"].Hermite(t,n,u,c,m*p));return new Curve3(h)},Curve3.CreateCatmullRomSpline=function(t,n,u){var c=new Array,l=1/n,h=0;if(u){for(var p=t.length,m=0;m<p;m++){h=0;for(var _=0;_<n;_++)c.push(d["Vector3"].CatmullRom(t[m%p],t[(m+1)%p],t[(m+2)%p],t[(m+3)%p],h)),h+=l}c.push(c[0])}else{var g=new Array;g.push(t[0].clone()),Array.prototype.push.apply(g,t),g.push(t[t.length-1].clone());for(m=0;m<g.length-3;m++){h=0;for(_=0;_<n;_++)c.push(d["Vector3"].CatmullRom(g[m],g[m+1],g[m+2],g[m+3],h)),h+=l}m--,c.push(d["Vector3"].CatmullRom(g[m],g[m+1],g[m+2],g[m+3],h))}return new Curve3(c)},Curve3.prototype.getPoints=function(){return this._points},Curve3.prototype.length=function(){return this._length},Curve3.prototype.continue=function(t){for(var n=this._points[this._points.length-1],u=this._points.slice(),c=t.getPoints(),l=1;l<c.length;l++)u.push(c[l].subtract(c[0]).add(n));var d=new Curve3(u);return d},Curve3.prototype._computeLength=function(t){for(var n=0,u=1;u<t.length;u++)n+=t[u].subtract(t[u-1]).length();return n},Curve3}()},"./node_modules/@babylonjs/core/Maths/math.plane.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Plane",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=function(){function Plane(t,n,u,l){this.normal=new c["Vector3"](t,n,u),this.d=l}return Plane.prototype.asArray=function(){return[this.normal.x,this.normal.y,this.normal.z,this.d]},Plane.prototype.clone=function(){return new Plane(this.normal.x,this.normal.y,this.normal.z,this.d)},Plane.prototype.getClassName=function(){return"Plane"},Plane.prototype.getHashCode=function(){var t=this.normal.getHashCode();return t=397*t^(0|this.d),t},Plane.prototype.normalize=function(){var t=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z),n=0;return 0!==t&&(n=1/t),this.normal.x*=n,this.normal.y*=n,this.normal.z*=n,this.d*=n,this},Plane.prototype.transform=function(t){var n=Plane._TmpMatrix;t.invertToRef(n);var u=n.m,c=this.normal.x,l=this.normal.y,d=this.normal.z,h=this.d,p=c*u[0]+l*u[1]+d*u[2]+h*u[3],m=c*u[4]+l*u[5]+d*u[6]+h*u[7],_=c*u[8]+l*u[9]+d*u[10]+h*u[11],g=c*u[12]+l*u[13]+d*u[14]+h*u[15];return new Plane(p,m,_,g)},Plane.prototype.dotCoordinate=function(t){return this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z+this.d},Plane.prototype.copyFromPoints=function(t,n,u){var c,l=n.x-t.x,d=n.y-t.y,h=n.z-t.z,p=u.x-t.x,m=u.y-t.y,_=u.z-t.z,g=d*_-h*m,b=h*p-l*_,v=l*m-d*p,U=Math.sqrt(g*g+b*b+v*v);return c=0!==U?1/U:0,this.normal.x=g*c,this.normal.y=b*c,this.normal.z=v*c,this.d=-(this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z),this},Plane.prototype.isFrontFacingTo=function(t,n){var u=c["Vector3"].Dot(this.normal,t);return u<=n},Plane.prototype.signedDistanceTo=function(t){return c["Vector3"].Dot(t,this.normal)+this.d},Plane.FromArray=function(t){return new Plane(t[0],t[1],t[2],t[3])},Plane.FromPoints=function(t,n,u){var c=new Plane(0,0,0,0);return c.copyFromPoints(t,n,u),c},Plane.FromPositionAndNormal=function(t,n){var u=new Plane(0,0,0,0);return n.normalize(),u.normal=n,u.d=-(n.x*t.x+n.y*t.y+n.z*t.z),u},Plane.SignedDistanceToPlaneFromPositionAndNormal=function(t,n,u){var l=-(n.x*t.x+n.y*t.y+n.z*t.z);return c["Vector3"].Dot(u,n)+l},Plane._TmpMatrix=c["Matrix"].Identity(),Plane}()},"./node_modules/@babylonjs/core/Maths/math.scalar.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Scalar",(function(){return c}));var c=function(){function Scalar(){}return Scalar.WithinEpsilon=function(t,n,u){void 0===u&&(u=1401298e-51);var c=t-n;return-u<=c&&c<=u},Scalar.ToHex=function(t){var n=t.toString(16);return t<=15?("0"+n).toUpperCase():n.toUpperCase()},Scalar.Sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},Scalar.Clamp=function(t,n,u){return void 0===n&&(n=0),void 0===u&&(u=1),Math.min(u,Math.max(n,t))},Scalar.Log2=function(t){return Math.log(t)*Math.LOG2E},Scalar.Repeat=function(t,n){return t-Math.floor(t/n)*n},Scalar.Normalize=function(t,n,u){return(t-n)/(u-n)},Scalar.Denormalize=function(t,n,u){return t*(u-n)+n},Scalar.DeltaAngle=function(t,n){var u=Scalar.Repeat(n-t,360);return u>180&&(u-=360),u},Scalar.PingPong=function(t,n){var u=Scalar.Repeat(t,2*n);return n-Math.abs(u-n)},Scalar.SmoothStep=function(t,n,u){var c=Scalar.Clamp(u);return c=-2*c*c*c+3*c*c,n*c+t*(1-c)},Scalar.MoveTowards=function(t,n,u){var c=0;return c=Math.abs(n-t)<=u?n:t+Scalar.Sign(n-t)*u,c},Scalar.MoveTowardsAngle=function(t,n,u){var c=Scalar.DeltaAngle(t,n),l=0;return-u<c&&c<u?l=n:(n=t+c,l=Scalar.MoveTowards(t,n,u)),l},Scalar.Lerp=function(t,n,u){return t+(n-t)*u},Scalar.LerpAngle=function(t,n,u){var c=Scalar.Repeat(n-t,360);return c>180&&(c-=360),t+c*Scalar.Clamp(u)},Scalar.InverseLerp=function(t,n,u){var c=0;return c=t!=n?Scalar.Clamp((u-t)/(n-t)):0,c},Scalar.Hermite=function(t,n,u,c,l){var d=l*l,h=l*d,p=2*h-3*d+1,m=-2*h+3*d,_=h-2*d+l,g=h-d;return t*p+u*m+n*_+c*g},Scalar.RandomRange=function(t,n){return t===n?t:Math.random()*(n-t)+t},Scalar.RangeToPercent=function(t,n,u){return(t-n)/(u-n)},Scalar.PercentToRange=function(t,n,u){return(u-n)*t+n},Scalar.NormalizeRadians=function(t){return t-=Scalar.TwoPi*Math.floor((t+Math.PI)/Scalar.TwoPi),t},Scalar.TwoPi=2*Math.PI,Scalar}()},"./node_modules/@babylonjs/core/Maths/math.size.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Size",(function(){return c}));var c=function(){function Size(t,n){this.width=t,this.height=n}return Size.prototype.toString=function(){return"{W: "+this.width+", H: "+this.height+"}"},Size.prototype.getClassName=function(){return"Size"},Size.prototype.getHashCode=function(){var t=0|this.width;return t=397*t^(0|this.height),t},Size.prototype.copyFrom=function(t){this.width=t.width,this.height=t.height},Size.prototype.copyFromFloats=function(t,n){return this.width=t,this.height=n,this},Size.prototype.set=function(t,n){return this.copyFromFloats(t,n)},Size.prototype.multiplyByFloats=function(t,n){return new Size(this.width*t,this.height*n)},Size.prototype.clone=function(){return new Size(this.width,this.height)},Size.prototype.equals=function(t){return!!t&&(this.width===t.width&&this.height===t.height)},Object.defineProperty(Size.prototype,"surface",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),Size.Zero=function(){return new Size(0,0)},Size.prototype.add=function(t){var n=new Size(this.width+t.width,this.height+t.height);return n},Size.prototype.subtract=function(t){var n=new Size(this.width-t.width,this.height-t.height);return n},Size.Lerp=function(t,n,u){var c=t.width+(n.width-t.width)*u,l=t.height+(n.height-t.height)*u;return new Size(c,l)},Size}()},"./node_modules/@babylonjs/core/Maths/math.vector.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Vector2",(function(){return m})),u.d(n,"Vector3",(function(){return _})),u.d(n,"Vector4",(function(){return g})),u.d(n,"Quaternion",(function(){return b})),u.d(n,"Matrix",(function(){return v})),u.d(n,"TmpVectors",(function(){return G}));var c=u("./node_modules/@babylonjs/core/Maths/math.scalar.js"),l=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),d=u("./node_modules/@babylonjs/core/Misc/arrayTools.js"),h=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),p=u("./node_modules/@babylonjs/core/Engines/performanceConfigurator.js"),m=function(){function Vector2(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.x=t,this.y=n}return Vector2.prototype.toString=function(){return"{X: "+this.x+" Y: "+this.y+"}"},Vector2.prototype.getClassName=function(){return"Vector2"},Vector2.prototype.getHashCode=function(){var t=0|this.x;return t=397*t^(0|this.y),t},Vector2.prototype.toArray=function(t,n){return void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,this},Vector2.prototype.fromArray=function(t,n){return void 0===n&&(n=0),Vector2.FromArrayToRef(t,n,this),this},Vector2.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Vector2.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this},Vector2.prototype.copyFromFloats=function(t,n){return this.x=t,this.y=n,this},Vector2.prototype.set=function(t,n){return this.copyFromFloats(t,n)},Vector2.prototype.add=function(t){return new Vector2(this.x+t.x,this.y+t.y)},Vector2.prototype.addToRef=function(t,n){return n.x=this.x+t.x,n.y=this.y+t.y,this},Vector2.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this},Vector2.prototype.addVector3=function(t){return new Vector2(this.x+t.x,this.y+t.y)},Vector2.prototype.subtract=function(t){return new Vector2(this.x-t.x,this.y-t.y)},Vector2.prototype.subtractToRef=function(t,n){return n.x=this.x-t.x,n.y=this.y-t.y,this},Vector2.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this},Vector2.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this},Vector2.prototype.multiply=function(t){return new Vector2(this.x*t.x,this.y*t.y)},Vector2.prototype.multiplyToRef=function(t,n){return n.x=this.x*t.x,n.y=this.y*t.y,this},Vector2.prototype.multiplyByFloats=function(t,n){return new Vector2(this.x*t,this.y*n)},Vector2.prototype.divide=function(t){return new Vector2(this.x/t.x,this.y/t.y)},Vector2.prototype.divideToRef=function(t,n){return n.x=this.x/t.x,n.y=this.y/t.y,this},Vector2.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},Vector2.prototype.negate=function(){return new Vector2(-this.x,-this.y)},Vector2.prototype.negateInPlace=function(){return this.x*=-1,this.y*=-1,this},Vector2.prototype.negateToRef=function(t){return t.copyFromFloats(-1*this.x,-1*this.y)},Vector2.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this},Vector2.prototype.scale=function(t){var n=new Vector2(0,0);return this.scaleToRef(t,n),n},Vector2.prototype.scaleToRef=function(t,n){return n.x=this.x*t,n.y=this.y*t,this},Vector2.prototype.scaleAndAddToRef=function(t,n){return n.x+=this.x*t,n.y+=this.y*t,this},Vector2.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},Vector2.prototype.equalsWithEpsilon=function(t,n){return void 0===n&&(n=l["Epsilon"]),t&&c["Scalar"].WithinEpsilon(this.x,t.x,n)&&c["Scalar"].WithinEpsilon(this.y,t.y,n)},Vector2.prototype.floor=function(){return new Vector2(Math.floor(this.x),Math.floor(this.y))},Vector2.prototype.fract=function(){return new Vector2(this.x-Math.floor(this.x),this.y-Math.floor(this.y))},Vector2.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Vector2.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y},Vector2.prototype.normalize=function(){var t=this.length();return 0===t||(this.x/=t,this.y/=t),this},Vector2.prototype.clone=function(){return new Vector2(this.x,this.y)},Vector2.Zero=function(){return new Vector2(0,0)},Vector2.One=function(){return new Vector2(1,1)},Vector2.FromArray=function(t,n){return void 0===n&&(n=0),new Vector2(t[n],t[n+1])},Vector2.FromArrayToRef=function(t,n,u){u.x=t[n],u.y=t[n+1]},Vector2.CatmullRom=function(t,n,u,c,l){var d=l*l,h=l*d,p=.5*(2*n.x+(-t.x+u.x)*l+(2*t.x-5*n.x+4*u.x-c.x)*d+(-t.x+3*n.x-3*u.x+c.x)*h),m=.5*(2*n.y+(-t.y+u.y)*l+(2*t.y-5*n.y+4*u.y-c.y)*d+(-t.y+3*n.y-3*u.y+c.y)*h);return new Vector2(p,m)},Vector2.Clamp=function(t,n,u){var c=t.x;c=c>u.x?u.x:c,c=c<n.x?n.x:c;var l=t.y;return l=l>u.y?u.y:l,l=l<n.y?n.y:l,new Vector2(c,l)},Vector2.Hermite=function(t,n,u,c,l){var d=l*l,h=l*d,p=2*h-3*d+1,m=-2*h+3*d,_=h-2*d+l,g=h-d,b=t.x*p+u.x*m+n.x*_+c.x*g,v=t.y*p+u.y*m+n.y*_+c.y*g;return new Vector2(b,v)},Vector2.Lerp=function(t,n,u){var c=t.x+(n.x-t.x)*u,l=t.y+(n.y-t.y)*u;return new Vector2(c,l)},Vector2.Dot=function(t,n){return t.x*n.x+t.y*n.y},Vector2.Normalize=function(t){var n=t.clone();return n.normalize(),n},Vector2.Minimize=function(t,n){var u=t.x<n.x?t.x:n.x,c=t.y<n.y?t.y:n.y;return new Vector2(u,c)},Vector2.Maximize=function(t,n){var u=t.x>n.x?t.x:n.x,c=t.y>n.y?t.y:n.y;return new Vector2(u,c)},Vector2.Transform=function(t,n){var u=Vector2.Zero();return Vector2.TransformToRef(t,n,u),u},Vector2.TransformToRef=function(t,n,u){var c=n.m,l=t.x*c[0]+t.y*c[4]+c[12],d=t.x*c[1]+t.y*c[5]+c[13];u.x=l,u.y=d},Vector2.PointInTriangle=function(t,n,u,c){var l=.5*(-u.y*c.x+n.y*(-u.x+c.x)+n.x*(u.y-c.y)+u.x*c.y),d=l<0?-1:1,h=(n.y*c.x-n.x*c.y+(c.y-n.y)*t.x+(n.x-c.x)*t.y)*d,p=(n.x*u.y-n.y*u.x+(n.y-u.y)*t.x+(u.x-n.x)*t.y)*d;return h>0&&p>0&&h+p<2*l*d},Vector2.Distance=function(t,n){return Math.sqrt(Vector2.DistanceSquared(t,n))},Vector2.DistanceSquared=function(t,n){var u=t.x-n.x,c=t.y-n.y;return u*u+c*c},Vector2.Center=function(t,n){var u=t.add(n);return u.scaleInPlace(.5),u},Vector2.DistanceOfPointFromSegment=function(t,n,u){var c=Vector2.DistanceSquared(n,u);if(0===c)return Vector2.Distance(t,n);var l=u.subtract(n),d=Math.max(0,Math.min(1,Vector2.Dot(t.subtract(n),l)/c)),h=n.add(l.multiplyByFloats(d,d));return Vector2.Distance(t,h)},Vector2}(),_=function(){function Vector3(t,n,u){void 0===t&&(t=0),void 0===n&&(n=0),void 0===u&&(u=0),this._isDirty=!0,this._x=t,this._y=n,this._z=u}return Object.defineProperty(Vector3.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Vector3.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Vector3.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Vector3.prototype.toString=function(){return"{X: "+this._x+" Y:"+this._y+" Z:"+this._z+"}"},Vector3.prototype.getClassName=function(){return"Vector3"},Vector3.prototype.getHashCode=function(){var t=0|this._x;return t=397*t^(0|this._y),t=397*t^(0|this._z),t},Vector3.prototype.asArray=function(){var t=[];return this.toArray(t,0),t},Vector3.prototype.toArray=function(t,n){return void 0===n&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,this},Vector3.prototype.fromArray=function(t,n){return void 0===n&&(n=0),Vector3.FromArrayToRef(t,n,this),this},Vector3.prototype.toQuaternion=function(){return b.RotationYawPitchRoll(this._y,this._x,this._z)},Vector3.prototype.addInPlace=function(t){return this.addInPlaceFromFloats(t._x,t._y,t._z)},Vector3.prototype.addInPlaceFromFloats=function(t,n,u){return this.x+=t,this.y+=n,this.z+=u,this},Vector3.prototype.add=function(t){return new Vector3(this._x+t._x,this._y+t._y,this._z+t._z)},Vector3.prototype.addToRef=function(t,n){return n.copyFromFloats(this._x+t._x,this._y+t._y,this._z+t._z)},Vector3.prototype.subtractInPlace=function(t){return this.x-=t._x,this.y-=t._y,this.z-=t._z,this},Vector3.prototype.subtract=function(t){return new Vector3(this._x-t._x,this._y-t._y,this._z-t._z)},Vector3.prototype.subtractToRef=function(t,n){return this.subtractFromFloatsToRef(t._x,t._y,t._z,n)},Vector3.prototype.subtractFromFloats=function(t,n,u){return new Vector3(this._x-t,this._y-n,this._z-u)},Vector3.prototype.subtractFromFloatsToRef=function(t,n,u,c){return c.copyFromFloats(this._x-t,this._y-n,this._z-u)},Vector3.prototype.negate=function(){return new Vector3(-this._x,-this._y,-this._z)},Vector3.prototype.negateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},Vector3.prototype.negateToRef=function(t){return t.copyFromFloats(-1*this._x,-1*this._y,-1*this._z)},Vector3.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this},Vector3.prototype.scale=function(t){return new Vector3(this._x*t,this._y*t,this._z*t)},Vector3.prototype.scaleToRef=function(t,n){return n.copyFromFloats(this._x*t,this._y*t,this._z*t)},Vector3.prototype.scaleAndAddToRef=function(t,n){return n.addInPlaceFromFloats(this._x*t,this._y*t,this._z*t)},Vector3.prototype.projectOnPlane=function(t,n){var u=Vector3.Zero();return this.projectOnPlaneToRef(t,n,u),u},Vector3.prototype.projectOnPlaneToRef=function(t,n,u){var c=t.normal,l=t.d,d=U.Vector3[0];this.subtractToRef(n,d),d.normalize();var h=Vector3.Dot(d,c),p=-(Vector3.Dot(n,c)+l)/h,m=d.scaleInPlace(p);n.addToRef(m,u)},Vector3.prototype.equals=function(t){return t&&this._x===t._x&&this._y===t._y&&this._z===t._z},Vector3.prototype.equalsWithEpsilon=function(t,n){return void 0===n&&(n=l["Epsilon"]),t&&c["Scalar"].WithinEpsilon(this._x,t._x,n)&&c["Scalar"].WithinEpsilon(this._y,t._y,n)&&c["Scalar"].WithinEpsilon(this._z,t._z,n)},Vector3.prototype.equalsToFloats=function(t,n,u){return this._x===t&&this._y===n&&this._z===u},Vector3.prototype.multiplyInPlace=function(t){return this.x*=t._x,this.y*=t._y,this.z*=t._z,this},Vector3.prototype.multiply=function(t){return this.multiplyByFloats(t._x,t._y,t._z)},Vector3.prototype.multiplyToRef=function(t,n){return n.copyFromFloats(this._x*t._x,this._y*t._y,this._z*t._z)},Vector3.prototype.multiplyByFloats=function(t,n,u){return new Vector3(this._x*t,this._y*n,this._z*u)},Vector3.prototype.divide=function(t){return new Vector3(this._x/t._x,this._y/t._y,this._z/t._z)},Vector3.prototype.divideToRef=function(t,n){return n.copyFromFloats(this._x/t._x,this._y/t._y,this._z/t._z)},Vector3.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},Vector3.prototype.minimizeInPlace=function(t){return this.minimizeInPlaceFromFloats(t._x,t._y,t._z)},Vector3.prototype.maximizeInPlace=function(t){return this.maximizeInPlaceFromFloats(t._x,t._y,t._z)},Vector3.prototype.minimizeInPlaceFromFloats=function(t,n,u){return t<this._x&&(this.x=t),n<this._y&&(this.y=n),u<this._z&&(this.z=u),this},Vector3.prototype.maximizeInPlaceFromFloats=function(t,n,u){return t>this._x&&(this.x=t),n>this._y&&(this.y=n),u>this._z&&(this.z=u),this},Vector3.prototype.isNonUniformWithinEpsilon=function(t){var n=Math.abs(this._x),u=Math.abs(this._y);if(!c["Scalar"].WithinEpsilon(n,u,t))return!0;var l=Math.abs(this._z);return!c["Scalar"].WithinEpsilon(n,l,t)||!c["Scalar"].WithinEpsilon(u,l,t)},Object.defineProperty(Vector3.prototype,"isNonUniform",{get:function(){var t=Math.abs(this._x),n=Math.abs(this._y);if(t!==n)return!0;var u=Math.abs(this._z);return t!==u},enumerable:!1,configurable:!0}),Vector3.prototype.floor=function(){return new Vector3(Math.floor(this._x),Math.floor(this._y),Math.floor(this._z))},Vector3.prototype.fract=function(){return new Vector3(this._x-Math.floor(this._x),this._y-Math.floor(this._y),this._z-Math.floor(this._z))},Vector3.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)},Vector3.prototype.lengthSquared=function(){return this._x*this._x+this._y*this._y+this._z*this._z},Vector3.prototype.normalize=function(){return this.normalizeFromLength(this.length())},Vector3.prototype.reorderInPlace=function(t){var n=this;return t=t.toLowerCase(),"xyz"===t||(U.Vector3[0].copyFrom(this),["x","y","z"].forEach((function(u,c){n[u]=U.Vector3[0][t[c]]}))),this},Vector3.prototype.rotateByQuaternionToRef=function(t,n){return t.toRotationMatrix(U.Matrix[0]),Vector3.TransformCoordinatesToRef(this,U.Matrix[0],n),n},Vector3.prototype.rotateByQuaternionAroundPointToRef=function(t,n,u){return this.subtractToRef(n,U.Vector3[0]),U.Vector3[0].rotateByQuaternionToRef(t,U.Vector3[0]),n.addToRef(U.Vector3[0],u),u},Vector3.prototype.cross=function(t){return Vector3.Cross(this,t)},Vector3.prototype.normalizeFromLength=function(t){return 0===t||1===t?this:this.scaleInPlace(1/t)},Vector3.prototype.normalizeToNew=function(){var t=new Vector3(0,0,0);return this.normalizeToRef(t),t},Vector3.prototype.normalizeToRef=function(t){var n=this.length();return 0===n||1===n?t.copyFromFloats(this._x,this._y,this._z):this.scaleToRef(1/n,t)},Vector3.prototype.clone=function(){return new Vector3(this._x,this._y,this._z)},Vector3.prototype.copyFrom=function(t){return this.copyFromFloats(t._x,t._y,t._z)},Vector3.prototype.copyFromFloats=function(t,n,u){return this.x=t,this.y=n,this.z=u,this},Vector3.prototype.set=function(t,n,u){return this.copyFromFloats(t,n,u)},Vector3.prototype.setAll=function(t){return this.x=this.y=this.z=t,this},Vector3.GetClipFactor=function(t,n,u,c){var l=Vector3.Dot(t,u)-c,d=Vector3.Dot(n,u)-c,h=l/(l-d);return h},Vector3.GetAngleBetweenVectors=function(t,n,u){var c=t.normalizeToRef(U.Vector3[1]),l=n.normalizeToRef(U.Vector3[2]),d=Vector3.Dot(c,l),h=U.Vector3[3];return Vector3.CrossToRef(c,l,h),Vector3.Dot(h,u)>0?Math.acos(d):-Math.acos(d)},Vector3.FromArray=function(t,n){return void 0===n&&(n=0),new Vector3(t[n],t[n+1],t[n+2])},Vector3.FromFloatArray=function(t,n){return Vector3.FromArray(t,n)},Vector3.FromArrayToRef=function(t,n,u){u.x=t[n],u.y=t[n+1],u.z=t[n+2]},Vector3.FromFloatArrayToRef=function(t,n,u){return Vector3.FromArrayToRef(t,n,u)},Vector3.FromFloatsToRef=function(t,n,u,c){c.copyFromFloats(t,n,u)},Vector3.Zero=function(){return new Vector3(0,0,0)},Vector3.One=function(){return new Vector3(1,1,1)},Vector3.Up=function(){return new Vector3(0,1,0)},Object.defineProperty(Vector3,"UpReadOnly",{get:function(){return Vector3._UpReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(Vector3,"ZeroReadOnly",{get:function(){return Vector3._ZeroReadOnly},enumerable:!1,configurable:!0}),Vector3.Down=function(){return new Vector3(0,-1,0)},Vector3.Forward=function(t){return void 0===t&&(t=!1),new Vector3(0,0,t?-1:1)},Vector3.Backward=function(t){return void 0===t&&(t=!1),new Vector3(0,0,t?1:-1)},Vector3.Right=function(){return new Vector3(1,0,0)},Vector3.Left=function(){return new Vector3(-1,0,0)},Vector3.TransformCoordinates=function(t,n){var u=Vector3.Zero();return Vector3.TransformCoordinatesToRef(t,n,u),u},Vector3.TransformCoordinatesToRef=function(t,n,u){Vector3.TransformCoordinatesFromFloatsToRef(t._x,t._y,t._z,n,u)},Vector3.TransformCoordinatesFromFloatsToRef=function(t,n,u,c,l){var d=c.m,h=t*d[0]+n*d[4]+u*d[8]+d[12],p=t*d[1]+n*d[5]+u*d[9]+d[13],m=t*d[2]+n*d[6]+u*d[10]+d[14],_=1/(t*d[3]+n*d[7]+u*d[11]+d[15]);l.x=h*_,l.y=p*_,l.z=m*_},Vector3.TransformNormal=function(t,n){var u=Vector3.Zero();return Vector3.TransformNormalToRef(t,n,u),u},Vector3.TransformNormalToRef=function(t,n,u){this.TransformNormalFromFloatsToRef(t._x,t._y,t._z,n,u)},Vector3.TransformNormalFromFloatsToRef=function(t,n,u,c,l){var d=c.m;l.x=t*d[0]+n*d[4]+u*d[8],l.y=t*d[1]+n*d[5]+u*d[9],l.z=t*d[2]+n*d[6]+u*d[10]},Vector3.CatmullRom=function(t,n,u,c,l){var d=l*l,h=l*d,p=.5*(2*n._x+(-t._x+u._x)*l+(2*t._x-5*n._x+4*u._x-c._x)*d+(-t._x+3*n._x-3*u._x+c._x)*h),m=.5*(2*n._y+(-t._y+u._y)*l+(2*t._y-5*n._y+4*u._y-c._y)*d+(-t._y+3*n._y-3*u._y+c._y)*h),_=.5*(2*n._z+(-t._z+u._z)*l+(2*t._z-5*n._z+4*u._z-c._z)*d+(-t._z+3*n._z-3*u._z+c._z)*h);return new Vector3(p,m,_)},Vector3.Clamp=function(t,n,u){var c=new Vector3;return Vector3.ClampToRef(t,n,u,c),c},Vector3.ClampToRef=function(t,n,u,c){var l=t._x;l=l>u._x?u._x:l,l=l<n._x?n._x:l;var d=t._y;d=d>u._y?u._y:d,d=d<n._y?n._y:d;var h=t._z;h=h>u._z?u._z:h,h=h<n._z?n._z:h,c.copyFromFloats(l,d,h)},Vector3.CheckExtends=function(t,n,u){n.minimizeInPlace(t),u.maximizeInPlace(t)},Vector3.Hermite=function(t,n,u,c,l){var d=l*l,h=l*d,p=2*h-3*d+1,m=-2*h+3*d,_=h-2*d+l,g=h-d,b=t._x*p+u._x*m+n._x*_+c._x*g,v=t._y*p+u._y*m+n._y*_+c._y*g,U=t._z*p+u._z*m+n._z*_+c._z*g;return new Vector3(b,v,U)},Vector3.Lerp=function(t,n,u){var c=new Vector3(0,0,0);return Vector3.LerpToRef(t,n,u,c),c},Vector3.LerpToRef=function(t,n,u,c){c.x=t._x+(n._x-t._x)*u,c.y=t._y+(n._y-t._y)*u,c.z=t._z+(n._z-t._z)*u},Vector3.Dot=function(t,n){return t._x*n._x+t._y*n._y+t._z*n._z},Vector3.Cross=function(t,n){var u=Vector3.Zero();return Vector3.CrossToRef(t,n,u),u},Vector3.CrossToRef=function(t,n,u){var c=t._y*n._z-t._z*n._y,l=t._z*n._x-t._x*n._z,d=t._x*n._y-t._y*n._x;u.copyFromFloats(c,l,d)},Vector3.Normalize=function(t){var n=Vector3.Zero();return Vector3.NormalizeToRef(t,n),n},Vector3.NormalizeToRef=function(t,n){t.normalizeToRef(n)},Vector3.Project=function(t,n,u,c){var l=new Vector3;return Vector3.ProjectToRef(t,n,u,c,l),l},Vector3.ProjectToRef=function(t,n,u,c,l){var d=c.width,h=c.height,p=c.x,m=c.y,_=U.Matrix[1];v.FromValuesToRef(d/2,0,0,0,0,-h/2,0,0,0,0,.5,0,p+d/2,h/2+m,.5,1,_);var g=U.Matrix[0];return n.multiplyToRef(u,g),g.multiplyToRef(_,g),Vector3.TransformCoordinatesToRef(t,g,l),l},Vector3._UnprojectFromInvertedMatrixToRef=function(t,n,u){Vector3.TransformCoordinatesToRef(t,n,u);var l=n.m,d=t._x*l[3]+t._y*l[7]+t._z*l[11]+l[15];c["Scalar"].WithinEpsilon(d,1)&&u.scaleInPlace(1/d)},Vector3.UnprojectFromTransform=function(t,n,u,c,l){var d=U.Matrix[0];c.multiplyToRef(l,d),d.invert(),t.x=t._x/n*2-1,t.y=-(t._y/u*2-1);var h=new Vector3;return Vector3._UnprojectFromInvertedMatrixToRef(t,d,h),h},Vector3.Unproject=function(t,n,u,c,l,d){var h=Vector3.Zero();return Vector3.UnprojectToRef(t,n,u,c,l,d,h),h},Vector3.UnprojectToRef=function(t,n,u,c,l,d,h){Vector3.UnprojectFloatsToRef(t._x,t._y,t._z,n,u,c,l,d,h)},Vector3.UnprojectFloatsToRef=function(t,n,u,c,l,d,h,p,m){var _=U.Matrix[0];d.multiplyToRef(h,_),_.multiplyToRef(p,_),_.invert();var g=U.Vector3[0];g.x=t/c*2-1,g.y=-(n/l*2-1),g.z=2*u-1,Vector3._UnprojectFromInvertedMatrixToRef(g,_,m)},Vector3.Minimize=function(t,n){var u=t.clone();return u.minimizeInPlace(n),u},Vector3.Maximize=function(t,n){var u=t.clone();return u.maximizeInPlace(n),u},Vector3.Distance=function(t,n){return Math.sqrt(Vector3.DistanceSquared(t,n))},Vector3.DistanceSquared=function(t,n){var u=t._x-n._x,c=t._y-n._y,l=t._z-n._z;return u*u+c*c+l*l},Vector3.Center=function(t,n){var u=t.add(n);return u.scaleInPlace(.5),u},Vector3.RotationFromAxis=function(t,n,u){var c=Vector3.Zero();return Vector3.RotationFromAxisToRef(t,n,u,c),c},Vector3.RotationFromAxisToRef=function(t,n,u,c){var l=U.Quaternion[0];b.RotationQuaternionFromAxisToRef(t,n,u,l),l.toEulerAnglesToRef(c)},Vector3._UpReadOnly=Vector3.Up(),Vector3._ZeroReadOnly=Vector3.Zero(),Vector3}(),g=function(){function Vector4(t,n,u,c){this.x=t,this.y=n,this.z=u,this.w=c}return Vector4.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+" W:"+this.w+"}"},Vector4.prototype.getClassName=function(){return"Vector4"},Vector4.prototype.getHashCode=function(){var t=0|this.x;return t=397*t^(0|this.y),t=397*t^(0|this.z),t=397*t^(0|this.w),t},Vector4.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Vector4.prototype.toArray=function(t,n){return void 0===n&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,this},Vector4.prototype.fromArray=function(t,n){return void 0===n&&(n=0),Vector4.FromArrayToRef(t,n,this),this},Vector4.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},Vector4.prototype.add=function(t){return new Vector4(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)},Vector4.prototype.addToRef=function(t,n){return n.x=this.x+t.x,n.y=this.y+t.y,n.z=this.z+t.z,n.w=this.w+t.w,this},Vector4.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},Vector4.prototype.subtract=function(t){return new Vector4(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)},Vector4.prototype.subtractToRef=function(t,n){return n.x=this.x-t.x,n.y=this.y-t.y,n.z=this.z-t.z,n.w=this.w-t.w,this},Vector4.prototype.subtractFromFloats=function(t,n,u,c){return new Vector4(this.x-t,this.y-n,this.z-u,this.w-c)},Vector4.prototype.subtractFromFloatsToRef=function(t,n,u,c,l){return l.x=this.x-t,l.y=this.y-n,l.z=this.z-u,l.w=this.w-c,this},Vector4.prototype.negate=function(){return new Vector4(-this.x,-this.y,-this.z,-this.w)},Vector4.prototype.negateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.w*=-1,this},Vector4.prototype.negateToRef=function(t){return t.copyFromFloats(-1*this.x,-1*this.y,-1*this.z,-1*this.w)},Vector4.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},Vector4.prototype.scale=function(t){return new Vector4(this.x*t,this.y*t,this.z*t,this.w*t)},Vector4.prototype.scaleToRef=function(t,n){return n.x=this.x*t,n.y=this.y*t,n.z=this.z*t,n.w=this.w*t,this},Vector4.prototype.scaleAndAddToRef=function(t,n){return n.x+=this.x*t,n.y+=this.y*t,n.z+=this.z*t,n.w+=this.w*t,this},Vector4.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},Vector4.prototype.equalsWithEpsilon=function(t,n){return void 0===n&&(n=l["Epsilon"]),t&&c["Scalar"].WithinEpsilon(this.x,t.x,n)&&c["Scalar"].WithinEpsilon(this.y,t.y,n)&&c["Scalar"].WithinEpsilon(this.z,t.z,n)&&c["Scalar"].WithinEpsilon(this.w,t.w,n)},Vector4.prototype.equalsToFloats=function(t,n,u,c){return this.x===t&&this.y===n&&this.z===u&&this.w===c},Vector4.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this},Vector4.prototype.multiply=function(t){return new Vector4(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)},Vector4.prototype.multiplyToRef=function(t,n){return n.x=this.x*t.x,n.y=this.y*t.y,n.z=this.z*t.z,n.w=this.w*t.w,this},Vector4.prototype.multiplyByFloats=function(t,n,u,c){return new Vector4(this.x*t,this.y*n,this.z*u,this.w*c)},Vector4.prototype.divide=function(t){return new Vector4(this.x/t.x,this.y/t.y,this.z/t.z,this.w/t.w)},Vector4.prototype.divideToRef=function(t,n){return n.x=this.x/t.x,n.y=this.y/t.y,n.z=this.z/t.z,n.w=this.w/t.w,this},Vector4.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},Vector4.prototype.minimizeInPlace=function(t){return t.x<this.x&&(this.x=t.x),t.y<this.y&&(this.y=t.y),t.z<this.z&&(this.z=t.z),t.w<this.w&&(this.w=t.w),this},Vector4.prototype.maximizeInPlace=function(t){return t.x>this.x&&(this.x=t.x),t.y>this.y&&(this.y=t.y),t.z>this.z&&(this.z=t.z),t.w>this.w&&(this.w=t.w),this},Vector4.prototype.floor=function(){return new Vector4(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))},Vector4.prototype.fract=function(){return new Vector4(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z),this.w-Math.floor(this.w))},Vector4.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},Vector4.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},Vector4.prototype.normalize=function(){var t=this.length();return 0===t?this:this.scaleInPlace(1/t)},Vector4.prototype.toVector3=function(){return new _(this.x,this.y,this.z)},Vector4.prototype.clone=function(){return new Vector4(this.x,this.y,this.z,this.w)},Vector4.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},Vector4.prototype.copyFromFloats=function(t,n,u,c){return this.x=t,this.y=n,this.z=u,this.w=c,this},Vector4.prototype.set=function(t,n,u,c){return this.copyFromFloats(t,n,u,c)},Vector4.prototype.setAll=function(t){return this.x=this.y=this.z=this.w=t,this},Vector4.FromArray=function(t,n){return n||(n=0),new Vector4(t[n],t[n+1],t[n+2],t[n+3])},Vector4.FromArrayToRef=function(t,n,u){u.x=t[n],u.y=t[n+1],u.z=t[n+2],u.w=t[n+3]},Vector4.FromFloatArrayToRef=function(t,n,u){Vector4.FromArrayToRef(t,n,u)},Vector4.FromFloatsToRef=function(t,n,u,c,l){l.x=t,l.y=n,l.z=u,l.w=c},Vector4.Zero=function(){return new Vector4(0,0,0,0)},Vector4.One=function(){return new Vector4(1,1,1,1)},Vector4.Normalize=function(t){var n=Vector4.Zero();return Vector4.NormalizeToRef(t,n),n},Vector4.NormalizeToRef=function(t,n){n.copyFrom(t),n.normalize()},Vector4.Minimize=function(t,n){var u=t.clone();return u.minimizeInPlace(n),u},Vector4.Maximize=function(t,n){var u=t.clone();return u.maximizeInPlace(n),u},Vector4.Distance=function(t,n){return Math.sqrt(Vector4.DistanceSquared(t,n))},Vector4.DistanceSquared=function(t,n){var u=t.x-n.x,c=t.y-n.y,l=t.z-n.z,d=t.w-n.w;return u*u+c*c+l*l+d*d},Vector4.Center=function(t,n){var u=t.add(n);return u.scaleInPlace(.5),u},Vector4.TransformNormal=function(t,n){var u=Vector4.Zero();return Vector4.TransformNormalToRef(t,n,u),u},Vector4.TransformNormalToRef=function(t,n,u){var c=n.m,l=t.x*c[0]+t.y*c[4]+t.z*c[8],d=t.x*c[1]+t.y*c[5]+t.z*c[9],h=t.x*c[2]+t.y*c[6]+t.z*c[10];u.x=l,u.y=d,u.z=h,u.w=t.w},Vector4.TransformNormalFromFloatsToRef=function(t,n,u,c,l,d){var h=l.m;d.x=t*h[0]+n*h[4]+u*h[8],d.y=t*h[1]+n*h[5]+u*h[9],d.z=t*h[2]+n*h[6]+u*h[10],d.w=c},Vector4.FromVector3=function(t,n){return void 0===n&&(n=0),new Vector4(t._x,t._y,t._z,n)},Vector4}(),b=function(){function Quaternion(t,n,u,c){void 0===t&&(t=0),void 0===n&&(n=0),void 0===u&&(u=0),void 0===c&&(c=1),this._isDirty=!0,this._x=t,this._y=n,this._z=u,this._w=c}return Object.defineProperty(Quaternion.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Quaternion.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Quaternion.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Quaternion.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Quaternion.prototype.toString=function(){return"{X: "+this._x+" Y:"+this._y+" Z:"+this._z+" W:"+this._w+"}"},Quaternion.prototype.getClassName=function(){return"Quaternion"},Quaternion.prototype.getHashCode=function(){var t=0|this._x;return t=397*t^(0|this._y),t=397*t^(0|this._z),t=397*t^(0|this._w),t},Quaternion.prototype.asArray=function(){return[this._x,this._y,this._z,this._w]},Quaternion.prototype.equals=function(t){return t&&this._x===t._x&&this._y===t._y&&this._z===t._z&&this._w===t._w},Quaternion.prototype.equalsWithEpsilon=function(t,n){return void 0===n&&(n=l["Epsilon"]),t&&c["Scalar"].WithinEpsilon(this._x,t._x,n)&&c["Scalar"].WithinEpsilon(this._y,t._y,n)&&c["Scalar"].WithinEpsilon(this._z,t._z,n)&&c["Scalar"].WithinEpsilon(this._w,t._w,n)},Quaternion.prototype.clone=function(){return new Quaternion(this._x,this._y,this._z,this._w)},Quaternion.prototype.copyFrom=function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this.w=t._w,this},Quaternion.prototype.copyFromFloats=function(t,n,u,c){return this.x=t,this.y=n,this.z=u,this.w=c,this},Quaternion.prototype.set=function(t,n,u,c){return this.copyFromFloats(t,n,u,c)},Quaternion.prototype.add=function(t){return new Quaternion(this._x+t._x,this._y+t._y,this._z+t._z,this._w+t._w)},Quaternion.prototype.addInPlace=function(t){return this._x+=t._x,this._y+=t._y,this._z+=t._z,this._w+=t._w,this},Quaternion.prototype.subtract=function(t){return new Quaternion(this._x-t._x,this._y-t._y,this._z-t._z,this._w-t._w)},Quaternion.prototype.scale=function(t){return new Quaternion(this._x*t,this._y*t,this._z*t,this._w*t)},Quaternion.prototype.scaleToRef=function(t,n){return n.x=this._x*t,n.y=this._y*t,n.z=this._z*t,n.w=this._w*t,this},Quaternion.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},Quaternion.prototype.scaleAndAddToRef=function(t,n){return n.x+=this._x*t,n.y+=this._y*t,n.z+=this._z*t,n.w+=this._w*t,this},Quaternion.prototype.multiply=function(t){var n=new Quaternion(0,0,0,1);return this.multiplyToRef(t,n),n},Quaternion.prototype.multiplyToRef=function(t,n){var u=this._x*t._w+this._y*t._z-this._z*t._y+this._w*t._x,c=-this._x*t._z+this._y*t._w+this._z*t._x+this._w*t._y,l=this._x*t._y-this._y*t._x+this._z*t._w+this._w*t._z,d=-this._x*t._x-this._y*t._y-this._z*t._z+this._w*t._w;return n.copyFromFloats(u,c,l,d),this},Quaternion.prototype.multiplyInPlace=function(t){return this.multiplyToRef(t,this),this},Quaternion.prototype.conjugateToRef=function(t){return t.copyFromFloats(-this._x,-this._y,-this._z,this._w),this},Quaternion.prototype.conjugateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},Quaternion.prototype.conjugate=function(){var t=new Quaternion(-this._x,-this._y,-this._z,this._w);return t},Quaternion.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},Quaternion.prototype.normalize=function(){var t=this.length();if(0===t)return this;var n=1/t;return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this},Quaternion.prototype.toEulerAngles=function(t){void 0===t&&(t="YZX");var n=_.Zero();return this.toEulerAnglesToRef(n),n},Quaternion.prototype.toEulerAnglesToRef=function(t){var n=this._z,u=this._x,c=this._y,l=this._w,d=l*l,h=n*n,p=u*u,m=c*c,_=c*n-u*l,g=.4999999;return _<-g?(t.y=2*Math.atan2(c,l),t.x=Math.PI/2,t.z=0):_>g?(t.y=2*Math.atan2(c,l),t.x=-Math.PI/2,t.z=0):(t.z=Math.atan2(2*(u*c+n*l),-h-p+m+d),t.x=Math.asin(-2*(n*c-u*l)),t.y=Math.atan2(2*(n*u+c*l),h-p-m+d)),this},Quaternion.prototype.toRotationMatrix=function(t){return v.FromQuaternionToRef(this,t),this},Quaternion.prototype.fromRotationMatrix=function(t){return Quaternion.FromRotationMatrixToRef(t,this),this},Quaternion.FromRotationMatrix=function(t){var n=new Quaternion;return Quaternion.FromRotationMatrixToRef(t,n),n},Quaternion.FromRotationMatrixToRef=function(t,n){var u,c=t.m,l=c[0],d=c[4],h=c[8],p=c[1],m=c[5],_=c[9],g=c[2],b=c[6],v=c[10],U=l+m+v;U>0?(u=.5/Math.sqrt(U+1),n.w=.25/u,n.x=(b-_)*u,n.y=(h-g)*u,n.z=(p-d)*u):l>m&&l>v?(u=2*Math.sqrt(1+l-m-v),n.w=(b-_)/u,n.x=.25*u,n.y=(d+p)/u,n.z=(h+g)/u):m>v?(u=2*Math.sqrt(1+m-l-v),n.w=(h-g)/u,n.x=(d+p)/u,n.y=.25*u,n.z=(_+b)/u):(u=2*Math.sqrt(1+v-l-m),n.w=(p-d)/u,n.x=(h+g)/u,n.y=(_+b)/u,n.z=.25*u)},Quaternion.Dot=function(t,n){return t._x*n._x+t._y*n._y+t._z*n._z+t._w*n._w},Quaternion.AreClose=function(t,n){var u=Quaternion.Dot(t,n);return u>=0},Quaternion.Zero=function(){return new Quaternion(0,0,0,0)},Quaternion.Inverse=function(t){return new Quaternion(-t._x,-t._y,-t._z,t._w)},Quaternion.InverseToRef=function(t,n){return n.set(-t._x,-t._y,-t._z,t._w),n},Quaternion.Identity=function(){return new Quaternion(0,0,0,1)},Quaternion.IsIdentity=function(t){return t&&0===t._x&&0===t._y&&0===t._z&&1===t._w},Quaternion.RotationAxis=function(t,n){return Quaternion.RotationAxisToRef(t,n,new Quaternion)},Quaternion.RotationAxisToRef=function(t,n,u){var c=Math.sin(n/2);return t.normalize(),u.w=Math.cos(n/2),u.x=t._x*c,u.y=t._y*c,u.z=t._z*c,u},Quaternion.FromArray=function(t,n){return n||(n=0),new Quaternion(t[n],t[n+1],t[n+2],t[n+3])},Quaternion.FromArrayToRef=function(t,n,u){u.x=t[n],u.y=t[n+1],u.z=t[n+2],u.w=t[n+3]},Quaternion.FromEulerAngles=function(t,n,u){var c=new Quaternion;return Quaternion.RotationYawPitchRollToRef(n,t,u,c),c},Quaternion.FromEulerAnglesToRef=function(t,n,u,c){return Quaternion.RotationYawPitchRollToRef(n,t,u,c),c},Quaternion.FromEulerVector=function(t){var n=new Quaternion;return Quaternion.RotationYawPitchRollToRef(t._y,t._x,t._z,n),n},Quaternion.FromEulerVectorToRef=function(t,n){return Quaternion.RotationYawPitchRollToRef(t._y,t._x,t._z,n),n},Quaternion.RotationYawPitchRoll=function(t,n,u){var c=new Quaternion;return Quaternion.RotationYawPitchRollToRef(t,n,u,c),c},Quaternion.RotationYawPitchRollToRef=function(t,n,u,c){var l=.5*u,d=.5*n,h=.5*t,p=Math.sin(l),m=Math.cos(l),_=Math.sin(d),g=Math.cos(d),b=Math.sin(h),v=Math.cos(h);c.x=v*_*m+b*g*p,c.y=b*g*m-v*_*p,c.z=v*g*p-b*_*m,c.w=v*g*m+b*_*p},Quaternion.RotationAlphaBetaGamma=function(t,n,u){var c=new Quaternion;return Quaternion.RotationAlphaBetaGammaToRef(t,n,u,c),c},Quaternion.RotationAlphaBetaGammaToRef=function(t,n,u,c){var l=.5*(u+t),d=.5*(u-t),h=.5*n;c.x=Math.cos(d)*Math.sin(h),c.y=Math.sin(d)*Math.sin(h),c.z=Math.sin(l)*Math.cos(h),c.w=Math.cos(l)*Math.cos(h)},Quaternion.RotationQuaternionFromAxis=function(t,n,u){var c=new Quaternion(0,0,0,0);return Quaternion.RotationQuaternionFromAxisToRef(t,n,u,c),c},Quaternion.RotationQuaternionFromAxisToRef=function(t,n,u,c){var l=U.Matrix[0];v.FromXYZAxesToRef(t.normalize(),n.normalize(),u.normalize(),l),Quaternion.FromRotationMatrixToRef(l,c)},Quaternion.Slerp=function(t,n,u){var c=Quaternion.Identity();return Quaternion.SlerpToRef(t,n,u,c),c},Quaternion.SlerpToRef=function(t,n,u,c){var l,d,h=t._x*n._x+t._y*n._y+t._z*n._z+t._w*n._w,p=!1;if(h<0&&(p=!0,h=-h),h>.999999)d=1-u,l=p?-u:u;else{var m=Math.acos(h),_=1/Math.sin(m);d=Math.sin((1-u)*m)*_,l=p?-Math.sin(u*m)*_:Math.sin(u*m)*_}c.x=d*t._x+l*n._x,c.y=d*t._y+l*n._y,c.z=d*t._z+l*n._z,c.w=d*t._w+l*n._w},Quaternion.Hermite=function(t,n,u,c,l){var d=l*l,h=l*d,p=2*h-3*d+1,m=-2*h+3*d,_=h-2*d+l,g=h-d,b=t._x*p+u._x*m+n._x*_+c._x*g,v=t._y*p+u._y*m+n._y*_+c._y*g,U=t._z*p+u._z*m+n._z*_+c._z*g,G=t._w*p+u._w*m+n._w*_+c._w*g;return new Quaternion(b,v,U,G)},Quaternion}(),v=function(){function Matrix(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this.updateFlag=-1,p["PerformanceConfigurator"].MatrixTrackPrecisionChange&&p["PerformanceConfigurator"].MatrixTrackedMatrices.push(this),this._m=new p["PerformanceConfigurator"].MatrixCurrentType(16),this._updateIdentityStatus(!1)}return Object.defineProperty(Matrix,"Use64Bits",{get:function(){return p["PerformanceConfigurator"].MatrixUse64Bits},enumerable:!1,configurable:!0}),Object.defineProperty(Matrix.prototype,"m",{get:function(){return this._m},enumerable:!1,configurable:!0}),Matrix.prototype._markAsUpdated=function(){this.updateFlag=Matrix._updateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0},Matrix.prototype._updateIdentityStatus=function(t,n,u,c){void 0===n&&(n=!1),void 0===u&&(u=!1),void 0===c&&(c=!0),this.updateFlag=Matrix._updateFlagSeed++,this._isIdentity=t,this._isIdentity3x2=t||u,this._isIdentityDirty=!this._isIdentity&&n,this._isIdentity3x2Dirty=!this._isIdentity3x2&&c},Matrix.prototype.isIdentity=function(){if(this._isIdentityDirty){this._isIdentityDirty=!1;var t=this._m;this._isIdentity=1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}return this._isIdentity},Matrix.prototype.isIdentityAs3x2=function(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this._m[0]||1!==this._m[5]||1!==this._m[15]||0!==this._m[1]||0!==this._m[2]||0!==this._m[3]||0!==this._m[4]||0!==this._m[6]||0!==this._m[7]||0!==this._m[8]||0!==this._m[9]||0!==this._m[10]||0!==this._m[11]||0!==this._m[12]||0!==this._m[13]||0!==this._m[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2},Matrix.prototype.determinant=function(){if(!0===this._isIdentity)return 1;var t=this._m,n=t[0],u=t[1],c=t[2],l=t[3],d=t[4],h=t[5],p=t[6],m=t[7],_=t[8],g=t[9],b=t[10],v=t[11],U=t[12],G=t[13],W=t[14],X=t[15],q=b*X-W*v,K=g*X-G*v,Y=g*W-G*b,Q=_*X-U*v,Z=_*W-b*U,$=_*G-U*g,J=+(h*q-p*K+m*Y),ee=-(d*q-p*Q+m*Z),te=+(d*K-h*Q+m*$),re=-(d*Y-h*Z+p*$);return n*J+u*ee+c*te+l*re},Matrix.prototype.toArray=function(){return this._m},Matrix.prototype.asArray=function(){return this._m},Matrix.prototype.invert=function(){return this.invertToRef(this),this},Matrix.prototype.reset=function(){return Matrix.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this},Matrix.prototype.add=function(t){var n=new Matrix;return this.addToRef(t,n),n},Matrix.prototype.addToRef=function(t,n){for(var u=this._m,c=n._m,l=t.m,d=0;d<16;d++)c[d]=u[d]+l[d];return n._markAsUpdated(),this},Matrix.prototype.addToSelf=function(t){for(var n=this._m,u=t.m,c=0;c<16;c++)n[c]+=u[c];return this._markAsUpdated(),this},Matrix.prototype.invertToRef=function(t){if(!0===this._isIdentity)return Matrix.IdentityToRef(t),this;var n=this._m,u=n[0],c=n[1],l=n[2],d=n[3],h=n[4],p=n[5],m=n[6],_=n[7],g=n[8],b=n[9],v=n[10],U=n[11],G=n[12],W=n[13],X=n[14],q=n[15],K=v*q-X*U,Y=b*q-W*U,Q=b*X-W*v,Z=g*q-G*U,$=g*X-v*G,J=g*W-G*b,ee=+(p*K-m*Y+_*Q),te=-(h*K-m*Z+_*$),re=+(h*Y-p*Z+_*J),ne=-(h*Q-p*$+m*J),ie=u*ee+c*te+l*re+d*ne;if(0===ie)return t.copyFrom(this),this;var oe=1/ie,se=m*q-X*_,ae=p*q-W*_,ue=p*X-W*m,ce=h*q-G*_,le=h*X-G*m,de=h*W-G*p,he=m*U-v*_,fe=p*U-b*_,pe=p*v-b*m,me=h*U-g*_,_e=h*v-g*m,ge=h*b-g*p,be=-(c*K-l*Y+d*Q),ve=+(u*K-l*Z+d*$),ye=-(u*Y-c*Z+d*J),xe=+(u*Q-c*$+l*J),Me=+(c*se-l*ae+d*ue),Te=-(u*se-l*ce+d*le),Se=+(u*ae-c*ce+d*de),Ce=-(u*ue-c*le+l*de),Ee=-(c*he-l*fe+d*pe),Oe=+(u*he-l*me+d*_e),Pe=-(u*fe-c*me+d*ge),je=+(u*pe-c*_e+l*ge);return Matrix.FromValuesToRef(ee*oe,be*oe,Me*oe,Ee*oe,te*oe,ve*oe,Te*oe,Oe*oe,re*oe,ye*oe,Se*oe,Pe*oe,ne*oe,xe*oe,Ce*oe,je*oe,t),this},Matrix.prototype.addAtIndex=function(t,n){return this._m[t]+=n,this._markAsUpdated(),this},Matrix.prototype.multiplyAtIndex=function(t,n){return this._m[t]*=n,this._markAsUpdated(),this},Matrix.prototype.setTranslationFromFloats=function(t,n,u){return this._m[12]=t,this._m[13]=n,this._m[14]=u,this._markAsUpdated(),this},Matrix.prototype.addTranslationFromFloats=function(t,n,u){return this._m[12]+=t,this._m[13]+=n,this._m[14]+=u,this._markAsUpdated(),this},Matrix.prototype.setTranslation=function(t){return this.setTranslationFromFloats(t._x,t._y,t._z)},Matrix.prototype.getTranslation=function(){return new _(this._m[12],this._m[13],this._m[14])},Matrix.prototype.getTranslationToRef=function(t){return t.x=this._m[12],t.y=this._m[13],t.z=this._m[14],this},Matrix.prototype.removeRotationAndScaling=function(){var t=this.m;return Matrix.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,t[12],t[13],t[14],t[15],this),this._updateIdentityStatus(0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]),this},Matrix.prototype.multiply=function(t){var n=new Matrix;return this.multiplyToRef(t,n),n},Matrix.prototype.copyFrom=function(t){t.copyToArray(this._m);var n=t;return this._updateIdentityStatus(n._isIdentity,n._isIdentityDirty,n._isIdentity3x2,n._isIdentity3x2Dirty),this},Matrix.prototype.copyToArray=function(t,n){void 0===n&&(n=0);var u=this._m;return t[n]=u[0],t[n+1]=u[1],t[n+2]=u[2],t[n+3]=u[3],t[n+4]=u[4],t[n+5]=u[5],t[n+6]=u[6],t[n+7]=u[7],t[n+8]=u[8],t[n+9]=u[9],t[n+10]=u[10],t[n+11]=u[11],t[n+12]=u[12],t[n+13]=u[13],t[n+14]=u[14],t[n+15]=u[15],this},Matrix.prototype.multiplyToRef=function(t,n){return this._isIdentity?(n.copyFrom(t),this):t._isIdentity?(n.copyFrom(this),this):(this.multiplyToArray(t,n._m,0),n._markAsUpdated(),this)},Matrix.prototype.multiplyToArray=function(t,n,u){var c=this._m,l=t.m,d=c[0],h=c[1],p=c[2],m=c[3],_=c[4],g=c[5],b=c[6],v=c[7],U=c[8],G=c[9],W=c[10],X=c[11],q=c[12],K=c[13],Y=c[14],Q=c[15],Z=l[0],$=l[1],J=l[2],ee=l[3],te=l[4],re=l[5],ne=l[6],ie=l[7],oe=l[8],se=l[9],ae=l[10],ue=l[11],ce=l[12],le=l[13],de=l[14],he=l[15];return n[u]=d*Z+h*te+p*oe+m*ce,n[u+1]=d*$+h*re+p*se+m*le,n[u+2]=d*J+h*ne+p*ae+m*de,n[u+3]=d*ee+h*ie+p*ue+m*he,n[u+4]=_*Z+g*te+b*oe+v*ce,n[u+5]=_*$+g*re+b*se+v*le,n[u+6]=_*J+g*ne+b*ae+v*de,n[u+7]=_*ee+g*ie+b*ue+v*he,n[u+8]=U*Z+G*te+W*oe+X*ce,n[u+9]=U*$+G*re+W*se+X*le,n[u+10]=U*J+G*ne+W*ae+X*de,n[u+11]=U*ee+G*ie+W*ue+X*he,n[u+12]=q*Z+K*te+Y*oe+Q*ce,n[u+13]=q*$+K*re+Y*se+Q*le,n[u+14]=q*J+K*ne+Y*ae+Q*de,n[u+15]=q*ee+K*ie+Y*ue+Q*he,this},Matrix.prototype.equals=function(t){var n=t;if(!n)return!1;if((this._isIdentity||n._isIdentity)&&!this._isIdentityDirty&&!n._isIdentityDirty)return this._isIdentity&&n._isIdentity;var u=this.m,c=n.m;return u[0]===c[0]&&u[1]===c[1]&&u[2]===c[2]&&u[3]===c[3]&&u[4]===c[4]&&u[5]===c[5]&&u[6]===c[6]&&u[7]===c[7]&&u[8]===c[8]&&u[9]===c[9]&&u[10]===c[10]&&u[11]===c[11]&&u[12]===c[12]&&u[13]===c[13]&&u[14]===c[14]&&u[15]===c[15]},Matrix.prototype.clone=function(){var t=new Matrix;return t.copyFrom(this),t},Matrix.prototype.getClassName=function(){return"Matrix"},Matrix.prototype.getHashCode=function(){for(var t=0|this._m[0],n=1;n<16;n++)t=397*t^(0|this._m[n]);return t},Matrix.prototype.decompose=function(t,n,u){if(this._isIdentity)return u&&u.setAll(0),t&&t.setAll(1),n&&n.copyFromFloats(0,0,0,1),!0;var c=this._m;if(u&&u.copyFromFloats(c[12],c[13],c[14]),t=t||U.Vector3[0],t.x=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]),t.y=Math.sqrt(c[4]*c[4]+c[5]*c[5]+c[6]*c[6]),t.z=Math.sqrt(c[8]*c[8]+c[9]*c[9]+c[10]*c[10]),this.determinant()<=0&&(t.y*=-1),0===t._x||0===t._y||0===t._z)return n&&n.copyFromFloats(0,0,0,1),!1;if(n){var l=1/t._x,d=1/t._y,h=1/t._z;Matrix.FromValuesToRef(c[0]*l,c[1]*l,c[2]*l,0,c[4]*d,c[5]*d,c[6]*d,0,c[8]*h,c[9]*h,c[10]*h,0,0,0,0,1,U.Matrix[0]),b.FromRotationMatrixToRef(U.Matrix[0],n)}return!0},Matrix.prototype.getRow=function(t){if(t<0||t>3)return null;var n=4*t;return new g(this._m[n+0],this._m[n+1],this._m[n+2],this._m[n+3])},Matrix.prototype.setRow=function(t,n){return this.setRowFromFloats(t,n.x,n.y,n.z,n.w)},Matrix.prototype.transpose=function(){return Matrix.Transpose(this)},Matrix.prototype.transposeToRef=function(t){return Matrix.TransposeToRef(this,t),this},Matrix.prototype.setRowFromFloats=function(t,n,u,c,l){if(t<0||t>3)return this;var d=4*t;return this._m[d+0]=n,this._m[d+1]=u,this._m[d+2]=c,this._m[d+3]=l,this._markAsUpdated(),this},Matrix.prototype.scale=function(t){var n=new Matrix;return this.scaleToRef(t,n),n},Matrix.prototype.scaleToRef=function(t,n){for(var u=0;u<16;u++)n._m[u]=this._m[u]*t;return n._markAsUpdated(),this},Matrix.prototype.scaleAndAddToRef=function(t,n){for(var u=0;u<16;u++)n._m[u]+=this._m[u]*t;return n._markAsUpdated(),this},Matrix.prototype.toNormalMatrix=function(t){var n=U.Matrix[0];this.invertToRef(n),n.transposeToRef(t);var u=t._m;Matrix.FromValuesToRef(u[0],u[1],u[2],0,u[4],u[5],u[6],0,u[8],u[9],u[10],0,0,0,0,1,t)},Matrix.prototype.getRotationMatrix=function(){var t=new Matrix;return this.getRotationMatrixToRef(t),t},Matrix.prototype.getRotationMatrixToRef=function(t){var n=U.Vector3[0];if(!this.decompose(n))return Matrix.IdentityToRef(t),this;var u=this._m,c=1/n._x,l=1/n._y,d=1/n._z;return Matrix.FromValuesToRef(u[0]*c,u[1]*c,u[2]*c,0,u[4]*l,u[5]*l,u[6]*l,0,u[8]*d,u[9]*d,u[10]*d,0,0,0,0,1,t),this},Matrix.prototype.toggleModelMatrixHandInPlace=function(){var t=this._m;t[2]*=-1,t[6]*=-1,t[8]*=-1,t[9]*=-1,t[14]*=-1,this._markAsUpdated()},Matrix.prototype.toggleProjectionMatrixHandInPlace=function(){var t=this._m;t[8]*=-1,t[9]*=-1,t[10]*=-1,t[11]*=-1,this._markAsUpdated()},Matrix.FromArray=function(t,n){void 0===n&&(n=0);var u=new Matrix;return Matrix.FromArrayToRef(t,n,u),u},Matrix.FromArrayToRef=function(t,n,u){for(var c=0;c<16;c++)u._m[c]=t[c+n];u._markAsUpdated()},Matrix.FromFloat32ArrayToRefScaled=function(t,n,u,c){for(var l=0;l<16;l++)c._m[l]=t[l+n]*u;c._markAsUpdated()},Object.defineProperty(Matrix,"IdentityReadOnly",{get:function(){return Matrix._identityReadOnly},enumerable:!1,configurable:!0}),Matrix.FromValuesToRef=function(t,n,u,c,l,d,h,p,m,_,g,b,v,U,G,W,X){var q=X._m;q[0]=t,q[1]=n,q[2]=u,q[3]=c,q[4]=l,q[5]=d,q[6]=h,q[7]=p,q[8]=m,q[9]=_,q[10]=g,q[11]=b,q[12]=v,q[13]=U,q[14]=G,q[15]=W,X._markAsUpdated()},Matrix.FromValues=function(t,n,u,c,l,d,h,p,m,_,g,b,v,U,G,W){var X=new Matrix,q=X._m;return q[0]=t,q[1]=n,q[2]=u,q[3]=c,q[4]=l,q[5]=d,q[6]=h,q[7]=p,q[8]=m,q[9]=_,q[10]=g,q[11]=b,q[12]=v,q[13]=U,q[14]=G,q[15]=W,X._markAsUpdated(),X},Matrix.Compose=function(t,n,u){var c=new Matrix;return Matrix.ComposeToRef(t,n,u,c),c},Matrix.ComposeToRef=function(t,n,u,c){var l=c._m,d=n._x,h=n._y,p=n._z,m=n._w,_=d+d,g=h+h,b=p+p,v=d*_,U=d*g,G=d*b,W=h*g,X=h*b,q=p*b,K=m*_,Y=m*g,Q=m*b,Z=t._x,$=t._y,J=t._z;l[0]=(1-(W+q))*Z,l[1]=(U+Q)*Z,l[2]=(G-Y)*Z,l[3]=0,l[4]=(U-Q)*$,l[5]=(1-(v+q))*$,l[6]=(X+K)*$,l[7]=0,l[8]=(G+Y)*J,l[9]=(X-K)*J,l[10]=(1-(v+W))*J,l[11]=0,l[12]=u._x,l[13]=u._y,l[14]=u._z,l[15]=1,c._markAsUpdated()},Matrix.Identity=function(){var t=Matrix.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return t._updateIdentityStatus(!0),t},Matrix.IdentityToRef=function(t){Matrix.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,t),t._updateIdentityStatus(!0)},Matrix.Zero=function(){var t=Matrix.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return t._updateIdentityStatus(!1),t},Matrix.RotationX=function(t){var n=new Matrix;return Matrix.RotationXToRef(t,n),n},Matrix.Invert=function(t){var n=new Matrix;return t.invertToRef(n),n},Matrix.RotationXToRef=function(t,n){var u=Math.sin(t),c=Math.cos(t);Matrix.FromValuesToRef(1,0,0,0,0,c,u,0,0,-u,c,0,0,0,0,1,n),n._updateIdentityStatus(1===c&&0===u)},Matrix.RotationY=function(t){var n=new Matrix;return Matrix.RotationYToRef(t,n),n},Matrix.RotationYToRef=function(t,n){var u=Math.sin(t),c=Math.cos(t);Matrix.FromValuesToRef(c,0,-u,0,0,1,0,0,u,0,c,0,0,0,0,1,n),n._updateIdentityStatus(1===c&&0===u)},Matrix.RotationZ=function(t){var n=new Matrix;return Matrix.RotationZToRef(t,n),n},Matrix.RotationZToRef=function(t,n){var u=Math.sin(t),c=Math.cos(t);Matrix.FromValuesToRef(c,u,0,0,-u,c,0,0,0,0,1,0,0,0,0,1,n),n._updateIdentityStatus(1===c&&0===u)},Matrix.RotationAxis=function(t,n){var u=new Matrix;return Matrix.RotationAxisToRef(t,n,u),u},Matrix.RotationAxisToRef=function(t,n,u){var c=Math.sin(-n),l=Math.cos(-n),d=1-l;t.normalize();var h=u._m;h[0]=t._x*t._x*d+l,h[1]=t._x*t._y*d-t._z*c,h[2]=t._x*t._z*d+t._y*c,h[3]=0,h[4]=t._y*t._x*d+t._z*c,h[5]=t._y*t._y*d+l,h[6]=t._y*t._z*d-t._x*c,h[7]=0,h[8]=t._z*t._x*d-t._y*c,h[9]=t._z*t._y*d+t._x*c,h[10]=t._z*t._z*d+l,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,u._markAsUpdated()},Matrix.RotationAlignToRef=function(t,n,u){var c=_.Cross(n,t),l=_.Dot(n,t),d=1/(1+l),h=u._m;h[0]=c._x*c._x*d+l,h[1]=c._y*c._x*d-c._z,h[2]=c._z*c._x*d+c._y,h[3]=0,h[4]=c._x*c._y*d+c._z,h[5]=c._y*c._y*d+l,h[6]=c._z*c._y*d-c._x,h[7]=0,h[8]=c._x*c._z*d-c._y,h[9]=c._y*c._z*d+c._x,h[10]=c._z*c._z*d+l,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,u._markAsUpdated()},Matrix.RotationYawPitchRoll=function(t,n,u){var c=new Matrix;return Matrix.RotationYawPitchRollToRef(t,n,u,c),c},Matrix.RotationYawPitchRollToRef=function(t,n,u,c){b.RotationYawPitchRollToRef(t,n,u,U.Quaternion[0]),U.Quaternion[0].toRotationMatrix(c)},Matrix.Scaling=function(t,n,u){var c=new Matrix;return Matrix.ScalingToRef(t,n,u,c),c},Matrix.ScalingToRef=function(t,n,u,c){Matrix.FromValuesToRef(t,0,0,0,0,n,0,0,0,0,u,0,0,0,0,1,c),c._updateIdentityStatus(1===t&&1===n&&1===u)},Matrix.Translation=function(t,n,u){var c=new Matrix;return Matrix.TranslationToRef(t,n,u,c),c},Matrix.TranslationToRef=function(t,n,u,c){Matrix.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,t,n,u,1,c),c._updateIdentityStatus(0===t&&0===n&&0===u)},Matrix.Lerp=function(t,n,u){var c=new Matrix;return Matrix.LerpToRef(t,n,u,c),c},Matrix.LerpToRef=function(t,n,u,c){for(var l=c._m,d=t.m,h=n.m,p=0;p<16;p++)l[p]=d[p]*(1-u)+h[p]*u;c._markAsUpdated()},Matrix.DecomposeLerp=function(t,n,u){var c=new Matrix;return Matrix.DecomposeLerpToRef(t,n,u,c),c},Matrix.DecomposeLerpToRef=function(t,n,u,c){var l=U.Vector3[0],d=U.Quaternion[0],h=U.Vector3[1];t.decompose(l,d,h);var p=U.Vector3[2],m=U.Quaternion[1],g=U.Vector3[3];n.decompose(p,m,g);var v=U.Vector3[4];_.LerpToRef(l,p,u,v);var G=U.Quaternion[2];b.SlerpToRef(d,m,u,G);var W=U.Vector3[5];_.LerpToRef(h,g,u,W),Matrix.ComposeToRef(v,G,W,c)},Matrix.LookAtLH=function(t,n,u){var c=new Matrix;return Matrix.LookAtLHToRef(t,n,u,c),c},Matrix.LookAtLHToRef=function(t,n,u,c){var l=U.Vector3[0],d=U.Vector3[1],h=U.Vector3[2];n.subtractToRef(t,h),h.normalize(),_.CrossToRef(u,h,l);var p=l.lengthSquared();0===p?l.x=1:l.normalizeFromLength(Math.sqrt(p)),_.CrossToRef(h,l,d),d.normalize();var m=-_.Dot(l,t),g=-_.Dot(d,t),b=-_.Dot(h,t);Matrix.FromValuesToRef(l._x,d._x,h._x,0,l._y,d._y,h._y,0,l._z,d._z,h._z,0,m,g,b,1,c)},Matrix.LookAtRH=function(t,n,u){var c=new Matrix;return Matrix.LookAtRHToRef(t,n,u,c),c},Matrix.LookAtRHToRef=function(t,n,u,c){var l=U.Vector3[0],d=U.Vector3[1],h=U.Vector3[2];t.subtractToRef(n,h),h.normalize(),_.CrossToRef(u,h,l);var p=l.lengthSquared();0===p?l.x=1:l.normalizeFromLength(Math.sqrt(p)),_.CrossToRef(h,l,d),d.normalize();var m=-_.Dot(l,t),g=-_.Dot(d,t),b=-_.Dot(h,t);Matrix.FromValuesToRef(l._x,d._x,h._x,0,l._y,d._y,h._y,0,l._z,d._z,h._z,0,m,g,b,1,c)},Matrix.OrthoLH=function(t,n,u,c){var l=new Matrix;return Matrix.OrthoLHToRef(t,n,u,c,l),l},Matrix.OrthoLHToRef=function(t,n,u,c,l){var d=u,h=c,p=2/t,m=2/n,_=2/(h-d),g=-(h+d)/(h-d);Matrix.FromValuesToRef(p,0,0,0,0,m,0,0,0,0,_,0,0,0,g,1,l),l._updateIdentityStatus(1===p&&1===m&&1===_&&0===g)},Matrix.OrthoOffCenterLH=function(t,n,u,c,l,d){var h=new Matrix;return Matrix.OrthoOffCenterLHToRef(t,n,u,c,l,d,h),h},Matrix.OrthoOffCenterLHToRef=function(t,n,u,c,l,d,h){var p=l,m=d,_=2/(n-t),g=2/(c-u),b=2/(m-p),v=-(m+p)/(m-p),U=(t+n)/(t-n),G=(c+u)/(u-c);Matrix.FromValuesToRef(_,0,0,0,0,g,0,0,0,0,b,0,U,G,v,1,h),h._markAsUpdated()},Matrix.OrthoOffCenterRH=function(t,n,u,c,l,d){var h=new Matrix;return Matrix.OrthoOffCenterRHToRef(t,n,u,c,l,d,h),h},Matrix.OrthoOffCenterRHToRef=function(t,n,u,c,l,d,h){Matrix.OrthoOffCenterLHToRef(t,n,u,c,l,d,h),h._m[10]*=-1},Matrix.PerspectiveLH=function(t,n,u,c){var l=new Matrix,d=u,h=c,p=2*d/t,m=2*d/n,_=(h+d)/(h-d),g=-2*h*d/(h-d);return Matrix.FromValuesToRef(p,0,0,0,0,m,0,0,0,0,_,1,0,0,g,0,l),l._updateIdentityStatus(!1),l},Matrix.PerspectiveFovLH=function(t,n,u,c){var l=new Matrix;return Matrix.PerspectiveFovLHToRef(t,n,u,c,l),l},Matrix.PerspectiveFovLHToRef=function(t,n,u,c,l,d){void 0===d&&(d=!0);var h=u,p=c,m=1/Math.tan(.5*t),_=d?m/n:m,g=d?m:m*n,b=(p+h)/(p-h),v=-2*p*h/(p-h);Matrix.FromValuesToRef(_,0,0,0,0,g,0,0,0,0,b,1,0,0,v,0,l),l._updateIdentityStatus(!1)},Matrix.PerspectiveFovReverseLHToRef=function(t,n,u,c,l,d){void 0===d&&(d=!0);var h=1/Math.tan(.5*t),p=d?h/n:h,m=d?h:h*n;Matrix.FromValuesToRef(p,0,0,0,0,m,0,0,0,0,-u,1,0,0,1,0,l),l._updateIdentityStatus(!1)},Matrix.PerspectiveFovRH=function(t,n,u,c){var l=new Matrix;return Matrix.PerspectiveFovRHToRef(t,n,u,c,l),l},Matrix.PerspectiveFovRHToRef=function(t,n,u,c,l,d){void 0===d&&(d=!0);var h=u,p=c,m=1/Math.tan(.5*t),_=d?m/n:m,g=d?m:m*n,b=-(p+h)/(p-h),v=-2*p*h/(p-h);Matrix.FromValuesToRef(_,0,0,0,0,g,0,0,0,0,b,-1,0,0,v,0,l),l._updateIdentityStatus(!1)},Matrix.PerspectiveFovReverseRHToRef=function(t,n,u,c,l,d){void 0===d&&(d=!0);var h=1/Math.tan(.5*t),p=d?h/n:h,m=d?h:h*n;Matrix.FromValuesToRef(p,0,0,0,0,m,0,0,0,0,-u,-1,0,0,-1,0,l),l._updateIdentityStatus(!1)},Matrix.PerspectiveFovWebVRToRef=function(t,n,u,c,l){void 0===l&&(l=!1);var d=l?-1:1,h=Math.tan(t.upDegrees*Math.PI/180),p=Math.tan(t.downDegrees*Math.PI/180),m=Math.tan(t.leftDegrees*Math.PI/180),_=Math.tan(t.rightDegrees*Math.PI/180),g=2/(m+_),b=2/(h+p),v=c._m;v[0]=g,v[1]=v[2]=v[3]=v[4]=0,v[5]=b,v[6]=v[7]=0,v[8]=(m-_)*g*.5,v[9]=-(h-p)*b*.5,v[10]=-u/(n-u),v[11]=1*d,v[12]=v[13]=v[15]=0,v[14]=-2*u*n/(u-n),c._markAsUpdated()},Matrix.GetFinalMatrix=function(t,n,u,c,l,d){var h=t.width,p=t.height,m=t.x,_=t.y,g=Matrix.FromValues(h/2,0,0,0,0,-p/2,0,0,0,0,d-l,0,m+h/2,p/2+_,l,1),b=U.Matrix[0];return n.multiplyToRef(u,b),b.multiplyToRef(c,b),b.multiply(g)},Matrix.GetAsMatrix2x2=function(t){var n=t.m,u=[n[0],n[1],n[4],n[5]];return p["PerformanceConfigurator"].MatrixUse64Bits?u:new Float32Array(u)},Matrix.GetAsMatrix3x3=function(t){var n=t.m,u=[n[0],n[1],n[2],n[4],n[5],n[6],n[8],n[9],n[10]];return p["PerformanceConfigurator"].MatrixUse64Bits?u:new Float32Array(u)},Matrix.Transpose=function(t){var n=new Matrix;return Matrix.TransposeToRef(t,n),n},Matrix.TransposeToRef=function(t,n){var u=n._m,c=t.m;u[0]=c[0],u[1]=c[4],u[2]=c[8],u[3]=c[12],u[4]=c[1],u[5]=c[5],u[6]=c[9],u[7]=c[13],u[8]=c[2],u[9]=c[6],u[10]=c[10],u[11]=c[14],u[12]=c[3],u[13]=c[7],u[14]=c[11],u[15]=c[15],n._updateIdentityStatus(t._isIdentity,t._isIdentityDirty)},Matrix.Reflection=function(t){var n=new Matrix;return Matrix.ReflectionToRef(t,n),n},Matrix.ReflectionToRef=function(t,n){t.normalize();var u=t.normal.x,c=t.normal.y,l=t.normal.z,d=-2*u,h=-2*c,p=-2*l;Matrix.FromValuesToRef(d*u+1,h*u,p*u,0,d*c,h*c+1,p*c,0,d*l,h*l,p*l+1,0,d*t.d,h*t.d,p*t.d,1,n)},Matrix.FromXYZAxesToRef=function(t,n,u,c){Matrix.FromValuesToRef(t._x,t._y,t._z,0,n._x,n._y,n._z,0,u._x,u._y,u._z,0,0,0,0,1,c)},Matrix.FromQuaternionToRef=function(t,n){var u=t._x*t._x,c=t._y*t._y,l=t._z*t._z,d=t._x*t._y,h=t._z*t._w,p=t._z*t._x,m=t._y*t._w,_=t._y*t._z,g=t._x*t._w;n._m[0]=1-2*(c+l),n._m[1]=2*(d+h),n._m[2]=2*(p-m),n._m[3]=0,n._m[4]=2*(d-h),n._m[5]=1-2*(l+u),n._m[6]=2*(_+g),n._m[7]=0,n._m[8]=2*(p+m),n._m[9]=2*(_-g),n._m[10]=1-2*(c+u),n._m[11]=0,n._m[12]=0,n._m[13]=0,n._m[14]=0,n._m[15]=1,n._markAsUpdated()},Matrix._updateFlagSeed=0,Matrix._identityReadOnly=Matrix.Identity(),Matrix}(),U=function(){function MathTmp(){}return MathTmp.Vector3=d["ArrayTools"].BuildArray(6,_.Zero),MathTmp.Matrix=d["ArrayTools"].BuildArray(2,v.Identity),MathTmp.Quaternion=d["ArrayTools"].BuildArray(3,b.Zero),MathTmp}(),G=function(){function TmpVectors(){}return TmpVectors.Vector2=d["ArrayTools"].BuildArray(3,m.Zero),TmpVectors.Vector3=d["ArrayTools"].BuildArray(13,_.Zero),TmpVectors.Vector4=d["ArrayTools"].BuildArray(3,g.Zero),TmpVectors.Quaternion=d["ArrayTools"].BuildArray(2,b.Zero),TmpVectors.Matrix=d["ArrayTools"].BuildArray(8,v.Identity),TmpVectors}();h["_TypeStore"].RegisteredTypes["BABYLON.Vector2"]=m,h["_TypeStore"].RegisteredTypes["BABYLON.Vector3"]=_,h["_TypeStore"].RegisteredTypes["BABYLON.Vector4"]=g,h["_TypeStore"].RegisteredTypes["BABYLON.Matrix"]=v},"./node_modules/@babylonjs/core/Maths/math.vertexFormat.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PositionNormalVertex",(function(){return l})),u.d(n,"PositionNormalTextureVertex",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=function(){function PositionNormalVertex(t,n){void 0===t&&(t=c["Vector3"].Zero()),void 0===n&&(n=c["Vector3"].Up()),this.position=t,this.normal=n}return PositionNormalVertex.prototype.clone=function(){return new PositionNormalVertex(this.position.clone(),this.normal.clone())},PositionNormalVertex}(),d=function(){function PositionNormalTextureVertex(t,n,u){void 0===t&&(t=c["Vector3"].Zero()),void 0===n&&(n=c["Vector3"].Up()),void 0===u&&(u=c["Vector2"].Zero()),this.position=t,this.normal=n,this.uv=u}return PositionNormalTextureVertex.prototype.clone=function(){return new PositionNormalTextureVertex(this.position.clone(),this.normal.clone(),this.uv.clone())},PositionNormalTextureVertex}()},"./node_modules/@babylonjs/core/Maths/math.viewport.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Viewport",(function(){return c}));var c=function(){function Viewport(t,n,u,c){this.x=t,this.y=n,this.width=u,this.height=c}return Viewport.prototype.toGlobal=function(t,n){return new Viewport(this.x*t,this.y*n,this.width*t,this.height*n)},Viewport.prototype.toGlobalToRef=function(t,n,u){return u.x=this.x*t,u.y=this.y*n,u.width=this.width*t,u.height=this.height*n,this},Viewport.prototype.clone=function(){return new Viewport(this.x,this.y,this.width,this.height)},Viewport}()},"./node_modules/@babylonjs/core/Meshes/Builders/boxBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BoxBuilder",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");h["VertexData"].CreateBox=function(t){var n=6,u=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],d=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],p=[],m=[],_=t.width||t.size||1,g=t.height||t.size||1,b=t.depth||t.size||1,v=t.wrap||!1,U=void 0===t.topBaseAt?1:t.topBaseAt,G=void 0===t.bottomBaseAt?0:t.bottomBaseAt;U=(U+4)%4,G=(G+4)%4;var W=[2,0,3,1],X=[2,0,1,3],q=W[U],K=X[G],Y=[1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1];if(v){u=[2,3,0,2,0,1,4,5,6,4,6,7,9,10,11,9,11,8,12,14,15,12,13,14],Y=[-1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1];var Q=[[1,1,1],[-1,1,1],[-1,1,-1],[1,1,-1]],Z=[[-1,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1]],$=[17,18,19,16],J=[22,23,20,21];while(q>0)Q.unshift(Q.pop()),$.unshift($.pop()),q--;while(K>0)Z.unshift(Z.pop()),J.unshift(J.pop()),K--;Q=Q.flat(),Z=Z.flat(),Y=Y.concat(Q).concat(Z),u.push($[0],$[2],$[3],$[0],$[1],$[2]),u.push(J[0],J[2],J[3],J[0],J[1],J[2])}var ee=[_/2,g/2,b/2];m=Y.reduce((function(t,n,u){return t.concat(n*ee[u%3])}),[]);for(var te=0===t.sideOrientation?0:t.sideOrientation||h["VertexData"].DEFAULTSIDE,re=t.faceUV||new Array(6),ne=t.faceColors,ie=[],oe=0;oe<6;oe++)void 0===re[oe]&&(re[oe]=new c["Vector4"](0,0,1,1)),ne&&void 0===ne[oe]&&(ne[oe]=new l["Color4"](1,1,1,1));for(var se=0;se<n;se++)if(p.push(re[se].z,re[se].w),p.push(re[se].x,re[se].w),p.push(re[se].x,re[se].y),p.push(re[se].z,re[se].y),ne)for(var ae=0;ae<4;ae++)ie.push(ne[se].r,ne[se].g,ne[se].b,ne[se].a);h["VertexData"]._ComputeSides(te,m,u,d,p,t.frontUVs,t.backUVs);var ue=new h["VertexData"];if(ue.indices=u,ue.positions=m,ue.normals=d,ue.uvs=p,ne){var ce=te===h["VertexData"].DOUBLESIDE?ie.concat(ie):ie;ue.colors=ce}return ue},d["Mesh"].CreateBox=function(t,n,u,c,l){void 0===u&&(u=null);var d={size:n,sideOrientation:l,updatable:c};return p.CreateBox(t,d,u)};var p=function(){function BoxBuilder(){}return BoxBuilder.CreateBox=function(t,n,u){void 0===u&&(u=null);var c=new d["Mesh"](t,u);n.sideOrientation=d["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var l=h["VertexData"].CreateBox(n);return l.applyToMesh(c,n.updatable),c},BoxBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/capsuleBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CapsuleBuilder",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js");c["VertexData"].CreateCapsule=function(t){void 0===t&&(t={subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6});var n,u,d=Math.max(t.subdivisions?t.subdivisions:2,1),h=Math.max(t.tessellation?t.tessellation:16,3),p=Math.max(t.height?t.height:1,0),m=Math.max(t.radius?t.radius:.25,0),_=Math.max(t.capSubdivisions?t.capSubdivisions:6,1),g=h,b=d,v=Math.max(t.radiusTop?t.radiusTop:m,0),U=Math.max(t.radiusBottom?t.radiusBottom:m,0),G=p-(v+U),W=0,X=2*Math.PI,q=Math.max(t.topCapSubdivisions?t.topCapSubdivisions:_,1),K=Math.max(t.bottomCapSubdivisions?t.bottomCapSubdivisions:_,1),Y=Math.acos((U-v)/p),Q=[],Z=[],$=[],J=[],ee=0,te=[],re=.5*G,ne=.5*Math.PI,ie=l["Vector3"].Zero(),oe=l["Vector3"].Zero(),se=Math.cos(Y),ae=Math.sin(Y),ue=new l["Vector2"](v*ae,re+v*se).subtract(new l["Vector2"](U*ae,U*se-re)).length(),ce=v*Y+ue+U*(ne-Y),le=0;for(u=0;u<=q;u++){var de=[],he=ne-Y*(u/q);le+=v*Y/q;var fe=Math.cos(he),pe=Math.sin(he),me=fe*v;for(n=0;n<=g;n++){var _e=n/g,ge=_e*X+W,be=Math.sin(ge),ve=Math.cos(ge);oe.x=me*be,oe.y=re+pe*v,oe.z=me*ve,Z.push(oe.x,oe.y,oe.z),ie.set(fe*be,pe,fe*ve),$.push(ie.x,ie.y,ie.z),J.push(_e,1-le/ce),de.push(ee),ee++}te.push(de)}var ye=p-v-U+se*v-se*U,xe=ae*(U-v)/ye;for(u=1;u<=b;u++){de=[];le+=ue/b;me=ae*(u*(U-v)/b+v);for(n=0;n<=g;n++){_e=n/g,ge=_e*X+W,be=Math.sin(ge),ve=Math.cos(ge);oe.x=me*be,oe.y=re+se*v-u*ye/b,oe.z=me*ve,Z.push(oe.x,oe.y,oe.z),ie.set(be,xe,ve).normalize(),$.push(ie.x,ie.y,ie.z),J.push(_e,1-le/ce),de.push(ee),ee++}te.push(de)}for(u=1;u<=K;u++){de=[],he=ne-Y-(Math.PI-Y)*(u/K);le+=U*Y/K;fe=Math.cos(he),pe=Math.sin(he),me=fe*U;for(n=0;n<=g;n++){_e=n/g,ge=_e*X+W,be=Math.sin(ge),ve=Math.cos(ge);oe.x=me*be,oe.y=pe*U-re,oe.z=me*ve,Z.push(oe.x,oe.y,oe.z),ie.set(fe*be,pe,fe*ve),$.push(ie.x,ie.y,ie.z),J.push(_e,1-le/ce),de.push(ee),ee++}te.push(de)}for(n=0;n<g;n++)for(u=0;u<q+b+K;u++){var Me=te[u][n],Te=te[u+1][n],Se=te[u+1][n+1],Ce=te[u][n+1];Q.push(Me),Q.push(Te),Q.push(Ce),Q.push(Te),Q.push(Se),Q.push(Ce)}if(Q=Q.reverse(),t.orientation&&!t.orientation.equals(l["Vector3"].Up())){var Ee=new l["Matrix"];t.orientation.clone().scale(.5*Math.PI).cross(l["Vector3"].Up()).toQuaternion().toRotationMatrix(Ee);for(var Oe=l["Vector3"].Zero(),Pe=0;Pe<Z.length;Pe+=3)Oe.set(Z[Pe],Z[Pe+1],Z[Pe+2]),l["Vector3"].TransformCoordinatesToRef(Oe.clone(),Ee,Oe),Z[Pe]=Oe.x,Z[Pe+1]=Oe.y,Z[Pe+2]=Oe.z}var je=new c["VertexData"];return je.positions=Z,je.normals=$,je.uvs=J,je.indices=Q,je},d["Mesh"].CreateCapsule=function(t,n,u){return h.CreateCapsule(t,n,u)};var h=function(){function CapsuleBuilder(){}return CapsuleBuilder.CreateCapsule=function(t,n,u){void 0===n&&(n={orientation:l["Vector3"].Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6});var h=new d["Mesh"](t,u),p=c["VertexData"].CreateCapsule(n);return p.applyToMesh(h),h},CapsuleBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/cylinderBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CylinderBuilder",(function(){return _}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),p=u("./node_modules/@babylonjs/core/scene.js"),m=u("./node_modules/@babylonjs/core/Maths/math.axis.js");h["VertexData"].CreateCylinder=function(t){var n=t.height||2,u=0===t.diameterTop?0:t.diameterTop||t.diameter||1,p=0===t.diameterBottom?0:t.diameterBottom||t.diameter||1;u=u||1e-5,p=p||1e-5;var _,g=t.tessellation||24,b=t.subdivisions||1,v=!!t.hasRings,U=!!t.enclose,G=0===t.cap?0:t.cap||d["Mesh"].CAP_ALL,W=t.arc&&(t.arc<=0||t.arc>1)?1:t.arc||1,X=0===t.sideOrientation?0:t.sideOrientation||h["VertexData"].DEFAULTSIDE,q=t.faceUV||new Array(3),K=t.faceColors,Y=1!==W&&U?2:0,Q=v?b:1,Z=2+(1+Y)*Q;for(_=0;_<Z;_++)K&&void 0===K[_]&&(K[_]=new l["Color4"](1,1,1,1));for(_=0;_<Z;_++)q&&void 0===q[_]&&(q[_]=new c["Vector4"](0,0,1,1));var $,J,ee,te,re,ne,ie=new Array,oe=new Array,se=new Array,ae=new Array,ue=new Array,ce=2*Math.PI*W/g,le=(p-u)/2/n,de=c["Vector3"].Zero(),he=c["Vector3"].Zero(),fe=c["Vector3"].Zero(),pe=c["Vector3"].Zero(),me=c["Vector3"].Zero(),_e=m["Axis"].Y,ge=1,be=1,ve=0,ye=0;for(te=0;te<=b;te++)for(J=te/b,ee=(J*(u-p)+p)/2,ge=v&&0!==te&&te!==b?2:1,ne=0;ne<ge;ne++){for(v&&(be+=ne),U&&(be+=2*ne),re=0;re<=g;re++)$=re*ce,de.x=Math.cos(-$)*ee,de.y=-n/2+J*n,de.z=Math.sin(-$)*ee,0===u&&te===b?(he.x=se[se.length-3*(g+1)],he.y=se[se.length-3*(g+1)+1],he.z=se[se.length-3*(g+1)+2]):(he.x=de.x,he.z=de.z,he.y=Math.sqrt(he.x*he.x+he.z*he.z)*le,he.normalize()),0===re&&(fe.copyFrom(de),pe.copyFrom(he)),oe.push(de.x,de.y,de.z),se.push(he.x,he.y,he.z),ye=v?ve!==be?q[be].y:q[be].w:q[be].y+(q[be].w-q[be].y)*J,ae.push(q[be].x+(q[be].z-q[be].x)*re/g,ye),K&&ue.push(K[be].r,K[be].g,K[be].b,K[be].a);1!==W&&U&&(oe.push(de.x,de.y,de.z),oe.push(0,de.y,0),oe.push(0,de.y,0),oe.push(fe.x,fe.y,fe.z),c["Vector3"].CrossToRef(_e,he,me),me.normalize(),se.push(me.x,me.y,me.z,me.x,me.y,me.z),c["Vector3"].CrossToRef(pe,_e,me),me.normalize(),se.push(me.x,me.y,me.z,me.x,me.y,me.z),ye=v?ve!==be?q[be+1].y:q[be+1].w:q[be+1].y+(q[be+1].w-q[be+1].y)*J,ae.push(q[be+1].x,ye),ae.push(q[be+1].z,ye),ye=v?ve!==be?q[be+2].y:q[be+2].w:q[be+2].y+(q[be+2].w-q[be+2].y)*J,ae.push(q[be+2].x,ye),ae.push(q[be+2].z,ye),K&&(ue.push(K[be+1].r,K[be+1].g,K[be+1].b,K[be+1].a),ue.push(K[be+1].r,K[be+1].g,K[be+1].b,K[be+1].a),ue.push(K[be+2].r,K[be+2].g,K[be+2].b,K[be+2].a),ue.push(K[be+2].r,K[be+2].g,K[be+2].b,K[be+2].a))),ve!==be&&(ve=be)}var xe=1!==W&&U?g+4:g;for(te=0,be=0;be<b;be++){var Me=0,Te=0,Se=0,Ce=0;for(re=0;re<g;re++)Me=te*(xe+1)+re,Te=(te+1)*(xe+1)+re,Se=te*(xe+1)+(re+1),Ce=(te+1)*(xe+1)+(re+1),ie.push(Me,Te,Se),ie.push(Ce,Se,Te);1!==W&&U&&(ie.push(Me+2,Te+2,Se+2),ie.push(Ce+2,Se+2,Te+2),ie.push(Me+4,Te+4,Se+4),ie.push(Ce+4,Se+4,Te+4)),te=v?te+2:te+1}var createCylinderCap=function(t){var l=t?u/2:p/2;if(0!==l){var d,h,m,_=t?q[Z-1]:q[0],b=null;K&&(b=t?K[Z-1]:K[0]);var v=oe.length/3,U=t?n/2:-n/2,G=new c["Vector3"](0,U,0);oe.push(G.x,G.y,G.z),se.push(0,t?1:-1,0),ae.push(_.x+.5*(_.z-_.x),_.y+.5*(_.w-_.y)),b&&ue.push(b.r,b.g,b.b,b.a);var X=new c["Vector2"](.5,.5);for(m=0;m<=g;m++){d=2*Math.PI*m*W/g;var Y=Math.cos(-d),Q=Math.sin(-d);h=new c["Vector3"](Y*l,U,Q*l);var $=new c["Vector2"](Y*X.x+.5,Q*X.y+.5);oe.push(h.x,h.y,h.z),se.push(0,t?1:-1,0),ae.push(_.x+(_.z-_.x)*$.x,_.y+(_.w-_.y)*$.y),b&&ue.push(b.r,b.g,b.b,b.a)}for(m=0;m<g;m++)t?(ie.push(v),ie.push(v+(m+2)),ie.push(v+(m+1))):(ie.push(v),ie.push(v+(m+1)),ie.push(v+(m+2)))}};G!==d["Mesh"].CAP_START&&G!==d["Mesh"].CAP_ALL||createCylinderCap(!1),G!==d["Mesh"].CAP_END&&G!==d["Mesh"].CAP_ALL||createCylinderCap(!0),h["VertexData"]._ComputeSides(X,oe,ie,se,ae,t.frontUVs,t.backUVs);var Ee=new h["VertexData"];return Ee.indices=ie,Ee.positions=oe,Ee.normals=se,Ee.uvs=ae,K&&(Ee.colors=ue),Ee},d["Mesh"].CreateCylinder=function(t,n,u,c,l,h,m,g,b){void 0!==m&&m instanceof p["Scene"]||(void 0!==m&&(b=g||d["Mesh"].DEFAULTSIDE,g=m),m=h,h=1);var v={height:n,diameterTop:u,diameterBottom:c,tessellation:l,subdivisions:h,sideOrientation:b,updatable:g};return _.CreateCylinder(t,v,m)};var _=function(){function CylinderBuilder(){}return CylinderBuilder.CreateCylinder=function(t,n,u){var c=new d["Mesh"](t,u);n.sideOrientation=d["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var l=h["VertexData"].CreateCylinder(n);return l.applyToMesh(c,n.updatable),c},CylinderBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/decalBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DecalBuilder",(function(){return m}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),p=u("./node_modules/@babylonjs/core/Maths/math.vertexFormat.js");l["Mesh"].CreateDecal=function(t,n,u,c,l,d){var h={position:u,normal:c,size:l,angle:d};return m.CreateDecal(t,n,h)};var m=function(){function DecalBuilder(){}return DecalBuilder.CreateDecal=function(t,n,u){var m=n.getIndices(),_=n.getVerticesData(d["VertexBuffer"].PositionKind),g=n.getVerticesData(d["VertexBuffer"].NormalKind),b=u.position||c["Vector3"].Zero(),v=u.normal||c["Vector3"].Up(),U=u.size||c["Vector3"].One(),G=u.angle||0;if(!v){var W=new c["Vector3"](0,0,1),X=n.getScene().activeCamera,q=c["Vector3"].TransformCoordinates(W,X.getWorldMatrix());v=X.globalPosition.subtract(q)}var K=-Math.atan2(v.z,v.x)-Math.PI/2,Y=Math.sqrt(v.x*v.x+v.z*v.z),Q=Math.atan2(v.y,Y),Z=c["Matrix"].RotationYawPitchRoll(K,Q,G).multiply(c["Matrix"].Translation(b.x,b.y,b.z)),$=c["Matrix"].Invert(Z),J=n.getWorldMatrix(),ee=J.multiply($),te=new h["VertexData"];te.indices=[],te.positions=[],te.normals=[],te.uvs=[];for(var re=0,extractDecalVector3=function(t){var n=new p["PositionNormalVertex"];if(!m||!_||!g)return n;var u=m[t];return n.position=new c["Vector3"](_[3*u],_[3*u+1],_[3*u+2]),n.position=c["Vector3"].TransformCoordinates(n.position,ee),n.normal=new c["Vector3"](g[3*u],g[3*u+1],g[3*u+2]),n.normal=c["Vector3"].TransformNormal(n.normal,ee),n},clip=function(t,n){if(0===t.length)return t;for(var u=.5*Math.abs(c["Vector3"].Dot(U,n)),clipVertices=function(t,l){var d=c["Vector3"].GetClipFactor(t.position,l.position,n,u);return new p["PositionNormalVertex"](c["Vector3"].Lerp(t.position,l.position,d),c["Vector3"].Lerp(t.normal,l.normal,d))},l=new Array,d=0;d<t.length;d+=3){var h,m,_,g=0,b=null,v=null,G=null,W=null,X=c["Vector3"].Dot(t[d].position,n)-u,q=c["Vector3"].Dot(t[d+1].position,n)-u,K=c["Vector3"].Dot(t[d+2].position,n)-u;switch(h=X>0,m=q>0,_=K>0,g=(h?1:0)+(m?1:0)+(_?1:0),g){case 0:l.push(t[d]),l.push(t[d+1]),l.push(t[d+2]);break;case 1:if(h&&(b=t[d+1],v=t[d+2],G=clipVertices(t[d],b),W=clipVertices(t[d],v)),m){b=t[d],v=t[d+2],G=clipVertices(t[d+1],b),W=clipVertices(t[d+1],v),l.push(G),l.push(v.clone()),l.push(b.clone()),l.push(v.clone()),l.push(G.clone()),l.push(W);break}_&&(b=t[d],v=t[d+1],G=clipVertices(t[d+2],b),W=clipVertices(t[d+2],v)),b&&v&&G&&W&&(l.push(b.clone()),l.push(v.clone()),l.push(G),l.push(W),l.push(G.clone()),l.push(v.clone()));break;case 2:h||(b=t[d].clone(),v=clipVertices(b,t[d+1]),G=clipVertices(b,t[d+2]),l.push(b),l.push(v),l.push(G)),m||(b=t[d+1].clone(),v=clipVertices(b,t[d+2]),G=clipVertices(b,t[d]),l.push(b),l.push(v),l.push(G)),_||(b=t[d+2].clone(),v=clipVertices(b,t[d]),G=clipVertices(b,t[d+1]),l.push(b),l.push(v),l.push(G));break;case 3:break}}return l},ne=0;ne<m.length;ne+=3){var ie=new Array;if(ie.push(extractDecalVector3(ne)),ie.push(extractDecalVector3(ne+1)),ie.push(extractDecalVector3(ne+2)),ie=clip(ie,new c["Vector3"](1,0,0)),ie=clip(ie,new c["Vector3"](-1,0,0)),ie=clip(ie,new c["Vector3"](0,1,0)),ie=clip(ie,new c["Vector3"](0,-1,0)),ie=clip(ie,new c["Vector3"](0,0,1)),ie=clip(ie,new c["Vector3"](0,0,-1)),0!==ie.length)for(var oe=0;oe<ie.length;oe++){var se=ie[oe];te.indices.push(re),se.position.toArray(te.positions,3*re),se.normal.toArray(te.normals,3*re),te.uvs.push(.5+se.position.x/U.x),te.uvs.push(.5+se.position.y/U.y),re++}}var ae=new l["Mesh"](t,n.getScene());return te.applyToMesh(ae),ae.position=b.clone(),ae.rotation=new c["Vector3"](Q,K,G),ae},DecalBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/discBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DiscBuilder",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");l["VertexData"].CreateDisc=function(t){var n=new Array,u=new Array,c=new Array,d=new Array,h=t.radius||.5,p=t.tessellation||64,m=t.arc&&(t.arc<=0||t.arc>1)?1:t.arc||1,_=0===t.sideOrientation?0:t.sideOrientation||l["VertexData"].DEFAULTSIDE;n.push(0,0,0),d.push(.5,.5);for(var g=2*Math.PI*m,b=1===m?g/p:g/(p-1),v=0,U=0;U<p;U++){var G=Math.cos(v),W=Math.sin(v),X=(G+1)/2,q=(1-W)/2;n.push(h*G,h*W,0),d.push(X,q),v+=b}1===m&&(n.push(n[3],n[4],n[5]),d.push(d[2],d[3]));for(var K=n.length/3,Y=1;Y<K-1;Y++)u.push(Y+1,0,Y);l["VertexData"].ComputeNormals(n,u,c),l["VertexData"]._ComputeSides(_,n,u,c,d,t.frontUVs,t.backUVs);var Q=new l["VertexData"];return Q.indices=u,Q.positions=n,Q.normals=c,Q.uvs=d,Q},c["Mesh"].CreateDisc=function(t,n,u,c,l,h){void 0===c&&(c=null);var p={radius:n,tessellation:u,sideOrientation:h,updatable:l};return d.CreateDisc(t,p,c)};var d=function(){function DiscBuilder(){}return DiscBuilder.CreateDisc=function(t,n,u){void 0===u&&(u=null);var d=new c["Mesh"](t,u);n.sideOrientation=c["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),d._originalBuilderSideOrientation=n.sideOrientation;var h=l["VertexData"].CreateDisc(n);return h.applyToMesh(d,n.updatable),d},DiscBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/groundBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"GroundBuilder",(function(){return v}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),p=u("./node_modules/@babylonjs/core/Meshes/groundMesh.js"),m=u("./node_modules/@babylonjs/core/Misc/tools.js"),_=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),g=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),b=u("./node_modules/@babylonjs/core/Misc/canvasGenerator.js");h["VertexData"].CreateGround=function(t){var n,u,l=[],d=[],p=[],m=[],_=t.width||1,g=t.height||1,b=t.subdivisionsX||t.subdivisions||1,v=t.subdivisionsY||t.subdivisions||1;for(n=0;n<=v;n++)for(u=0;u<=b;u++){var U=new c["Vector3"](u*_/b-_/2,0,(v-n)*g/v-g/2),G=new c["Vector3"](0,1,0);d.push(U.x,U.y,U.z),p.push(G.x,G.y,G.z),m.push(u/b,1-n/v)}for(n=0;n<v;n++)for(u=0;u<b;u++)l.push(u+1+(n+1)*(b+1)),l.push(u+1+n*(b+1)),l.push(u+n*(b+1)),l.push(u+(n+1)*(b+1)),l.push(u+1+(n+1)*(b+1)),l.push(u+n*(b+1));var W=new h["VertexData"];return W.indices=l,W.positions=d,W.normals=p,W.uvs=m,W},h["VertexData"].CreateTiledGround=function(t){var n,u,l,d,p=void 0!==t.xmin&&null!==t.xmin?t.xmin:-1,m=void 0!==t.zmin&&null!==t.zmin?t.zmin:-1,_=void 0!==t.xmax&&null!==t.xmax?t.xmax:1,g=void 0!==t.zmax&&null!==t.zmax?t.zmax:1,b=t.subdivisions||{w:1,h:1},v=t.precision||{w:1,h:1},U=new Array,G=new Array,W=new Array,X=new Array;b.h=b.h<1?1:b.h,b.w=b.w<1?1:b.w,v.w=v.w<1?1:v.w,v.h=v.h<1?1:v.h;var q={w:(_-p)/b.w,h:(g-m)/b.h};function applyTile(t,l,d,h){var p=G.length/3,m=v.w+1;for(n=0;n<v.h;n++)for(u=0;u<v.w;u++){var _=[p+u+n*m,p+(u+1)+n*m,p+(u+1)+(n+1)*m,p+u+(n+1)*m];U.push(_[1]),U.push(_[2]),U.push(_[3]),U.push(_[0]),U.push(_[1]),U.push(_[3])}var g=c["Vector3"].Zero(),b=new c["Vector3"](0,1,0);for(n=0;n<=v.h;n++)for(g.z=n*(h-l)/v.h+l,u=0;u<=v.w;u++)g.x=u*(d-t)/v.w+t,g.y=0,G.push(g.x,g.y,g.z),W.push(b.x,b.y,b.z),X.push(u/v.w,n/v.h)}for(l=0;l<b.h;l++)for(d=0;d<b.w;d++)applyTile(p+d*q.w,m+l*q.h,p+(d+1)*q.w,m+(l+1)*q.h);var K=new h["VertexData"];return K.indices=U,K.positions=G,K.normals=W,K.uvs=X,K},h["VertexData"].CreateGroundFromHeightMap=function(t){var n,u,d=[],p=[],m=[],_=[],b=t.colorFilter||new l["Color3"](.3,.59,.11),v=t.alphaFilter||0,U=!1;if(t.minHeight>t.maxHeight){U=!0;var G=t.maxHeight;t.maxHeight=t.minHeight,t.minHeight=G}for(n=0;n<=t.subdivisions;n++)for(u=0;u<=t.subdivisions;u++){var W=new c["Vector3"](u*t.width/t.subdivisions-t.width/2,0,(t.subdivisions-n)*t.height/t.subdivisions-t.height/2),X=(W.x+t.width/2)/t.width*(t.bufferWidth-1)|0,q=(1-(W.z+t.height/2)/t.height)*(t.bufferHeight-1)|0,K=4*(X+q*t.bufferWidth),Y=t.buffer[K]/255,Q=t.buffer[K+1]/255,Z=t.buffer[K+2]/255,$=t.buffer[K+3]/255;U&&(Y=1-Y,Q=1-Q,Z=1-Z);var J=Y*b.r+Q*b.g+Z*b.b;W.y=$>=v?t.minHeight+(t.maxHeight-t.minHeight)*J:t.minHeight-g["Epsilon"],p.push(W.x,W.y,W.z),m.push(0,0,0),_.push(u/t.subdivisions,1-n/t.subdivisions)}for(n=0;n<t.subdivisions;n++)for(u=0;u<t.subdivisions;u++){var ee=u+1+(n+1)*(t.subdivisions+1),te=u+1+n*(t.subdivisions+1),re=u+n*(t.subdivisions+1),ne=u+(n+1)*(t.subdivisions+1),ie=p[3*ee+1]>=t.minHeight,oe=p[3*te+1]>=t.minHeight,se=p[3*re+1]>=t.minHeight;ie&&oe&&se&&(d.push(ee),d.push(te),d.push(re));var ae=p[3*ne+1]>=t.minHeight;ae&&ie&&se&&(d.push(ne),d.push(ee),d.push(re))}h["VertexData"].ComputeNormals(p,d,m);var ue=new h["VertexData"];return ue.indices=d,ue.positions=p,ue.normals=m,ue.uvs=_,ue},d["Mesh"].CreateGround=function(t,n,u,c,l,d){var h={width:n,height:u,subdivisions:c,updatable:d};return v.CreateGround(t,h,l)},d["Mesh"].CreateTiledGround=function(t,n,u,c,l,d,h,p,m){var _={xmin:n,zmin:u,xmax:c,zmax:l,subdivisions:d,precision:h,updatable:m};return v.CreateTiledGround(t,_,p)},d["Mesh"].CreateGroundFromHeightMap=function(t,n,u,c,l,d,h,p,m,_,g){var b={width:u,height:c,subdivisions:l,minHeight:d,maxHeight:h,updatable:m,onReady:_,alphaFilter:g};return v.CreateGroundFromHeightMap(t,n,b,p)};var v=function(){function GroundBuilder(){}return GroundBuilder.CreateGround=function(t,n,u){var c=new p["GroundMesh"](t,u);c._setReady(!1),c._subdivisionsX=n.subdivisionsX||n.subdivisions||1,c._subdivisionsY=n.subdivisionsY||n.subdivisions||1,c._width=n.width||1,c._height=n.height||1,c._maxX=c._width/2,c._maxZ=c._height/2,c._minX=-c._maxX,c._minZ=-c._maxZ;var l=h["VertexData"].CreateGround(n);return l.applyToMesh(c,n.updatable),c._setReady(!0),c},GroundBuilder.CreateTiledGround=function(t,n,u){void 0===u&&(u=null);var c=new d["Mesh"](t,u),l=h["VertexData"].CreateTiledGround(n);return l.applyToMesh(c,n.updatable),c},GroundBuilder.CreateGroundFromHeightMap=function(t,n,u,c){void 0===c&&(c=null);var d=u.width||10,g=u.height||10,v=u.subdivisions||1,U=u.minHeight||0,G=u.maxHeight||1,W=u.colorFilter||new l["Color3"](.3,.59,.11),X=u.alphaFilter||0,q=u.updatable,K=u.onReady;c=c||_["EngineStore"].LastCreatedScene;var Y=new p["GroundMesh"](t,c);Y._subdivisionsX=v,Y._subdivisionsY=v,Y._width=d,Y._height=g,Y._maxX=Y._width/2,Y._maxZ=Y._height/2,Y._minX=-Y._maxX,Y._minZ=-Y._maxZ,Y._setReady(!1);var onload=function(t){var n=t.width,u=t.height,l=b["CanvasGenerator"].CreateCanvas(n,u),p=l.getContext("2d");if(!p)throw new Error("Unable to get 2d context for CreateGroundFromHeightMap");if(!c.isDisposed){p.drawImage(t,0,0);var m=p.getImageData(0,0,n,u).data,_=h["VertexData"].CreateGroundFromHeightMap({width:d,height:g,subdivisions:v,minHeight:U,maxHeight:G,colorFilter:W,buffer:m,bufferWidth:n,bufferHeight:u,alphaFilter:X});_.applyToMesh(Y,q),K&&K(Y),Y._setReady(!0)}};return m["Tools"].LoadImage(n,onload,(function(){}),c.offlineProvider),Y},GroundBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/icoSphereBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"IcoSphereBuilder",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");d["VertexData"].CreateIcoSphere=function(t){var n,u=t.sideOrientation||d["VertexData"].DEFAULTSIDE,l=t.radius||1,h=void 0===t.flat||t.flat,p=t.subdivisions||4,m=t.radiusX||l,_=t.radiusY||l,g=t.radiusZ||l,b=(1+Math.sqrt(5))/2,v=[-1,b,-0,1,b,0,-1,-b,0,1,-b,0,0,-1,-b,0,1,-b,0,-1,b,0,1,b,b,0,1,b,0,-1,-b,0,1,-b,0,-1],U=[0,11,5,0,5,1,0,1,7,0,7,10,12,22,23,1,5,20,5,11,4,23,22,13,22,18,6,7,1,8,14,21,4,14,4,2,16,13,6,15,6,19,3,8,9,4,21,5,13,17,23,6,13,22,19,6,18,9,8,1],G=[0,1,2,3,4,5,6,7,8,9,10,11,0,2,3,3,3,4,7,8,9,9,10,11],W=[5,1,3,1,6,4,0,0,5,3,4,2,2,2,4,0,2,0,1,1,6,0,6,2,0,4,3,3,4,4,3,1,4,2,4,4,0,2,1,1,2,2,3,3,1,3,2,4],X=138/1024,q=239/1024,K=60/1024,Y=26/1024,Q=-40/1024,Z=20/1024,$=[0,0,0,0,1,0,0,1,1,0,0,0,1,1,0,0,1,1,1,0],J=new Array,ee=new Array,te=new Array,re=new Array,ne=0,ie=new Array(3),oe=new Array(3);for(n=0;n<3;n++)ie[n]=c["Vector3"].Zero(),oe[n]=c["Vector2"].Zero();for(var se=0;se<20;se++){for(n=0;n<3;n++){var ae=U[3*se+n];ie[n].copyFromFloats(v[3*G[ae]],v[3*G[ae]+1],v[3*G[ae]+2]),ie[n].normalize().scaleInPlace(l),oe[n].copyFromFloats(W[2*ae]*X+K+$[se]*Q,W[2*ae+1]*q+Y+$[se]*Z)}for(var interp_vertex=function(t,n,u,l){var d,b=c["Vector3"].Lerp(ie[0],ie[2],n/p),v=c["Vector3"].Lerp(ie[1],ie[2],n/p),U=p===n?ie[2]:c["Vector3"].Lerp(b,v,t/(p-n));if(U.normalize(),h){var G=c["Vector3"].Lerp(ie[0],ie[2],l/p),W=c["Vector3"].Lerp(ie[1],ie[2],l/p);d=c["Vector3"].Lerp(G,W,u/(p-l))}else d=new c["Vector3"](U.x,U.y,U.z);d.x/=m,d.y/=_,d.z/=g,d.normalize();var X=c["Vector2"].Lerp(oe[0],oe[2],n/p),q=c["Vector2"].Lerp(oe[1],oe[2],n/p),K=p===n?oe[2]:c["Vector2"].Lerp(X,q,t/(p-n));ee.push(U.x*m,U.y*_,U.z*g),te.push(d.x,d.y,d.z),re.push(K.x,K.y),J.push(ne),ne++},ue=0;ue<p;ue++)for(var ce=0;ce+ue<p;ce++)interp_vertex(ce,ue,ce+1/3,ue+1/3),interp_vertex(ce+1,ue,ce+1/3,ue+1/3),interp_vertex(ce,ue+1,ce+1/3,ue+1/3),ce+ue+1<p&&(interp_vertex(ce+1,ue,ce+2/3,ue+2/3),interp_vertex(ce+1,ue+1,ce+2/3,ue+2/3),interp_vertex(ce,ue+1,ce+2/3,ue+2/3))}d["VertexData"]._ComputeSides(u,ee,J,te,re,t.frontUVs,t.backUVs);var le=new d["VertexData"];return le.indices=J,le.positions=ee,le.normals=te,le.uvs=re,le},l["Mesh"].CreateIcoSphere=function(t,n,u){return h.CreateIcoSphere(t,n,u)};var h=function(){function IcoSphereBuilder(){}return IcoSphereBuilder.CreateIcoSphere=function(t,n,u){void 0===u&&(u=null);var c=new l["Mesh"](t,u);n.sideOrientation=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var h=d["VertexData"].CreateIcoSphere(n);return h.applyToMesh(c,n.updatable),c},IcoSphereBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/latheBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"LatheBuilder",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/Builders/ribbonBuilder.js");l["Mesh"].CreateLathe=function(t,n,u,c,l,d,p){var m={shape:n,radius:u,tessellation:c,sideOrientation:p,updatable:d};return h.CreateLathe(t,m,l)};var h=function(){function LatheBuilder(){}return LatheBuilder.CreateLathe=function(t,n,u){void 0===u&&(u=null);var h,p=n.arc?n.arc<=0||n.arc>1?1:n.arc:1,m=void 0===n.closed||n.closed,_=n.shape,g=n.radius||1,b=n.tessellation||64,v=n.clip||0,U=n.updatable,G=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),W=n.cap||l["Mesh"].NO_CAP,X=2*Math.PI,q=new Array,K=n.invertUV||!1,Y=0,Q=0,Z=X/b*p,$=new Array;for(Y=0;Y<=b-v;Y++){$=[];for(W!=l["Mesh"].CAP_START&&W!=l["Mesh"].CAP_ALL||($.push(new c["Vector3"](0,_[0].y,0)),$.push(new c["Vector3"](Math.cos(Y*Z)*_[0].x*g,_[0].y,Math.sin(Y*Z)*_[0].x*g))),Q=0;Q<_.length;Q++)h=new c["Vector3"](Math.cos(Y*Z)*_[Q].x*g,_[Q].y,Math.sin(Y*Z)*_[Q].x*g),$.push(h);W!=l["Mesh"].CAP_END&&W!=l["Mesh"].CAP_ALL||($.push(new c["Vector3"](Math.cos(Y*Z)*_[_.length-1].x*g,_[_.length-1].y,Math.sin(Y*Z)*_[_.length-1].x*g)),$.push(new c["Vector3"](0,_[_.length-1].y,0))),q.push($)}var J=d["RibbonBuilder"].CreateRibbon(t,{pathArray:q,closeArray:m,sideOrientation:G,updatable:U,invertUV:K,frontUVs:n.frontUVs,backUVs:n.backUVs},u);return J},LatheBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/linesBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"LinesBuilder",(function(){return m}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),h=u("./node_modules/@babylonjs/core/Meshes/linesMesh.js"),p=u("./node_modules/@babylonjs/core/Meshes/buffer.js");d["VertexData"].CreateLineSystem=function(t){for(var n=[],u=[],c=t.lines,l=t.colors,h=[],p=0,m=0;m<c.length;m++)for(var _=c[m],g=0;g<_.length;g++){if(u.push(_[g].x,_[g].y,_[g].z),l){var b=l[m];h.push(b[g].r,b[g].g,b[g].b,b[g].a)}g>0&&(n.push(p-1),n.push(p)),p++}var v=new d["VertexData"];return v.indices=n,v.positions=u,l&&(v.colors=h),v},d["VertexData"].CreateDashedLines=function(t){var n=t.dashSize||3,u=t.gapSize||1,l=t.dashNb||200,h=t.points,p=new Array,m=new Array,_=c["Vector3"].Zero(),g=0,b=0,v=0,U=0,G=0,W=0,X=0;for(X=0;X<h.length-1;X++)h[X+1].subtractToRef(h[X],_),g+=_.length();for(v=g/l,U=n*v/(n+u),X=0;X<h.length-1;X++){h[X+1].subtractToRef(h[X],_),b=Math.floor(_.length()/v),_.normalize();for(var q=0;q<b;q++)G=v*q,p.push(h[X].x+G*_.x,h[X].y+G*_.y,h[X].z+G*_.z),p.push(h[X].x+(G+U)*_.x,h[X].y+(G+U)*_.y,h[X].z+(G+U)*_.z),m.push(W,W+1),W+=2}var K=new d["VertexData"];return K.positions=p,K.indices=m,K},l["Mesh"].CreateLines=function(t,n,u,c,l){void 0===u&&(u=null),void 0===c&&(c=!1),void 0===l&&(l=null);var d={points:n,updatable:c,instance:l};return m.CreateLines(t,d,u)},l["Mesh"].CreateDashedLines=function(t,n,u,c,l,d,h,p){void 0===d&&(d=null);var _={points:n,dashSize:u,gapSize:c,dashNb:l,updatable:h,instance:p};return m.CreateDashedLines(t,_,d)};var m=function(){function LinesBuilder(){}return LinesBuilder.CreateLineSystem=function(t,n,u){var c=n.instance,l=n.lines,m=n.colors;if(c){var _,g,b=c.getVerticesData(p["VertexBuffer"].PositionKind);m&&(_=c.getVerticesData(p["VertexBuffer"].ColorKind));for(var v=0,U=0,G=0;G<l.length;G++)for(var W=l[G],X=0;X<W.length;X++)b[v]=W[X].x,b[v+1]=W[X].y,b[v+2]=W[X].z,m&&_&&(g=m[G],_[U]=g[X].r,_[U+1]=g[X].g,_[U+2]=g[X].b,_[U+3]=g[X].a,U+=4),v+=3;return c.updateVerticesData(p["VertexBuffer"].PositionKind,b,!1,!1),m&&_&&c.updateVerticesData(p["VertexBuffer"].ColorKind,_,!1,!1),c}var q=!!m,K=new h["LinesMesh"](t,u,null,void 0,void 0,q,n.useVertexAlpha),Y=d["VertexData"].CreateLineSystem(n);return Y.applyToMesh(K,n.updatable),K},LinesBuilder.CreateLines=function(t,n,u){void 0===u&&(u=null);var c=n.colors?[n.colors]:null,l=LinesBuilder.CreateLineSystem(t,{lines:[n.points],updatable:n.updatable,instance:n.instance,colors:c,useVertexAlpha:n.useVertexAlpha},u);return l},LinesBuilder.CreateDashedLines=function(t,n,u){void 0===u&&(u=null);var p=n.points,m=n.instance,_=n.gapSize||1,g=n.dashSize||3;if(m){var positionFunction=function(t){var n=c["Vector3"].Zero(),u=t.length/6,l=0,d=0,h=0,_=0,g=0,b=0,v=0,U=0;for(v=0;v<p.length-1;v++)p[v+1].subtractToRef(p[v],n),l+=n.length();h=l/u;var G=m._creationDataStorage.dashSize,W=m._creationDataStorage.gapSize;for(_=G*h/(G+W),v=0;v<p.length-1;v++){p[v+1].subtractToRef(p[v],n),d=Math.floor(n.length()/h),n.normalize(),U=0;while(U<d&&b<t.length)g=h*U,t[b]=p[v].x+g*n.x,t[b+1]=p[v].y+g*n.y,t[b+2]=p[v].z+g*n.z,t[b+3]=p[v].x+(g+_)*n.x,t[b+4]=p[v].y+(g+_)*n.y,t[b+5]=p[v].z+(g+_)*n.z,b+=6,U++}while(b<t.length)t[b]=p[v].x,t[b+1]=p[v].y,t[b+2]=p[v].z,b+=3};return m.updateMeshPositions(positionFunction,!1),m}var b=new h["LinesMesh"](t,u,null,void 0,void 0,void 0,n.useVertexAlpha),v=d["VertexData"].CreateDashedLines(n);return v.applyToMesh(b,n.updatable),b._creationDataStorage=new l["_CreationDataStorage"],b._creationDataStorage.dashSize=g,b._creationDataStorage.gapSize=_,b},LinesBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/planeBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PlaneBuilder",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");l["VertexData"].CreatePlane=function(t){var n=[],u=[],c=[],d=[],h=t.width||t.size||1,p=t.height||t.size||1,m=0===t.sideOrientation?0:t.sideOrientation||l["VertexData"].DEFAULTSIDE,_=h/2,g=p/2;u.push(-_,-g,0),c.push(0,0,-1),d.push(0,0),u.push(_,-g,0),c.push(0,0,-1),d.push(1,0),u.push(_,g,0),c.push(0,0,-1),d.push(1,1),u.push(-_,g,0),c.push(0,0,-1),d.push(0,1),n.push(0),n.push(1),n.push(2),n.push(0),n.push(2),n.push(3),l["VertexData"]._ComputeSides(m,u,n,c,d,t.frontUVs,t.backUVs);var b=new l["VertexData"];return b.indices=n,b.positions=u,b.normals=c,b.uvs=d,b},c["Mesh"].CreatePlane=function(t,n,u,c,l){var h={size:n,width:n,height:n,sideOrientation:l,updatable:c};return d.CreatePlane(t,h,u)};var d=function(){function PlaneBuilder(){}return PlaneBuilder.CreatePlane=function(t,n,u){void 0===u&&(u=null);var d=new c["Mesh"](t,u);n.sideOrientation=c["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),d._originalBuilderSideOrientation=n.sideOrientation;var h=l["VertexData"].CreatePlane(n);return h.applyToMesh(d,n.updatable),n.sourcePlane&&(d.translate(n.sourcePlane.normal,-n.sourcePlane.d),d.setDirection(n.sourcePlane.normal.scale(-1))),d},PlaneBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/polygonBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PolygonBuilder",(function(){return g}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),p=u("./node_modules/@babylonjs/core/Meshes/polygonMesh.js"),m=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),_=u("./node_modules/@babylonjs/core/Engines/engineStore.js");h["VertexData"].CreatePolygon=function(t,n,u,d,p,_,g){for(var b=u||new Array(3),v=d,U=[],G=g||!1,W=0;W<3;W++)void 0===b[W]&&(b[W]=new c["Vector4"](0,0,1,1)),v&&void 0===v[W]&&(v[W]=new l["Color4"](1,1,1,1));var X=t.getVerticesData(m["VertexBuffer"].PositionKind),q=t.getVerticesData(m["VertexBuffer"].NormalKind),K=t.getVerticesData(m["VertexBuffer"].UVKind),Y=t.getIndices(),Q=X.length/9,Z=0,$=0,J=0,ee=0,te=0,re=[0];if(G)for(var ne=Q;ne<X.length/3;ne+=4)$=X[3*(ne+2)]-X[3*ne],J=X[3*(ne+2)+2]-X[3*ne+2],ee=Math.sqrt($*$+J*J),te+=ee,re.push(te);ne=0;for(var ie=0,oe=0;oe<q.length;oe+=3)Math.abs(q[oe+1])<.001&&(ie=1),Math.abs(q[oe+1]-1)<.001&&(ie=0),Math.abs(q[oe+1]+1)<.001&&(ie=2),ne=oe/3,1===ie?(Z=ne-Q,K[2*ne]=Z%4<1.5?G?b[ie].x+(b[ie].z-b[ie].x)*re[Math.floor(Z/4)]/te:b[ie].x:G?b[ie].x+(b[ie].z-b[ie].x)*re[Math.floor(Z/4)+1]/te:b[ie].z,K[2*ne+1]=Z%2===0?b[ie].w:b[ie].y):(K[2*ne]=(1-K[2*ne])*b[ie].x+K[2*ne]*b[ie].z,K[2*ne+1]=(1-K[2*ne+1])*b[ie].y+K[2*ne+1]*b[ie].w),v&&U.push(v[ie].r,v[ie].g,v[ie].b,v[ie].a);h["VertexData"]._ComputeSides(n,X,Y,q,K,p,_);var se=new h["VertexData"];if(se.indices=Y,se.positions=X,se.normals=q,se.uvs=K,v){var ae=n===h["VertexData"].DOUBLESIDE?U.concat(U):U;se.colors=ae}return se},d["Mesh"].CreatePolygon=function(t,n,u,c,l,d,h){void 0===h&&(h=earcut);var p={shape:n,holes:c,updatable:l,sideOrientation:d};return g.CreatePolygon(t,p,u,h)},d["Mesh"].ExtrudePolygon=function(t,n,u,c,l,d,h,p){void 0===p&&(p=earcut);var m={shape:n,holes:l,depth:u,updatable:d,sideOrientation:h};return g.ExtrudePolygon(t,m,c,p)};var g=function(){function PolygonBuilder(){}return PolygonBuilder.CreatePolygon=function(t,n,u,l){void 0===u&&(u=null),void 0===l&&(l=earcut),n.sideOrientation=d["Mesh"]._GetDefaultSideOrientation(n.sideOrientation);for(var m=n.shape,g=n.holes||[],b=n.depth||0,v=[],U=[],G=0;G<m.length;G++)v[G]=new c["Vector2"](m[G].x,m[G].z);var W=1e-8;v[0].equalsWithEpsilon(v[v.length-1],W)&&v.pop();for(var X=new p["PolygonMeshBuilder"](t,v,u||_["EngineStore"].LastCreatedScene,l),q=0;q<g.length;q++){U=[];for(var K=0;K<g[q].length;K++)U.push(new c["Vector2"](g[q][K].x,g[q][K].z));X.addHole(U)}var Y=X.build(n.updatable,b);Y._originalBuilderSideOrientation=n.sideOrientation;var Q=h["VertexData"].CreatePolygon(Y,n.sideOrientation,n.faceUV,n.faceColors,n.frontUVs,n.backUVs,n.wrap);return Q.applyToMesh(Y,n.updatable),Y},PolygonBuilder.ExtrudePolygon=function(t,n,u,c){return void 0===u&&(u=null),void 0===c&&(c=earcut),PolygonBuilder.CreatePolygon(t,n,u,c)},PolygonBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/polyhedronBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PolyhedronBuilder",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");h["VertexData"].CreatePolyhedron=function(t){var n=[];n[0]={vertex:[[0,0,1.732051],[1.632993,0,-.5773503],[-.8164966,1.414214,-.5773503],[-.8164966,-1.414214,-.5773503]],face:[[0,1,2],[0,2,3],[0,3,1],[1,3,2]]},n[1]={vertex:[[0,0,1.414214],[1.414214,0,0],[0,1.414214,0],[-1.414214,0,0],[0,-1.414214,0],[0,0,-1.414214]],face:[[0,1,2],[0,2,3],[0,3,4],[0,4,1],[1,4,5],[1,5,2],[2,5,3],[3,5,4]]},n[2]={vertex:[[0,0,1.070466],[.7136442,0,.7978784],[-.3568221,.618034,.7978784],[-.3568221,-.618034,.7978784],[.7978784,.618034,.3568221],[.7978784,-.618034,.3568221],[-.9341724,.381966,.3568221],[.1362939,1,.3568221],[.1362939,-1,.3568221],[-.9341724,-.381966,.3568221],[.9341724,.381966,-.3568221],[.9341724,-.381966,-.3568221],[-.7978784,.618034,-.3568221],[-.1362939,1,-.3568221],[-.1362939,-1,-.3568221],[-.7978784,-.618034,-.3568221],[.3568221,.618034,-.7978784],[.3568221,-.618034,-.7978784],[-.7136442,0,-.7978784],[0,0,-1.070466]],face:[[0,1,4,7,2],[0,2,6,9,3],[0,3,8,5,1],[1,5,11,10,4],[2,7,13,12,6],[3,9,15,14,8],[4,10,16,13,7],[5,8,14,17,11],[6,12,18,15,9],[10,11,17,19,16],[12,13,16,19,18],[14,15,18,19,17]]},n[3]={vertex:[[0,0,1.175571],[1.051462,0,.5257311],[.3249197,1,.5257311],[-.8506508,.618034,.5257311],[-.8506508,-.618034,.5257311],[.3249197,-1,.5257311],[.8506508,.618034,-.5257311],[.8506508,-.618034,-.5257311],[-.3249197,1,-.5257311],[-1.051462,0,-.5257311],[-.3249197,-1,-.5257311],[0,0,-1.175571]],face:[[0,1,2],[0,2,3],[0,3,4],[0,4,5],[0,5,1],[1,5,7],[1,7,6],[1,6,2],[2,6,8],[2,8,3],[3,8,9],[3,9,4],[4,9,10],[4,10,5],[5,10,7],[6,7,11],[6,11,8],[7,10,11],[8,11,9],[9,11,10]]},n[4]={vertex:[[0,0,1.070722],[.7148135,0,.7971752],[-.104682,.7071068,.7971752],[-.6841528,.2071068,.7971752],[-.104682,-.7071068,.7971752],[.6101315,.7071068,.5236279],[1.04156,.2071068,.1367736],[.6101315,-.7071068,.5236279],[-.3574067,1,.1367736],[-.7888348,-.5,.5236279],[-.9368776,.5,.1367736],[-.3574067,-1,.1367736],[.3574067,1,-.1367736],[.9368776,-.5,-.1367736],[.7888348,.5,-.5236279],[.3574067,-1,-.1367736],[-.6101315,.7071068,-.5236279],[-1.04156,-.2071068,-.1367736],[-.6101315,-.7071068,-.5236279],[.104682,.7071068,-.7971752],[.6841528,-.2071068,-.7971752],[.104682,-.7071068,-.7971752],[-.7148135,0,-.7971752],[0,0,-1.070722]],face:[[0,2,3],[1,6,5],[4,9,11],[7,15,13],[8,16,10],[12,14,19],[17,22,18],[20,21,23],[0,1,5,2],[0,3,9,4],[0,4,7,1],[1,7,13,6],[2,5,12,8],[2,8,10,3],[3,10,17,9],[4,11,15,7],[5,6,14,12],[6,13,20,14],[8,12,19,16],[9,17,18,11],[10,16,22,17],[11,18,21,15],[13,15,21,20],[14,20,23,19],[16,19,23,22],[18,22,23,21]]},n[5]={vertex:[[0,0,1.322876],[1.309307,0,.1889822],[-.9819805,.8660254,.1889822],[.1636634,-1.299038,.1889822],[.3273268,.8660254,-.9449112],[-.8183171,-.4330127,-.9449112]],face:[[0,3,1],[2,4,5],[0,1,4,2],[0,2,5,3],[1,3,5,4]]},n[6]={vertex:[[0,0,1.159953],[1.013464,0,.5642542],[-.3501431,.9510565,.5642542],[-.7715208,-.6571639,.5642542],[.6633206,.9510565,-.03144481],[.8682979,-.6571639,-.3996071],[-1.121664,.2938926,-.03144481],[-.2348831,-1.063314,-.3996071],[.5181548,.2938926,-.9953061],[-.5850262,-.112257,-.9953061]],face:[[0,1,4,2],[0,2,6,3],[1,5,8,4],[3,6,9,7],[5,7,9,8],[0,3,7,5,1],[2,4,8,9,6]]},n[7]={vertex:[[0,0,1.118034],[.8944272,0,.6708204],[-.2236068,.8660254,.6708204],[-.7826238,-.4330127,.6708204],[.6708204,.8660254,.2236068],[1.006231,-.4330127,-.2236068],[-1.006231,.4330127,.2236068],[-.6708204,-.8660254,-.2236068],[.7826238,.4330127,-.6708204],[.2236068,-.8660254,-.6708204],[-.8944272,0,-.6708204],[0,0,-1.118034]],face:[[0,1,4,2],[0,2,6,3],[1,5,8,4],[3,6,10,7],[5,9,11,8],[7,10,11,9],[0,3,7,9,5,1],[2,4,8,11,10,6]]},n[8]={vertex:[[-.729665,.670121,.319155],[-.655235,-.29213,-.754096],[-.093922,-.607123,.537818],[.702196,.595691,.485187],[.776626,-.36656,-.588064]],face:[[1,4,2],[0,1,2],[3,0,2],[4,3,2],[4,1,0,3]]},n[9]={vertex:[[-.868849,-.100041,.61257],[-.329458,.976099,.28078],[-.26629,-.013796,-.477654],[-.13392,-1.034115,.229829],[.738834,.707117,-.307018],[.859683,-.535264,-.338508]],face:[[3,0,2],[5,3,2],[4,5,2],[1,4,2],[0,1,2],[0,3,5,4,1]]},n[10]={vertex:[[-.610389,.243975,.531213],[-.187812,-.48795,-.664016],[-.187812,.9759,-.664016],[.187812,-.9759,.664016],[.798201,.243975,.132803]],face:[[1,3,0],[3,4,0],[3,1,4],[0,2,1],[0,4,2],[2,4,1]]},n[11]={vertex:[[-1.028778,.392027,-.048786],[-.640503,-.646161,.621837],[-.125162,-.395663,-.540059],[.004683,.888447,-.651988],[.125161,.395663,.540059],[.632925,-.791376,.433102],[1.031672,.157063,-.354165]],face:[[3,2,0],[2,1,0],[2,5,1],[0,4,3],[0,1,4],[4,1,5],[2,3,6],[3,4,6],[5,2,6],[4,5,6]]},n[12]={vertex:[[-.669867,.334933,-.529576],[-.669867,.334933,.529577],[-.4043,1.212901,0],[-.334933,-.669867,-.529576],[-.334933,-.669867,.529577],[.334933,.669867,-.529576],[.334933,.669867,.529577],[.4043,-1.212901,0],[.669867,-.334933,-.529576],[.669867,-.334933,.529577]],face:[[8,9,7],[6,5,2],[3,8,7],[5,0,2],[4,3,7],[0,1,2],[9,4,7],[1,6,2],[9,8,5,6],[8,3,0,5],[3,4,1,0],[4,9,6,1]]},n[13]={vertex:[[-.931836,.219976,-.264632],[-.636706,.318353,.692816],[-.613483,-.735083,-.264632],[-.326545,.979634,0],[-.318353,-.636706,.692816],[-.159176,.477529,-.856368],[.159176,-.477529,-.856368],[.318353,.636706,.692816],[.326545,-.979634,0],[.613482,.735082,-.264632],[.636706,-.318353,.692816],[.931835,-.219977,-.264632]],face:[[11,10,8],[7,9,3],[6,11,8],[9,5,3],[2,6,8],[5,0,3],[4,2,8],[0,1,3],[10,4,8],[1,7,3],[10,11,9,7],[11,6,5,9],[6,2,0,5],[2,4,1,0],[4,10,7,1]]},n[14]={vertex:[[-.93465,.300459,-.271185],[-.838689,-.260219,-.516017],[-.711319,.717591,.128359],[-.710334,-.156922,.080946],[-.599799,.556003,-.725148],[-.503838,-.004675,-.969981],[-.487004,.26021,.48049],[-.460089,-.750282,-.512622],[-.376468,.973135,-.325605],[-.331735,-.646985,.084342],[-.254001,.831847,.530001],[-.125239,-.494738,-.966586],[.029622,.027949,.730817],[.056536,-.982543,-.262295],[.08085,1.087391,.076037],[.125583,-.532729,.485984],[.262625,.599586,.780328],[.391387,-.726999,-.716259],[.513854,-.868287,.139347],[.597475,.85513,.326364],[.641224,.109523,.783723],[.737185,-.451155,.538891],[.848705,-.612742,-.314616],[.976075,.365067,.32976],[1.072036,-.19561,.084927]],face:[[15,18,21],[12,20,16],[6,10,2],[3,0,1],[9,7,13],[2,8,4,0],[0,4,5,1],[1,5,11,7],[7,11,17,13],[13,17,22,18],[18,22,24,21],[21,24,23,20],[20,23,19,16],[16,19,14,10],[10,14,8,2],[15,9,13,18],[12,15,21,20],[6,12,16,10],[3,6,2,0],[9,3,1,7],[9,15,12,6,3],[22,17,11,5,4,8,14,19,23,24]]};var u,d,p,m,_,g,b=t.type&&(t.type<0||t.type>=n.length)?0:t.type||0,v=t.size,U=t.sizeX||v||1,G=t.sizeY||v||1,W=t.sizeZ||v||1,X=t.custom||n[b],q=X.face.length,K=t.faceUV||new Array(q),Y=t.faceColors,Q=void 0===t.flat||t.flat,Z=0===t.sideOrientation?0:t.sideOrientation||h["VertexData"].DEFAULTSIDE,$=new Array,J=new Array,ee=new Array,te=new Array,re=new Array,ne=0,ie=0,oe=new Array,se=0,ae=0;if(Q)for(ae=0;ae<q;ae++)Y&&void 0===Y[ae]&&(Y[ae]=new l["Color4"](1,1,1,1)),K&&void 0===K[ae]&&(K[ae]=new c["Vector4"](0,0,1,1));if(Q)for(ae=0;ae<q;ae++){var ue=X.face[ae].length;for(p=2*Math.PI/ue,m=.5*Math.tan(p/2),_=.5,se=0;se<ue;se++)$.push(X.vertex[X.face[ae][se]][0]*U,X.vertex[X.face[ae][se]][1]*G,X.vertex[X.face[ae][se]][2]*W),oe.push(ne),ne++,u=K[ae].x+(K[ae].z-K[ae].x)*(.5+m),d=K[ae].y+(K[ae].w-K[ae].y)*(_-.5),te.push(u,d),g=m*Math.cos(p)-_*Math.sin(p),_=m*Math.sin(p)+_*Math.cos(p),m=g,Y&&re.push(Y[ae].r,Y[ae].g,Y[ae].b,Y[ae].a);for(se=0;se<ue-2;se++)J.push(oe[0+ie],oe[se+2+ie],oe[se+1+ie]);ie+=ue}else{for(se=0;se<X.vertex.length;se++)$.push(X.vertex[se][0]*U,X.vertex[se][1]*G,X.vertex[se][2]*W),te.push(0,0);for(ae=0;ae<q;ae++)for(se=0;se<X.face[ae].length-2;se++)J.push(X.face[ae][0],X.face[ae][se+2],X.face[ae][se+1])}h["VertexData"].ComputeNormals($,J,ee),h["VertexData"]._ComputeSides(Z,$,J,ee,te,t.frontUVs,t.backUVs);var ce=new h["VertexData"];return ce.positions=$,ce.indices=J,ce.normals=ee,ce.uvs=te,Y&&Q&&(ce.colors=re),ce},d["Mesh"].CreatePolyhedron=function(t,n,u){return p.CreatePolyhedron(t,n,u)};var p=function(){function PolyhedronBuilder(){}return PolyhedronBuilder.CreatePolyhedron=function(t,n,u){void 0===u&&(u=null);var c=new d["Mesh"](t,u);n.sideOrientation=d["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var l=h["VertexData"].CreatePolyhedron(n);return l.applyToMesh(c,n.updatable),c},PolyhedronBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/ribbonBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"RibbonBuilder",(function(){return m}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),p=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js");h["VertexData"].CreateRibbon=function(t){var n=t.pathArray,u=t.closeArray||!1,c=t.closePath||!1,l=t.invertUV||!1,p=Math.floor(n[0].length/2),m=t.offset||p;m=m>p?p:Math.floor(m);var _,g,b,v,U=0===t.sideOrientation?0:t.sideOrientation||h["VertexData"].DEFAULTSIDE,G=t.uvs,W=t.colors,X=[],q=[],K=[],Y=[],Q=[],Z=[],$=[],J=[],ee=[],te=[];if(n.length<2){var re=[],ne=[];for(b=0;b<n[0].length-m;b++)re.push(n[0][b]),ne.push(n[0][b+m]);n=[re,ne]}var ie,oe,se,ae,ue,ce,le=0,de=c?1:0;for(_=n[0].length,g=0;g<n.length;g++){$[g]=0,Q[g]=[0],ie=n[g],oe=ie.length,_=_<oe?_:oe,v=0;while(v<oe)X.push(ie[v].x,ie[v].y,ie[v].z),v>0&&(se=ie[v].subtract(ie[v-1]).length(),ae=se+$[g],Q[g].push(ae),$[g]=ae),v++;c&&(v--,X.push(ie[0].x,ie[0].y,ie[0].z),se=ie[v].subtract(ie[0]).length(),ae=se+$[g],Q[g].push(ae),$[g]=ae),ee[g]=oe+de,te[g]=le,le+=oe+de}var he,fe,pe=null,me=null;for(b=0;b<_+de;b++){for(J[b]=0,Z[b]=[0],g=0;g<n.length-1;g++)ue=n[g],ce=n[g+1],b===_?(pe=ue[0],me=ce[0]):(pe=ue[b],me=ce[b]),se=me.subtract(pe).length(),ae=se+J[b],Z[b].push(ae),J[b]=ae;u&&me&&pe&&(ue=n[g],ce=n[0],b===_&&(me=ce[0]),se=me.subtract(pe).length(),ae=se+J[b],J[b]=ae)}if(G)for(g=0;g<G.length;g++)Y.push(G[g].x,G[g].y);else for(g=0;g<n.length;g++)for(b=0;b<_+de;b++)he=0!=$[g]?Q[g][b]/$[g]:0,fe=0!=J[b]?Z[b][g]/J[b]:0,l?Y.push(fe,he):Y.push(he,fe);g=0;var _e=0,ge=ee[g]-1,be=ee[g+1]-1,ve=ge<be?ge:be,ye=te[1]-te[0],xe=u?ee.length:ee.length-1;while(_e<=ve&&g<xe)q.push(_e,_e+ye,_e+1),q.push(_e+ye+1,_e+1,_e+ye),_e+=1,_e===ve&&(g++,g===ee.length-1?(ye=te[0]-te[g],ge=ee[g]-1,be=ee[0]-1):(ye=te[g+1]-te[g],ge=ee[g]-1,be=ee[g+1]-1),_e=te[g],ve=ge<be?ge+_e:be+_e);if(h["VertexData"].ComputeNormals(X,q,K),c){var Me=0,Te=0;for(g=0;g<n.length;g++)Me=3*te[g],Te=g+1<n.length?3*(te[g+1]-1):K.length-3,K[Me]=.5*(K[Me]+K[Te]),K[Me+1]=.5*(K[Me+1]+K[Te+1]),K[Me+2]=.5*(K[Me+2]+K[Te+2]),K[Te]=K[Me],K[Te+1]=K[Me+1],K[Te+2]=K[Me+2]}h["VertexData"]._ComputeSides(U,X,q,K,Y,t.frontUVs,t.backUVs);var Se=null;if(W){Se=new Float32Array(4*W.length);for(var Ce=0;Ce<W.length;Ce++)Se[4*Ce]=W[Ce].r,Se[4*Ce+1]=W[Ce].g,Se[4*Ce+2]=W[Ce].b,Se[4*Ce+3]=W[Ce].a}var Ee=new h["VertexData"],Oe=new Float32Array(X),Pe=new Float32Array(K),je=new Float32Array(Y);return Ee.indices=q,Ee.positions=Oe,Ee.normals=Pe,Ee.uvs=je,Se&&Ee.set(Se,d["VertexBuffer"].ColorKind),c&&(Ee._idx=te),Ee},l["Mesh"].CreateRibbon=function(t,n,u,c,l,d,h,p,_){return void 0===u&&(u=!1),void 0===h&&(h=!1),m.CreateRibbon(t,{pathArray:n,closeArray:u,closePath:c,offset:l,updatable:h,sideOrientation:p,instance:_},d)};var m=function(){function RibbonBuilder(){}return RibbonBuilder.CreateRibbon=function(t,n,u){void 0===u&&(u=null);var m=n.pathArray,_=n.closeArray,g=n.closePath,b=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),v=n.instance,U=n.updatable;if(v){var G=c["TmpVectors"].Vector3[0].setAll(Number.MAX_VALUE),W=c["TmpVectors"].Vector3[1].setAll(-Number.MAX_VALUE),positionFunction=function(t){for(var n=m[0].length,u=v,c=0,d=u._originalBuilderSideOrientation===l["Mesh"].DOUBLESIDE?2:1,h=1;h<=d;++h)for(var p=0;p<m.length;++p){var _=m[p],g=_.length;n=n<g?n:g;for(var b=0;b<n;++b){var U=_[b];t[c]=U.x,t[c+1]=U.y,t[c+2]=U.z,G.minimizeInPlaceFromFloats(U.x,U.y,U.z),W.maximizeInPlaceFromFloats(U.x,U.y,U.z),c+=3}if(u._creationDataStorage&&u._creationDataStorage.closePath){U=_[0];t[c]=U.x,t[c+1]=U.y,t[c+2]=U.z,c+=3}}},X=v.getVerticesData(d["VertexBuffer"].PositionKind);if(positionFunction(X),v._boundingInfo?v._boundingInfo.reConstruct(G,W,v._worldMatrix):v._boundingInfo=new p["BoundingInfo"](G,W,v._worldMatrix),v.updateVerticesData(d["VertexBuffer"].PositionKind,X,!1,!1),n.colors){for(var q=v.getVerticesData(d["VertexBuffer"].ColorKind),K=0,Y=0;K<n.colors.length;K++,Y+=4){var Q=n.colors[K];q[Y]=Q.r,q[Y+1]=Q.g,q[Y+2]=Q.b,q[Y+3]=Q.a}v.updateVerticesData(d["VertexBuffer"].ColorKind,q,!1,!1)}if(n.uvs){for(var Z=v.getVerticesData(d["VertexBuffer"].UVKind),$=0;$<n.uvs.length;$++)Z[2*$]=n.uvs[$].x,Z[2*$+1]=n.uvs[$].y;v.updateVerticesData(d["VertexBuffer"].UVKind,Z,!1,!1)}if(!v.areNormalsFrozen||v.isFacetDataEnabled){var J=v.getIndices(),ee=v.getVerticesData(d["VertexBuffer"].NormalKind),te=v.isFacetDataEnabled?v.getFacetDataParameters():null;if(h["VertexData"].ComputeNormals(X,J,ee,te),v._creationDataStorage&&v._creationDataStorage.closePath)for(var re=0,ne=0,ie=0;ie<m.length;ie++)re=3*v._creationDataStorage.idx[ie],ne=ie+1<m.length?3*(v._creationDataStorage.idx[ie+1]-1):ee.length-3,ee[re]=.5*(ee[re]+ee[ne]),ee[re+1]=.5*(ee[re+1]+ee[ne+1]),ee[re+2]=.5*(ee[re+2]+ee[ne+2]),ee[ne]=ee[re],ee[ne+1]=ee[re+1],ee[ne+2]=ee[re+2];v.areNormalsFrozen||v.updateVerticesData(d["VertexBuffer"].NormalKind,ee,!1,!1)}return v}var oe=new l["Mesh"](t,u);oe._originalBuilderSideOrientation=b,oe._creationDataStorage=new l["_CreationDataStorage"];var se=h["VertexData"].CreateRibbon(n);return g&&(oe._creationDataStorage.idx=se._idx),oe._creationDataStorage.closePath=g,oe._creationDataStorage.closeArray=_,se.applyToMesh(oe,U),oe},RibbonBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/shapeBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ShapeBuilder",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/Builders/ribbonBuilder.js"),h=u("./node_modules/@babylonjs/core/Maths/math.path.js");l["Mesh"].ExtrudeShape=function(t,n,u,c,d,h,m,_,g,b){void 0===m&&(m=null);var v={shape:n,path:u,scale:c,rotation:d,cap:0===h?0:h||l["Mesh"].NO_CAP,sideOrientation:g,instance:b,updatable:_};return p.ExtrudeShape(t,v,m)},l["Mesh"].ExtrudeShapeCustom=function(t,n,u,c,d,h,m,_,g,b,v,U){var G={shape:n,path:u,scaleFunction:c,rotationFunction:d,ribbonCloseArray:h,ribbonClosePath:m,cap:0===_?0:_||l["Mesh"].NO_CAP,sideOrientation:v,instance:U,updatable:b};return p.ExtrudeShapeCustom(t,G,g)};var p=function(){function ShapeBuilder(){}return ShapeBuilder.ExtrudeShape=function(t,n,u){void 0===u&&(u=null);var c=n.path,d=n.shape,h=n.scale||1,p=n.rotation||0,m=0===n.cap?0:n.cap||l["Mesh"].NO_CAP,_=n.updatable,g=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),b=n.instance||null,v=n.invertUV||!1;return ShapeBuilder._ExtrudeShapeGeneric(t,d,c,h,p,null,null,!1,!1,m,!1,u,!!_,g,b,v,n.frontUVs||null,n.backUVs||null)},ShapeBuilder.ExtrudeShapeCustom=function(t,n,u){void 0===u&&(u=null);var c=n.path,d=n.shape,h=n.scaleFunction||function(){return 1},p=n.rotationFunction||function(){return 0},m=n.ribbonCloseArray||!1,_=n.ribbonClosePath||!1,g=0===n.cap?0:n.cap||l["Mesh"].NO_CAP,b=n.updatable,v=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),U=n.instance,G=n.invertUV||!1;return ShapeBuilder._ExtrudeShapeGeneric(t,d,c,null,null,h,p,m,_,g,!0,u,!!b,v,U||null,G,n.frontUVs||null,n.backUVs||null)},ShapeBuilder._ExtrudeShapeGeneric=function(t,n,u,p,m,_,g,b,v,U,G,W,X,q,K,Y,Q,Z){var $,J,extrusionPathArray=function(t,n,u,d,h,p,m,_,g,b){for(var v=u.getTangents(),U=u.getNormals(),G=u.getBinormals(),W=u.getDistances(),X=0,returnScale=function(){return null!==h?h:1},returnRotation=function(){return null!==p?p:0},q=b&&_?_:returnRotation,K=b&&m?m:returnScale,Y=g===l["Mesh"].NO_CAP||g===l["Mesh"].CAP_END?0:2,Q=c["TmpVectors"].Matrix[0],Z=0;Z<n.length;Z++){for(var $=new Array,J=q(Z,W[Z]),ee=K(Z,W[Z]),te=0;te<t.length;te++){c["Matrix"].RotationAxisToRef(v[Z],X,Q);var re=v[Z].scale(t[te].z).add(U[Z].scale(t[te].x)).add(G[Z].scale(t[te].y)),ne=$[te]?$[te]:c["Vector3"].Zero();c["Vector3"].TransformCoordinatesToRef(re,Q,ne),ne.scaleInPlace(ee).addInPlace(n[Z]),$[te]=ne}d[Y]=$,X+=J,Y++}var capPath=function(t){var n,u=Array(),l=c["Vector3"].Zero();for(n=0;n<t.length;n++)l.addInPlace(t[n]);for(l.scaleInPlace(1/t.length),n=0;n<t.length;n++)u.push(l);return u};switch(g){case l["Mesh"].NO_CAP:break;case l["Mesh"].CAP_START:d[0]=capPath(d[2]),d[1]=d[2];break;case l["Mesh"].CAP_END:d[Y]=d[Y-1],d[Y+1]=capPath(d[Y-1]);break;case l["Mesh"].CAP_ALL:d[0]=capPath(d[2]),d[1]=d[2],d[Y]=d[Y-1],d[Y+1]=capPath(d[Y-1]);break;default:break}return d};if(K){var ee=K._creationDataStorage;return $=ee.path3D.update(u),J=extrusionPathArray(n,u,ee.path3D,ee.pathArray,p,m,_,g,ee.cap,G),K=l["Mesh"].CreateRibbon("",J,!1,!1,0,W||void 0,!1,0,K),K}$=new h["Path3D"](u);var te=new Array;U=U<0||U>3?0:U,J=extrusionPathArray(n,u,$,te,p,m,_,g,U,G);var re=d["RibbonBuilder"].CreateRibbon(t,{pathArray:J,closeArray:b,closePath:v,updatable:X,sideOrientation:q,invertUV:Y,frontUVs:Q||void 0,backUVs:Z||void 0},W);return re._creationDataStorage.pathArray=J,re._creationDataStorage.path3D=$,re._creationDataStorage.cap=U,re},ShapeBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/sphereBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"SphereBuilder",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");d["VertexData"].CreateSphere=function(t){for(var n=t.segments||32,u=t.diameterX||t.diameter||1,l=t.diameterY||t.diameter||1,h=t.diameterZ||t.diameter||1,p=t.arc&&(t.arc<=0||t.arc>1)?1:t.arc||1,m=t.slice&&t.slice<=0?1:t.slice||1,_=0===t.sideOrientation?0:t.sideOrientation||d["VertexData"].DEFAULTSIDE,g=!!t.dedupTopBottomIndices,b=new c["Vector3"](u/2,l/2,h/2),v=2+n,U=2*v,G=[],W=[],X=[],q=[],K=0;K<=v;K++){for(var Y=K/v,Q=Y*Math.PI*m,Z=0;Z<=U;Z++){var $=Z/U,J=$*Math.PI*2*p,ee=c["Matrix"].RotationZ(-Q),te=c["Matrix"].RotationY(J),re=c["Vector3"].TransformCoordinates(c["Vector3"].Up(),ee),ne=c["Vector3"].TransformCoordinates(re,te),ie=ne.multiply(b),oe=ne.divide(b).normalize();W.push(ie.x,ie.y,ie.z),X.push(oe.x,oe.y,oe.z),q.push($,Y)}if(K>0)for(var se=W.length/3,ae=se-2*(U+1);ae+U+2<se;ae++)g?(K>1&&(G.push(ae),G.push(ae+1),G.push(ae+U+1)),(K<v||m<1)&&(G.push(ae+U+1),G.push(ae+1),G.push(ae+U+2))):(G.push(ae),G.push(ae+1),G.push(ae+U+1),G.push(ae+U+1),G.push(ae+1),G.push(ae+U+2))}d["VertexData"]._ComputeSides(_,W,G,X,q,t.frontUVs,t.backUVs);var ue=new d["VertexData"];return ue.indices=G,ue.positions=W,ue.normals=X,ue.uvs=q,ue},l["Mesh"].CreateSphere=function(t,n,u,c,l,d){var p={segments:n,diameterX:u,diameterY:u,diameterZ:u,sideOrientation:d,updatable:l};return h.CreateSphere(t,p,c)};var h=function(){function SphereBuilder(){}return SphereBuilder.CreateSphere=function(t,n,u){void 0===u&&(u=null);var c=new l["Mesh"](t,u);n.sideOrientation=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var h=d["VertexData"].CreateSphere(n);return h.applyToMesh(c,n.updatable),c},SphereBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/tiledBoxBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TiledBoxBuilder",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");h["VertexData"].CreateTiledBox=function(t){for(var n=6,u=t.faceUV||new Array(6),p=t.faceColors,m=t.pattern||d["Mesh"].NO_FLIP,_=t.width||t.size||1,g=t.height||t.size||1,b=t.depth||t.size||1,v=t.tileWidth||t.tileSize||1,U=t.tileHeight||t.tileSize||1,G=t.alignHorizontal||0,W=t.alignVertical||0,X=0===t.sideOrientation?0:t.sideOrientation||h["VertexData"].DEFAULTSIDE,q=0;q<n;q++)void 0===u[q]&&(u[q]=new c["Vector4"](0,0,1,1)),p&&void 0===p[q]&&(p[q]=new l["Color4"](1,1,1,1));var K=_/2,Y=g/2,Q=b/2,Z=[];for(q=0;q<2;q++)Z[q]=h["VertexData"].CreateTiledPlane({pattern:m,tileWidth:v,tileHeight:U,width:_,height:g,alignVertical:W,alignHorizontal:G,sideOrientation:X});for(q=2;q<4;q++)Z[q]=h["VertexData"].CreateTiledPlane({pattern:m,tileWidth:v,tileHeight:U,width:b,height:g,alignVertical:W,alignHorizontal:G,sideOrientation:X});var $=W;W===d["Mesh"].BOTTOM?$=d["Mesh"].TOP:W===d["Mesh"].TOP&&($=d["Mesh"].BOTTOM);for(q=4;q<6;q++)Z[q]=h["VertexData"].CreateTiledPlane({pattern:m,tileWidth:v,tileHeight:U,width:_,height:b,alignVertical:$,alignHorizontal:G,sideOrientation:X});var J=[],ee=[],te=[],re=[],ne=[],ie=[],oe=[],se=[],ae=0,ue=0,ce=0;for(q=0;q<n;q++){ae=Z[q].positions.length;ie[q]=[],oe[q]=[];for(var le=0;le<ae/3;le++)ie[q].push(new c["Vector3"](Z[q].positions[3*le],Z[q].positions[3*le+1],Z[q].positions[3*le+2])),oe[q].push(new c["Vector3"](Z[q].normals[3*le],Z[q].normals[3*le+1],Z[q].normals[3*le+2]));ue=Z[q].uvs.length,se[q]=[];for(var de=0;de<ue;de+=2)se[q][de]=u[q].x+(u[q].z-u[q].x)*Z[q].uvs[de],se[q][de+1]=u[q].y+(u[q].w-u[q].y)*Z[q].uvs[de+1];if(te=te.concat(se[q]),re=re.concat(Z[q].indices.map((function(t){return t+ce}))),ce+=ie[q].length,p)for(var he=0;he<4;he++)ne.push(p[q].r,p[q].g,p[q].b,p[q].a)}var fe=new c["Vector3"](0,0,Q),pe=c["Matrix"].RotationY(Math.PI);J=ie[0].map((function(t){return c["Vector3"].TransformNormal(t,pe).add(fe)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[]),ee=oe[0].map((function(t){return c["Vector3"].TransformNormal(t,pe)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[]),J=J.concat(ie[1].map((function(t){return t.subtract(fe)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[])),ee=ee.concat(oe[1].map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[]));var me=new c["Vector3"](K,0,0),_e=c["Matrix"].RotationY(-Math.PI/2);J=J.concat(ie[2].map((function(t){return c["Vector3"].TransformNormal(t,_e).add(me)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[])),ee=ee.concat(oe[2].map((function(t){return c["Vector3"].TransformNormal(t,_e)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[]));var ge=c["Matrix"].RotationY(Math.PI/2);J=J.concat(ie[3].map((function(t){return c["Vector3"].TransformNormal(t,ge).subtract(me)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[])),ee=ee.concat(oe[3].map((function(t){return c["Vector3"].TransformNormal(t,ge)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[]));var be=new c["Vector3"](0,Y,0),ve=c["Matrix"].RotationX(Math.PI/2);J=J.concat(ie[4].map((function(t){return c["Vector3"].TransformNormal(t,ve).add(be)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[])),ee=ee.concat(oe[4].map((function(t){return c["Vector3"].TransformNormal(t,ve)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[]));var ye=c["Matrix"].RotationX(-Math.PI/2);J=J.concat(ie[5].map((function(t){return c["Vector3"].TransformNormal(t,ye).subtract(be)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[])),ee=ee.concat(oe[5].map((function(t){return c["Vector3"].TransformNormal(t,ye)})).map((function(t){return[t.x,t.y,t.z]})).reduce((function(t,n){return t.concat(n)}),[])),h["VertexData"]._ComputeSides(X,J,re,ee,te);var xe=new h["VertexData"];if(xe.indices=re,xe.positions=J,xe.normals=ee,xe.uvs=te,p){var Me=X===h["VertexData"].DOUBLESIDE?ne.concat(ne):ne;xe.colors=Me}return xe};var p=function(){function TiledBoxBuilder(){}return TiledBoxBuilder.CreateTiledBox=function(t,n,u){void 0===u&&(u=null);var c=new d["Mesh"](t,u);n.sideOrientation=d["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var l=h["VertexData"].CreateTiledBox(n);return l.applyToMesh(c,n.updatable),c},TiledBoxBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/tiledPlaneBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TiledPlaneBuilder",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");l["VertexData"].CreateTiledPlane=function(t){var n=t.pattern||c["Mesh"].NO_FLIP,u=t.tileWidth||t.tileSize||1,d=t.tileHeight||t.tileSize||1,h=t.alignHorizontal||0,p=t.alignVertical||0,m=t.width||t.size||1,_=Math.floor(m/u),g=m-_*u,b=t.height||t.size||1,v=Math.floor(b/d),U=b-v*d,G=u*_/2,W=d*v/2,X=0,q=0,K=0,Y=0,Q=0,Z=0;if(g>0||U>0){K=-G,Y=-W;Q=G,Z=W;switch(h){case c["Mesh"].CENTER:g/=2,K-=g,Q+=g;break;case c["Mesh"].LEFT:Q+=g,X=-g/2;break;case c["Mesh"].RIGHT:K-=g,X=g/2;break}switch(p){case c["Mesh"].CENTER:U/=2,Y-=U,Z+=U;break;case c["Mesh"].BOTTOM:Z+=U,q=-U/2;break;case c["Mesh"].TOP:Y-=U,q=U/2;break}}var $=[],J=[],ee=[];ee[0]=[0,0,1,0,1,1,0,1],ee[1]=[0,0,1,0,1,1,0,1],n!==c["Mesh"].ROTATE_TILE&&n!==c["Mesh"].ROTATE_ROW||(ee[1]=[1,1,0,1,0,0,1,0]),n!==c["Mesh"].FLIP_TILE&&n!==c["Mesh"].FLIP_ROW||(ee[1]=[1,0,0,0,0,1,1,1]),n!==c["Mesh"].FLIP_N_ROTATE_TILE&&n!==c["Mesh"].FLIP_N_ROTATE_ROW||(ee[1]=[0,1,1,1,1,0,0,0]);for(var te=[],re=[],ne=[],ie=0,oe=0;oe<v;oe++)for(var se=0;se<_;se++)$.push(se*u-G+X,oe*d-W+q,0),$.push((se+1)*u-G+X,oe*d-W+q,0),$.push((se+1)*u-G+X,(oe+1)*d-W+q,0),$.push(se*u-G+X,(oe+1)*d-W+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),te=n===c["Mesh"].FLIP_TILE||n===c["Mesh"].ROTATE_TILE||n===c["Mesh"].FLIP_N_ROTATE_TILE?te.concat(ee[(se%2+oe%2)%2]):n===c["Mesh"].FLIP_ROW||n===c["Mesh"].ROTATE_ROW||n===c["Mesh"].FLIP_N_ROTATE_ROW?te.concat(ee[oe%2]):te.concat(ee[0]),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1),ie+=4;if(g>0||U>0){var ae,ue,ce,le,de=U>0&&(p===c["Mesh"].CENTER||p===c["Mesh"].TOP),he=U>0&&(p===c["Mesh"].CENTER||p===c["Mesh"].BOTTOM),fe=g>0&&(h===c["Mesh"].CENTER||h===c["Mesh"].RIGHT),pe=g>0&&(h===c["Mesh"].CENTER||h===c["Mesh"].LEFT),me=[];if(de&&fe&&($.push(K+X,Y+q,0),$.push(-G+X,Y+q,0),$.push(-G+X,Y+U+q,0),$.push(K+X,Y+U+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,ae=1-g/u,ue=1-U/d,ce=1,le=1,me=[ae,ue,ce,ue,ce,le,ae,le],n===c["Mesh"].ROTATE_ROW&&(me=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),n===c["Mesh"].FLIP_ROW&&(me=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),n===c["Mesh"].FLIP_N_ROTATE_ROW&&(me=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]),te=te.concat(me),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),de&&pe&&($.push(G+X,Y+q,0),$.push(Q+X,Y+q,0),$.push(Q+X,Y+U+q,0),$.push(G+X,Y+U+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,ae=0,ue=1-U/d,ce=g/u,le=1,me=[ae,ue,ce,ue,ce,le,ae,le],(n===c["Mesh"].ROTATE_ROW||n===c["Mesh"].ROTATE_TILE&&_%2===0)&&(me=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),(n===c["Mesh"].FLIP_ROW||n===c["Mesh"].FLIP_TILE&&_%2===0)&&(me=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),(n===c["Mesh"].FLIP_N_ROTATE_ROW||n===c["Mesh"].FLIP_N_ROTATE_TILE&&_%2===0)&&(me=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]),te=te.concat(me),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),he&&fe&&($.push(K+X,W+q,0),$.push(-G+X,W+q,0),$.push(-G+X,Z+q,0),$.push(K+X,Z+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,ae=1-g/u,ue=0,ce=1,le=U/d,me=[ae,ue,ce,ue,ce,le,ae,le],(n===c["Mesh"].ROTATE_ROW&&v%2===1||n===c["Mesh"].ROTATE_TILE&&v%1===0)&&(me=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),(n===c["Mesh"].FLIP_ROW&&v%2===1||n===c["Mesh"].FLIP_TILE&&v%2===0)&&(me=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),(n===c["Mesh"].FLIP_N_ROTATE_ROW&&v%2===1||n===c["Mesh"].FLIP_N_ROTATE_TILE&&v%2===0)&&(me=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]),te=te.concat(me),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),he&&pe&&($.push(G+X,W+q,0),$.push(Q+X,W+q,0),$.push(Q+X,Z+q,0),$.push(G+X,Z+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,ae=0,ue=0,ce=g/u,le=U/d,me=[ae,ue,ce,ue,ce,le,ae,le],(n===c["Mesh"].ROTATE_ROW&&v%2===1||n===c["Mesh"].ROTATE_TILE&&(v+_)%2===1)&&(me=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),(n===c["Mesh"].FLIP_ROW&&v%2===1||n===c["Mesh"].FLIP_TILE&&(v+_)%2===1)&&(me=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),(n===c["Mesh"].FLIP_N_ROTATE_ROW&&v%2===1||n===c["Mesh"].FLIP_N_ROTATE_TILE&&(v+_)%2===1)&&(me=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]),te=te.concat(me),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),de){var _e=[];ae=0,ue=1-U/d,ce=1,le=1,_e[0]=[ae,ue,ce,ue,ce,le,ae,le],_e[1]=[ae,ue,ce,ue,ce,le,ae,le],n!==c["Mesh"].ROTATE_TILE&&n!==c["Mesh"].ROTATE_ROW||(_e[1]=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),n!==c["Mesh"].FLIP_TILE&&n!==c["Mesh"].FLIP_ROW||(_e[1]=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),n!==c["Mesh"].FLIP_N_ROTATE_TILE&&n!==c["Mesh"].FLIP_N_ROTATE_ROW||(_e[1]=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]);for(se=0;se<_;se++)$.push(se*u-G+X,Y+q,0),$.push((se+1)*u-G+X,Y+q,0),$.push((se+1)*u-G+X,Y+U+q,0),$.push(se*u-G+X,Y+U+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,te=n===c["Mesh"].FLIP_TILE||n===c["Mesh"].ROTATE_TILE||n===c["Mesh"].FLIP_N_ROTATE_TILE?te.concat(_e[(se+1)%2]):n===c["Mesh"].FLIP_ROW||n===c["Mesh"].ROTATE_ROW||n===c["Mesh"].FLIP_N_ROTATE_ROW?te.concat(_e[1]):te.concat(_e[0]),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(he){var ge=[];ae=0,ue=0,ce=1,le=U/d,ge[0]=[ae,ue,ce,ue,ce,le,ae,le],ge[1]=[ae,ue,ce,ue,ce,le,ae,le],n!==c["Mesh"].ROTATE_TILE&&n!==c["Mesh"].ROTATE_ROW||(ge[1]=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),n!==c["Mesh"].FLIP_TILE&&n!==c["Mesh"].FLIP_ROW||(ge[1]=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),n!==c["Mesh"].FLIP_N_ROTATE_TILE&&n!==c["Mesh"].FLIP_N_ROTATE_ROW||(ge[1]=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]);for(se=0;se<_;se++)$.push(se*u-G+X,Z-U+q,0),$.push((se+1)*u-G+X,Z-U+q,0),$.push((se+1)*u-G+X,Z+q,0),$.push(se*u-G+X,Z+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,te=n===c["Mesh"].FLIP_TILE||n===c["Mesh"].ROTATE_TILE||n===c["Mesh"].FLIP_N_ROTATE_TILE?te.concat(ge[(se+v)%2]):n===c["Mesh"].FLIP_ROW||n===c["Mesh"].ROTATE_ROW||n===c["Mesh"].FLIP_N_ROTATE_ROW?te.concat(ge[v%2]):te.concat(ge[0]),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(fe){var be=[];ae=1-g/u,ue=0,ce=1,le=1,be[0]=[ae,ue,ce,ue,ce,le,ae,le],be[1]=[ae,ue,ce,ue,ce,le,ae,le],n!==c["Mesh"].ROTATE_TILE&&n!==c["Mesh"].ROTATE_ROW||(be[1]=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),n!==c["Mesh"].FLIP_TILE&&n!==c["Mesh"].FLIP_ROW||(be[1]=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),n!==c["Mesh"].FLIP_N_ROTATE_TILE&&n!==c["Mesh"].FLIP_N_ROTATE_ROW||(be[1]=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]);for(oe=0;oe<v;oe++)$.push(K+X,oe*d-W+q,0),$.push(K+g+X,oe*d-W+q,0),$.push(K+g+X,(oe+1)*d-W+q,0),$.push(K+X,(oe+1)*d-W+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,te=n===c["Mesh"].FLIP_TILE||n===c["Mesh"].ROTATE_TILE||n===c["Mesh"].FLIP_N_ROTATE_TILE?te.concat(be[(oe+1)%2]):n===c["Mesh"].FLIP_ROW||n===c["Mesh"].ROTATE_ROW||n===c["Mesh"].FLIP_N_ROTATE_ROW?te.concat(be[oe%2]):te.concat(be[0]),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(pe){var ve=[];ae=0,ue=0,ce=g/d,le=1,ve[0]=[ae,ue,ce,ue,ce,le,ae,le],ve[1]=[ae,ue,ce,ue,ce,le,ae,le],n!==c["Mesh"].ROTATE_TILE&&n!==c["Mesh"].ROTATE_ROW||(ve[1]=[1-ae,1-ue,1-ce,1-ue,1-ce,1-le,1-ae,1-le]),n!==c["Mesh"].FLIP_TILE&&n!==c["Mesh"].FLIP_ROW||(ve[1]=[1-ae,ue,1-ce,ue,1-ce,le,1-ae,le]),n!==c["Mesh"].FLIP_N_ROTATE_TILE&&n!==c["Mesh"].FLIP_N_ROTATE_ROW||(ve[1]=[ae,1-ue,ce,1-ue,ce,1-le,ae,1-le]);for(oe=0;oe<v;oe++)$.push(Q-g+X,oe*d-W+q,0),$.push(Q+X,oe*d-W+q,0),$.push(Q+X,(oe+1)*d-W+q,0),$.push(Q-g+X,(oe+1)*d-W+q,0),ne.push(ie,ie+1,ie+3,ie+1,ie+2,ie+3),ie+=4,te=n===c["Mesh"].FLIP_TILE||n===c["Mesh"].ROTATE_TILE||n===c["Mesh"].FLIP_N_ROTATE_TILE?te.concat(ve[(oe+_)%2]):n===c["Mesh"].FLIP_ROW||n===c["Mesh"].ROTATE_ROW||n===c["Mesh"].FLIP_N_ROTATE_ROW?te.concat(ve[oe%2]):te.concat(ve[0]),re.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),J.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}}var ye=0===t.sideOrientation?0:t.sideOrientation||l["VertexData"].DEFAULTSIDE;l["VertexData"]._ComputeSides(ye,$,ne,J,te,t.frontUVs,t.backUVs);var xe=new l["VertexData"];xe.indices=ne,xe.positions=$,xe.normals=J,xe.uvs=te;var Me=ye===l["VertexData"].DOUBLESIDE?re.concat(re):re;return xe.colors=Me,xe};var d=function(){function TiledPlaneBuilder(){}return TiledPlaneBuilder.CreateTiledPlane=function(t,n,u){void 0===u&&(u=null);var d=new c["Mesh"](t,u);n.sideOrientation=c["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),d._originalBuilderSideOrientation=n.sideOrientation;var h=l["VertexData"].CreateTiledPlane(n);return h.applyToMesh(d,n.updatable),d},TiledPlaneBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/torusBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TorusBuilder",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");d["VertexData"].CreateTorus=function(t){for(var n=[],u=[],l=[],h=[],p=t.diameter||1,m=t.thickness||.5,_=t.tessellation||16,g=0===t.sideOrientation?0:t.sideOrientation||d["VertexData"].DEFAULTSIDE,b=_+1,v=0;v<=_;v++)for(var U=v/_,G=v*Math.PI*2/_-Math.PI/2,W=c["Matrix"].Translation(p/2,0,0).multiply(c["Matrix"].RotationY(G)),X=0;X<=_;X++){var q=1-X/_,K=X*Math.PI*2/_+Math.PI,Y=Math.cos(K),Q=Math.sin(K),Z=new c["Vector3"](Y,Q,0),$=Z.scale(m/2),J=new c["Vector2"](U,q);$=c["Vector3"].TransformCoordinates($,W),Z=c["Vector3"].TransformNormal(Z,W),u.push($.x,$.y,$.z),l.push(Z.x,Z.y,Z.z),h.push(J.x,J.y);var ee=(v+1)%b,te=(X+1)%b;n.push(v*b+X),n.push(v*b+te),n.push(ee*b+X),n.push(v*b+te),n.push(ee*b+te),n.push(ee*b+X)}d["VertexData"]._ComputeSides(g,u,n,l,h,t.frontUVs,t.backUVs);var re=new d["VertexData"];return re.indices=n,re.positions=u,re.normals=l,re.uvs=h,re},l["Mesh"].CreateTorus=function(t,n,u,c,l,d,p){var m={diameter:n,thickness:u,tessellation:c,sideOrientation:p,updatable:d};return h.CreateTorus(t,m,l)};var h=function(){function TorusBuilder(){}return TorusBuilder.CreateTorus=function(t,n,u){var c=new l["Mesh"](t,u);n.sideOrientation=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var h=d["VertexData"].CreateTorus(n);return h.applyToMesh(c,n.updatable),c},TorusBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/torusKnotBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TorusKnotBuilder",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js");d["VertexData"].CreateTorusKnot=function(t){var n,u,l=new Array,h=new Array,p=new Array,m=new Array,_=t.radius||2,g=t.tube||.5,b=t.radialSegments||32,v=t.tubularSegments||32,U=t.p||2,G=t.q||3,W=0===t.sideOrientation?0:t.sideOrientation||d["VertexData"].DEFAULTSIDE,getPos=function(t){var n=Math.cos(t),u=Math.sin(t),l=G/U*t,d=Math.cos(l),h=_*(2+d)*.5*n,p=_*(2+d)*u*.5,m=_*Math.sin(l)*.5;return new c["Vector3"](h,p,m)};for(n=0;n<=b;n++){var X=n%b,q=X/b*2*U*Math.PI,K=getPos(q),Y=getPos(q+.01),Q=Y.subtract(K),Z=Y.add(K),$=c["Vector3"].Cross(Q,Z);for(Z=c["Vector3"].Cross($,Q),$.normalize(),Z.normalize(),u=0;u<v;u++){var J=u%v,ee=J/v*2*Math.PI,te=-g*Math.cos(ee),re=g*Math.sin(ee);h.push(K.x+te*Z.x+re*$.x),h.push(K.y+te*Z.y+re*$.y),h.push(K.z+te*Z.z+re*$.z),m.push(n/b),m.push(u/v)}}for(n=0;n<b;n++)for(u=0;u<v;u++){var ne=(u+1)%v,ie=n*v+u,oe=(n+1)*v+u,se=(n+1)*v+ne,ae=n*v+ne;l.push(ae),l.push(oe),l.push(ie),l.push(ae),l.push(se),l.push(oe)}d["VertexData"].ComputeNormals(h,l,p),d["VertexData"]._ComputeSides(W,h,l,p,m,t.frontUVs,t.backUVs);var ue=new d["VertexData"];return ue.indices=l,ue.positions=h,ue.normals=p,ue.uvs=m,ue},l["Mesh"].CreateTorusKnot=function(t,n,u,c,l,d,p,m,_,g){var b={radius:n,tube:u,radialSegments:c,tubularSegments:l,p:d,q:p,sideOrientation:g,updatable:_};return h.CreateTorusKnot(t,b,m)};var h=function(){function TorusKnotBuilder(){}return TorusKnotBuilder.CreateTorusKnot=function(t,n,u){var c=new l["Mesh"](t,u);n.sideOrientation=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation),c._originalBuilderSideOrientation=n.sideOrientation;var h=d["VertexData"].CreateTorusKnot(n);return h.applyToMesh(c,n.updatable),c},TorusKnotBuilder}()},"./node_modules/@babylonjs/core/Meshes/Builders/tubeBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TubeBuilder",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),d=u("./node_modules/@babylonjs/core/Meshes/Builders/ribbonBuilder.js"),h=u("./node_modules/@babylonjs/core/Maths/math.path.js");l["Mesh"].CreateTube=function(t,n,u,c,l,d,h,m,_,g){var b={path:n,radius:u,tessellation:c,radiusFunction:l,arc:1,cap:d,updatable:m,sideOrientation:_,instance:g};return p.CreateTube(t,b,h)};var p=function(){function TubeBuilder(){}return TubeBuilder.CreateTube=function(t,n,u){void 0===u&&(u=null);var p=n.path,m=n.instance,_=1;void 0!==n.radius?_=n.radius:m&&(_=m._creationDataStorage.radius);var g=n.tessellation||64,b=n.radiusFunction||null,v=n.cap||l["Mesh"].NO_CAP,U=n.invertUV||!1,G=n.updatable,W=l["Mesh"]._GetDefaultSideOrientation(n.sideOrientation);n.arc=n.arc&&(n.arc<=0||n.arc>1)?1:n.arc||1;var X,q,tubePathArray=function(t,n,u,d,h,p,m,_){for(var g,b,v,U,G=n.getTangents(),W=n.getNormals(),X=n.getDistances(),q=2*Math.PI,K=q/h*_,returnRadius=function(){return d},Y=p||returnRadius,Q=c["TmpVectors"].Matrix[0],Z=m===l["Mesh"].NO_CAP||m===l["Mesh"].CAP_END?0:2,$=0;$<t.length;$++){b=Y($,X[$]),g=Array(),v=W[$];for(var J=0;J<h;J++)c["Matrix"].RotationAxisToRef(G[$],K*J,Q),U=g[J]?g[J]:c["Vector3"].Zero(),c["Vector3"].TransformCoordinatesToRef(v,Q,U),U.scaleInPlace(b).addInPlace(t[$]),g[J]=U;u[Z]=g,Z++}var capPath=function(n,u){for(var c=Array(),l=0;l<n;l++)c.push(t[u]);return c};switch(m){case l["Mesh"].NO_CAP:break;case l["Mesh"].CAP_START:u[0]=capPath(h,0),u[1]=u[2].slice(0);break;case l["Mesh"].CAP_END:u[Z]=u[Z-1].slice(0),u[Z+1]=capPath(h,t.length-1);break;case l["Mesh"].CAP_ALL:u[0]=capPath(h,0),u[1]=u[2].slice(0),u[Z]=u[Z-1].slice(0),u[Z+1]=capPath(h,t.length-1);break;default:break}return u};if(m){var K=m._creationDataStorage,Y=n.arc||K.arc;return X=K.path3D.update(p),q=tubePathArray(p,X,K.pathArray,_,K.tessellation,b,K.cap,Y),m=d["RibbonBuilder"].CreateRibbon("",{pathArray:q,instance:m}),K.path3D=X,K.pathArray=q,K.arc=Y,K.radius=_,m}X=new h["Path3D"](p);var Q=new Array;v=v<0||v>3?0:v,q=tubePathArray(p,X,Q,_,g,b,v,n.arc);var Z=d["RibbonBuilder"].CreateRibbon(t,{pathArray:q,closePath:!0,closeArray:!1,updatable:G,sideOrientation:W,invertUV:U,frontUVs:n.frontUVs,backUVs:n.backUVs},u);return Z._creationDataStorage.pathArray=q,Z._creationDataStorage.path3D=X,Z._creationDataStorage.tessellation=g,Z._creationDataStorage.cap=v,Z._creationDataStorage.arc=n.arc,Z._creationDataStorage.radius=_,Z},TubeBuilder}()},"./node_modules/@babylonjs/core/Meshes/WebGL/webGLDataBuffer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"WebGLDataBuffer",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Meshes/dataBuffer.js"),d=function(t){function WebGLDataBuffer(n){var u=t.call(this)||this;return u._buffer=n,u}return Object(c["__extends"])(WebGLDataBuffer,t),Object.defineProperty(WebGLDataBuffer.prototype,"underlyingResource",{get:function(){return this._buffer},enumerable:!1,configurable:!0}),WebGLDataBuffer}(l["DataBuffer"])},"./node_modules/@babylonjs/core/Meshes/abstractMesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AbstractMesh",(function(){return $}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/tools.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/Engines/engine.js"),m=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),_=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),g=u("./node_modules/@babylonjs/core/Meshes/transformNode.js"),b=u("./node_modules/@babylonjs/core/Collisions/pickingInfo.js"),v=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js"),U=u("./node_modules/@babylonjs/core/Collisions/meshCollisionData.js"),G=u("./node_modules/@babylonjs/core/Misc/devTools.js"),W=u("./node_modules/@babylonjs/core/Maths/math.functions.js"),X=u("./node_modules/@babylonjs/core/Maths/math.color.js"),q=u("./node_modules/@babylonjs/core/Maths/math.constants.js"),K=u("./node_modules/@babylonjs/core/Maths/math.axis.js"),Y=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),Q=function(){function _FacetDataStorage(){this.facetNb=0,this.partitioningSubdivisions=10,this.partitioningBBoxRatio=1.01,this.facetDataEnabled=!1,this.facetParameters={},this.bbSize=h["Vector3"].Zero(),this.subDiv={max:1,X:1,Y:1,Z:1},this.facetDepthSort=!1,this.facetDepthSortEnabled=!1}return _FacetDataStorage}(),Z=function(){function _InternalAbstractMeshDataInfo(){this._hasVertexAlpha=!1,this._useVertexColors=!0,this._numBoneInfluencers=4,this._applyFog=!0,this._receiveShadows=!1,this._facetData=new Q,this._visibility=1,this._skeleton=null,this._layerMask=268435455,this._computeBonesUsingShaders=!0,this._isActive=!1,this._onlyForInstances=!1,this._isActiveIntermediate=!1,this._onlyForInstancesIntermediate=!1,this._actAsRegularMesh=!1,this._currentLOD=null,this._currentLODIsUpToDate=!1}return _InternalAbstractMeshDataInfo}(),$=function(t){function AbstractMesh(n,u){void 0===u&&(u=null);var c=t.call(this,n,u,!1)||this;return c._internalAbstractMeshDataInfo=new Z,c.cullingStrategy=AbstractMesh.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY,c.onCollideObservable=new d["Observable"],c.onCollisionPositionChangeObservable=new d["Observable"],c.onMaterialChangedObservable=new d["Observable"],c.definedFacingForward=!0,c._occlusionQuery=null,c._renderingGroup=null,c.alphaIndex=Number.MAX_VALUE,c.isVisible=!0,c.isPickable=!0,c.showSubMeshesBoundingBox=!1,c.isBlocker=!1,c.enablePointerMoveEvents=!1,c._renderingGroupId=0,c._material=null,c.outlineColor=X["Color3"].Red(),c.outlineWidth=.02,c.overlayColor=X["Color3"].Red(),c.overlayAlpha=.5,c.useOctreeForRenderingSelection=!0,c.useOctreeForPicking=!0,c.useOctreeForCollisions=!0,c.alwaysSelectAsActiveMesh=!1,c.doNotSyncBoundingInfo=!1,c.actionManager=null,c._meshCollisionData=new U["_MeshCollisionData"],c.ellipsoid=new h["Vector3"](.5,1,.5),c.ellipsoidOffset=new h["Vector3"](0,0,0),c.edgesWidth=1,c.edgesColor=new X["Color4"](1,0,0,1),c._edgesRenderer=null,c._masterMesh=null,c._boundingInfo=null,c._renderId=0,c._intersectionsInProgress=new Array,c._unIndexed=!1,c._lightSources=new Array,c._waitingData={lods:null,actions:null,freezeWorldMatrix:null},c._bonesTransformMatrices=null,c._transformMatrixTexture=null,c.onRebuildObservable=new d["Observable"],c._onCollisionPositionChange=function(t,n,u){void 0===u&&(u=null),n.subtractToRef(c._meshCollisionData._oldPositionForCollisions,c._meshCollisionData._diffPositionForCollisions),c._meshCollisionData._diffPositionForCollisions.length()>p["Engine"].CollisionsEpsilon&&c.position.addInPlace(c._meshCollisionData._diffPositionForCollisions),u&&c.onCollideObservable.notifyObservers(u),c.onCollisionPositionChangeObservable.notifyObservers(c.position)},c.getScene().addMesh(c),c._resyncLightSources(),c}return Object(c["__extends"])(AbstractMesh,t),Object.defineProperty(AbstractMesh,"BILLBOARDMODE_NONE",{get:function(){return g["TransformNode"].BILLBOARDMODE_NONE},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh,"BILLBOARDMODE_X",{get:function(){return g["TransformNode"].BILLBOARDMODE_X},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh,"BILLBOARDMODE_Y",{get:function(){return g["TransformNode"].BILLBOARDMODE_Y},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh,"BILLBOARDMODE_Z",{get:function(){return g["TransformNode"].BILLBOARDMODE_Z},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh,"BILLBOARDMODE_ALL",{get:function(){return g["TransformNode"].BILLBOARDMODE_ALL},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh,"BILLBOARDMODE_USE_POSITION",{get:function(){return g["TransformNode"].BILLBOARDMODE_USE_POSITION},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"facetNb",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetNb},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"partitioningSubdivisions",{get:function(){return this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions},set:function(t){this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"partitioningBBoxRatio",{get:function(){return this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio},set:function(t){this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"mustDepthSortFacets",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDepthSort},set:function(t){this._internalAbstractMeshDataInfo._facetData.facetDepthSort=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"facetDepthSortFrom",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom},set:function(t){this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"isFacetDataEnabled",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDataEnabled},enumerable:!1,configurable:!0}),AbstractMesh.prototype._updateNonUniformScalingState=function(n){return!!t.prototype._updateNonUniformScalingState.call(this,n)&&(this._markSubMeshesAsMiscDirty(),!0)},Object.defineProperty(AbstractMesh.prototype,"onCollide",{set:function(t){this._meshCollisionData._onCollideObserver&&this.onCollideObservable.remove(this._meshCollisionData._onCollideObserver),this._meshCollisionData._onCollideObserver=this.onCollideObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"onCollisionPositionChange",{set:function(t){this._meshCollisionData._onCollisionPositionChangeObserver&&this.onCollisionPositionChangeObservable.remove(this._meshCollisionData._onCollisionPositionChangeObserver),this._meshCollisionData._onCollisionPositionChangeObserver=this.onCollisionPositionChangeObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"visibility",{get:function(){return this._internalAbstractMeshDataInfo._visibility},set:function(t){this._internalAbstractMeshDataInfo._visibility!==t&&(this._internalAbstractMeshDataInfo._visibility=t,this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"renderingGroupId",{get:function(){return this._renderingGroupId},set:function(t){this._renderingGroupId=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"material",{get:function(){return this._material},set:function(t){this._material!==t&&(this._material&&this._material.meshMap&&(this._material.meshMap[this.uniqueId]=void 0),this._material=t,t&&t.meshMap&&(t.meshMap[this.uniqueId]=this),this.onMaterialChangedObservable.hasObservers()&&this.onMaterialChangedObservable.notifyObservers(this),this.subMeshes&&this._unBindEffect())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"receiveShadows",{get:function(){return this._internalAbstractMeshDataInfo._receiveShadows},set:function(t){this._internalAbstractMeshDataInfo._receiveShadows!==t&&(this._internalAbstractMeshDataInfo._receiveShadows=t,this._markSubMeshesAsLightDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"hasVertexAlpha",{get:function(){return this._internalAbstractMeshDataInfo._hasVertexAlpha},set:function(t){this._internalAbstractMeshDataInfo._hasVertexAlpha!==t&&(this._internalAbstractMeshDataInfo._hasVertexAlpha=t,this._markSubMeshesAsAttributesDirty(),this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"useVertexColors",{get:function(){return this._internalAbstractMeshDataInfo._useVertexColors},set:function(t){this._internalAbstractMeshDataInfo._useVertexColors!==t&&(this._internalAbstractMeshDataInfo._useVertexColors=t,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"computeBonesUsingShaders",{get:function(){return this._internalAbstractMeshDataInfo._computeBonesUsingShaders},set:function(t){this._internalAbstractMeshDataInfo._computeBonesUsingShaders!==t&&(this._internalAbstractMeshDataInfo._computeBonesUsingShaders=t,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"numBoneInfluencers",{get:function(){return this._internalAbstractMeshDataInfo._numBoneInfluencers},set:function(t){this._internalAbstractMeshDataInfo._numBoneInfluencers!==t&&(this._internalAbstractMeshDataInfo._numBoneInfluencers=t,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"applyFog",{get:function(){return this._internalAbstractMeshDataInfo._applyFog},set:function(t){this._internalAbstractMeshDataInfo._applyFog!==t&&(this._internalAbstractMeshDataInfo._applyFog=t,this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"layerMask",{get:function(){return this._internalAbstractMeshDataInfo._layerMask},set:function(t){t!==this._internalAbstractMeshDataInfo._layerMask&&(this._internalAbstractMeshDataInfo._layerMask=t,this._resyncLightSources())},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"collisionMask",{get:function(){return this._meshCollisionData._collisionMask},set:function(t){this._meshCollisionData._collisionMask=isNaN(t)?-1:t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"collisionResponse",{get:function(){return this._meshCollisionData._collisionResponse},set:function(t){this._meshCollisionData._collisionResponse=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"collisionGroup",{get:function(){return this._meshCollisionData._collisionGroup},set:function(t){this._meshCollisionData._collisionGroup=isNaN(t)?-1:t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"surroundingMeshes",{get:function(){return this._meshCollisionData._surroundingMeshes},set:function(t){this._meshCollisionData._surroundingMeshes=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"lightSources",{get:function(){return this._lightSources},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"_positions",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"skeleton",{get:function(){return this._internalAbstractMeshDataInfo._skeleton},set:function(t){var n=this._internalAbstractMeshDataInfo._skeleton;n&&n.needInitialSkinMatrix&&n._unregisterMeshWithPoseMatrix(this),t&&t.needInitialSkinMatrix&&t._registerMeshWithPoseMatrix(this),this._internalAbstractMeshDataInfo._skeleton=t,this._internalAbstractMeshDataInfo._skeleton||(this._bonesTransformMatrices=null),this._markSubMeshesAsAttributesDirty()},enumerable:!1,configurable:!0}),AbstractMesh.prototype.getClassName=function(){return"AbstractMesh"},AbstractMesh.prototype.toString=function(t){var n="Name: "+this.name+", isInstance: "+("InstancedMesh"!==this.getClassName()?"YES":"NO");n+=", # of submeshes: "+(this.subMeshes?this.subMeshes.length:0);var u=this._internalAbstractMeshDataInfo._skeleton;return u&&(n+=", skeleton: "+u.name),t&&(n+=", billboard mode: "+["NONE","X","Y",null,"Z",null,null,"ALL"][this.billboardMode],n+=", freeze wrld mat: "+(this._isWorldMatrixFrozen||this._waitingData.freezeWorldMatrix?"YES":"NO")),n},AbstractMesh.prototype._getEffectiveParent=function(){return this._masterMesh&&this.billboardMode!==g["TransformNode"].BILLBOARDMODE_NONE?this._masterMesh:t.prototype._getEffectiveParent.call(this)},AbstractMesh.prototype._getActionManagerForTrigger=function(t,n){if(void 0===n&&(n=!0),this.actionManager&&(n||this.actionManager.isRecursive)){if(!t)return this.actionManager;if(this.actionManager.hasSpecificTrigger(t))return this.actionManager}return this.parent?this.parent._getActionManagerForTrigger(t,!1):null},AbstractMesh.prototype._rebuild=function(){if(this.onRebuildObservable.notifyObservers(this),this._occlusionQuery&&(this._occlusionQuery=null),this.subMeshes)for(var t=0,n=this.subMeshes;t<n.length;t++){var u=n[t];u._rebuild()}},AbstractMesh.prototype._resyncLightSources=function(){this._lightSources.length=0;for(var t=0,n=this.getScene().lights;t<n.length;t++){var u=n[t];u.isEnabled()&&(u.canAffectMesh(this)&&this._lightSources.push(u))}this._markSubMeshesAsLightDirty()},AbstractMesh.prototype._resyncLightSource=function(t){var n=t.isEnabled()&&t.canAffectMesh(this),u=this._lightSources.indexOf(t),c=!1;if(-1===u){if(!n)return;this._lightSources.push(t)}else{if(n)return;c=!0,this._lightSources.splice(u,1)}this._markSubMeshesAsLightDirty(c)},AbstractMesh.prototype._unBindEffect=function(){for(var t=0,n=this.subMeshes;t<n.length;t++){var u=n[t];u.setEffect(null)}},AbstractMesh.prototype._removeLightSource=function(t,n){var u=this._lightSources.indexOf(t);-1!==u&&(this._lightSources.splice(u,1),this._markSubMeshesAsLightDirty(n))},AbstractMesh.prototype._markSubMeshesAsDirty=function(t){if(this.subMeshes)for(var n=0,u=this.subMeshes;n<u.length;n++){var c=u[n];c._materialDefines&&t(c._materialDefines)}},AbstractMesh.prototype._markSubMeshesAsLightDirty=function(t){void 0===t&&(t=!1),this._markSubMeshesAsDirty((function(n){return n.markAsLightDirty(t)}))},AbstractMesh.prototype._markSubMeshesAsAttributesDirty=function(){this._markSubMeshesAsDirty((function(t){return t.markAsAttributesDirty()}))},AbstractMesh.prototype._markSubMeshesAsMiscDirty=function(){this._markSubMeshesAsDirty((function(t){return t.markAsMiscDirty()}))},Object.defineProperty(AbstractMesh.prototype,"scaling",{get:function(){return this._scaling},set:function(t){this._scaling=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"isBlocked",{get:function(){return!1},enumerable:!1,configurable:!0}),AbstractMesh.prototype.getLOD=function(t){return this},AbstractMesh.prototype.getTotalVertices=function(){return 0},AbstractMesh.prototype.getTotalIndices=function(){return 0},AbstractMesh.prototype.getIndices=function(){return null},AbstractMesh.prototype.getVerticesData=function(t){return null},AbstractMesh.prototype.setVerticesData=function(t,n,u,c){return this},AbstractMesh.prototype.updateVerticesData=function(t,n,u,c){return this},AbstractMesh.prototype.setIndices=function(t,n){return this},AbstractMesh.prototype.isVerticesDataPresent=function(t){return!1},AbstractMesh.prototype.getBoundingInfo=function(){return this._masterMesh?this._masterMesh.getBoundingInfo():(this._boundingInfo||this._updateBoundingInfo(),this._boundingInfo)},AbstractMesh.prototype.normalizeToUnitCube=function(n,u,c){return void 0===n&&(n=!0),void 0===u&&(u=!1),t.prototype.normalizeToUnitCube.call(this,n,u,c)},AbstractMesh.prototype.setBoundingInfo=function(t){return this._boundingInfo=t,this},Object.defineProperty(AbstractMesh.prototype,"useBones",{get:function(){return this.skeleton&&this.getScene().skeletonsEnabled&&this.isVerticesDataPresent(m["VertexBuffer"].MatricesIndicesKind)&&this.isVerticesDataPresent(m["VertexBuffer"].MatricesWeightsKind)},enumerable:!1,configurable:!0}),AbstractMesh.prototype._preActivate=function(){},AbstractMesh.prototype._preActivateForIntermediateRendering=function(t){},AbstractMesh.prototype._activate=function(t,n){return this._renderId=t,!0},AbstractMesh.prototype._postActivate=function(){},AbstractMesh.prototype._freeze=function(){},AbstractMesh.prototype._unFreeze=function(){},AbstractMesh.prototype.getWorldMatrix=function(){return this._masterMesh&&this.billboardMode===g["TransformNode"].BILLBOARDMODE_NONE?this._masterMesh.getWorldMatrix():t.prototype.getWorldMatrix.call(this)},AbstractMesh.prototype._getWorldMatrixDeterminant=function(){return this._masterMesh?this._masterMesh._getWorldMatrixDeterminant():t.prototype._getWorldMatrixDeterminant.call(this)},Object.defineProperty(AbstractMesh.prototype,"isAnInstance",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"hasInstances",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"hasThinInstances",{get:function(){return!1},enumerable:!1,configurable:!0}),AbstractMesh.prototype.movePOV=function(t,n,u){return this.position.addInPlace(this.calcMovePOV(t,n,u)),this},AbstractMesh.prototype.calcMovePOV=function(t,n,u){var c=new h["Matrix"],l=this.rotationQuaternion?this.rotationQuaternion:h["Quaternion"].RotationYawPitchRoll(this.rotation.y,this.rotation.x,this.rotation.z);l.toRotationMatrix(c);var d=h["Vector3"].Zero(),p=this.definedFacingForward?-1:1;return h["Vector3"].TransformCoordinatesFromFloatsToRef(t*p,n,u*p,c,d),d},AbstractMesh.prototype.rotatePOV=function(t,n,u){return this.rotation.addInPlace(this.calcRotatePOV(t,n,u)),this},AbstractMesh.prototype.calcRotatePOV=function(t,n,u){var c=this.definedFacingForward?1:-1;return new h["Vector3"](t*c,n,u*c)},AbstractMesh.prototype.refreshBoundingInfo=function(t){return void 0===t&&(t=!1),this._boundingInfo&&this._boundingInfo.isLocked||this._refreshBoundingInfo(this._getPositionData(t),null),this},AbstractMesh.prototype._refreshBoundingInfo=function(t,n){if(t){var u=Object(W["extractMinAndMax"])(t,0,this.getTotalVertices(),n);this._boundingInfo?this._boundingInfo.reConstruct(u.minimum,u.maximum):this._boundingInfo=new v["BoundingInfo"](u.minimum,u.maximum)}if(this.subMeshes)for(var c=0;c<this.subMeshes.length;c++)this.subMeshes[c].refreshBoundingInfo(t);this._updateBoundingInfo()},AbstractMesh.prototype._getPositionData=function(t){var n=this.getVerticesData(m["VertexBuffer"].PositionKind);if(n&&t&&this.skeleton){n=l["Tools"].Slice(n),this._generatePointsArray();var u=this.getVerticesData(m["VertexBuffer"].MatricesIndicesKind),c=this.getVerticesData(m["VertexBuffer"].MatricesWeightsKind);if(c&&u){var d=this.numBoneInfluencers>4,p=d?this.getVerticesData(m["VertexBuffer"].MatricesIndicesExtraKind):null,_=d?this.getVerticesData(m["VertexBuffer"].MatricesWeightsExtraKind):null;this.skeleton.prepare();for(var g=this.skeleton.getTransformMatrices(this),b=h["TmpVectors"].Vector3[0],v=h["TmpVectors"].Matrix[0],U=h["TmpVectors"].Matrix[1],G=0,W=0;W<n.length;W+=3,G+=4){var X,q;for(v.reset(),X=0;X<4;X++)q=c[G+X],q>0&&(h["Matrix"].FromFloat32ArrayToRefScaled(g,Math.floor(16*u[G+X]),q,U),v.addToSelf(U));if(d)for(X=0;X<4;X++)q=_[G+X],q>0&&(h["Matrix"].FromFloat32ArrayToRefScaled(g,Math.floor(16*p[G+X]),q,U),v.addToSelf(U));h["Vector3"].TransformCoordinatesFromFloatsToRef(n[W],n[W+1],n[W+2],v,b),b.toArray(n,W),this._positions&&this._positions[W/3].copyFrom(b)}}}return n},AbstractMesh.prototype._updateBoundingInfo=function(){var t=this._effectiveMesh;return this._boundingInfo?this._boundingInfo.update(t.worldMatrixFromCache):this._boundingInfo=new v["BoundingInfo"](this.absolutePosition,this.absolutePosition,t.worldMatrixFromCache),this._updateSubMeshesBoundingInfo(t.worldMatrixFromCache),this},AbstractMesh.prototype._updateSubMeshesBoundingInfo=function(t){if(!this.subMeshes)return this;for(var n=this.subMeshes.length,u=0;u<n;u++){var c=this.subMeshes[u];(n>1||!c.IsGlobal)&&c.updateBoundingInfo(t)}return this},AbstractMesh.prototype._afterComputeWorldMatrix=function(){this.doNotSyncBoundingInfo||this._updateBoundingInfo()},Object.defineProperty(AbstractMesh.prototype,"_effectiveMesh",{get:function(){return this.skeleton&&this.skeleton.overrideMesh||this},enumerable:!1,configurable:!0}),AbstractMesh.prototype.isInFrustum=function(t){return null!==this._boundingInfo&&this._boundingInfo.isInFrustum(t,this.cullingStrategy)},AbstractMesh.prototype.isCompletelyInFrustum=function(t){return null!==this._boundingInfo&&this._boundingInfo.isCompletelyInFrustum(t)},AbstractMesh.prototype.intersectsMesh=function(t,n,u){if(void 0===n&&(n=!1),!this._boundingInfo||!t._boundingInfo)return!1;if(this._boundingInfo.intersects(t._boundingInfo,n))return!0;if(u)for(var c=0,l=this.getChildMeshes();c<l.length;c++){var d=l[c];if(d.intersectsMesh(t,n,!0))return!0}return!1},AbstractMesh.prototype.intersectsPoint=function(t){return!!this._boundingInfo&&this._boundingInfo.intersectsPoint(t)},Object.defineProperty(AbstractMesh.prototype,"checkCollisions",{get:function(){return this._meshCollisionData._checkCollisions},set:function(t){this._meshCollisionData._checkCollisions=t},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractMesh.prototype,"collider",{get:function(){return this._meshCollisionData._collider},enumerable:!1,configurable:!0}),AbstractMesh.prototype.moveWithCollisions=function(t){var n=this.getAbsolutePosition();n.addToRef(this.ellipsoidOffset,this._meshCollisionData._oldPositionForCollisions);var u=this.getScene().collisionCoordinator;return this._meshCollisionData._collider||(this._meshCollisionData._collider=u.createCollider()),this._meshCollisionData._collider._radius=this.ellipsoid,u.getNewPosition(this._meshCollisionData._oldPositionForCollisions,t,this._meshCollisionData._collider,3,this,this._onCollisionPositionChange,this.uniqueId),this},AbstractMesh.prototype._collideForSubMesh=function(t,n,u){if(this._generatePointsArray(),!this._positions)return this;if(!t._lastColliderWorldVertices||!t._lastColliderTransformMatrix.equals(n)){t._lastColliderTransformMatrix=n.clone(),t._lastColliderWorldVertices=[],t._trianglePlanes=[];for(var c=t.verticesStart,l=t.verticesStart+t.verticesCount,d=c;d<l;d++)t._lastColliderWorldVertices.push(h["Vector3"].TransformCoordinates(this._positions[d],n))}return u._collide(t._trianglePlanes,t._lastColliderWorldVertices,this.getIndices(),t.indexStart,t.indexStart+t.indexCount,t.verticesStart,!!t.getMaterial(),this),this},AbstractMesh.prototype._processCollisionsForSubMeshes=function(t,n){for(var u=this._scene.getCollidingSubMeshCandidates(this,t),c=u.length,l=0;l<c;l++){var d=u.data[l];c>1&&!d._checkCollision(t)||this._collideForSubMesh(d,n,t)}return this},AbstractMesh.prototype._checkCollision=function(t){if(!this._boundingInfo||!this._boundingInfo._checkCollision(t))return this;var n=h["TmpVectors"].Matrix[0],u=h["TmpVectors"].Matrix[1];return h["Matrix"].ScalingToRef(1/t._radius.x,1/t._radius.y,1/t._radius.z,n),this.worldMatrixFromCache.multiplyToRef(n,u),this._processCollisionsForSubMeshes(t,u),this},AbstractMesh.prototype._generatePointsArray=function(){return!1},AbstractMesh.prototype.intersects=function(t,n,u,c,l,d){var p;void 0===c&&(c=!1),void 0===d&&(d=!1);var m=new b["PickingInfo"],_="InstancedLinesMesh"===this.getClassName()||"LinesMesh"===this.getClassName()?this.intersectionThreshold:0,g=this._boundingInfo;if(!this.subMeshes||!g)return m;if(!d&&(!t.intersectsSphere(g.boundingSphere,_)||!t.intersectsBox(g.boundingBox,_)))return m;if(c)return m.hit=!d,m.pickedMesh=d?null:this,m.distance=d?0:h["Vector3"].Distance(t.origin,g.boundingSphere.center),m.subMeshId=0,m;if(!this._generatePointsArray())return m;for(var v=null,U=this._scene.getIntersectingSubMeshCandidates(this,t),G=U.length,W=!1,X=0;X<G;X++){var q=U.data[X],K=q.getMaterial();if(K&&((null===(p=this.getIndices())||void 0===p?void 0:p.length)&&(7==K.fillMode||0==K.fillMode||1==K.fillMode||2==K.fillMode))){W=!0;break}}if(!W)return m.hit=!0,m.pickedMesh=this,m.distance=h["Vector3"].Distance(t.origin,g.boundingSphere.center),m.subMeshId=-1,m;for(X=0;X<G;X++){q=U.data[X];if(!(G>1)||q.canIntersects(t)){var Y=q.intersects(t,this._positions,this.getIndices(),n,u);if(Y&&(n||!v||Y.distance<v.distance)&&(v=Y,v.subMeshId=X,n))break}}if(v){var Q=null!==l&&void 0!==l?l:this.skeleton&&this.skeleton.overrideMesh?this.skeleton.overrideMesh.getWorldMatrix():this.getWorldMatrix(),Z=h["TmpVectors"].Vector3[0],$=h["TmpVectors"].Vector3[1];h["Vector3"].TransformCoordinatesToRef(t.origin,Q,Z),t.direction.scaleToRef(v.distance,$);var J=h["Vector3"].TransformNormal($,Q),ee=J.addInPlace(Z);return m.hit=!0,m.distance=h["Vector3"].Distance(Z,ee),m.pickedPoint=ee,m.pickedMesh=this,m.bu=v.bu||0,m.bv=v.bv||0,m.subMeshFaceId=v.faceId,m.faceId=v.faceId+U.data[v.subMeshId].indexStart/(-1!==this.getClassName().indexOf("LinesMesh")?2:3),m.subMeshId=v.subMeshId,m}return m},AbstractMesh.prototype.clone=function(t,n,u){return null},AbstractMesh.prototype.releaseSubMeshes=function(){if(this.subMeshes)while(this.subMeshes.length)this.subMeshes[0].dispose();else this.subMeshes=new Array;return this},AbstractMesh.prototype.dispose=function(n,u){var c,l=this;for(void 0===u&&(u=!1),this._scene.useMaterialMeshMap&&this._material&&this._material.meshMap&&(this._material.meshMap[this.uniqueId]=void 0),this.getScene().freeActiveMeshes(),this.getScene().freeRenderingGroups(),void 0!==this.actionManager&&null!==this.actionManager&&(this.actionManager.dispose(),this.actionManager=null),this._internalAbstractMeshDataInfo._skeleton=null,this._transformMatrixTexture&&(this._transformMatrixTexture.dispose(),this._transformMatrixTexture=null),c=0;c<this._intersectionsInProgress.length;c++){var d=this._intersectionsInProgress[c],h=d._intersectionsInProgress.indexOf(this);d._intersectionsInProgress.splice(h,1)}this._intersectionsInProgress=[];var p=this.getScene().lights;p.forEach((function(t){var n=t.includedOnlyMeshes.indexOf(l);-1!==n&&t.includedOnlyMeshes.splice(n,1),n=t.excludedMeshes.indexOf(l),-1!==n&&t.excludedMeshes.splice(n,1);var u=t.getShadowGenerator();if(u){var c=u.getShadowMap();c&&c.renderList&&(n=c.renderList.indexOf(l),-1!==n&&c.renderList.splice(n,1))}})),"InstancedMesh"===this.getClassName()&&"InstancedLinesMesh"===this.getClassName()||this.releaseSubMeshes();var m=this.getScene().getEngine();if(this._occlusionQuery&&(this.isOcclusionQueryInProgress=!1,m.deleteQuery(this._occlusionQuery),this._occlusionQuery=null),m.wipeCaches(),this.getScene().removeMesh(this),u&&this.material&&("MultiMaterial"===this.material.getClassName()?this.material.dispose(!1,!0,!0):this.material.dispose(!1,!0)),!n)for(c=0;c<this.getScene().particleSystems.length;c++)this.getScene().particleSystems[c].emitter===this&&(this.getScene().particleSystems[c].dispose(),c--);this._internalAbstractMeshDataInfo._facetData.facetDataEnabled&&this.disableFacetData(),this.onAfterWorldMatrixUpdateObservable.clear(),this.onCollideObservable.clear(),this.onCollisionPositionChangeObservable.clear(),this.onRebuildObservable.clear(),t.prototype.dispose.call(this,n,u)},AbstractMesh.prototype.addChild=function(t){return t.setParent(this),this},AbstractMesh.prototype.removeChild=function(t){return t.setParent(null),this},AbstractMesh.prototype._initFacetData=function(){var t=this._internalAbstractMeshDataInfo._facetData;t.facetNormals||(t.facetNormals=new Array),t.facetPositions||(t.facetPositions=new Array),t.facetPartitioning||(t.facetPartitioning=new Array),t.facetNb=this.getIndices().length/3|0,t.partitioningSubdivisions=t.partitioningSubdivisions?t.partitioningSubdivisions:10,t.partitioningBBoxRatio=t.partitioningBBoxRatio?t.partitioningBBoxRatio:1.01;for(var n=0;n<t.facetNb;n++)t.facetNormals[n]=h["Vector3"].Zero(),t.facetPositions[n]=h["Vector3"].Zero();return t.facetDataEnabled=!0,this},AbstractMesh.prototype.updateFacetData=function(){var t=this._internalAbstractMeshDataInfo._facetData;t.facetDataEnabled||this._initFacetData();var n=this.getVerticesData(m["VertexBuffer"].PositionKind),u=this.getIndices(),c=this.getVerticesData(m["VertexBuffer"].NormalKind),l=this.getBoundingInfo();if(t.facetDepthSort&&!t.facetDepthSortEnabled){if(t.facetDepthSortEnabled=!0,u instanceof Uint16Array)t.depthSortedIndices=new Uint16Array(u);else if(u instanceof Uint32Array)t.depthSortedIndices=new Uint32Array(u);else{for(var d=!1,p=0;p<u.length;p++)if(u[p]>65535){d=!0;break}t.depthSortedIndices=d?new Uint32Array(u):new Uint16Array(u)}if(t.facetDepthSortFunction=function(t,n){return n.sqDistance-t.sqDistance},!t.facetDepthSortFrom){var g=this.getScene().activeCamera;t.facetDepthSortFrom=g?g.position:h["Vector3"].Zero()}t.depthSortedFacets=[];for(var b=0;b<t.facetNb;b++){var v={ind:3*b,sqDistance:0};t.depthSortedFacets.push(v)}t.invertedMatrix=h["Matrix"].Identity(),t.facetDepthSortOrigin=h["Vector3"].Zero()}t.bbSize.x=l.maximum.x-l.minimum.x>q["Epsilon"]?l.maximum.x-l.minimum.x:q["Epsilon"],t.bbSize.y=l.maximum.y-l.minimum.y>q["Epsilon"]?l.maximum.y-l.minimum.y:q["Epsilon"],t.bbSize.z=l.maximum.z-l.minimum.z>q["Epsilon"]?l.maximum.z-l.minimum.z:q["Epsilon"];var U=t.bbSize.x>t.bbSize.y?t.bbSize.x:t.bbSize.y;if(U=U>t.bbSize.z?U:t.bbSize.z,t.subDiv.max=t.partitioningSubdivisions,t.subDiv.X=Math.floor(t.subDiv.max*t.bbSize.x/U),t.subDiv.Y=Math.floor(t.subDiv.max*t.bbSize.y/U),t.subDiv.Z=Math.floor(t.subDiv.max*t.bbSize.z/U),t.subDiv.X=t.subDiv.X<1?1:t.subDiv.X,t.subDiv.Y=t.subDiv.Y<1?1:t.subDiv.Y,t.subDiv.Z=t.subDiv.Z<1?1:t.subDiv.Z,t.facetParameters.facetNormals=this.getFacetLocalNormals(),t.facetParameters.facetPositions=this.getFacetLocalPositions(),t.facetParameters.facetPartitioning=this.getFacetLocalPartitioning(),t.facetParameters.bInfo=l,t.facetParameters.bbSize=t.bbSize,t.facetParameters.subDiv=t.subDiv,t.facetParameters.ratio=this.partitioningBBoxRatio,t.facetParameters.depthSort=t.facetDepthSort,t.facetDepthSort&&t.facetDepthSortEnabled&&(this.computeWorldMatrix(!0),this._worldMatrix.invertToRef(t.invertedMatrix),h["Vector3"].TransformCoordinatesToRef(t.facetDepthSortFrom,t.invertedMatrix,t.facetDepthSortOrigin),t.facetParameters.distanceTo=t.facetDepthSortOrigin),t.facetParameters.depthSortedFacets=t.depthSortedFacets,_["VertexData"].ComputeNormals(n,u,c,t.facetParameters),t.facetDepthSort&&t.facetDepthSortEnabled){t.depthSortedFacets.sort(t.facetDepthSortFunction);var G=t.depthSortedIndices.length/3|0;for(b=0;b<G;b++){var W=t.depthSortedFacets[b].ind;t.depthSortedIndices[3*b]=u[W],t.depthSortedIndices[3*b+1]=u[W+1],t.depthSortedIndices[3*b+2]=u[W+2]}this.updateIndices(t.depthSortedIndices,void 0,!0)}return this},AbstractMesh.prototype.getFacetLocalNormals=function(){var t=this._internalAbstractMeshDataInfo._facetData;return t.facetNormals||this.updateFacetData(),t.facetNormals},AbstractMesh.prototype.getFacetLocalPositions=function(){var t=this._internalAbstractMeshDataInfo._facetData;return t.facetPositions||this.updateFacetData(),t.facetPositions},AbstractMesh.prototype.getFacetLocalPartitioning=function(){var t=this._internalAbstractMeshDataInfo._facetData;return t.facetPartitioning||this.updateFacetData(),t.facetPartitioning},AbstractMesh.prototype.getFacetPosition=function(t){var n=h["Vector3"].Zero();return this.getFacetPositionToRef(t,n),n},AbstractMesh.prototype.getFacetPositionToRef=function(t,n){var u=this.getFacetLocalPositions()[t],c=this.getWorldMatrix();return h["Vector3"].TransformCoordinatesToRef(u,c,n),this},AbstractMesh.prototype.getFacetNormal=function(t){var n=h["Vector3"].Zero();return this.getFacetNormalToRef(t,n),n},AbstractMesh.prototype.getFacetNormalToRef=function(t,n){var u=this.getFacetLocalNormals()[t];return h["Vector3"].TransformNormalToRef(u,this.getWorldMatrix(),n),this},AbstractMesh.prototype.getFacetsAtLocalCoordinates=function(t,n,u){var c=this.getBoundingInfo(),l=this._internalAbstractMeshDataInfo._facetData,d=Math.floor((t-c.minimum.x*l.partitioningBBoxRatio)*l.subDiv.X*l.partitioningBBoxRatio/l.bbSize.x),h=Math.floor((n-c.minimum.y*l.partitioningBBoxRatio)*l.subDiv.Y*l.partitioningBBoxRatio/l.bbSize.y),p=Math.floor((u-c.minimum.z*l.partitioningBBoxRatio)*l.subDiv.Z*l.partitioningBBoxRatio/l.bbSize.z);return d<0||d>l.subDiv.max||h<0||h>l.subDiv.max||p<0||p>l.subDiv.max?null:l.facetPartitioning[d+l.subDiv.max*h+l.subDiv.max*l.subDiv.max*p]},AbstractMesh.prototype.getClosestFacetAtCoordinates=function(t,n,u,c,l,d){void 0===l&&(l=!1),void 0===d&&(d=!0);var p=this.getWorldMatrix(),m=h["TmpVectors"].Matrix[5];p.invertToRef(m);var _=h["TmpVectors"].Vector3[8];h["Vector3"].TransformCoordinatesFromFloatsToRef(t,n,u,m,_);var g=this.getClosestFacetAtLocalCoordinates(_.x,_.y,_.z,c,l,d);return c&&h["Vector3"].TransformCoordinatesFromFloatsToRef(c.x,c.y,c.z,p,c),g},AbstractMesh.prototype.getClosestFacetAtLocalCoordinates=function(t,n,u,c,l,d){void 0===l&&(l=!1),void 0===d&&(d=!0);var h=null,p=0,m=0,_=0,g=0,b=0,v=0,U=0,G=0,W=this.getFacetLocalPositions(),X=this.getFacetLocalNormals(),q=this.getFacetsAtLocalCoordinates(t,n,u);if(!q)return null;for(var K,Y,Q,Z=Number.MAX_VALUE,$=Z,J=0;J<q.length;J++)K=q[J],Y=X[K],Q=W[K],g=(t-Q.x)*Y.x+(n-Q.y)*Y.y+(u-Q.z)*Y.z,(!l||l&&d&&g>=0||l&&!d&&g<=0)&&(g=Y.x*Q.x+Y.y*Q.y+Y.z*Q.z,b=-(Y.x*t+Y.y*n+Y.z*u-g)/(Y.x*Y.x+Y.y*Y.y+Y.z*Y.z),v=t+Y.x*b,U=n+Y.y*b,G=u+Y.z*b,p=v-t,m=U-n,_=G-u,$=p*p+m*m+_*_,$<Z&&(Z=$,h=K,c&&(c.x=v,c.y=U,c.z=G)));return h},AbstractMesh.prototype.getFacetDataParameters=function(){return this._internalAbstractMeshDataInfo._facetData.facetParameters},AbstractMesh.prototype.disableFacetData=function(){var t=this._internalAbstractMeshDataInfo._facetData;return t.facetDataEnabled&&(t.facetDataEnabled=!1,t.facetPositions=new Array,t.facetNormals=new Array,t.facetPartitioning=new Array,t.facetParameters=null,t.depthSortedIndices=new Uint32Array(0)),this},AbstractMesh.prototype.updateIndices=function(t,n,u){return void 0===u&&(u=!1),this},AbstractMesh.prototype.createNormals=function(t){var n,u=this.getVerticesData(m["VertexBuffer"].PositionKind),c=this.getIndices();return n=this.isVerticesDataPresent(m["VertexBuffer"].NormalKind)?this.getVerticesData(m["VertexBuffer"].NormalKind):[],_["VertexData"].ComputeNormals(u,c,n,{useRightHandedSystem:this.getScene().useRightHandedSystem}),this.setVerticesData(m["VertexBuffer"].NormalKind,n,t),this},AbstractMesh.prototype.alignWithNormal=function(t,n){n||(n=K["Axis"].Y);var u=h["TmpVectors"].Vector3[0],c=h["TmpVectors"].Vector3[1];return h["Vector3"].CrossToRef(n,t,c),h["Vector3"].CrossToRef(t,c,u),this.rotationQuaternion?h["Quaternion"].RotationQuaternionFromAxisToRef(u,t,c,this.rotationQuaternion):h["Vector3"].RotationFromAxisToRef(u,t,c,this.rotation),this},AbstractMesh.prototype._checkOcclusionQuery=function(){return!1},AbstractMesh.prototype.disableEdgesRendering=function(){throw G["_DevTools"].WarnImport("EdgesRenderer")},AbstractMesh.prototype.enableEdgesRendering=function(t,n,u){throw G["_DevTools"].WarnImport("EdgesRenderer")},AbstractMesh.prototype.getConnectedParticleSystems=function(){var t=this;return this._scene.particleSystems.filter((function(n){return n.emitter===t}))},AbstractMesh.OCCLUSION_TYPE_NONE=0,AbstractMesh.OCCLUSION_TYPE_OPTIMISTIC=1,AbstractMesh.OCCLUSION_TYPE_STRICT=2,AbstractMesh.OCCLUSION_ALGORITHM_TYPE_ACCURATE=0,AbstractMesh.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE=1,AbstractMesh.CULLINGSTRATEGY_STANDARD=0,AbstractMesh.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY=1,AbstractMesh.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION=2,AbstractMesh.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY=3,AbstractMesh}(g["TransformNode"]);Y["_TypeStore"].RegisteredTypes["BABYLON.AbstractMesh"]=$},"./node_modules/@babylonjs/core/Meshes/buffer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Buffer",(function(){return c})),u.d(n,"VertexBuffer",(function(){return l}));var c=function(){function Buffer(t,n,u,c,l,d,h,p){void 0===c&&(c=0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===h&&(h=!1),this._isAlreadyOwned=!1,t.getScene?this._engine=t.getScene().getEngine():this._engine=t,this._updatable=u,this._instanced=d,this._divisor=p||1,this._data=n,this.byteStride=h?c:c*Float32Array.BYTES_PER_ELEMENT,l||this.create()}return Buffer.prototype.createVertexBuffer=function(t,n,u,c,d,h,p){void 0===h&&(h=!1);var m=h?n:n*Float32Array.BYTES_PER_ELEMENT,_=c?h?c:c*Float32Array.BYTES_PER_ELEMENT:this.byteStride;return new l(this._engine,this,t,this._updatable,!0,_,void 0===d?this._instanced:d,m,u,void 0,void 0,!0,this._divisor||p)},Buffer.prototype.isUpdatable=function(){return this._updatable},Buffer.prototype.getData=function(){return this._data},Buffer.prototype.getBuffer=function(){return this._buffer},Buffer.prototype.getStrideSize=function(){return this.byteStride/Float32Array.BYTES_PER_ELEMENT},Buffer.prototype.create=function(t){void 0===t&&(t=null),!t&&this._buffer||(t=t||this._data,t&&(this._buffer?this._updatable&&(this._engine.updateDynamicVertexBuffer(this._buffer,t),this._data=t):this._updatable?(this._buffer=this._engine.createDynamicVertexBuffer(t),this._data=t):this._buffer=this._engine.createVertexBuffer(t)))},Buffer.prototype._rebuild=function(){this._buffer=null,this.create(this._data)},Buffer.prototype.update=function(t){this.create(t)},Buffer.prototype.updateDirectly=function(t,n,u,c){void 0===c&&(c=!1),this._buffer&&this._updatable&&(this._engine.updateDynamicVertexBuffer(this._buffer,t,c?n:n*Float32Array.BYTES_PER_ELEMENT,u?u*this.byteStride:void 0),this._data=null)},Buffer.prototype._increaseReferences=function(){this._buffer&&(this._isAlreadyOwned?this._buffer.references++:this._isAlreadyOwned=!0)},Buffer.prototype.dispose=function(){this._buffer&&this._engine._releaseBuffer(this._buffer)&&(this._buffer=null)},Buffer}(),l=function(){function VertexBuffer(t,n,u,l,d,h,p,m,_,g,b,v,U,G){if(void 0===b&&(b=!1),void 0===v&&(v=!1),void 0===U&&(U=1),void 0===G&&(G=!1),n instanceof c?(this._buffer=n,this._ownsBuffer=G,G&&this._buffer._increaseReferences()):(this._buffer=new c(t,n,l,h,d,p,v),this._ownsBuffer=!0),this._kind=u,void 0==g){var W=this.getData();this.type=VertexBuffer.FLOAT,W instanceof Int8Array?this.type=VertexBuffer.BYTE:W instanceof Uint8Array?this.type=VertexBuffer.UNSIGNED_BYTE:W instanceof Int16Array?this.type=VertexBuffer.SHORT:W instanceof Uint16Array?this.type=VertexBuffer.UNSIGNED_SHORT:W instanceof Int32Array?this.type=VertexBuffer.INT:W instanceof Uint32Array&&(this.type=VertexBuffer.UNSIGNED_INT)}else this.type=g;var X=VertexBuffer.GetTypeByteLength(this.type);v?(this._size=_||(h?h/X:VertexBuffer.DeduceStride(u)),this.byteStride=h||this._buffer.byteStride||this._size*X,this.byteOffset=m||0):(this._size=_||h||VertexBuffer.DeduceStride(u),this.byteStride=h?h*X:this._buffer.byteStride||this._size*X,this.byteOffset=(m||0)*X),this.normalized=b,this._instanced=void 0!==p&&p,this._instanceDivisor=p?U:0}return Object.defineProperty(VertexBuffer.prototype,"instanceDivisor",{get:function(){return this._instanceDivisor},set:function(t){this._instanceDivisor=t,this._instanced=0!=t},enumerable:!1,configurable:!0}),VertexBuffer.prototype._rebuild=function(){this._buffer&&this._buffer._rebuild()},VertexBuffer.prototype.getKind=function(){return this._kind},VertexBuffer.prototype.isUpdatable=function(){return this._buffer.isUpdatable()},VertexBuffer.prototype.getData=function(){return this._buffer.getData()},VertexBuffer.prototype.getBuffer=function(){return this._buffer.getBuffer()},VertexBuffer.prototype.getStrideSize=function(){return this.byteStride/VertexBuffer.GetTypeByteLength(this.type)},VertexBuffer.prototype.getOffset=function(){return this.byteOffset/VertexBuffer.GetTypeByteLength(this.type)},VertexBuffer.prototype.getSize=function(){return this._size},VertexBuffer.prototype.getIsInstanced=function(){return this._instanced},VertexBuffer.prototype.getInstanceDivisor=function(){return this._instanceDivisor},VertexBuffer.prototype.create=function(t){this._buffer.create(t)},VertexBuffer.prototype.update=function(t){this._buffer.update(t)},VertexBuffer.prototype.updateDirectly=function(t,n,u){void 0===u&&(u=!1),this._buffer.updateDirectly(t,n,void 0,u)},VertexBuffer.prototype.dispose=function(){this._ownsBuffer&&this._buffer.dispose()},VertexBuffer.prototype.forEach=function(t,n){VertexBuffer.ForEach(this._buffer.getData(),this.byteOffset,this.byteStride,this._size,this.type,t,this.normalized,n)},VertexBuffer.DeduceStride=function(t){switch(t){case VertexBuffer.UVKind:case VertexBuffer.UV2Kind:case VertexBuffer.UV3Kind:case VertexBuffer.UV4Kind:case VertexBuffer.UV5Kind:case VertexBuffer.UV6Kind:return 2;case VertexBuffer.NormalKind:case VertexBuffer.PositionKind:return 3;case VertexBuffer.ColorKind:case VertexBuffer.MatricesIndicesKind:case VertexBuffer.MatricesIndicesExtraKind:case VertexBuffer.MatricesWeightsKind:case VertexBuffer.MatricesWeightsExtraKind:case VertexBuffer.TangentKind:return 4;default:throw new Error("Invalid kind '"+t+"'")}},VertexBuffer.GetTypeByteLength=function(t){switch(t){case VertexBuffer.BYTE:case VertexBuffer.UNSIGNED_BYTE:return 1;case VertexBuffer.SHORT:case VertexBuffer.UNSIGNED_SHORT:return 2;case VertexBuffer.INT:case VertexBuffer.UNSIGNED_INT:case VertexBuffer.FLOAT:return 4;default:throw new Error("Invalid type '"+t+"'")}},VertexBuffer.ForEach=function(t,n,u,c,l,d,h,p){if(t instanceof Array)for(var m=n/4,_=u/4,g=0;g<d;g+=c){for(var b=0;b<c;b++)p(t[m+b],g+b);m+=_}else{var v=t instanceof ArrayBuffer?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),U=VertexBuffer.GetTypeByteLength(l);for(g=0;g<d;g+=c){var G=n;for(b=0;b<c;b++){var W=VertexBuffer._GetFloatValue(v,l,G,h);p(W,g+b),G+=U}n+=u}}},VertexBuffer._GetFloatValue=function(t,n,u,c){switch(n){case VertexBuffer.BYTE:var l=t.getInt8(u);return c&&(l=Math.max(l/127,-1)),l;case VertexBuffer.UNSIGNED_BYTE:l=t.getUint8(u);return c&&(l/=255),l;case VertexBuffer.SHORT:l=t.getInt16(u,!0);return c&&(l=Math.max(l/32767,-1)),l;case VertexBuffer.UNSIGNED_SHORT:l=t.getUint16(u,!0);return c&&(l/=65535),l;case VertexBuffer.INT:return t.getInt32(u,!0);case VertexBuffer.UNSIGNED_INT:return t.getUint32(u,!0);case VertexBuffer.FLOAT:return t.getFloat32(u,!0);default:throw new Error("Invalid component type "+n)}},VertexBuffer.BYTE=5120,VertexBuffer.UNSIGNED_BYTE=5121,VertexBuffer.SHORT=5122,VertexBuffer.UNSIGNED_SHORT=5123,VertexBuffer.INT=5124,VertexBuffer.UNSIGNED_INT=5125,VertexBuffer.FLOAT=5126,VertexBuffer.PositionKind="position",VertexBuffer.NormalKind="normal",VertexBuffer.TangentKind="tangent",VertexBuffer.UVKind="uv",VertexBuffer.UV2Kind="uv2",VertexBuffer.UV3Kind="uv3",VertexBuffer.UV4Kind="uv4",VertexBuffer.UV5Kind="uv5",VertexBuffer.UV6Kind="uv6",VertexBuffer.ColorKind="color",VertexBuffer.MatricesIndicesKind="matricesIndices",VertexBuffer.MatricesWeightsKind="matricesWeights",VertexBuffer.MatricesIndicesExtraKind="matricesIndicesExtra",VertexBuffer.MatricesWeightsExtraKind="matricesWeightsExtra",VertexBuffer}()},"./node_modules/@babylonjs/core/Meshes/dataBuffer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DataBuffer",(function(){return c}));var c=function(){function DataBuffer(){this.references=0,this.capacity=0,this.is32Bits=!1}return Object.defineProperty(DataBuffer.prototype,"underlyingResource",{get:function(){return null},enumerable:!1,configurable:!0}),DataBuffer}()},"./node_modules/@babylonjs/core/Meshes/geometry.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Geometry",(function(){return U}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),h=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),p=u("./node_modules/@babylonjs/core/Meshes/subMesh.js"),m=u("./node_modules/@babylonjs/core/Loading/sceneLoaderFlags.js"),_=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js"),g=u("./node_modules/@babylonjs/core/Misc/tools.js"),b=u("./node_modules/@babylonjs/core/Misc/tags.js"),v=u("./node_modules/@babylonjs/core/Maths/math.functions.js"),U=function(){function Geometry(t,n,u,c,l){void 0===c&&(c=!1),void 0===l&&(l=null),this.delayLoadState=0,this._totalVertices=0,this._isDisposed=!1,this._indexBufferIsUpdatable=!1,this._positionsCache=[],this.useBoundingInfoFromGeometry=!1,this.id=t,this.uniqueId=n.getUniqueId(),this._engine=n.getEngine(),this._meshes=[],this._scene=n,this._vertexBuffers={},this._indices=[],this._updatable=c,u?this.setAllVerticesData(u,c):(this._totalVertices=0,this._indices=[]),this._engine.getCaps().vertexArrayObject&&(this._vertexArrayObjects={}),l&&(this.applyToMesh(l),l.computeWorldMatrix(!0))}return Object.defineProperty(Geometry.prototype,"boundingBias",{get:function(){return this._boundingBias},set:function(t){this._boundingBias?this._boundingBias.copyFrom(t):this._boundingBias=t.clone(),this._updateBoundingInfo(!0,null)},enumerable:!1,configurable:!0}),Geometry.CreateGeometryForMesh=function(t){var n=new Geometry(Geometry.RandomId(),t.getScene());return n.applyToMesh(t),n},Object.defineProperty(Geometry.prototype,"meshes",{get:function(){return this._meshes},enumerable:!1,configurable:!0}),Object.defineProperty(Geometry.prototype,"extend",{get:function(){return this._extend},enumerable:!1,configurable:!0}),Geometry.prototype.getScene=function(){return this._scene},Geometry.prototype.getEngine=function(){return this._engine},Geometry.prototype.isReady=function(){return 1===this.delayLoadState||0===this.delayLoadState},Object.defineProperty(Geometry.prototype,"doNotSerialize",{get:function(){for(var t=0;t<this._meshes.length;t++)if(!this._meshes[t].doNotSerialize)return!1;return!0},enumerable:!1,configurable:!0}),Geometry.prototype._rebuild=function(){for(var t in this._vertexArrayObjects&&(this._vertexArrayObjects={}),0!==this._meshes.length&&this._indices&&(this._indexBuffer=this._engine.createIndexBuffer(this._indices)),this._vertexBuffers){var n=this._vertexBuffers[t];n._rebuild()}},Geometry.prototype.setAllVerticesData=function(t,n){t.applyToGeometry(this,n),this.notifyUpdate()},Geometry.prototype.setVerticesData=function(t,n,u,c){void 0===u&&(u=!1),u&&Array.isArray(n)&&(n=new Float32Array(n));var l=new h["VertexBuffer"](this._engine,n,t,u,0===this._meshes.length,c);this.setVerticesBuffer(l)},Geometry.prototype.removeVerticesData=function(t){this._vertexBuffers[t]&&(this._vertexBuffers[t].dispose(),delete this._vertexBuffers[t])},Geometry.prototype.setVerticesBuffer=function(t,n){void 0===n&&(n=null);var u=t.getKind();if(this._vertexBuffers[u]&&this._vertexBuffers[u].dispose(),this._vertexBuffers[u]=t,u===h["VertexBuffer"].PositionKind){var c=t.getData();null!=n?this._totalVertices=n:null!=c&&(this._totalVertices=c.length/(t.byteStride/4)),this._updateExtend(c),this._resetPointsArrayCache();for(var l=this._meshes,d=l.length,p=0;p<d;p++){var m=l[p];m._boundingInfo=new _["BoundingInfo"](this._extend.minimum,this._extend.maximum),m._createGlobalSubMesh(!1),m.computeWorldMatrix(!0)}}this.notifyUpdate(u),this._vertexArrayObjects&&(this._disposeVertexArrayObjects(),this._vertexArrayObjects={})},Geometry.prototype.updateVerticesDataDirectly=function(t,n,u,c){void 0===c&&(c=!1);var l=this.getVertexBuffer(t);l&&(l.updateDirectly(n,u,c),this.notifyUpdate(t))},Geometry.prototype.updateVerticesData=function(t,n,u){void 0===u&&(u=!1);var c=this.getVertexBuffer(t);c&&(c.update(n),t===h["VertexBuffer"].PositionKind&&this._updateBoundingInfo(u,n),this.notifyUpdate(t))},Geometry.prototype._updateBoundingInfo=function(t,n){if(t&&this._updateExtend(n),this._resetPointsArrayCache(),t)for(var u=this._meshes,c=0,l=u;c<l.length;c++){var d=l[c];d._boundingInfo?d._boundingInfo.reConstruct(this._extend.minimum,this._extend.maximum):d._boundingInfo=new _["BoundingInfo"](this._extend.minimum,this._extend.maximum);for(var h=d.subMeshes,p=0,m=h;p<m.length;p++){var g=m[p];g.refreshBoundingInfo()}}},Geometry.prototype._bind=function(t,n){if(t){void 0===n&&(n=this._indexBuffer);var u=this.getVertexBuffers();u&&(n==this._indexBuffer&&this._vertexArrayObjects?(this._vertexArrayObjects[t.key]||(this._vertexArrayObjects[t.key]=this._engine.recordVertexArrayObject(u,n,t)),this._engine.bindVertexArrayObject(this._vertexArrayObjects[t.key],n)):this._engine.bindBuffers(u,n,t))}},Geometry.prototype.getTotalVertices=function(){return this.isReady()?this._totalVertices:0},Geometry.prototype.getVerticesData=function(t,n,u){var c=this.getVertexBuffer(t);if(!c)return null;var l=c.getData();if(!l)return null;var d=c.getSize()*h["VertexBuffer"].GetTypeByteLength(c.type),p=this._totalVertices*c.getSize();if(c.type!==h["VertexBuffer"].FLOAT||c.byteStride!==d){var m=[];return c.forEach(p,(function(t){return m.push(t)})),m}if(!(l instanceof Array||l instanceof Float32Array)||0!==c.byteOffset||l.length!==p){if(l instanceof Array){var _=c.byteOffset/4;return g["Tools"].Slice(l,_,_+p)}if(l instanceof ArrayBuffer)return new Float32Array(l,c.byteOffset,p);_=l.byteOffset+c.byteOffset;if(u||n&&1!==this._meshes.length){var b=new Float32Array(p),v=new Float32Array(l.buffer,_,p);return b.set(v),b}var U=_%4;return U&&(_=Math.max(0,_-U)),new Float32Array(l.buffer,_,p)}return u||n&&1!==this._meshes.length?g["Tools"].Slice(l):l},Geometry.prototype.isVertexBufferUpdatable=function(t){var n=this._vertexBuffers[t];return!!n&&n.isUpdatable()},Geometry.prototype.getVertexBuffer=function(t){return this.isReady()?this._vertexBuffers[t]:null},Geometry.prototype.getVertexBuffers=function(){return this.isReady()?this._vertexBuffers:null},Geometry.prototype.isVerticesDataPresent=function(t){return this._vertexBuffers?void 0!==this._vertexBuffers[t]:!!this._delayInfo&&-1!==this._delayInfo.indexOf(t)},Geometry.prototype.getVerticesDataKinds=function(){var t,n=[];if(!this._vertexBuffers&&this._delayInfo)for(t in this._delayInfo)n.push(t);else for(t in this._vertexBuffers)n.push(t);return n},Geometry.prototype.updateIndices=function(t,n,u){if(void 0===u&&(u=!1),this._indexBuffer)if(this._indexBufferIsUpdatable){var c=t.length!==this._indices.length;if(u||(this._indices=t.slice()),this._engine.updateDynamicIndexBuffer(this._indexBuffer,t,n),c)for(var l=0,d=this._meshes;l<d.length;l++){var h=d[l];h._createGlobalSubMesh(!0)}}else this.setIndices(t,null,!0)},Geometry.prototype.setIndices=function(t,n,u){void 0===n&&(n=null),void 0===u&&(u=!1),this._indexBuffer&&this._engine._releaseBuffer(this._indexBuffer),this._disposeVertexArrayObjects(),this._indices=t,this._indexBufferIsUpdatable=u,0!==this._meshes.length&&this._indices&&(this._indexBuffer=this._engine.createIndexBuffer(this._indices,u)),void 0!=n&&(this._totalVertices=n);for(var c=0,l=this._meshes;c<l.length;c++){var d=l[c];d._createGlobalSubMesh(!0)}this.notifyUpdate()},Geometry.prototype.getTotalIndices=function(){return this.isReady()?this._indices.length:0},Geometry.prototype.getIndices=function(t,n){if(!this.isReady())return null;var u=this._indices;if(n||t&&1!==this._meshes.length){for(var c=u.length,l=[],d=0;d<c;d++)l.push(u[d]);return l}return u},Geometry.prototype.getIndexBuffer=function(){return this.isReady()?this._indexBuffer:null},Geometry.prototype._releaseVertexArrayObject=function(t){void 0===t&&(t=null),t&&this._vertexArrayObjects&&this._vertexArrayObjects[t.key]&&(this._engine.releaseVertexArrayObject(this._vertexArrayObjects[t.key]),delete this._vertexArrayObjects[t.key])},Geometry.prototype.releaseForMesh=function(t,n){var u=this._meshes,c=u.indexOf(t);-1!==c&&(u.splice(c,1),t._geometry=null,0===u.length&&n&&this.dispose())},Geometry.prototype.applyToMesh=function(t){if(t._geometry!==this){var n=t._geometry;n&&n.releaseForMesh(t);var u=this._meshes;t._geometry=this,this._scene.pushGeometry(this),u.push(t),this.isReady()?this._applyToMesh(t):t._boundingInfo=this._boundingInfo}},Geometry.prototype._updateExtend=function(t){void 0===t&&(t=null),this.useBoundingInfoFromGeometry&&this._boundingInfo?this._extend={minimum:this._boundingInfo.minimum.clone(),maximum:this._boundingInfo.maximum.clone()}:(t||(t=this.getVerticesData(h["VertexBuffer"].PositionKind)),this._extend=Object(v["extractMinAndMax"])(t,0,this._totalVertices,this.boundingBias,3))},Geometry.prototype._applyToMesh=function(t){var n=this._meshes.length;for(var u in this._vertexBuffers){1===n&&this._vertexBuffers[u].create();var c=this._vertexBuffers[u].getBuffer();c&&(c.references=n),u===h["VertexBuffer"].PositionKind&&(this._extend||this._updateExtend(),t._boundingInfo=new _["BoundingInfo"](this._extend.minimum,this._extend.maximum),t._createGlobalSubMesh(!1),t._updateBoundingInfo())}1===n&&this._indices&&this._indices.length>0&&(this._indexBuffer=this._engine.createIndexBuffer(this._indices)),this._indexBuffer&&(this._indexBuffer.references=n),t._syncGeometryWithMorphTargetManager(),t.synchronizeInstances()},Geometry.prototype.notifyUpdate=function(t){this.onGeometryUpdated&&this.onGeometryUpdated(this,t);for(var n=0,u=this._meshes;n<u.length;n++){var c=u[n];c._markSubMeshesAsAttributesDirty()}},Geometry.prototype.load=function(t,n){2!==this.delayLoadState&&(this.isReady()?n&&n():(this.delayLoadState=2,this._queueLoad(t,n)))},Geometry.prototype._queueLoad=function(t,n){var u=this;this.delayLoadingFile&&(t._addPendingData(this),t._loadFile(this.delayLoadingFile,(function(c){if(u._delayLoadingFunction){u._delayLoadingFunction(JSON.parse(c),u),u.delayLoadState=1,u._delayInfo=[],t._removePendingData(u);for(var l=u._meshes,d=l.length,h=0;h<d;h++)u._applyToMesh(l[h]);n&&n()}}),void 0,!0))},Geometry.prototype.toLeftHanded=function(){var t=this.getIndices(!1);if(null!=t&&t.length>0){for(var n=0;n<t.length;n+=3){var u=t[n+0];t[n+0]=t[n+2],t[n+2]=u}this.setIndices(t)}var c=this.getVerticesData(h["VertexBuffer"].PositionKind,!1);if(null!=c&&c.length>0){for(n=0;n<c.length;n+=3)c[n+2]=-c[n+2];this.setVerticesData(h["VertexBuffer"].PositionKind,c,!1)}var l=this.getVerticesData(h["VertexBuffer"].NormalKind,!1);if(null!=l&&l.length>0){for(n=0;n<l.length;n+=3)l[n+2]=-l[n+2];this.setVerticesData(h["VertexBuffer"].NormalKind,l,!1)}},Geometry.prototype._resetPointsArrayCache=function(){this._positions=null},Geometry.prototype._generatePointsArray=function(){if(this._positions)return!0;var t=this.getVerticesData(h["VertexBuffer"].PositionKind);if(!t||0===t.length)return!1;for(var n=3*this._positionsCache.length,u=this._positionsCache.length;n<t.length;n+=3,++u)this._positionsCache[u]=c["Vector3"].FromArray(t,n);for(n=0,u=0;n<t.length;n+=3,++u)this._positionsCache[u].set(t[0+n],t[1+n],t[2+n]);return this._positionsCache.length=t.length/3,this._positions=this._positionsCache,!0},Geometry.prototype.isDisposed=function(){return this._isDisposed},Geometry.prototype._disposeVertexArrayObjects=function(){if(this._vertexArrayObjects){for(var t in this._vertexArrayObjects)this._engine.releaseVertexArrayObject(this._vertexArrayObjects[t]);this._vertexArrayObjects={}}},Geometry.prototype.dispose=function(){var t,n=this._meshes,u=n.length;for(t=0;t<u;t++)this.releaseForMesh(n[t]);for(var c in this._meshes=[],this._disposeVertexArrayObjects(),this._vertexBuffers)this._vertexBuffers[c].dispose();this._vertexBuffers={},this._totalVertices=0,this._indexBuffer&&this._engine._releaseBuffer(this._indexBuffer),this._indexBuffer=null,this._indices=[],this.delayLoadState=0,this.delayLoadingFile=null,this._delayLoadingFunction=null,this._delayInfo=[],this._boundingInfo=null,this._scene.removeGeometry(this),this._isDisposed=!0},Geometry.prototype.copy=function(t){var n=new d["VertexData"];n.indices=[];var u=this.getIndices();if(u)for(var c=0;c<u.length;c++)n.indices.push(u[c]);var l,h=!1,p=!1;for(l in this._vertexBuffers){var m=this.getVerticesData(l);if(m&&(m instanceof Float32Array?n.set(new Float32Array(m),l):n.set(m.slice(0),l),!p)){var g=this.getVertexBuffer(l);g&&(h=g.isUpdatable(),p=!h)}}var b=new Geometry(t,this._scene,n,h);for(l in b.delayLoadState=this.delayLoadState,b.delayLoadingFile=this.delayLoadingFile,b._delayLoadingFunction=this._delayLoadingFunction,this._delayInfo)b._delayInfo=b._delayInfo||[],b._delayInfo.push(l);return b._boundingInfo=new _["BoundingInfo"](this._extend.minimum,this._extend.maximum),b},Geometry.prototype.serialize=function(){var t={};return t.id=this.id,t.updatable=this._updatable,b["Tags"]&&b["Tags"].HasTags(this)&&(t.tags=b["Tags"].GetTags(this)),t},Geometry.prototype.toNumberArray=function(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)},Geometry.prototype.serializeVerticeData=function(){var t=this.serialize();return this.isVerticesDataPresent(h["VertexBuffer"].PositionKind)&&(t.positions=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].PositionKind)),this.isVertexBufferUpdatable(h["VertexBuffer"].PositionKind)&&(t.positions._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].NormalKind)&&(t.normals=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].NormalKind)),this.isVertexBufferUpdatable(h["VertexBuffer"].NormalKind)&&(t.normals._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].TangentKind)&&(t.tangets=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].TangentKind)),this.isVertexBufferUpdatable(h["VertexBuffer"].TangentKind)&&(t.tangets._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].UVKind)&&(t.uvs=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].UVKind)),this.isVertexBufferUpdatable(h["VertexBuffer"].UVKind)&&(t.uvs._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].UV2Kind)&&(t.uv2s=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].UV2Kind)),this.isVertexBufferUpdatable(h["VertexBuffer"].UV2Kind)&&(t.uv2s._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].UV3Kind)&&(t.uv3s=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].UV3Kind)),this.isVertexBufferUpdatable(h["VertexBuffer"].UV3Kind)&&(t.uv3s._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].UV4Kind)&&(t.uv4s=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].UV4Kind)),this.isVertexBufferUpdatable(h["VertexBuffer"].UV4Kind)&&(t.uv4s._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].UV5Kind)&&(t.uv5s=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].UV5Kind)),this.isVertexBufferUpdatable(h["VertexBuffer"].UV5Kind)&&(t.uv5s._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].UV6Kind)&&(t.uv6s=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].UV6Kind)),this.isVertexBufferUpdatable(h["VertexBuffer"].UV6Kind)&&(t.uv6s._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].ColorKind)&&(t.colors=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].ColorKind)),this.isVertexBufferUpdatable(h["VertexBuffer"].ColorKind)&&(t.colors._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].MatricesIndicesKind)&&(t.matricesIndices=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].MatricesIndicesKind)),t.matricesIndices._isExpanded=!0,this.isVertexBufferUpdatable(h["VertexBuffer"].MatricesIndicesKind)&&(t.matricesIndices._updatable=!0)),this.isVerticesDataPresent(h["VertexBuffer"].MatricesWeightsKind)&&(t.matricesWeights=this.toNumberArray(this.getVerticesData(h["VertexBuffer"].MatricesWeightsKind)),this.isVertexBufferUpdatable(h["VertexBuffer"].MatricesWeightsKind)&&(t.matricesWeights._updatable=!0)),t.indices=this.toNumberArray(this.getIndices()),t},Geometry.ExtractFromMesh=function(t,n){var u=t._geometry;return u?u.copy(n):null},Geometry.RandomId=function(){return g["Tools"].RandomId()},Geometry._ImportGeometry=function(t,n){var u=n.getScene(),c=t.geometryId;if(c){var d=u.getGeometryByID(c);d&&d.applyToMesh(n)}else if(t instanceof ArrayBuffer){var m=n._binaryInfo;if(m.positionsAttrDesc&&m.positionsAttrDesc.count>0){var _=new Float32Array(t,m.positionsAttrDesc.offset,m.positionsAttrDesc.count);n.setVerticesData(h["VertexBuffer"].PositionKind,_,!1)}if(m.normalsAttrDesc&&m.normalsAttrDesc.count>0){var g=new Float32Array(t,m.normalsAttrDesc.offset,m.normalsAttrDesc.count);n.setVerticesData(h["VertexBuffer"].NormalKind,g,!1)}if(m.tangetsAttrDesc&&m.tangetsAttrDesc.count>0){var b=new Float32Array(t,m.tangetsAttrDesc.offset,m.tangetsAttrDesc.count);n.setVerticesData(h["VertexBuffer"].TangentKind,b,!1)}if(m.uvsAttrDesc&&m.uvsAttrDesc.count>0){var v=new Float32Array(t,m.uvsAttrDesc.offset,m.uvsAttrDesc.count);n.setVerticesData(h["VertexBuffer"].UVKind,v,!1)}if(m.uvs2AttrDesc&&m.uvs2AttrDesc.count>0){var U=new Float32Array(t,m.uvs2AttrDesc.offset,m.uvs2AttrDesc.count);n.setVerticesData(h["VertexBuffer"].UV2Kind,U,!1)}if(m.uvs3AttrDesc&&m.uvs3AttrDesc.count>0){var G=new Float32Array(t,m.uvs3AttrDesc.offset,m.uvs3AttrDesc.count);n.setVerticesData(h["VertexBuffer"].UV3Kind,G,!1)}if(m.uvs4AttrDesc&&m.uvs4AttrDesc.count>0){var W=new Float32Array(t,m.uvs4AttrDesc.offset,m.uvs4AttrDesc.count);n.setVerticesData(h["VertexBuffer"].UV4Kind,W,!1)}if(m.uvs5AttrDesc&&m.uvs5AttrDesc.count>0){var X=new Float32Array(t,m.uvs5AttrDesc.offset,m.uvs5AttrDesc.count);n.setVerticesData(h["VertexBuffer"].UV5Kind,X,!1)}if(m.uvs6AttrDesc&&m.uvs6AttrDesc.count>0){var q=new Float32Array(t,m.uvs6AttrDesc.offset,m.uvs6AttrDesc.count);n.setVerticesData(h["VertexBuffer"].UV6Kind,q,!1)}if(m.colorsAttrDesc&&m.colorsAttrDesc.count>0){var K=new Float32Array(t,m.colorsAttrDesc.offset,m.colorsAttrDesc.count);n.setVerticesData(h["VertexBuffer"].ColorKind,K,!1,m.colorsAttrDesc.stride)}if(m.matricesIndicesAttrDesc&&m.matricesIndicesAttrDesc.count>0){for(var Y=new Int32Array(t,m.matricesIndicesAttrDesc.offset,m.matricesIndicesAttrDesc.count),Q=[],Z=0;Z<Y.length;Z++){var $=Y[Z];Q.push(255&$),Q.push((65280&$)>>8),Q.push((16711680&$)>>16),Q.push($>>24&255)}n.setVerticesData(h["VertexBuffer"].MatricesIndicesKind,Q,!1)}if(m.matricesIndicesExtraAttrDesc&&m.matricesIndicesExtraAttrDesc.count>0){for(Y=new Int32Array(t,m.matricesIndicesExtraAttrDesc.offset,m.matricesIndicesExtraAttrDesc.count),Q=[],Z=0;Z<Y.length;Z++){$=Y[Z];Q.push(255&$),Q.push((65280&$)>>8),Q.push((16711680&$)>>16),Q.push($>>24&255)}n.setVerticesData(h["VertexBuffer"].MatricesIndicesExtraKind,Q,!1)}if(m.matricesWeightsAttrDesc&&m.matricesWeightsAttrDesc.count>0){var J=new Float32Array(t,m.matricesWeightsAttrDesc.offset,m.matricesWeightsAttrDesc.count);n.setVerticesData(h["VertexBuffer"].MatricesWeightsKind,J,!1)}if(m.indicesAttrDesc&&m.indicesAttrDesc.count>0){var ee=new Int32Array(t,m.indicesAttrDesc.offset,m.indicesAttrDesc.count);n.setIndices(ee,null)}if(m.subMeshesAttrDesc&&m.subMeshesAttrDesc.count>0){var te=new Int32Array(t,m.subMeshesAttrDesc.offset,5*m.subMeshesAttrDesc.count);n.subMeshes=[];for(Z=0;Z<m.subMeshesAttrDesc.count;Z++){var re=te[5*Z+0],ne=te[5*Z+1],ie=te[5*Z+2],oe=te[5*Z+3],se=te[5*Z+4];p["SubMesh"].AddToMesh(re,ne,ie,oe,se,n)}}}else if(t.positions&&t.normals&&t.indices){if(n.setVerticesData(h["VertexBuffer"].PositionKind,t.positions,t.positions._updatable),n.setVerticesData(h["VertexBuffer"].NormalKind,t.normals,t.normals._updatable),t.tangents&&n.setVerticesData(h["VertexBuffer"].TangentKind,t.tangents,t.tangents._updatable),t.uvs&&n.setVerticesData(h["VertexBuffer"].UVKind,t.uvs,t.uvs._updatable),t.uvs2&&n.setVerticesData(h["VertexBuffer"].UV2Kind,t.uvs2,t.uvs2._updatable),t.uvs3&&n.setVerticesData(h["VertexBuffer"].UV3Kind,t.uvs3,t.uvs3._updatable),t.uvs4&&n.setVerticesData(h["VertexBuffer"].UV4Kind,t.uvs4,t.uvs4._updatable),t.uvs5&&n.setVerticesData(h["VertexBuffer"].UV5Kind,t.uvs5,t.uvs5._updatable),t.uvs6&&n.setVerticesData(h["VertexBuffer"].UV6Kind,t.uvs6,t.uvs6._updatable),t.colors&&n.setVerticesData(h["VertexBuffer"].ColorKind,l["Color4"].CheckColors4(t.colors,t.positions.length/3),t.colors._updatable),t.matricesIndices)if(t.matricesIndices._isExpanded)delete t.matricesIndices._isExpanded,n.setVerticesData(h["VertexBuffer"].MatricesIndicesKind,t.matricesIndices,t.matricesIndices._updatable);else{for(Q=[],Z=0;Z<t.matricesIndices.length;Z++){var ae=t.matricesIndices[Z];Q.push(255&ae),Q.push((65280&ae)>>8),Q.push((16711680&ae)>>16),Q.push(ae>>24&255)}n.setVerticesData(h["VertexBuffer"].MatricesIndicesKind,Q,t.matricesIndices._updatable)}if(t.matricesIndicesExtra)if(t.matricesIndicesExtra._isExpanded)delete t.matricesIndices._isExpanded,n.setVerticesData(h["VertexBuffer"].MatricesIndicesExtraKind,t.matricesIndicesExtra,t.matricesIndicesExtra._updatable);else{for(Q=[],Z=0;Z<t.matricesIndicesExtra.length;Z++){ae=t.matricesIndicesExtra[Z];Q.push(255&ae),Q.push((65280&ae)>>8),Q.push((16711680&ae)>>16),Q.push(ae>>24&255)}n.setVerticesData(h["VertexBuffer"].MatricesIndicesExtraKind,Q,t.matricesIndicesExtra._updatable)}t.matricesWeights&&(Geometry._CleanMatricesWeights(t,n),n.setVerticesData(h["VertexBuffer"].MatricesWeightsKind,t.matricesWeights,t.matricesWeights._updatable)),t.matricesWeightsExtra&&n.setVerticesData(h["VertexBuffer"].MatricesWeightsExtraKind,t.matricesWeightsExtra,t.matricesWeights._updatable),n.setIndices(t.indices,null)}if(t.subMeshes){n.subMeshes=[];for(var ue=0;ue<t.subMeshes.length;ue++){var ce=t.subMeshes[ue];p["SubMesh"].AddToMesh(ce.materialIndex,ce.verticesStart,ce.verticesCount,ce.indexStart,ce.indexCount,n)}}n._shouldGenerateFlatShading&&(n.convertToFlatShadedMesh(),n._shouldGenerateFlatShading=!1),n.computeWorldMatrix(!0),u.onMeshImportedObservable.notifyObservers(n)},Geometry._CleanMatricesWeights=function(t,n){var u=.001;if(m["SceneLoaderFlags"].CleanBoneMatrixWeights){var c=0;if(t.skeletonId>-1){var l=n.getScene().getLastSkeletonByID(t.skeletonId);if(l){c=l.bones.length;for(var d=n.getVerticesData(h["VertexBuffer"].MatricesIndicesKind),p=n.getVerticesData(h["VertexBuffer"].MatricesIndicesExtraKind),_=t.matricesWeights,g=t.matricesWeightsExtra,b=t.numBoneInfluencer,v=_.length,U=0;U<v;U+=4){for(var G=0,W=-1,X=0;X<4;X++){var q=_[U+X];G+=q,q<u&&W<0&&(W=X)}if(g)for(X=0;X<4;X++){q=g[U+X];G+=q,q<u&&W<0&&(W=X+4)}if((W<0||W>b-1)&&(W=b-1),G>u){var K=1/G;for(X=0;X<4;X++)_[U+X]*=K;if(g)for(X=0;X<4;X++)g[U+X]*=K}else W>=4?(g[U+W-4]=1-G,p[U+W-4]=c):(_[U+W]=1-G,d[U+W]=c)}n.setVerticesData(h["VertexBuffer"].MatricesIndicesKind,d),t.matricesWeightsExtra&&n.setVerticesData(h["VertexBuffer"].MatricesIndicesExtraKind,p)}}}},Geometry.Parse=function(t,n,u){if(n.getGeometryByID(t.id))return null;var l=new Geometry(t.id,n,void 0,t.updatable);return b["Tags"]&&b["Tags"].AddTagsTo(l,t.tags),t.delayLoadingFile?(l.delayLoadState=4,l.delayLoadingFile=u+t.delayLoadingFile,l._boundingInfo=new _["BoundingInfo"](c["Vector3"].FromArray(t.boundingBoxMinimum),c["Vector3"].FromArray(t.boundingBoxMaximum)),l._delayInfo=[],t.hasUVs&&l._delayInfo.push(h["VertexBuffer"].UVKind),t.hasUVs2&&l._delayInfo.push(h["VertexBuffer"].UV2Kind),t.hasUVs3&&l._delayInfo.push(h["VertexBuffer"].UV3Kind),t.hasUVs4&&l._delayInfo.push(h["VertexBuffer"].UV4Kind),t.hasUVs5&&l._delayInfo.push(h["VertexBuffer"].UV5Kind),t.hasUVs6&&l._delayInfo.push(h["VertexBuffer"].UV6Kind),t.hasColors&&l._delayInfo.push(h["VertexBuffer"].ColorKind),t.hasMatricesIndices&&l._delayInfo.push(h["VertexBuffer"].MatricesIndicesKind),t.hasMatricesWeights&&l._delayInfo.push(h["VertexBuffer"].MatricesWeightsKind),l._delayLoadingFunction=d["VertexData"].ImportVertexData):d["VertexData"].ImportVertexData(t,l),n.pushGeometry(l,!0),l},Geometry}()},"./node_modules/@babylonjs/core/Meshes/groundMesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"GroundMesh",(function(){return p}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.js");h["Mesh"]._GroundMeshParser=function(t,n){return p.Parse(t,n)};var p=function(t){function GroundMesh(n,u){var c=t.call(this,n,u)||this;return c.generateOctree=!1,c}return Object(c["__extends"])(GroundMesh,t),GroundMesh.prototype.getClassName=function(){return"GroundMesh"},Object.defineProperty(GroundMesh.prototype,"subdivisions",{get:function(){return Math.min(this._subdivisionsX,this._subdivisionsY)},enumerable:!1,configurable:!0}),Object.defineProperty(GroundMesh.prototype,"subdivisionsX",{get:function(){return this._subdivisionsX},enumerable:!1,configurable:!0}),Object.defineProperty(GroundMesh.prototype,"subdivisionsY",{get:function(){return this._subdivisionsY},enumerable:!1,configurable:!0}),GroundMesh.prototype.optimize=function(t,n){void 0===n&&(n=32),this._subdivisionsX=t,this._subdivisionsY=t,this.subdivide(t);var u=this;u.createOrUpdateSubmeshesOctree&&u.createOrUpdateSubmeshesOctree(n)},GroundMesh.prototype.getHeightAtCoordinates=function(t,n){var u=this.getWorldMatrix(),c=l["TmpVectors"].Matrix[5];u.invertToRef(c);var d=l["TmpVectors"].Vector3[8];if(l["Vector3"].TransformCoordinatesFromFloatsToRef(t,0,n,c,d),t=d.x,n=d.z,t<this._minX||t>this._maxX||n<this._minZ||n>this._maxZ)return this.position.y;this._heightQuads&&0!=this._heightQuads.length||(this._initHeightQuads(),this._computeHeightQuads());var h=this._getFacetAt(t,n),p=-(h.x*t+h.z*n+h.w)/h.y;return l["Vector3"].TransformCoordinatesFromFloatsToRef(0,p,0,u,d),d.y},GroundMesh.prototype.getNormalAtCoordinates=function(t,n){var u=new l["Vector3"](0,1,0);return this.getNormalAtCoordinatesToRef(t,n,u),u},GroundMesh.prototype.getNormalAtCoordinatesToRef=function(t,n,u){var c=this.getWorldMatrix(),d=l["TmpVectors"].Matrix[5];c.invertToRef(d);var h=l["TmpVectors"].Vector3[8];if(l["Vector3"].TransformCoordinatesFromFloatsToRef(t,0,n,d,h),t=h.x,n=h.z,t<this._minX||t>this._maxX||n<this._minZ||n>this._maxZ)return this;this._heightQuads&&0!=this._heightQuads.length||(this._initHeightQuads(),this._computeHeightQuads());var p=this._getFacetAt(t,n);return l["Vector3"].TransformNormalFromFloatsToRef(p.x,p.y,p.z,c,u),this},GroundMesh.prototype.updateCoordinateHeights=function(){return this._heightQuads&&0!=this._heightQuads.length||this._initHeightQuads(),this._computeHeightQuads(),this},GroundMesh.prototype._getFacetAt=function(t,n){var u,c=Math.floor((t+this._maxX)*this._subdivisionsX/this._width),l=Math.floor(-(n+this._maxZ)*this._subdivisionsY/this._height+this._subdivisionsY),d=this._heightQuads[l*this._subdivisionsX+c];return u=n<d.slope.x*t+d.slope.y?d.facet1:d.facet2,u},GroundMesh.prototype._initHeightQuads=function(){var t=this._subdivisionsX,n=this._subdivisionsY;this._heightQuads=new Array;for(var u=0;u<n;u++)for(var c=0;c<t;c++){var d={slope:l["Vector2"].Zero(),facet1:new l["Vector4"](0,0,0,0),facet2:new l["Vector4"](0,0,0,0)};this._heightQuads[u*t+c]=d}return this},GroundMesh.prototype._computeHeightQuads=function(){var t=this.getVerticesData(d["VertexBuffer"].PositionKind);if(!t)return this;for(var n=l["TmpVectors"].Vector3[3],u=l["TmpVectors"].Vector3[2],c=l["TmpVectors"].Vector3[1],h=l["TmpVectors"].Vector3[0],p=l["TmpVectors"].Vector3[4],m=l["TmpVectors"].Vector3[5],_=l["TmpVectors"].Vector3[6],g=l["TmpVectors"].Vector3[7],b=l["TmpVectors"].Vector3[8],v=0,U=0,G=0,W=0,X=0,q=0,K=0,Y=this._subdivisionsX,Q=this._subdivisionsY,Z=0;Z<Q;Z++)for(var $=0;$<Y;$++){v=3*$,U=Z*(Y+1)*3,G=(Z+1)*(Y+1)*3,n.x=t[U+v],n.y=t[U+v+1],n.z=t[U+v+2],u.x=t[U+v+3],u.y=t[U+v+4],u.z=t[U+v+5],c.x=t[G+v],c.y=t[G+v+1],c.z=t[G+v+2],h.x=t[G+v+3],h.y=t[G+v+4],h.z=t[G+v+5],W=(h.z-n.z)/(h.x-n.x),X=n.z-W*n.x,u.subtractToRef(n,p),c.subtractToRef(n,m),h.subtractToRef(n,_),l["Vector3"].CrossToRef(_,m,g),l["Vector3"].CrossToRef(p,_,b),g.normalize(),b.normalize(),q=-(g.x*n.x+g.y*n.y+g.z*n.z),K=-(b.x*u.x+b.y*u.y+b.z*u.z);var J=this._heightQuads[Z*Y+$];J.slope.copyFromFloats(W,X),J.facet1.copyFromFloats(g.x,g.y,g.z,q),J.facet2.copyFromFloats(b.x,b.y,b.z,K)}return this},GroundMesh.prototype.serialize=function(n){t.prototype.serialize.call(this,n),n.subdivisionsX=this._subdivisionsX,n.subdivisionsY=this._subdivisionsY,n.minX=this._minX,n.maxX=this._maxX,n.minZ=this._minZ,n.maxZ=this._maxZ,n.width=this._width,n.height=this._height},GroundMesh.Parse=function(t,n){var u=new GroundMesh(t.name,n);return u._subdivisionsX=t.subdivisionsX||1,u._subdivisionsY=t.subdivisionsY||1,u._minX=t.minX,u._maxX=t.maxX,u._minZ=t.minZ,u._maxZ=t.maxZ,u._width=t.width,u._height=t.height,u},GroundMesh}(h["Mesh"])},"./node_modules/@babylonjs/core/Meshes/instancedMesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"InstancedMesh",(function(){return U}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Misc/logger.js"),h=u("./node_modules/@babylonjs/core/Meshes/abstractMesh.js"),p=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),m=u("./node_modules/@babylonjs/core/Misc/deepCopier.js"),_=u("./node_modules/@babylonjs/core/Meshes/transformNode.js"),g=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),b=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js"),v=u("./node_modules/@babylonjs/core/Misc/tools.js");p["Mesh"]._instancedMeshFactory=function(t,n){var u=new U(t,n);if(n.instancedBuffers)for(var c in u.instancedBuffers={},n.instancedBuffers)u.instancedBuffers[c]=n.instancedBuffers[c];return u};var U=function(t){function InstancedMesh(n,u){var c=t.call(this,n,u.getScene())||this;c._indexInSourceMeshInstanceArray=-1,u.addInstance(c),c._sourceMesh=u,c._unIndexed=u._unIndexed,c.position.copyFrom(u.position),c.rotation.copyFrom(u.rotation),c.scaling.copyFrom(u.scaling),u.rotationQuaternion&&(c.rotationQuaternion=u.rotationQuaternion.clone()),c.animations=v["Tools"].Slice(u.animations);for(var l=0,d=u.getAnimationRanges();l<d.length;l++){var h=d[l];null!=h&&c.createAnimationRange(h.name,h.from,h.to)}return c.infiniteDistance=u.infiniteDistance,c.setPivotMatrix(u.getPivotMatrix()),c.refreshBoundingInfo(),c._syncSubMeshes(),c}return Object(c["__extends"])(InstancedMesh,t),InstancedMesh.prototype.getClassName=function(){return"InstancedMesh"},Object.defineProperty(InstancedMesh.prototype,"lightSources",{get:function(){return this._sourceMesh._lightSources},enumerable:!1,configurable:!0}),InstancedMesh.prototype._resyncLightSources=function(){},InstancedMesh.prototype._resyncLightSource=function(t){},InstancedMesh.prototype._removeLightSource=function(t,n){},Object.defineProperty(InstancedMesh.prototype,"receiveShadows",{get:function(){return this._sourceMesh.receiveShadows},enumerable:!1,configurable:!0}),Object.defineProperty(InstancedMesh.prototype,"material",{get:function(){return this._sourceMesh.material},enumerable:!1,configurable:!0}),Object.defineProperty(InstancedMesh.prototype,"visibility",{get:function(){return this._sourceMesh.visibility},enumerable:!1,configurable:!0}),Object.defineProperty(InstancedMesh.prototype,"skeleton",{get:function(){return this._sourceMesh.skeleton},enumerable:!1,configurable:!0}),Object.defineProperty(InstancedMesh.prototype,"renderingGroupId",{get:function(){return this._sourceMesh.renderingGroupId},set:function(t){this._sourceMesh&&t!==this._sourceMesh.renderingGroupId&&d["Logger"].Warn("Note - setting renderingGroupId of an instanced mesh has no effect on the scene")},enumerable:!1,configurable:!0}),InstancedMesh.prototype.getTotalVertices=function(){return this._sourceMesh?this._sourceMesh.getTotalVertices():0},InstancedMesh.prototype.getTotalIndices=function(){return this._sourceMesh.getTotalIndices()},Object.defineProperty(InstancedMesh.prototype,"sourceMesh",{get:function(){return this._sourceMesh},enumerable:!1,configurable:!0}),InstancedMesh.prototype.createInstance=function(t){return this._sourceMesh.createInstance(t)},InstancedMesh.prototype.isReady=function(t){return void 0===t&&(t=!1),this._sourceMesh.isReady(t,!0)},InstancedMesh.prototype.getVerticesData=function(t,n){return this._sourceMesh.getVerticesData(t,n)},InstancedMesh.prototype.setVerticesData=function(t,n,u,c){return this.sourceMesh&&this.sourceMesh.setVerticesData(t,n,u,c),this.sourceMesh},InstancedMesh.prototype.updateVerticesData=function(t,n,u,c){return this.sourceMesh&&this.sourceMesh.updateVerticesData(t,n,u,c),this.sourceMesh},InstancedMesh.prototype.setIndices=function(t,n){return void 0===n&&(n=null),this.sourceMesh&&this.sourceMesh.setIndices(t,n),this.sourceMesh},InstancedMesh.prototype.isVerticesDataPresent=function(t){return this._sourceMesh.isVerticesDataPresent(t)},InstancedMesh.prototype.getIndices=function(){return this._sourceMesh.getIndices()},Object.defineProperty(InstancedMesh.prototype,"_positions",{get:function(){return this._sourceMesh._positions},enumerable:!1,configurable:!0}),InstancedMesh.prototype.refreshBoundingInfo=function(t){if(void 0===t&&(t=!1),this._boundingInfo&&this._boundingInfo.isLocked)return this;var n=this._sourceMesh.geometry?this._sourceMesh.geometry.boundingBias:null;return this._refreshBoundingInfo(this._sourceMesh._getPositionData(t),n),this},InstancedMesh.prototype._preActivate=function(){return this._currentLOD&&this._currentLOD._preActivate(),this},InstancedMesh.prototype._activate=function(t,n){if(this._sourceMesh.subMeshes||d["Logger"].Warn("Instances should only be created for meshes with geometry."),this._currentLOD){var u=this._currentLOD._getWorldMatrixDeterminant()>0!==this._getWorldMatrixDeterminant()>0;if(u)return this._internalAbstractMeshDataInfo._actAsRegularMesh=!0,!0;if(this._internalAbstractMeshDataInfo._actAsRegularMesh=!1,this._currentLOD._registerInstanceForRenderId(this,t),n){if(!this._currentLOD._internalAbstractMeshDataInfo._isActiveIntermediate)return this._currentLOD._internalAbstractMeshDataInfo._onlyForInstancesIntermediate=!0,!0}else if(!this._currentLOD._internalAbstractMeshDataInfo._isActive)return this._currentLOD._internalAbstractMeshDataInfo._onlyForInstances=!0,!0}return!1},InstancedMesh.prototype._postActivate=function(){this._sourceMesh.edgesShareWithInstances&&this._sourceMesh._edgesRenderer&&this._sourceMesh._edgesRenderer.isEnabled&&this._sourceMesh._renderingGroup?(this._sourceMesh._renderingGroup._edgesRenderers.pushNoDuplicate(this._sourceMesh._edgesRenderer),this._sourceMesh._edgesRenderer.customInstances.push(this.getWorldMatrix())):this._edgesRenderer&&this._edgesRenderer.isEnabled&&this._sourceMesh._renderingGroup&&this._sourceMesh._renderingGroup._edgesRenderers.push(this._edgesRenderer)},InstancedMesh.prototype.getWorldMatrix=function(){if(this._currentLOD&&this._currentLOD.billboardMode!==_["TransformNode"].BILLBOARDMODE_NONE&&this._currentLOD._masterMesh!==this){var n=this._currentLOD._masterMesh;return this._currentLOD._masterMesh=this,l["TmpVectors"].Vector3[7].copyFrom(this._currentLOD.position),this._currentLOD.position.set(0,0,0),l["TmpVectors"].Matrix[0].copyFrom(this._currentLOD.computeWorldMatrix(!0)),this._currentLOD.position.copyFrom(l["TmpVectors"].Vector3[7]),this._currentLOD._masterMesh=n,l["TmpVectors"].Matrix[0]}return t.prototype.getWorldMatrix.call(this)},Object.defineProperty(InstancedMesh.prototype,"isAnInstance",{get:function(){return!0},enumerable:!1,configurable:!0}),InstancedMesh.prototype.getLOD=function(t){if(!t)return this;var n=this.getBoundingInfo();return this._currentLOD=this.sourceMesh.getLOD(t,n.boundingSphere),this._currentLOD===this.sourceMesh?this.sourceMesh:this._currentLOD},InstancedMesh.prototype._preActivateForIntermediateRendering=function(t){return this.sourceMesh._preActivateForIntermediateRendering(t)},InstancedMesh.prototype._syncSubMeshes=function(){if(this.releaseSubMeshes(),this._sourceMesh.subMeshes)for(var t=0;t<this._sourceMesh.subMeshes.length;t++)this._sourceMesh.subMeshes[t].clone(this,this._sourceMesh);return this},InstancedMesh.prototype._generatePointsArray=function(){return this._sourceMesh._generatePointsArray()},InstancedMesh.prototype._updateBoundingInfo=function(){var t=this;return this._boundingInfo?this._boundingInfo.update(t.worldMatrixFromCache):this._boundingInfo=new b["BoundingInfo"](this.absolutePosition,this.absolutePosition,t.worldMatrixFromCache),this._updateSubMeshesBoundingInfo(t.worldMatrixFromCache),this},InstancedMesh.prototype.clone=function(t,n,u){void 0===n&&(n=null);var c=this._sourceMesh.createInstance(t);if(m["DeepCopier"].DeepCopy(this,c,["name","subMeshes","uniqueId","parent","lightSources","receiveShadows","material","visibility","skeleton","sourceMesh","isAnInstance","facetNb","isFacetDataEnabled","isBlocked","useBones","hasInstances","collider","edgesRenderer","forward","up","right","absolutePosition","absoluteScaling","absoluteRotationQuaternion","isWorldMatrixFrozen","nonUniformScaling","behaviors","worldMatrixFromCache","hasThinInstances"],[]),this.refreshBoundingInfo(),n&&(c.parent=n),!u)for(var l=0;l<this.getScene().meshes.length;l++){var d=this.getScene().meshes[l];d.parent===this&&d.clone(d.name,c)}return c.computeWorldMatrix(!0),c},InstancedMesh.prototype.dispose=function(n,u){void 0===u&&(u=!1),this._sourceMesh.removeInstance(this),t.prototype.dispose.call(this,n,u)},InstancedMesh}(h["AbstractMesh"]);p["Mesh"].prototype.edgesShareWithInstances=!1,p["Mesh"].prototype.registerInstancedBuffer=function(t,n){if(this.removeVerticesData(t),!this.instancedBuffers){this.instancedBuffers={};for(var u=0,c=this.instances;u<c.length;u++){var l=c[u];l.instancedBuffers={}}this._userInstancedBuffersStorage={data:{},vertexBuffers:{},strides:{},sizes:{}}}this.instancedBuffers[t]=null,this._userInstancedBuffersStorage.strides[t]=n,this._userInstancedBuffersStorage.sizes[t]=32*n,this._userInstancedBuffersStorage.data[t]=new Float32Array(this._userInstancedBuffersStorage.sizes[t]),this._userInstancedBuffersStorage.vertexBuffers[t]=new g["VertexBuffer"](this.getEngine(),this._userInstancedBuffersStorage.data[t],t,!0,!1,n,!0),this.setVerticesBuffer(this._userInstancedBuffersStorage.vertexBuffers[t]);for(var d=0,h=this.instances;d<h.length;d++){l=h[d];l.instancedBuffers[t]=null}},p["Mesh"].prototype._processInstancedBuffers=function(t,n){var u=t.length;for(var c in this.instancedBuffers){var l=this._userInstancedBuffersStorage.sizes[c],d=this._userInstancedBuffersStorage.strides[c],h=(u+1)*d;while(l<h)l*=2;this._userInstancedBuffersStorage.data[c].length!=l&&(this._userInstancedBuffersStorage.data[c]=new Float32Array(l),this._userInstancedBuffersStorage.sizes[c]=l,this._userInstancedBuffersStorage.vertexBuffers[c]&&(this._userInstancedBuffersStorage.vertexBuffers[c].dispose(),this._userInstancedBuffersStorage.vertexBuffers[c]=null));var p=this._userInstancedBuffersStorage.data[c],m=0;if(n){var _=this.instancedBuffers[c];_.toArray?_.toArray(p,m):_.copyToArray(p,m),m+=d}for(var b=0;b<u;b++){var v=t[b];_=v.instancedBuffers[c];_.toArray?_.toArray(p,m):_.copyToArray(p,m),m+=d}this._userInstancedBuffersStorage.vertexBuffers[c]?this._userInstancedBuffersStorage.vertexBuffers[c].updateDirectly(p,0):(this._userInstancedBuffersStorage.vertexBuffers[c]=new g["VertexBuffer"](this.getEngine(),this._userInstancedBuffersStorage.data[c],c,!0,!1,d,!0),this.setVerticesBuffer(this._userInstancedBuffersStorage.vertexBuffers[c]))}},p["Mesh"].prototype._disposeInstanceSpecificData=function(){this._instanceDataStorage.instancesBuffer&&(this._instanceDataStorage.instancesBuffer.dispose(),this._instanceDataStorage.instancesBuffer=null);while(this.instances.length)this.instances[0].dispose();for(var t in this.instancedBuffers)this._userInstancedBuffersStorage.vertexBuffers[t]&&this._userInstancedBuffersStorage.vertexBuffers[t].dispose();this.instancedBuffers={}}},"./node_modules/@babylonjs/core/Meshes/linesMesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"LinesMesh",(function(){return b})),u.d(n,"InstancedLinesMesh",(function(){return v}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.color.js"),d=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),h=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),p=u("./node_modules/@babylonjs/core/Meshes/instancedMesh.js"),m=u("./node_modules/@babylonjs/core/Materials/material.js"),_=u("./node_modules/@babylonjs/core/Materials/shaderMaterial.js"),g=u("./node_modules/@babylonjs/core/Materials/materialHelper.js"),b=(u("./node_modules/@babylonjs/core/Shaders/color.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/color.vertex.js"),function(t){function LinesMesh(n,u,c,h,p,m,g){void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null);var b=t.call(this,n,u,c,h,p)||this;b.useVertexColor=m,b.useVertexAlpha=g,b.color=new l["Color3"](1,1,1),b.alpha=1,h&&(b.color=h.color.clone(),b.alpha=h.alpha,b.useVertexColor=h.useVertexColor,b.useVertexAlpha=h.useVertexAlpha),b.intersectionThreshold=.1;var v=[],U={attributes:[d["VertexBuffer"].PositionKind,"world0","world1","world2","world3"],uniforms:["vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","world","viewProjection"],needAlphaBlending:!0,defines:v};return!1===g&&(U.needAlphaBlending=!1),m?(U.defines.push("#define VERTEXCOLOR"),U.attributes.push(d["VertexBuffer"].ColorKind)):(U.uniforms.push("color"),b.color4=new l["Color4"]),b._colorShader=new _["ShaderMaterial"]("colorShader",b.getScene(),"color",U),b}return Object(c["__extends"])(LinesMesh,t),LinesMesh.prototype._addClipPlaneDefine=function(t){var n="#define "+t,u=this._colorShader.options.defines.indexOf(n);-1===u&&this._colorShader.options.defines.push(n)},LinesMesh.prototype._removeClipPlaneDefine=function(t){var n="#define "+t,u=this._colorShader.options.defines.indexOf(n);-1!==u&&this._colorShader.options.defines.splice(u,1)},LinesMesh.prototype.isReady=function(){var n=this.getScene();return n.clipPlane?this._addClipPlaneDefine("CLIPPLANE"):this._removeClipPlaneDefine("CLIPPLANE"),n.clipPlane2?this._addClipPlaneDefine("CLIPPLANE2"):this._removeClipPlaneDefine("CLIPPLANE2"),n.clipPlane3?this._addClipPlaneDefine("CLIPPLANE3"):this._removeClipPlaneDefine("CLIPPLANE3"),n.clipPlane4?this._addClipPlaneDefine("CLIPPLANE4"):this._removeClipPlaneDefine("CLIPPLANE4"),n.clipPlane5?this._addClipPlaneDefine("CLIPPLANE5"):this._removeClipPlaneDefine("CLIPPLANE5"),n.clipPlane6?this._addClipPlaneDefine("CLIPPLANE6"):this._removeClipPlaneDefine("CLIPPLANE6"),!!this._colorShader.isReady(this)&&t.prototype.isReady.call(this)},LinesMesh.prototype.getClassName=function(){return"LinesMesh"},Object.defineProperty(LinesMesh.prototype,"material",{get:function(){return this._colorShader},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(LinesMesh.prototype,"checkCollisions",{get:function(){return!1},enumerable:!1,configurable:!0}),LinesMesh.prototype._bind=function(t,n,u){if(!this._geometry)return this;var c=this._colorShader.getEffect(),l=this.isUnIndexed?null:this._geometry.getIndexBuffer();if(this._geometry._bind(c,l),!this.useVertexColor){var d=this.color,h=d.r,p=d.g,m=d.b;this.color4.set(h,p,m,this.alpha),this._colorShader.setColor4("color",this.color4)}return g["MaterialHelper"].BindClipPlane(c,this.getScene()),this},LinesMesh.prototype._draw=function(t,n,u){if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;var c=this.getScene().getEngine();return this._unIndexed?c.drawArraysType(m["Material"].LineListDrawMode,t.verticesStart,t.verticesCount,u):c.drawElementsType(m["Material"].LineListDrawMode,t.indexStart,t.indexCount,u),this},LinesMesh.prototype.dispose=function(n){this._colorShader.dispose(!1,!1,!0),t.prototype.dispose.call(this,n)},LinesMesh.prototype.clone=function(t,n,u){return void 0===n&&(n=null),new LinesMesh(t,this.getScene(),n,this,u)},LinesMesh.prototype.createInstance=function(t){return new v(t,this)},LinesMesh}(h["Mesh"])),v=function(t){function InstancedLinesMesh(n,u){var c=t.call(this,n,u)||this;return c.intersectionThreshold=u.intersectionThreshold,c}return Object(c["__extends"])(InstancedLinesMesh,t),InstancedLinesMesh.prototype.getClassName=function(){return"InstancedLinesMesh"},InstancedLinesMesh}(p["InstancedMesh"])},"./node_modules/@babylonjs/core/Meshes/mesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"_CreationDataStorage",(function(){return ne})),u.d(n,"_InstancesBatch",(function(){return oe})),u.d(n,"Mesh",(function(){return ue}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/observable.js"),d=u("./node_modules/@babylonjs/core/Misc/tools.js"),h=u("./node_modules/@babylonjs/core/Misc/deepCopier.js"),p=u("./node_modules/@babylonjs/core/Misc/tags.js"),m=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),_=u("./node_modules/@babylonjs/core/Maths/math.color.js"),g=u("./node_modules/@babylonjs/core/node.js"),b=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),v=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),U=u("./node_modules/@babylonjs/core/Meshes/geometry.js"),G=u("./node_modules/@babylonjs/core/Meshes/abstractMesh.js"),W=u("./node_modules/@babylonjs/core/Meshes/subMesh.js"),X=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js"),q=u("./node_modules/@babylonjs/core/Materials/material.js"),K=u("./node_modules/@babylonjs/core/Materials/multiMaterial.js"),Y=u("./node_modules/@babylonjs/core/Loading/sceneLoaderFlags.js"),Q=u("./node_modules/@babylonjs/core/Misc/decorators.js"),Z=u("./node_modules/@babylonjs/core/Misc/logger.js"),$=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),J=u("./node_modules/@babylonjs/core/Misc/devTools.js"),ee=u("./node_modules/@babylonjs/core/sceneComponent.js"),te=u("./node_modules/@babylonjs/core/Meshes/meshLODLevel.js"),re=u("./node_modules/@babylonjs/core/Misc/canvasGenerator.js"),ne=function(){function _CreationDataStorage(){}return _CreationDataStorage}(),ie=function(){function _InstanceDataStorage(){this.visibleInstances={},this.batchCache=new oe,this.instancesBufferSize=2048}return _InstanceDataStorage}(),oe=function(){function _InstancesBatch(){this.mustReturn=!1,this.visibleInstances=new Array,this.renderSelf=new Array,this.hardwareInstancedRendering=new Array}return _InstancesBatch}(),se=function(){function _ThinInstanceDataStorage(){this.instancesCount=0,this.matrixBuffer=null,this.matrixBufferSize=512,this.boundingVectors=[],this.worldMatrices=null}return _ThinInstanceDataStorage}(),ae=function(){function _InternalMeshDataInfo(){this._areNormalsFrozen=!1,this._source=null,this.meshMap=null,this._preActivateId=-1,this._LODLevels=new Array,this._morphTargetManager=null}return _InternalMeshDataInfo}(),ue=function(t){function Mesh(n,u,c,l,d,m){void 0===u&&(u=null),void 0===c&&(c=null),void 0===l&&(l=null),void 0===m&&(m=!0);var _=t.call(this,n,u)||this;if(_._internalMeshDataInfo=new ae,_.delayLoadState=0,_.instances=new Array,_._creationDataStorage=null,_._geometry=null,_._instanceDataStorage=new ie,_._thinInstanceDataStorage=new se,_._effectiveMaterial=null,_._shouldGenerateFlatShading=!1,_._originalBuilderSideOrientation=Mesh.DEFAULTSIDE,_.overrideMaterialSideOrientation=null,u=_.getScene(),l){if(l._geometry&&l._geometry.applyToMesh(_),h["DeepCopier"].DeepCopy(l,_,["name","material","skeleton","instances","parent","uniqueId","source","metadata","morphTargetManager","hasInstances","source","worldMatrixInstancedBuffer","hasLODLevels","geometry","isBlocked","areNormalsFrozen","facetNb","isFacetDataEnabled","lightSources","useBones","isAnInstance","collider","edgesRenderer","forward","up","right","absolutePosition","absoluteScaling","absoluteRotationQuaternion","isWorldMatrixFrozen","nonUniformScaling","behaviors","worldMatrixFromCache","hasThinInstances","cloneMeshMap"],["_poseMatrix"]),_._internalMeshDataInfo._source=l,u.useClonedMeshMap&&(l._internalMeshDataInfo.meshMap||(l._internalMeshDataInfo.meshMap={}),l._internalMeshDataInfo.meshMap[_.uniqueId]=_),_._originalBuilderSideOrientation=l._originalBuilderSideOrientation,_._creationDataStorage=l._creationDataStorage,l._ranges){var g=l._ranges;for(var n in g)g.hasOwnProperty(n)&&g[n]&&_.createAnimationRange(n,g[n].from,g[n].to)}var b;if(l.metadata&&l.metadata.clone?_.metadata=l.metadata.clone():_.metadata=l.metadata,p["Tags"]&&p["Tags"].HasTags(l)&&p["Tags"].AddTagsTo(_,p["Tags"].GetTags(l,!0)),_.setEnabled(l.isEnabled()),_.parent=l.parent,_.setPivotMatrix(l.getPivotMatrix()),_.id=n+"."+l.id,_.material=l.material,!d)for(var v=l.getDescendants(!0),U=0;U<v.length;U++){var G=v[U];G.clone&&G.clone(n+"."+G.name,_)}if(l.morphTargetManager&&(_.morphTargetManager=l.morphTargetManager),u.getPhysicsEngine){var W=u.getPhysicsEngine();if(m&&W){var X=W.getImpostorForPhysicsObject(l);X&&(_.physicsImpostor=X.clone(_))}}for(b=0;b<u.particleSystems.length;b++){var q=u.particleSystems[b];q.emitter===l&&q.clone(q.name,_)}_.refreshBoundingInfo(),_.computeWorldMatrix(!0)}return null!==c&&(_.parent=c),_._instanceDataStorage.hardwareInstancedRendering=_.getEngine().getCaps().instancedArrays,_}return Object(c["__extends"])(Mesh,t),Mesh._GetDefaultSideOrientation=function(t){return t||Mesh.FRONTSIDE},Object.defineProperty(Mesh.prototype,"computeBonesUsingShaders",{get:function(){return this._internalAbstractMeshDataInfo._computeBonesUsingShaders},set:function(t){this._internalAbstractMeshDataInfo._computeBonesUsingShaders!==t&&(t&&this._internalMeshDataInfo._sourcePositions&&(this.setVerticesData(b["VertexBuffer"].PositionKind,this._internalMeshDataInfo._sourcePositions.slice(),!0),this._internalMeshDataInfo._sourceNormals&&this.setVerticesData(b["VertexBuffer"].NormalKind,this._internalMeshDataInfo._sourceNormals.slice(),!0)),this._internalAbstractMeshDataInfo._computeBonesUsingShaders=t,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"onBeforeRenderObservable",{get:function(){return this._internalMeshDataInfo._onBeforeRenderObservable||(this._internalMeshDataInfo._onBeforeRenderObservable=new l["Observable"]),this._internalMeshDataInfo._onBeforeRenderObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"onBeforeBindObservable",{get:function(){return this._internalMeshDataInfo._onBeforeBindObservable||(this._internalMeshDataInfo._onBeforeBindObservable=new l["Observable"]),this._internalMeshDataInfo._onBeforeBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"onAfterRenderObservable",{get:function(){return this._internalMeshDataInfo._onAfterRenderObservable||(this._internalMeshDataInfo._onAfterRenderObservable=new l["Observable"]),this._internalMeshDataInfo._onAfterRenderObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"onBeforeDrawObservable",{get:function(){return this._internalMeshDataInfo._onBeforeDrawObservable||(this._internalMeshDataInfo._onBeforeDrawObservable=new l["Observable"]),this._internalMeshDataInfo._onBeforeDrawObservable},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"onBeforeDraw",{set:function(t){this._onBeforeDrawObserver&&this.onBeforeDrawObservable.remove(this._onBeforeDrawObserver),this._onBeforeDrawObserver=this.onBeforeDrawObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"hasInstances",{get:function(){return this.instances.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"hasThinInstances",{get:function(){var t;return(null!==(t=this._thinInstanceDataStorage.instancesCount)&&void 0!==t?t:0)>0},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"morphTargetManager",{get:function(){return this._internalMeshDataInfo._morphTargetManager},set:function(t){this._internalMeshDataInfo._morphTargetManager!==t&&(this._internalMeshDataInfo._morphTargetManager=t,this._syncGeometryWithMorphTargetManager())},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"source",{get:function(){return this._internalMeshDataInfo._source},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"cloneMeshMap",{get:function(){return this._internalMeshDataInfo.meshMap},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"isUnIndexed",{get:function(){return this._unIndexed},set:function(t){this._unIndexed!==t&&(this._unIndexed=t,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"worldMatrixInstancedBuffer",{get:function(){return this._instanceDataStorage.instancesData},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"manualUpdateOfWorldMatrixInstancedBuffer",{get:function(){return this._instanceDataStorage.manualUpdate},set:function(t){this._instanceDataStorage.manualUpdate=t},enumerable:!1,configurable:!0}),Mesh.prototype.instantiateHierarchy=function(t,n,u){void 0===t&&(t=null);var c=!(this.getTotalVertices()>0)||n&&n.doNotInstantiate?this.clone("Clone of "+(this.name||this.id),t||this.parent,!0):this.createInstance("instance of "+(this.name||this.id));c&&(c.parent=t||this.parent,c.position=this.position.clone(),c.scaling=this.scaling.clone(),this.rotationQuaternion?c.rotationQuaternion=this.rotationQuaternion.clone():c.rotation=this.rotation.clone(),u&&u(this,c));for(var l=0,d=this.getChildTransformNodes(!0);l<d.length;l++){var h=d[l];h.instantiateHierarchy(c,n,u)}return c},Mesh.prototype.getClassName=function(){return"Mesh"},Object.defineProperty(Mesh.prototype,"_isMesh",{get:function(){return!0},enumerable:!1,configurable:!0}),Mesh.prototype.toString=function(n){var u=t.prototype.toString.call(this,n);if(u+=", n vertices: "+this.getTotalVertices(),u+=", parent: "+(this._waitingParentId?this._waitingParentId:this.parent?this.parent.name:"NONE"),this.animations)for(var c=0;c<this.animations.length;c++)u+=", animation[0]: "+this.animations[c].toString(n);if(n)if(this._geometry){var l=this.getIndices(),d=this.getVerticesData(b["VertexBuffer"].PositionKind);d&&l&&(u+=", flat shading: "+(d.length/3===l.length?"YES":"NO"))}else u+=", flat shading: UNKNOWN";return u},Mesh.prototype._unBindEffect=function(){t.prototype._unBindEffect.call(this);for(var n=0,u=this.instances;n<u.length;n++){var c=u[n];c._unBindEffect()}},Object.defineProperty(Mesh.prototype,"hasLODLevels",{get:function(){return this._internalMeshDataInfo._LODLevels.length>0},enumerable:!1,configurable:!0}),Mesh.prototype.getLODLevels=function(){return this._internalMeshDataInfo._LODLevels},Mesh.prototype._sortLODLevels=function(){this._internalMeshDataInfo._LODLevels.sort((function(t,n){return t.distance<n.distance?1:t.distance>n.distance?-1:0}))},Mesh.prototype.addLODLevel=function(t,n){if(n&&n._masterMesh)return Z["Logger"].Warn("You cannot use a mesh as LOD level twice"),this;var u=new te["MeshLODLevel"](t,n);return this._internalMeshDataInfo._LODLevels.push(u),n&&(n._masterMesh=this),this._sortLODLevels(),this},Mesh.prototype.getLODLevelAtDistance=function(t){for(var n=this._internalMeshDataInfo,u=0;u<n._LODLevels.length;u++){var c=n._LODLevels[u];if(c.distance===t)return c.mesh}return null},Mesh.prototype.removeLODLevel=function(t){for(var n=this._internalMeshDataInfo,u=0;u<n._LODLevels.length;u++)n._LODLevels[u].mesh===t&&(n._LODLevels.splice(u,1),t&&(t._masterMesh=null));return this._sortLODLevels(),this},Mesh.prototype.getLOD=function(t,n){var u,c=this._internalMeshDataInfo;if(!c._LODLevels||0===c._LODLevels.length)return this;if(n)u=n;else{var l=this.getBoundingInfo();u=l.boundingSphere}var d=u.centerWorld.subtract(t.globalPosition).length();if(c._LODLevels[c._LODLevels.length-1].distance>d)return this.onLODLevelSelection&&this.onLODLevelSelection(d,this,this),this;for(var h=0;h<c._LODLevels.length;h++){var p=c._LODLevels[h];if(p.distance<d){if(p.mesh){if(4===p.mesh.delayLoadState)return p.mesh._checkDelayState(),this;if(2===p.mesh.delayLoadState)return this;p.mesh._preActivate(),p.mesh._updateSubMeshesBoundingInfo(this.worldMatrixFromCache)}return this.onLODLevelSelection&&this.onLODLevelSelection(d,this,p.mesh),p.mesh}}return this.onLODLevelSelection&&this.onLODLevelSelection(d,this,this),this},Object.defineProperty(Mesh.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),Mesh.prototype.getTotalVertices=function(){return null===this._geometry||void 0===this._geometry?0:this._geometry.getTotalVertices()},Mesh.prototype.getVerticesData=function(t,n,u){return this._geometry?this._geometry.getVerticesData(t,n,u):null},Mesh.prototype.getVertexBuffer=function(t){return this._geometry?this._geometry.getVertexBuffer(t):null},Mesh.prototype.isVerticesDataPresent=function(t){return this._geometry?this._geometry.isVerticesDataPresent(t):!!this._delayInfo&&-1!==this._delayInfo.indexOf(t)},Mesh.prototype.isVertexBufferUpdatable=function(t){return this._geometry?this._geometry.isVertexBufferUpdatable(t):!!this._delayInfo&&-1!==this._delayInfo.indexOf(t)},Mesh.prototype.getVerticesDataKinds=function(){if(!this._geometry){var t=new Array;return this._delayInfo&&this._delayInfo.forEach((function(n){t.push(n)})),t}return this._geometry.getVerticesDataKinds()},Mesh.prototype.getTotalIndices=function(){return this._geometry?this._geometry.getTotalIndices():0},Mesh.prototype.getIndices=function(t,n){return this._geometry?this._geometry.getIndices(t,n):[]},Object.defineProperty(Mesh.prototype,"isBlocked",{get:function(){return null!==this._masterMesh&&void 0!==this._masterMesh},enumerable:!1,configurable:!0}),Mesh.prototype.isReady=function(n,u){var c,l,d,h,p,m;if(void 0===n&&(n=!1),void 0===u&&(u=!1),2===this.delayLoadState)return!1;if(!t.prototype.isReady.call(this,n))return!1;if(!this.subMeshes||0===this.subMeshes.length)return!0;if(!n)return!0;var _=this.getEngine(),g=this.getScene(),b=u||_.getCaps().instancedArrays&&(this.instances.length>0||this.hasThinInstances);this.computeWorldMatrix();var v=this.material||g.defaultMaterial;if(v)if(v._storeEffectOnSubMeshes)for(var U=0,G=this.subMeshes;U<G.length;U++){var W=G[U],X=W.getMaterial();if(X)if(X._storeEffectOnSubMeshes){if(!X.isReadyForSubMesh(this,W,b))return!1}else if(!X.isReady(this,b))return!1}else if(!v.isReady(this,b))return!1;for(var q=0,K=this.lightSources;q<K.length;q++){var Y=K[q],Q=Y.getShadowGenerator();if(Q&&(!(null===(c=Q.getShadowMap())||void 0===c?void 0:c.renderList)||(null===(l=Q.getShadowMap())||void 0===l?void 0:l.renderList)&&-1!==(null===(h=null===(d=Q.getShadowMap())||void 0===d?void 0:d.renderList)||void 0===h?void 0:h.indexOf(this))))for(var Z=0,$=this.subMeshes;Z<$.length;Z++){W=$[Z];if(!Q.isReady(W,b,null!==(m=null===(p=W.getMaterial())||void 0===p?void 0:p.needAlphaBlendingForMesh(this))&&void 0!==m&&m))return!1}}for(var J=0,ee=this._internalMeshDataInfo._LODLevels;J<ee.length;J++){var te=ee[J];if(te.mesh&&!te.mesh.isReady(b))return!1}return!0},Object.defineProperty(Mesh.prototype,"areNormalsFrozen",{get:function(){return this._internalMeshDataInfo._areNormalsFrozen},enumerable:!1,configurable:!0}),Mesh.prototype.freezeNormals=function(){return this._internalMeshDataInfo._areNormalsFrozen=!0,this},Mesh.prototype.unfreezeNormals=function(){return this._internalMeshDataInfo._areNormalsFrozen=!1,this},Object.defineProperty(Mesh.prototype,"overridenInstanceCount",{set:function(t){this._instanceDataStorage.overridenInstanceCount=t},enumerable:!1,configurable:!0}),Mesh.prototype._preActivate=function(){var t=this._internalMeshDataInfo,n=this.getScene().getRenderId();return t._preActivateId===n||(t._preActivateId=n,this._instanceDataStorage.visibleInstances=null),this},Mesh.prototype._preActivateForIntermediateRendering=function(t){return this._instanceDataStorage.visibleInstances&&(this._instanceDataStorage.visibleInstances.intermediateDefaultRenderId=t),this},Mesh.prototype._registerInstanceForRenderId=function(t,n){return this._instanceDataStorage.visibleInstances||(this._instanceDataStorage.visibleInstances={defaultRenderId:n,selfDefaultRenderId:this._renderId}),this._instanceDataStorage.visibleInstances[n]||(void 0!==this._instanceDataStorage.previousRenderId&&this._instanceDataStorage.isFrozen&&(this._instanceDataStorage.visibleInstances[this._instanceDataStorage.previousRenderId]=null),this._instanceDataStorage.previousRenderId=n,this._instanceDataStorage.visibleInstances[n]=new Array),this._instanceDataStorage.visibleInstances[n].push(t),this},Mesh.prototype._afterComputeWorldMatrix=function(){t.prototype._afterComputeWorldMatrix.call(this),this.hasThinInstances&&(this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1))},Mesh.prototype._postActivate=function(){this.edgesShareWithInstances&&this.edgesRenderer&&this.edgesRenderer.isEnabled&&this._renderingGroup&&(this._renderingGroup._edgesRenderers.pushNoDuplicate(this.edgesRenderer),this.edgesRenderer.customInstances.push(this.getWorldMatrix()))},Mesh.prototype.refreshBoundingInfo=function(t){if(void 0===t&&(t=!1),this._boundingInfo&&this._boundingInfo.isLocked)return this;var n=this.geometry?this.geometry.boundingBias:null;return this._refreshBoundingInfo(this._getPositionData(t),n),this},Mesh.prototype._createGlobalSubMesh=function(t){var n=this.getTotalVertices();if(!n||!this.getIndices())return null;if(this.subMeshes&&this.subMeshes.length>0){var u=this.getIndices();if(!u)return null;var c=u.length,l=!1;if(t)l=!0;else for(var d=0,h=this.subMeshes;d<h.length;d++){var p=h[d];if(p.indexStart+p.indexCount>c){l=!0;break}if(p.verticesStart+p.verticesCount>n){l=!0;break}}if(!l)return this.subMeshes[0]}return this.releaseSubMeshes(),new W["SubMesh"](0,0,n,0,this.getTotalIndices(),this)},Mesh.prototype.subdivide=function(t){if(!(t<1)){var n=this.getTotalIndices(),u=n/t|0,c=0;while(u%3!==0)u++;this.releaseSubMeshes();for(var l=0;l<t;l++){if(c>=n)break;W["SubMesh"].CreateFromIndices(0,c,l===t-1?n-c:u,this),c+=u}this.synchronizeInstances()}},Mesh.prototype.setVerticesData=function(t,n,u,c){if(void 0===u&&(u=!1),this._geometry)this._geometry.setVerticesData(t,n,u,c);else{var l=new v["VertexData"];l.set(n,t);var d=this.getScene();new U["Geometry"](U["Geometry"].RandomId(),d,l,u,this)}return this},Mesh.prototype.removeVerticesData=function(t){this._geometry&&this._geometry.removeVerticesData(t)},Mesh.prototype.markVerticesDataAsUpdatable=function(t,n){void 0===n&&(n=!0);var u=this.getVertexBuffer(t);u&&u.isUpdatable()!==n&&this.setVerticesData(t,this.getVerticesData(t),n)},Mesh.prototype.setVerticesBuffer=function(t){return this._geometry||(this._geometry=U["Geometry"].CreateGeometryForMesh(this)),this._geometry.setVerticesBuffer(t),this},Mesh.prototype.updateVerticesData=function(t,n,u,c){return this._geometry?(c?(this.makeGeometryUnique(),this.updateVerticesData(t,n,u,!1)):this._geometry.updateVerticesData(t,n,u),this):this},Mesh.prototype.updateMeshPositions=function(t,n){void 0===n&&(n=!0);var u=this.getVerticesData(b["VertexBuffer"].PositionKind);if(!u)return this;if(t(u),this.updateVerticesData(b["VertexBuffer"].PositionKind,u,!1,!1),n){var c=this.getIndices(),l=this.getVerticesData(b["VertexBuffer"].NormalKind);if(!l)return this;v["VertexData"].ComputeNormals(u,c,l),this.updateVerticesData(b["VertexBuffer"].NormalKind,l,!1,!1)}return this},Mesh.prototype.makeGeometryUnique=function(){if(!this._geometry)return this;if(1===this._geometry.meshes.length)return this;var t=this._geometry,n=this._geometry.copy(U["Geometry"].RandomId());return t.releaseForMesh(this,!0),n.applyToMesh(this),this},Mesh.prototype.setIndices=function(t,n,u){if(void 0===n&&(n=null),void 0===u&&(u=!1),this._geometry)this._geometry.setIndices(t,n,u);else{var c=new v["VertexData"];c.indices=t;var l=this.getScene();new U["Geometry"](U["Geometry"].RandomId(),l,c,u,this)}return this},Mesh.prototype.updateIndices=function(t,n,u){return void 0===u&&(u=!1),this._geometry?(this._geometry.updateIndices(t,n,u),this):this},Mesh.prototype.toLeftHanded=function(){return this._geometry?(this._geometry.toLeftHanded(),this):this},Mesh.prototype._bind=function(t,n,u){if(!this._geometry)return this;var c,l=this.getScene().getEngine();if(this._unIndexed)c=null;else switch(u){case q["Material"].PointFillMode:c=null;break;case q["Material"].WireFrameFillMode:c=t._getLinesIndexBuffer(this.getIndices(),l);break;default:case q["Material"].TriangleFillMode:c=this._geometry.getIndexBuffer();break}return this._geometry._bind(n,c),this},Mesh.prototype._draw=function(t,n,u){if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;this._internalMeshDataInfo._onBeforeDrawObservable&&this._internalMeshDataInfo._onBeforeDrawObservable.notifyObservers(this);var c=this.getScene(),l=c.getEngine();return this._unIndexed||n==q["Material"].PointFillMode?l.drawArraysType(n,t.verticesStart,t.verticesCount,u):n==q["Material"].WireFrameFillMode?l.drawElementsType(n,0,t._linesIndexCount,u):l.drawElementsType(n,t.indexStart,t.indexCount,u),this},Mesh.prototype.registerBeforeRender=function(t){return this.onBeforeRenderObservable.add(t),this},Mesh.prototype.unregisterBeforeRender=function(t){return this.onBeforeRenderObservable.removeCallback(t),this},Mesh.prototype.registerAfterRender=function(t){return this.onAfterRenderObservable.add(t),this},Mesh.prototype.unregisterAfterRender=function(t){return this.onAfterRenderObservable.removeCallback(t),this},Mesh.prototype._getInstancesRenderList=function(t,n){if(void 0===n&&(n=!1),this._instanceDataStorage.isFrozen&&this._instanceDataStorage.previousBatch)return this._instanceDataStorage.previousBatch;var u=this.getScene(),c=u._isInIntermediateRendering(),l=c?this._internalAbstractMeshDataInfo._onlyForInstancesIntermediate:this._internalAbstractMeshDataInfo._onlyForInstances,d=this._instanceDataStorage.batchCache;if(d.mustReturn=!1,d.renderSelf[t]=n||!l&&this.isEnabled()&&this.isVisible,d.visibleInstances[t]=null,this._instanceDataStorage.visibleInstances&&!n){var h=this._instanceDataStorage.visibleInstances,p=u.getRenderId(),m=c?h.intermediateDefaultRenderId:h.defaultRenderId;d.visibleInstances[t]=h[p],!d.visibleInstances[t]&&m&&(d.visibleInstances[t]=h[m])}return d.hardwareInstancedRendering[t]=!n&&this._instanceDataStorage.hardwareInstancedRendering&&null!==d.visibleInstances[t]&&void 0!==d.visibleInstances[t],this._instanceDataStorage.previousBatch=d,d},Mesh.prototype._renderWithInstances=function(t,n,u,c,l){var d=u.visibleInstances[t._id];if(!d)return this;var h=this._instanceDataStorage,p=h.instancesBufferSize,m=h.instancesBuffer,_=d.length+1,g=16*_*4;while(h.instancesBufferSize<g)h.instancesBufferSize*=2;h.instancesData&&p==h.instancesBufferSize||(h.instancesData=new Float32Array(h.instancesBufferSize/4));var v=0,U=0,G=u.renderSelf[t._id],W=!m||p!==h.instancesBufferSize;if(this._instanceDataStorage.manualUpdate||h.isFrozen&&!W)U=(G?1:0)+d.length;else{var X=this._effectiveMesh.getWorldMatrix();if(G&&(X.copyToArray(h.instancesData,v),v+=16,U++),d)for(var q=0;q<d.length;q++){var K=d[q];K.getWorldMatrix().copyToArray(h.instancesData,v),v+=16,U++}}return W?(m&&m.dispose(),m=new b["Buffer"](l,h.instancesData,!0,16,!1,!0),h.instancesBuffer=m,this.setVerticesBuffer(m.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(m.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(m.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(m.createVertexBuffer("world3",12,4))):this._instanceDataStorage.isFrozen||m.updateDirectly(h.instancesData,0,U),this._processInstancedBuffers(d,G),this.getScene()._activeIndices.addCount(t.indexCount*U,!1),this._bind(t,c,n),this._draw(t,n,U),l.unbindInstanceAttributes(),this},Mesh.prototype._renderWithThinInstances=function(t,n,u,c){var l,d,h=null!==(d=null===(l=this._thinInstanceDataStorage)||void 0===l?void 0:l.instancesCount)&&void 0!==d?d:0;this.getScene()._activeIndices.addCount(t.indexCount*h,!1),this._bind(t,u,n),this._draw(t,n,h),c.unbindInstanceAttributes()},Mesh.prototype._processInstancedBuffers=function(t,n){},Mesh.prototype._processRendering=function(t,n,u,c,l,d,h,p){var m=this.getScene(),_=m.getEngine();if(d&&n.getRenderingMesh().hasThinInstances)return this._renderWithThinInstances(n,c,u,_),this;if(d)this._renderWithInstances(n,c,l,u,_);else{var g=0;l.renderSelf[n._id]&&(h&&h(!1,t._effectiveMesh.getWorldMatrix(),p),g++,this._draw(n,c,this._instanceDataStorage.overridenInstanceCount));var b=l.visibleInstances[n._id];if(b){var v=b.length;g+=v;for(var U=0;U<v;U++){var G=b[U],W=G.getWorldMatrix();h&&h(!0,W,p),this._draw(n,c)}}m._activeIndices.addCount(n.indexCount*g,!1)}return this},Mesh.prototype._rebuild=function(){this._instanceDataStorage.instancesBuffer&&(this._instanceDataStorage.instancesBuffer.dispose(),this._instanceDataStorage.instancesBuffer=null),t.prototype._rebuild.call(this)},Mesh.prototype._freeze=function(){if(this.subMeshes){for(var t=0;t<this.subMeshes.length;t++)this._getInstancesRenderList(t);this._effectiveMaterial=null,this._instanceDataStorage.isFrozen=!0}},Mesh.prototype._unFreeze=function(){this._instanceDataStorage.isFrozen=!1,this._instanceDataStorage.previousBatch=null},Mesh.prototype.render=function(t,n,u){var c=this.getScene();if(this._internalAbstractMeshDataInfo._isActiveIntermediate?this._internalAbstractMeshDataInfo._isActiveIntermediate=!1:this._internalAbstractMeshDataInfo._isActive=!1,this._checkOcclusionQuery())return this;var l=this._getInstancesRenderList(t._id,!!u);if(l.mustReturn)return this;if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;this._internalMeshDataInfo._onBeforeRenderObservable&&this._internalMeshDataInfo._onBeforeRenderObservable.notifyObservers(this);var d,h=c.getEngine(),p=l.hardwareInstancedRendering[t._id]||t.getRenderingMesh().hasThinInstances,m=this._instanceDataStorage,_=t.getMaterial();if(!_)return this;if(!m.isFrozen||!this._effectiveMaterial||this._effectiveMaterial!==_){if(_._storeEffectOnSubMeshes){if(!_.isReadyForSubMesh(this,t,p))return this}else if(!_.isReady(this,p))return this;this._effectiveMaterial=_}n&&h.setAlphaMode(this._effectiveMaterial.alphaMode),d=this._effectiveMaterial._storeEffectOnSubMeshes?t.effect:this._effectiveMaterial.getEffect();for(var g=0,b=c._beforeRenderingMeshStage;g<b.length;g++){var v=b[g];v.action(this,t,l,d)}if(!d)return this;var U,G=u||this._effectiveMesh;if(m.isFrozen||!this._effectiveMaterial.backFaceCulling&&null===this.overrideMaterialSideOrientation)U=m.sideOrientation;else{var W=G._getWorldMatrixDeterminant();U=this.overrideMaterialSideOrientation,null==U&&(U=this._effectiveMaterial.sideOrientation),W<0&&(U=U===q["Material"].ClockWiseSideOrientation?q["Material"].CounterClockWiseSideOrientation:q["Material"].ClockWiseSideOrientation),m.sideOrientation=U}var X=this._effectiveMaterial._preBind(d,U);this._effectiveMaterial.forceDepthWrite&&h.setDepthWrite(!0);var K=c.forcePointsCloud?q["Material"].PointFillMode:c.forceWireframe?q["Material"].WireFrameFillMode:this._effectiveMaterial.fillMode;this._internalMeshDataInfo._onBeforeBindObservable&&this._internalMeshDataInfo._onBeforeBindObservable.notifyObservers(this),p||this._bind(t,d,K);var Y=G.getWorldMatrix();this._effectiveMaterial._storeEffectOnSubMeshes?this._effectiveMaterial.bindForSubMesh(Y,this,t):this._effectiveMaterial.bind(Y,this),!this._effectiveMaterial.backFaceCulling&&this._effectiveMaterial.separateCullingPass&&(h.setState(!0,this._effectiveMaterial.zOffset,!1,!X),this._processRendering(this,t,d,K,l,p,this._onBeforeDraw,this._effectiveMaterial),h.setState(!0,this._effectiveMaterial.zOffset,!1,X)),this._processRendering(this,t,d,K,l,p,this._onBeforeDraw,this._effectiveMaterial),this._effectiveMaterial.unbind();for(var Q=0,Z=c._afterRenderingMeshStage;Q<Z.length;Q++){v=Z[Q];v.action(this,t,l,d)}return this._internalMeshDataInfo._onAfterRenderObservable&&this._internalMeshDataInfo._onAfterRenderObservable.notifyObservers(this),this},Mesh.prototype._onBeforeDraw=function(t,n,u){t&&u&&u.bindOnlyWorldMatrix(n)},Mesh.prototype.cleanMatrixWeights=function(){this.isVerticesDataPresent(b["VertexBuffer"].MatricesWeightsKind)&&(this.isVerticesDataPresent(b["VertexBuffer"].MatricesWeightsExtraKind)?this.normalizeSkinWeightsAndExtra():this.normalizeSkinFourWeights())},Mesh.prototype.normalizeSkinFourWeights=function(){for(var t=this.getVerticesData(b["VertexBuffer"].MatricesWeightsKind),n=t.length,u=0;u<n;u+=4){var c=t[u]+t[u+1]+t[u+2]+t[u+3];if(0===c)t[u]=1;else{var l=1/c;t[u]*=l,t[u+1]*=l,t[u+2]*=l,t[u+3]*=l}}this.setVerticesData(b["VertexBuffer"].MatricesWeightsKind,t)},Mesh.prototype.normalizeSkinWeightsAndExtra=function(){for(var t=this.getVerticesData(b["VertexBuffer"].MatricesWeightsExtraKind),n=this.getVerticesData(b["VertexBuffer"].MatricesWeightsKind),u=n.length,c=0;c<u;c+=4){var l=n[c]+n[c+1]+n[c+2]+n[c+3];if(l+=t[c]+t[c+1]+t[c+2]+t[c+3],0===l)n[c]=1;else{var d=1/l;n[c]*=d,n[c+1]*=d,n[c+2]*=d,n[c+3]*=d,t[c]*=d,t[c+1]*=d,t[c+2]*=d,t[c+3]*=d}}this.setVerticesData(b["VertexBuffer"].MatricesWeightsKind,n),this.setVerticesData(b["VertexBuffer"].MatricesWeightsKind,t)},Mesh.prototype.validateSkinning=function(){var t=this.getVerticesData(b["VertexBuffer"].MatricesWeightsExtraKind),n=this.getVerticesData(b["VertexBuffer"].MatricesWeightsKind);if(null===n||null==this.skeleton)return{skinned:!1,valid:!0,report:"not skinned"};for(var u=n.length,c=0,l=0,d=0,h=0,p=null===t?4:8,m=new Array,_=0;_<=p;_++)m[_]=0;var g=.001;for(_=0;_<u;_+=4){for(var v=n[_],U=v,G=0===U?0:1,W=1;W<p;W++){var X=W<4?n[_+W]:t[_+W-4];X>v&&c++,0!==X&&G++,U+=X,v=X}if(m[G]++,G>d&&(d=G),0===U)l++;else{var q=1/U,K=0;for(W=0;W<p;W++)K+=W<4?Math.abs(n[_+W]-n[_+W]*q):Math.abs(t[_+W-4]-t[_+W-4]*q);K>g&&h++}}var Y=this.skeleton.bones.length,Q=this.getVerticesData(b["VertexBuffer"].MatricesIndicesKind),Z=this.getVerticesData(b["VertexBuffer"].MatricesIndicesExtraKind),$=0;for(_=0;_<u;_+=4)for(W=0;W<p;W++){var J=W<4?Q[_+W]:Z[_+W-4];(J>=Y||J<0)&&$++}var ee="Number of Weights = "+u/4+"\nMaximum influences = "+d+"\nMissing Weights = "+l+"\nNot Sorted = "+c+"\nNot Normalized = "+h+"\nWeightCounts = ["+m+"]\nNumber of bones = "+Y+"\nBad Bone Indices = "+$;return{skinned:!0,valid:0===l&&0===h&&0===$,report:ee}},Mesh.prototype._checkDelayState=function(){var t=this.getScene();return this._geometry?this._geometry.load(t):4===this.delayLoadState&&(this.delayLoadState=2,this._queueLoad(t)),this},Mesh.prototype._queueLoad=function(t){var n=this;t._addPendingData(this);var u=-1!==this.delayLoadingFile.indexOf(".babylonbinarymeshdata");return d["Tools"].LoadFile(this.delayLoadingFile,(function(u){u instanceof ArrayBuffer?n._delayLoadingFunction(u,n):n._delayLoadingFunction(JSON.parse(u),n),n.instances.forEach((function(t){t.refreshBoundingInfo(),t._syncSubMeshes()})),n.delayLoadState=1,t._removePendingData(n)}),(function(){}),t.offlineProvider,u),this},Mesh.prototype.isInFrustum=function(n){return 2!==this.delayLoadState&&(!!t.prototype.isInFrustum.call(this,n)&&(this._checkDelayState(),!0))},Mesh.prototype.setMaterialByID=function(t){var n,u=this.getScene().materials;for(n=u.length-1;n>-1;n--)if(u[n].id===t)return this.material=u[n],this;var c=this.getScene().multiMaterials;for(n=c.length-1;n>-1;n--)if(c[n].id===t)return this.material=c[n],this;return this},Mesh.prototype.getAnimatables=function(){var t=new Array;return this.material&&t.push(this.material),this.skeleton&&t.push(this.skeleton),t},Mesh.prototype.bakeTransformIntoVertices=function(t){if(!this.isVerticesDataPresent(b["VertexBuffer"].PositionKind))return this;var n=this.subMeshes.splice(0);this._resetPointsArrayCache();var u,c=this.getVerticesData(b["VertexBuffer"].PositionKind),l=new Array;for(u=0;u<c.length;u+=3)m["Vector3"].TransformCoordinates(m["Vector3"].FromArray(c,u),t).toArray(l,u);if(this.setVerticesData(b["VertexBuffer"].PositionKind,l,this.getVertexBuffer(b["VertexBuffer"].PositionKind).isUpdatable()),this.isVerticesDataPresent(b["VertexBuffer"].NormalKind)){for(c=this.getVerticesData(b["VertexBuffer"].NormalKind),l=[],u=0;u<c.length;u+=3)m["Vector3"].TransformNormal(m["Vector3"].FromArray(c,u),t).normalize().toArray(l,u);this.setVerticesData(b["VertexBuffer"].NormalKind,l,this.getVertexBuffer(b["VertexBuffer"].NormalKind).isUpdatable())}return t.m[0]*t.m[5]*t.m[10]<0&&this.flipFaces(),this.releaseSubMeshes(),this.subMeshes=n,this},Mesh.prototype.bakeCurrentTransformIntoVertices=function(t){return void 0===t&&(t=!0),this.bakeTransformIntoVertices(this.computeWorldMatrix(!0)),this.resetLocalMatrix(t),this},Object.defineProperty(Mesh.prototype,"_positions",{get:function(){return this._geometry?this._geometry._positions:null},enumerable:!1,configurable:!0}),Mesh.prototype._resetPointsArrayCache=function(){return this._geometry&&this._geometry._resetPointsArrayCache(),this},Mesh.prototype._generatePointsArray=function(){return!!this._geometry&&this._geometry._generatePointsArray()},Mesh.prototype.clone=function(t,n,u,c){return void 0===t&&(t=""),void 0===n&&(n=null),void 0===c&&(c=!0),new Mesh(t,this.getScene(),n,this,u,c)},Mesh.prototype.dispose=function(n,u){void 0===u&&(u=!1),this.morphTargetManager=null,this._geometry&&this._geometry.releaseForMesh(this,!0);var c=this._internalMeshDataInfo;if(c._onBeforeDrawObservable&&c._onBeforeDrawObservable.clear(),c._onBeforeBindObservable&&c._onBeforeBindObservable.clear(),c._onBeforeRenderObservable&&c._onBeforeRenderObservable.clear(),c._onAfterRenderObservable&&c._onAfterRenderObservable.clear(),this._scene.useClonedMeshMap){if(c.meshMap)for(var l in c.meshMap){var d=c.meshMap[l];d&&(d._internalMeshDataInfo._source=null,c.meshMap[l]=void 0)}c._source&&c._source._internalMeshDataInfo.meshMap&&(c._source._internalMeshDataInfo.meshMap[this.uniqueId]=void 0)}else for(var h=this.getScene().meshes,p=0,m=h;p<m.length;p++){var _=m[p];d=_;d._internalMeshDataInfo&&d._internalMeshDataInfo._source&&d._internalMeshDataInfo._source===this&&(d._internalMeshDataInfo._source=null)}c._source=null,this._disposeInstanceSpecificData(),this._disposeThinInstanceSpecificData(),t.prototype.dispose.call(this,n,u)},Mesh.prototype._disposeInstanceSpecificData=function(){},Mesh.prototype._disposeThinInstanceSpecificData=function(){},Mesh.prototype.applyDisplacementMap=function(t,n,u,c,l,h,p){var m=this;void 0===p&&(p=!1);var _=this.getScene(),onload=function(t){var d=t.width,_=t.height,g=re["CanvasGenerator"].CreateCanvas(d,_),b=g.getContext("2d");b.drawImage(t,0,0);var v=b.getImageData(0,0,d,_).data;m.applyDisplacementMapFromBuffer(v,d,_,n,u,l,h,p),c&&c(m)};return d["Tools"].LoadImage(t,onload,(function(){}),_.offlineProvider),this},Mesh.prototype.applyDisplacementMapFromBuffer=function(t,n,u,c,l,d,h,p){if(void 0===p&&(p=!1),!this.isVerticesDataPresent(b["VertexBuffer"].PositionKind)||!this.isVerticesDataPresent(b["VertexBuffer"].NormalKind)||!this.isVerticesDataPresent(b["VertexBuffer"].UVKind))return Z["Logger"].Warn("Cannot call applyDisplacementMap: Given mesh is not complete. Position, Normal or UV are missing"),this;var _=this.getVerticesData(b["VertexBuffer"].PositionKind,!0,!0),g=this.getVerticesData(b["VertexBuffer"].NormalKind),U=this.getVerticesData(b["VertexBuffer"].UVKind),G=m["Vector3"].Zero(),W=m["Vector3"].Zero(),X=m["Vector2"].Zero();d=d||m["Vector2"].Zero(),h=h||new m["Vector2"](1,1);for(var q=0;q<_.length;q+=3){m["Vector3"].FromArrayToRef(_,q,G),m["Vector3"].FromArrayToRef(g,q,W),m["Vector2"].FromArrayToRef(U,q/3*2,X);var K=Math.abs(X.x*h.x+d.x%1)*(n-1)%n|0,Y=Math.abs(X.y*h.y+d.y%1)*(u-1)%u|0,Q=4*(K+Y*n),$=t[Q]/255,J=t[Q+1]/255,ee=t[Q+2]/255,te=.3*$+.59*J+.11*ee;W.normalize(),W.scaleInPlace(c+(l-c)*te),G=G.add(W),G.toArray(_,q)}return v["VertexData"].ComputeNormals(_,this.getIndices(),g),p?(this.setVerticesData(b["VertexBuffer"].PositionKind,_),this.setVerticesData(b["VertexBuffer"].NormalKind,g)):(this.updateVerticesData(b["VertexBuffer"].PositionKind,_),this.updateVerticesData(b["VertexBuffer"].NormalKind,g)),this},Mesh.prototype.convertToFlatShadedMesh=function(){var t,n,u=this.getVerticesDataKinds(),c={},l={},d={},h=!1;for(t=0;t<u.length;t++){n=u[t];var p=this.getVertexBuffer(n);n!==b["VertexBuffer"].NormalKind?(c[n]=p,l[n]=c[n].getData(),d[n]=[]):(h=p.isUpdatable(),u.splice(t,1),t--)}var _,g=this.subMeshes.slice(0),v=this.getIndices(),U=this.getTotalIndices();for(_=0;_<U;_++){var G=v[_];for(t=0;t<u.length;t++){n=u[t];for(var X=c[n].getStrideSize(),q=0;q<X;q++)d[n].push(l[n][G*X+q])}}var K=[],Y=d[b["VertexBuffer"].PositionKind];for(_=0;_<U;_+=3){v[_]=_,v[_+1]=_+1,v[_+2]=_+2;for(var Q=m["Vector3"].FromArray(Y,3*_),Z=m["Vector3"].FromArray(Y,3*(_+1)),$=m["Vector3"].FromArray(Y,3*(_+2)),J=Q.subtract(Z),ee=$.subtract(Z),te=m["Vector3"].Normalize(m["Vector3"].Cross(J,ee)),re=0;re<3;re++)K.push(te.x),K.push(te.y),K.push(te.z)}for(this.setIndices(v),this.setVerticesData(b["VertexBuffer"].NormalKind,K,h),t=0;t<u.length;t++)n=u[t],this.setVerticesData(n,d[n],c[n].isUpdatable());this.releaseSubMeshes();for(var ne=0;ne<g.length;ne++){var ie=g[ne];W["SubMesh"].AddToMesh(ie.materialIndex,ie.indexStart,ie.indexCount,ie.indexStart,ie.indexCount,this)}return this.synchronizeInstances(),this},Mesh.prototype.convertToUnIndexedMesh=function(){var t,n,u=this.getVerticesDataKinds(),c={},l={},d={};for(t=0;t<u.length;t++){n=u[t];var h=this.getVertexBuffer(n);c[n]=h,l[n]=c[n].getData(),d[n]=[]}var p,m=this.subMeshes.slice(0),_=this.getIndices(),g=this.getTotalIndices();for(p=0;p<g;p++){var b=_[p];for(t=0;t<u.length;t++){n=u[t];for(var v=c[n].getStrideSize(),U=0;U<v;U++)d[n].push(l[n][b*v+U])}}for(p=0;p<g;p+=3)_[p]=p,_[p+1]=p+1,_[p+2]=p+2;for(this.setIndices(_),t=0;t<u.length;t++)n=u[t],this.setVerticesData(n,d[n],c[n].isUpdatable());this.releaseSubMeshes();for(var G=0;G<m.length;G++){var X=m[G];W["SubMesh"].AddToMesh(X.materialIndex,X.indexStart,X.indexCount,X.indexStart,X.indexCount,this)}return this._unIndexed=!0,this.synchronizeInstances(),this},Mesh.prototype.flipFaces=function(t){void 0===t&&(t=!1);var n,u,c=v["VertexData"].ExtractFromMesh(this);if(t&&this.isVerticesDataPresent(b["VertexBuffer"].NormalKind)&&c.normals)for(n=0;n<c.normals.length;n++)c.normals[n]*=-1;if(c.indices)for(n=0;n<c.indices.length;n+=3)u=c.indices[n+1],c.indices[n+1]=c.indices[n+2],c.indices[n+2]=u;return c.applyToMesh(this,this.isVertexBufferUpdatable(b["VertexBuffer"].PositionKind)),this},Mesh.prototype.increaseVertices=function(t){var n=v["VertexData"].ExtractFromMesh(this),u=n.uvs,c=n.indices,l=n.positions,d=n.normals;if(c&&l&&d&&u){for(var h,p,_=t+1,g=new Array,U=0;U<_+1;U++)g[U]=new Array;var G,W=new m["Vector3"](0,0,0),X=new m["Vector3"](0,0,0),q=new m["Vector2"](0,0),K=new Array,Y=new Array,Q=new Array,$=l.length,J=u.length;for(U=0;U<c.length;U+=3){Y[0]=c[U],Y[1]=c[U+1],Y[2]=c[U+2];for(var ee=0;ee<3;ee++)if(h=Y[ee],p=Y[(ee+1)%3],void 0===Q[h]&&void 0===Q[p]?(Q[h]=new Array,Q[p]=new Array):(void 0===Q[h]&&(Q[h]=new Array),void 0===Q[p]&&(Q[p]=new Array)),void 0===Q[h][p]&&void 0===Q[p][h]){Q[h][p]=[],W.x=(l[3*p]-l[3*h])/_,W.y=(l[3*p+1]-l[3*h+1])/_,W.z=(l[3*p+2]-l[3*h+2])/_,X.x=(d[3*p]-d[3*h])/_,X.y=(d[3*p+1]-d[3*h+1])/_,X.z=(d[3*p+2]-d[3*h+2])/_,q.x=(u[2*p]-u[2*h])/_,q.y=(u[2*p+1]-u[2*h+1])/_,Q[h][p].push(h);for(var te=1;te<_;te++)Q[h][p].push(l.length/3),l[$]=l[3*h]+te*W.x,d[$++]=d[3*h]+te*X.x,l[$]=l[3*h+1]+te*W.y,d[$++]=d[3*h+1]+te*X.y,l[$]=l[3*h+2]+te*W.z,d[$++]=d[3*h+2]+te*X.z,u[J++]=u[2*h]+te*q.x,u[J++]=u[2*h+1]+te*q.y;Q[h][p].push(p),Q[p][h]=new Array,G=Q[h][p].length;for(var re=0;re<G;re++)Q[p][h][re]=Q[h][p][G-1-re]}g[0][0]=c[U],g[1][0]=Q[c[U]][c[U+1]][1],g[1][1]=Q[c[U]][c[U+2]][1];for(te=2;te<_;te++){g[te][0]=Q[c[U]][c[U+1]][te],g[te][te]=Q[c[U]][c[U+2]][te],W.x=(l[3*g[te][te]]-l[3*g[te][0]])/te,W.y=(l[3*g[te][te]+1]-l[3*g[te][0]+1])/te,W.z=(l[3*g[te][te]+2]-l[3*g[te][0]+2])/te,X.x=(d[3*g[te][te]]-d[3*g[te][0]])/te,X.y=(d[3*g[te][te]+1]-d[3*g[te][0]+1])/te,X.z=(d[3*g[te][te]+2]-d[3*g[te][0]+2])/te,q.x=(u[2*g[te][te]]-u[2*g[te][0]])/te,q.y=(u[2*g[te][te]+1]-u[2*g[te][0]+1])/te;for(ee=1;ee<te;ee++)g[te][ee]=l.length/3,l[$]=l[3*g[te][0]]+ee*W.x,d[$++]=d[3*g[te][0]]+ee*X.x,l[$]=l[3*g[te][0]+1]+ee*W.y,d[$++]=d[3*g[te][0]+1]+ee*X.y,l[$]=l[3*g[te][0]+2]+ee*W.z,d[$++]=d[3*g[te][0]+2]+ee*X.z,u[J++]=u[2*g[te][0]]+ee*q.x,u[J++]=u[2*g[te][0]+1]+ee*q.y}g[_]=Q[c[U+1]][c[U+2]],K.push(g[0][0],g[1][0],g[1][1]);for(te=1;te<_;te++){for(ee=0;ee<te;ee++)K.push(g[te][ee],g[te+1][ee],g[te+1][ee+1]),K.push(g[te][ee],g[te+1][ee+1],g[te][ee+1]);K.push(g[te][ee],g[te+1][ee],g[te+1][ee+1])}}n.indices=K,n.applyToMesh(this,this.isVertexBufferUpdatable(b["VertexBuffer"].PositionKind))}else Z["Logger"].Warn("VertexData contains null entries")},Mesh.prototype.forceSharedVertices=function(){var t=v["VertexData"].ExtractFromMesh(this),n=t.uvs,u=t.indices,c=t.positions,l=t.colors;if(void 0===u||void 0===c||null===u||null===c)Z["Logger"].Warn("VertexData contains empty entries");else{for(var d,h,p=new Array,m=new Array,_=new Array,g=new Array,U=new Array,G=0,W={},X=0;X<u.length;X+=3){h=[u[X],u[X+1],u[X+2]],U=new Array;for(var q=0;q<3;q++){U[q]="";for(var K=0;K<3;K++)Math.abs(c[3*h[q]+K])<1e-8&&(c[3*h[q]+K]=0),U[q]+=c[3*h[q]+K]+"|"}if(U[0]!=U[1]&&U[0]!=U[2]&&U[1]!=U[2])for(q=0;q<3;q++){if(d=W[U[q]],void 0===d){W[U[q]]=G,d=G++;for(K=0;K<3;K++)p.push(c[3*h[q]+K]);if(null!==l&&void 0!==l)for(K=0;K<4;K++)g.push(l[4*h[q]+K]);if(null!==n&&void 0!==n)for(K=0;K<2;K++)_.push(n[2*h[q]+K])}m.push(d)}}var Y=new Array;v["VertexData"].ComputeNormals(p,m,Y),t.positions=p,t.indices=m,t.normals=Y,null!==n&&void 0!==n&&(t.uvs=_),null!==l&&void 0!==l&&(t.colors=g),t.applyToMesh(this,this.isVertexBufferUpdatable(b["VertexBuffer"].PositionKind))}},Mesh._instancedMeshFactory=function(t,n){throw J["_DevTools"].WarnImport("InstancedMesh")},Mesh._PhysicsImpostorParser=function(t,n,u){throw J["_DevTools"].WarnImport("PhysicsImpostor")},Mesh.prototype.createInstance=function(t){var n=this.geometry;if(n&&n.meshes.length>1)for(var u=n.meshes.slice(0),c=0,l=u;c<l.length;c++){var d=l[c];d!==this&&d.makeGeometryUnique()}return Mesh._instancedMeshFactory(t,this)},Mesh.prototype.synchronizeInstances=function(){this._geometry&&1!==this._geometry.meshes.length&&this.instances.length&&this.makeGeometryUnique();for(var t=0;t<this.instances.length;t++){var n=this.instances[t];n._syncSubMeshes()}return this},Mesh.prototype.optimizeIndices=function(t){var n=this,u=this.getIndices(),c=this.getVerticesData(b["VertexBuffer"].PositionKind);if(!c||!u)return this;for(var l=new Array,h=0;h<c.length;h+=3)l.push(m["Vector3"].FromArray(c,h));var p=new Array;return d["AsyncLoop"].SyncAsyncForLoop(l.length,40,(function(t){for(var n=l.length-1-t,u=l[n],c=0;c<n;++c){var d=l[c];if(u.equals(d)){p[n]=c;break}}}),(function(){for(var c=0;c<u.length;++c)u[c]=p[u[c]]||u[c];var l=n.subMeshes.slice(0);n.setIndices(u),n.subMeshes=l,t&&t(n)})),this},Mesh.prototype.serialize=function(t){t.name=this.name,t.id=this.id,t.uniqueId=this.uniqueId,t.type=this.getClassName(),p["Tags"]&&p["Tags"].HasTags(this)&&(t.tags=p["Tags"].GetTags(this)),t.position=this.position.asArray(),this.rotationQuaternion?t.rotationQuaternion=this.rotationQuaternion.asArray():this.rotation&&(t.rotation=this.rotation.asArray()),t.scaling=this.scaling.asArray(),this._postMultiplyPivotMatrix?t.pivotMatrix=this.getPivotMatrix().asArray():t.localMatrix=this.getPivotMatrix().asArray(),t.isEnabled=this.isEnabled(!1),t.isVisible=this.isVisible,t.infiniteDistance=this.infiniteDistance,t.pickable=this.isPickable,t.receiveShadows=this.receiveShadows,t.billboardMode=this.billboardMode,t.visibility=this.visibility,t.checkCollisions=this.checkCollisions,t.isBlocker=this.isBlocker,t.overrideMaterialSideOrientation=this.overrideMaterialSideOrientation,this.parent&&(t.parentId=this.parent.id),t.isUnIndexed=this.isUnIndexed;var n=this._geometry;if(n){var u=n.id;t.geometryId=u,t.subMeshes=[];for(var c=0;c<this.subMeshes.length;c++){var l=this.subMeshes[c];t.subMeshes.push({materialIndex:l.materialIndex,verticesStart:l.verticesStart,verticesCount:l.verticesCount,indexStart:l.indexStart,indexCount:l.indexCount})}}if(this.material?this.material.doNotSerialize||(t.materialId=this.material.id):this.material=null,this.morphTargetManager&&(t.morphTargetManagerId=this.morphTargetManager.uniqueId),this.skeleton&&(t.skeletonId=this.skeleton.id,t.numBoneInfluencers=this.numBoneInfluencers),this.getScene()._getComponent(ee["SceneComponentConstants"].NAME_PHYSICSENGINE)){var h=this.getPhysicsImpostor();h&&(t.physicsMass=h.getParam("mass"),t.physicsFriction=h.getParam("friction"),t.physicsRestitution=h.getParam("mass"),t.physicsImpostor=h.type)}this.metadata&&(t.metadata=this.metadata),t.instances=[];for(var m=0;m<this.instances.length;m++){var _=this.instances[m];if(!_.doNotSerialize){var g={name:_.name,id:_.id,isEnabled:_.isEnabled(!1),isVisible:_.isVisible,isPickable:_.isPickable,checkCollisions:_.checkCollisions,position:_.position.asArray(),scaling:_.scaling.asArray()};if(_.parent&&(g.parentId=_.parent.id),_.rotationQuaternion?g.rotationQuaternion=_.rotationQuaternion.asArray():_.rotation&&(g.rotation=_.rotation.asArray()),this.getScene()._getComponent(ee["SceneComponentConstants"].NAME_PHYSICSENGINE)){h=_.getPhysicsImpostor();h&&(g.physicsMass=h.getParam("mass"),g.physicsFriction=h.getParam("friction"),g.physicsRestitution=h.getParam("mass"),g.physicsImpostor=h.type)}_.metadata&&(g.metadata=_.metadata),t.instances.push(g),Q["SerializationHelper"].AppendSerializedAnimations(_,g),g.ranges=_.serializeAnimationRanges()}}if(this._thinInstanceDataStorage.instancesCount&&this._thinInstanceDataStorage.matrixData&&(t.thinInstances={instancesCount:this._thinInstanceDataStorage.instancesCount,matrixData:d["Tools"].SliceToArray(this._thinInstanceDataStorage.matrixData),matrixBufferSize:this._thinInstanceDataStorage.matrixBufferSize},this._userThinInstanceBuffersStorage)){var b={data:{},sizes:{},strides:{}};for(var v in this._userThinInstanceBuffersStorage.data)b.data[v]=d["Tools"].SliceToArray(this._userThinInstanceBuffersStorage.data[v]),b.sizes[v]=this._userThinInstanceBuffersStorage.sizes[v],b.strides[v]=this._userThinInstanceBuffersStorage.strides[v];t.thinInstances.userThinInstance=b}Q["SerializationHelper"].AppendSerializedAnimations(this,t),t.ranges=this.serializeAnimationRanges(),t.layerMask=this.layerMask,t.alphaIndex=this.alphaIndex,t.hasVertexAlpha=this.hasVertexAlpha,t.overlayAlpha=this.overlayAlpha,t.overlayColor=this.overlayColor.asArray(),t.renderOverlay=this.renderOverlay,t.applyFog=this.applyFog,this.actionManager&&(t.actions=this.actionManager.serialize(this.name))},Mesh.prototype._syncGeometryWithMorphTargetManager=function(){if(this.geometry){this._markSubMeshesAsAttributesDirty();var t=this._internalMeshDataInfo._morphTargetManager;if(t&&t.vertexCount){if(t.vertexCount!==this.getTotalVertices())return Z["Logger"].Error("Mesh is incompatible with morph targets. Targets and mesh must all have the same vertices count."),void(this.morphTargetManager=null);for(var n=0;n<t.numInfluencers;n++){var u=t.getActiveTarget(n),c=u.getPositions();if(!c)return void Z["Logger"].Error("Invalid morph target. Target must have positions.");this.geometry.setVerticesData(b["VertexBuffer"].PositionKind+n,c,!1,3);var l=u.getNormals();l&&this.geometry.setVerticesData(b["VertexBuffer"].NormalKind+n,l,!1,3);var d=u.getTangents();d&&this.geometry.setVerticesData(b["VertexBuffer"].TangentKind+n,d,!1,3);var h=u.getUVs();h&&this.geometry.setVerticesData(b["VertexBuffer"].UVKind+"_"+n,h,!1,2)}}else{n=0;while(this.geometry.isVerticesDataPresent(b["VertexBuffer"].PositionKind+n))this.geometry.removeVerticesData(b["VertexBuffer"].PositionKind+n),this.geometry.isVerticesDataPresent(b["VertexBuffer"].NormalKind+n)&&this.geometry.removeVerticesData(b["VertexBuffer"].NormalKind+n),this.geometry.isVerticesDataPresent(b["VertexBuffer"].TangentKind+n)&&this.geometry.removeVerticesData(b["VertexBuffer"].TangentKind+n),this.geometry.isVerticesDataPresent(b["VertexBuffer"].UVKind+n)&&this.geometry.removeVerticesData(b["VertexBuffer"].UVKind+"_"+n),n++}}},Mesh.Parse=function(t,n,u){var c;if(c=t.type&&"GroundMesh"===t.type?Mesh._GroundMeshParser(t,n):new Mesh(t.name,n),c.id=t.id,p["Tags"]&&p["Tags"].AddTagsTo(c,t.tags),c.position=m["Vector3"].FromArray(t.position),void 0!==t.metadata&&(c.metadata=t.metadata),t.rotationQuaternion?c.rotationQuaternion=m["Quaternion"].FromArray(t.rotationQuaternion):t.rotation&&(c.rotation=m["Vector3"].FromArray(t.rotation)),c.scaling=m["Vector3"].FromArray(t.scaling),t.localMatrix?c.setPreTransformMatrix(m["Matrix"].FromArray(t.localMatrix)):t.pivotMatrix&&c.setPivotMatrix(m["Matrix"].FromArray(t.pivotMatrix)),c.setEnabled(t.isEnabled),c.isVisible=t.isVisible,c.infiniteDistance=t.infiniteDistance,c.showBoundingBox=t.showBoundingBox,c.showSubMeshesBoundingBox=t.showSubMeshesBoundingBox,void 0!==t.applyFog&&(c.applyFog=t.applyFog),void 0!==t.pickable&&(c.isPickable=t.pickable),void 0!==t.alphaIndex&&(c.alphaIndex=t.alphaIndex),c.receiveShadows=t.receiveShadows,c.billboardMode=t.billboardMode,void 0!==t.visibility&&(c.visibility=t.visibility),c.checkCollisions=t.checkCollisions,c.overrideMaterialSideOrientation=t.overrideMaterialSideOrientation,void 0!==t.isBlocker&&(c.isBlocker=t.isBlocker),c._shouldGenerateFlatShading=t.useFlatShading,t.freezeWorldMatrix&&(c._waitingData.freezeWorldMatrix=t.freezeWorldMatrix),t.parentId&&(c._waitingParentId=t.parentId),void 0!==t.actions&&(c._waitingData.actions=t.actions),void 0!==t.overlayAlpha&&(c.overlayAlpha=t.overlayAlpha),void 0!==t.overlayColor&&(c.overlayColor=_["Color3"].FromArray(t.overlayColor)),void 0!==t.renderOverlay&&(c.renderOverlay=t.renderOverlay),c.isUnIndexed=!!t.isUnIndexed,c.hasVertexAlpha=t.hasVertexAlpha,t.delayLoadingFile?(c.delayLoadState=4,c.delayLoadingFile=u+t.delayLoadingFile,c._boundingInfo=new X["BoundingInfo"](m["Vector3"].FromArray(t.boundingBoxMinimum),m["Vector3"].FromArray(t.boundingBoxMaximum)),t._binaryInfo&&(c._binaryInfo=t._binaryInfo),c._delayInfo=[],t.hasUVs&&c._delayInfo.push(b["VertexBuffer"].UVKind),t.hasUVs2&&c._delayInfo.push(b["VertexBuffer"].UV2Kind),t.hasUVs3&&c._delayInfo.push(b["VertexBuffer"].UV3Kind),t.hasUVs4&&c._delayInfo.push(b["VertexBuffer"].UV4Kind),t.hasUVs5&&c._delayInfo.push(b["VertexBuffer"].UV5Kind),t.hasUVs6&&c._delayInfo.push(b["VertexBuffer"].UV6Kind),t.hasColors&&c._delayInfo.push(b["VertexBuffer"].ColorKind),t.hasMatricesIndices&&c._delayInfo.push(b["VertexBuffer"].MatricesIndicesKind),t.hasMatricesWeights&&c._delayInfo.push(b["VertexBuffer"].MatricesWeightsKind),c._delayLoadingFunction=U["Geometry"]._ImportGeometry,Y["SceneLoaderFlags"].ForceFullSceneLoadingForIncremental&&c._checkDelayState()):U["Geometry"]._ImportGeometry(t,c),t.materialId?c.setMaterialByID(t.materialId):c.material=null,t.morphTargetManagerId>-1&&(c.morphTargetManager=n.getMorphTargetManagerById(t.morphTargetManagerId)),void 0!==t.skeletonId&&null!==t.skeletonId&&(c.skeleton=n.getLastSkeletonByID(t.skeletonId),t.numBoneInfluencers&&(c.numBoneInfluencers=t.numBoneInfluencers)),t.animations){for(var l=0;l<t.animations.length;l++){var d=t.animations[l],h=$["_TypeStore"].GetClass("BABYLON.Animation");h&&c.animations.push(h.Parse(d))}g["Node"].ParseAnimationRanges(c,t,n)}if(t.autoAnimate&&n.beginAnimation(c,t.autoAnimateFrom,t.autoAnimateTo,t.autoAnimateLoop,t.autoAnimateSpeed||1),t.layerMask&&!isNaN(t.layerMask)?c.layerMask=Math.abs(parseInt(t.layerMask)):c.layerMask=268435455,t.physicsImpostor&&Mesh._PhysicsImpostorParser(n,c,t),t.lodMeshIds&&(c._waitingData.lods={ids:t.lodMeshIds,distances:t.lodDistances?t.lodDistances:null,coverages:t.lodCoverages?t.lodCoverages:null}),t.instances)for(var v=0;v<t.instances.length;v++){var G=t.instances[v],W=c.createInstance(G.name);if(G.id&&(W.id=G.id),p["Tags"]&&(G.tags?p["Tags"].AddTagsTo(W,G.tags):p["Tags"].AddTagsTo(W,t.tags)),W.position=m["Vector3"].FromArray(G.position),void 0!==G.metadata&&(W.metadata=G.metadata),G.parentId&&(W._waitingParentId=G.parentId),void 0!==G.isEnabled&&null!==G.isEnabled&&W.setEnabled(G.isEnabled),void 0!==G.isVisible&&null!==G.isVisible&&(W.isVisible=G.isVisible),void 0!==G.isPickable&&null!==G.isPickable&&(W.isPickable=G.isPickable),G.rotationQuaternion?W.rotationQuaternion=m["Quaternion"].FromArray(G.rotationQuaternion):G.rotation&&(W.rotation=m["Vector3"].FromArray(G.rotation)),W.scaling=m["Vector3"].FromArray(G.scaling),void 0!=G.checkCollisions&&null!=G.checkCollisions&&(W.checkCollisions=G.checkCollisions),void 0!=G.pickable&&null!=G.pickable&&(W.isPickable=G.pickable),void 0!=G.showBoundingBox&&null!=G.showBoundingBox&&(W.showBoundingBox=G.showBoundingBox),void 0!=G.showSubMeshesBoundingBox&&null!=G.showSubMeshesBoundingBox&&(W.showSubMeshesBoundingBox=G.showSubMeshesBoundingBox),void 0!=G.alphaIndex&&null!=G.showSubMeshesBoundingBox&&(W.alphaIndex=G.alphaIndex),G.physicsImpostor&&Mesh._PhysicsImpostorParser(n,W,G),G.animations){for(l=0;l<G.animations.length;l++){d=G.animations[l];h=$["_TypeStore"].GetClass("BABYLON.Animation");h&&W.animations.push(h.Parse(d))}g["Node"].ParseAnimationRanges(W,G,n),G.autoAnimate&&n.beginAnimation(W,G.autoAnimateFrom,G.autoAnimateTo,G.autoAnimateLoop,G.autoAnimateSpeed||1)}}if(t.thinInstances){var q=t.thinInstances;if(q.matrixData?(c.thinInstanceSetBuffer("matrix",new Float32Array(q.matrixData),16,!1),c._thinInstanceDataStorage.matrixBufferSize=q.matrixBufferSize,c._thinInstanceDataStorage.instancesCount=q.instancesCount):c._thinInstanceDataStorage.matrixBufferSize=q.matrixBufferSize,t.thinInstances.userThinInstance){var K=t.thinInstances.userThinInstance;for(var Q in K.data)c.thinInstanceSetBuffer(Q,new Float32Array(K.data[Q]),K.strides[Q],!1),c._userThinInstanceBuffersStorage.sizes[Q]=K.sizes[Q]}}return c},Mesh.CreateRibbon=function(t,n,u,c,l,d,h,p,m){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateDisc=function(t,n,u,c,l,d){throw void 0===c&&(c=null),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateBox=function(t,n,u,c,l){throw void 0===u&&(u=null),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateSphere=function(t,n,u,c,l,d){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateHemisphere=function(t,n,u,c){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateCylinder=function(t,n,u,c,l,d,h,p,m){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateTorus=function(t,n,u,c,l,d,h){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateTorusKnot=function(t,n,u,c,l,d,h,p,m,_){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateLines=function(t,n,u,c,l){throw void 0===u&&(u=null),void 0===c&&(c=!1),void 0===l&&(l=null),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateDashedLines=function(t,n,u,c,l,d,h,p){throw void 0===d&&(d=null),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreatePolygon=function(t,n,u,c,l,d,h){throw void 0===h&&(h=earcut),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.ExtrudePolygon=function(t,n,u,c,l,d,h,p){throw void 0===p&&(p=earcut),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.ExtrudeShape=function(t,n,u,c,l,d,h,p,m,_){throw void 0===h&&(h=null),J["_DevTools"].WarnImport("MeshBuilder")},Mesh.ExtrudeShapeCustom=function(t,n,u,c,l,d,h,p,m,_,g,b){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateLathe=function(t,n,u,c,l,d,h){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreatePlane=function(t,n,u,c,l){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateGround=function(t,n,u,c,l,d){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateTiledGround=function(t,n,u,c,l,d,h,p,m){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateGroundFromHeightMap=function(t,n,u,c,l,d,h,p,m,_,g){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateTube=function(t,n,u,c,l,d,h,p,m,_){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreatePolyhedron=function(t,n,u){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateIcoSphere=function(t,n,u){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateDecal=function(t,n,u,c,l,d){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.CreateCapsule=function(t,n,u){throw J["_DevTools"].WarnImport("MeshBuilder")},Mesh.prototype.setPositionsForCPUSkinning=function(){var t=this._internalMeshDataInfo;if(!t._sourcePositions){var n=this.getVerticesData(b["VertexBuffer"].PositionKind);if(!n)return t._sourcePositions;t._sourcePositions=new Float32Array(n),this.isVertexBufferUpdatable(b["VertexBuffer"].PositionKind)||this.setVerticesData(b["VertexBuffer"].PositionKind,n,!0)}return t._sourcePositions},Mesh.prototype.setNormalsForCPUSkinning=function(){var t=this._internalMeshDataInfo;if(!t._sourceNormals){var n=this.getVerticesData(b["VertexBuffer"].NormalKind);if(!n)return t._sourceNormals;t._sourceNormals=new Float32Array(n),this.isVertexBufferUpdatable(b["VertexBuffer"].NormalKind)||this.setVerticesData(b["VertexBuffer"].NormalKind,n,!0)}return t._sourceNormals},Mesh.prototype.applySkeleton=function(t){if(!this.geometry)return this;if(this.geometry._softwareSkinningFrameId==this.getScene().getFrameId())return this;if(this.geometry._softwareSkinningFrameId=this.getScene().getFrameId(),!this.isVerticesDataPresent(b["VertexBuffer"].PositionKind))return this;if(!this.isVerticesDataPresent(b["VertexBuffer"].MatricesIndicesKind))return this;if(!this.isVerticesDataPresent(b["VertexBuffer"].MatricesWeightsKind))return this;var n=this.isVerticesDataPresent(b["VertexBuffer"].NormalKind),u=this._internalMeshDataInfo;if(!u._sourcePositions){var c=this.subMeshes.slice();this.setPositionsForCPUSkinning(),this.subMeshes=c}n&&!u._sourceNormals&&this.setNormalsForCPUSkinning();var l=this.getVerticesData(b["VertexBuffer"].PositionKind);if(!l)return this;l instanceof Float32Array||(l=new Float32Array(l));var d=this.getVerticesData(b["VertexBuffer"].NormalKind);if(n){if(!d)return this;d instanceof Float32Array||(d=new Float32Array(d))}var h=this.getVerticesData(b["VertexBuffer"].MatricesIndicesKind),p=this.getVerticesData(b["VertexBuffer"].MatricesWeightsKind);if(!p||!h)return this;for(var _,g=this.numBoneInfluencers>4,v=g?this.getVerticesData(b["VertexBuffer"].MatricesIndicesExtraKind):null,U=g?this.getVerticesData(b["VertexBuffer"].MatricesWeightsExtraKind):null,G=t.getTransformMatrices(this),W=m["Vector3"].Zero(),X=new m["Matrix"],q=new m["Matrix"],K=0,Y=0;Y<l.length;Y+=3,K+=4){var Q;for(_=0;_<4;_++)Q=p[K+_],Q>0&&(m["Matrix"].FromFloat32ArrayToRefScaled(G,Math.floor(16*h[K+_]),Q,q),X.addToSelf(q));if(g)for(_=0;_<4;_++)Q=U[K+_],Q>0&&(m["Matrix"].FromFloat32ArrayToRefScaled(G,Math.floor(16*v[K+_]),Q,q),X.addToSelf(q));m["Vector3"].TransformCoordinatesFromFloatsToRef(u._sourcePositions[Y],u._sourcePositions[Y+1],u._sourcePositions[Y+2],X,W),W.toArray(l,Y),n&&(m["Vector3"].TransformNormalFromFloatsToRef(u._sourceNormals[Y],u._sourceNormals[Y+1],u._sourceNormals[Y+2],X,W),W.toArray(d,Y)),X.reset()}return this.updateVerticesData(b["VertexBuffer"].PositionKind,l),n&&this.updateVerticesData(b["VertexBuffer"].NormalKind,d),this},Mesh.MinMax=function(t){var n=null,u=null;return t.forEach((function(t){var c=t.getBoundingInfo(),l=c.boundingBox;n&&u?(n.minimizeInPlace(l.minimumWorld),u.maximizeInPlace(l.maximumWorld)):(n=l.minimumWorld,u=l.maximumWorld)})),n&&u?{min:n,max:u}:{min:m["Vector3"].Zero(),max:m["Vector3"].Zero()}},Mesh.Center=function(t){var n=t instanceof Array?Mesh.MinMax(t):t;return m["Vector3"].Center(n.min,n.max)},Mesh.MergeMeshes=function(t,n,u,c,l,d){var h;if(void 0===n&&(n=!0),!u){var p=0;for(h=0;h<t.length;h++)if(t[h]&&(p+=t[h].getTotalVertices(),p>=65536))return Z["Logger"].Warn("Cannot merge meshes because resulting mesh will have more than 65536 vertices. Please use allow32BitsIndices = true to use 32 bits indices"),null}if(d){var m,_,g=null;l=!1}var b,U=new Array,G=new Array,X=null,q=new Array,Y=null;for(h=0;h<t.length;h++)if(t[h]){var Q=t[h];if(Q.isAnInstance)return Z["Logger"].Warn("Cannot merge instance meshes."),null;var $=Q.computeWorldMatrix(!0);if(b=v["VertexData"].ExtractFromMesh(Q,!0,!0),b.transform($),X?X.merge(b,u):(X=b,Y=Q),l&&q.push(Q.getTotalIndices()),d)if(Q.material){var J=Q.material;if(J instanceof K["MultiMaterial"]){for(_=0;_<J.subMaterials.length;_++)U.indexOf(J.subMaterials[_])<0&&U.push(J.subMaterials[_]);for(m=0;m<Q.subMeshes.length;m++)G.push(U.indexOf(J.subMaterials[Q.subMeshes[m].materialIndex])),q.push(Q.subMeshes[m].indexCount)}else for(U.indexOf(J)<0&&U.push(J),m=0;m<Q.subMeshes.length;m++)G.push(U.indexOf(J)),q.push(Q.subMeshes[m].indexCount)}else for(m=0;m<Q.subMeshes.length;m++)G.push(0),q.push(Q.subMeshes[m].indexCount)}if(Y=Y,c||(c=new Mesh(Y.name+"_merged",Y.getScene())),X.applyToMesh(c),c.checkCollisions=Y.checkCollisions,c.overrideMaterialSideOrientation=Y.overrideMaterialSideOrientation,n)for(h=0;h<t.length;h++)t[h]&&t[h].dispose();if(l||d){c.releaseSubMeshes(),h=0;var ee=0;while(h<q.length)W["SubMesh"].CreateFromIndices(0,ee,q[h],c),ee+=q[h],h++}if(d){for(g=new K["MultiMaterial"](Y.name+"_merged",Y.getScene()),g.subMaterials=U,m=0;m<c.subMeshes.length;m++)c.subMeshes[m].materialIndex=G[m];c.material=g}else c.material=Y.material;return c},Mesh.prototype.addInstance=function(t){t._indexInSourceMeshInstanceArray=this.instances.length,this.instances.push(t)},Mesh.prototype.removeInstance=function(t){var n=t._indexInSourceMeshInstanceArray;if(-1!=n){if(n!==this.instances.length-1){var u=this.instances[this.instances.length-1];this.instances[n]=u,u._indexInSourceMeshInstanceArray=n}t._indexInSourceMeshInstanceArray=-1,this.instances.pop()}},Mesh.FRONTSIDE=v["VertexData"].FRONTSIDE,Mesh.BACKSIDE=v["VertexData"].BACKSIDE,Mesh.DOUBLESIDE=v["VertexData"].DOUBLESIDE,Mesh.DEFAULTSIDE=v["VertexData"].DEFAULTSIDE,Mesh.NO_CAP=0,Mesh.CAP_START=1,Mesh.CAP_END=2,Mesh.CAP_ALL=3,Mesh.NO_FLIP=0,Mesh.FLIP_TILE=1,Mesh.ROTATE_TILE=2,Mesh.FLIP_ROW=3,Mesh.ROTATE_ROW=4,Mesh.FLIP_N_ROTATE_TILE=5,Mesh.FLIP_N_ROTATE_ROW=6,Mesh.CENTER=0,Mesh.LEFT=1,Mesh.RIGHT=2,Mesh.TOP=3,Mesh.BOTTOM=4,Mesh._GroundMeshParser=function(t,n){throw J["_DevTools"].WarnImport("GroundMesh")},Mesh}(G["AbstractMesh"]);$["_TypeStore"].RegisteredTypes["BABYLON.Mesh"]=ue},"./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js":function(t,n,u){"use strict";u.r(n),u.d(n,"VertexData",(function(){return m}));var c=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),l=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),d=u("./node_modules/@babylonjs/core/Misc/devTools.js"),h=u("./node_modules/@babylonjs/core/Maths/math.color.js"),p=u("./node_modules/@babylonjs/core/Misc/logger.js"),m=function(){function VertexData(){}return VertexData.prototype.set=function(t,n){switch(t.length||p["Logger"].Warn("Setting vertex data kind '"+n+"' with an empty array"),n){case l["VertexBuffer"].PositionKind:this.positions=t;break;case l["VertexBuffer"].NormalKind:this.normals=t;break;case l["VertexBuffer"].TangentKind:this.tangents=t;break;case l["VertexBuffer"].UVKind:this.uvs=t;break;case l["VertexBuffer"].UV2Kind:this.uvs2=t;break;case l["VertexBuffer"].UV3Kind:this.uvs3=t;break;case l["VertexBuffer"].UV4Kind:this.uvs4=t;break;case l["VertexBuffer"].UV5Kind:this.uvs5=t;break;case l["VertexBuffer"].UV6Kind:this.uvs6=t;break;case l["VertexBuffer"].ColorKind:this.colors=t;break;case l["VertexBuffer"].MatricesIndicesKind:this.matricesIndices=t;break;case l["VertexBuffer"].MatricesWeightsKind:this.matricesWeights=t;break;case l["VertexBuffer"].MatricesIndicesExtraKind:this.matricesIndicesExtra=t;break;case l["VertexBuffer"].MatricesWeightsExtraKind:this.matricesWeightsExtra=t;break}},VertexData.prototype.applyToMesh=function(t,n){return this._applyTo(t,n),this},VertexData.prototype.applyToGeometry=function(t,n){return this._applyTo(t,n),this},VertexData.prototype.updateMesh=function(t){return this._update(t),this},VertexData.prototype.updateGeometry=function(t){return this._update(t),this},VertexData.prototype._applyTo=function(t,n){return void 0===n&&(n=!1),this.positions&&t.setVerticesData(l["VertexBuffer"].PositionKind,this.positions,n),this.normals&&t.setVerticesData(l["VertexBuffer"].NormalKind,this.normals,n),this.tangents&&t.setVerticesData(l["VertexBuffer"].TangentKind,this.tangents,n),this.uvs&&t.setVerticesData(l["VertexBuffer"].UVKind,this.uvs,n),this.uvs2&&t.setVerticesData(l["VertexBuffer"].UV2Kind,this.uvs2,n),this.uvs3&&t.setVerticesData(l["VertexBuffer"].UV3Kind,this.uvs3,n),this.uvs4&&t.setVerticesData(l["VertexBuffer"].UV4Kind,this.uvs4,n),this.uvs5&&t.setVerticesData(l["VertexBuffer"].UV5Kind,this.uvs5,n),this.uvs6&&t.setVerticesData(l["VertexBuffer"].UV6Kind,this.uvs6,n),this.colors&&t.setVerticesData(l["VertexBuffer"].ColorKind,this.colors,n),this.matricesIndices&&t.setVerticesData(l["VertexBuffer"].MatricesIndicesKind,this.matricesIndices,n),this.matricesWeights&&t.setVerticesData(l["VertexBuffer"].MatricesWeightsKind,this.matricesWeights,n),this.matricesIndicesExtra&&t.setVerticesData(l["VertexBuffer"].MatricesIndicesExtraKind,this.matricesIndicesExtra,n),this.matricesWeightsExtra&&t.setVerticesData(l["VertexBuffer"].MatricesWeightsExtraKind,this.matricesWeightsExtra,n),this.indices?t.setIndices(this.indices,null,n):t.setIndices([],null),this},VertexData.prototype._update=function(t,n,u){return this.positions&&t.updateVerticesData(l["VertexBuffer"].PositionKind,this.positions,n,u),this.normals&&t.updateVerticesData(l["VertexBuffer"].NormalKind,this.normals,n,u),this.tangents&&t.updateVerticesData(l["VertexBuffer"].TangentKind,this.tangents,n,u),this.uvs&&t.updateVerticesData(l["VertexBuffer"].UVKind,this.uvs,n,u),this.uvs2&&t.updateVerticesData(l["VertexBuffer"].UV2Kind,this.uvs2,n,u),this.uvs3&&t.updateVerticesData(l["VertexBuffer"].UV3Kind,this.uvs3,n,u),this.uvs4&&t.updateVerticesData(l["VertexBuffer"].UV4Kind,this.uvs4,n,u),this.uvs5&&t.updateVerticesData(l["VertexBuffer"].UV5Kind,this.uvs5,n,u),this.uvs6&&t.updateVerticesData(l["VertexBuffer"].UV6Kind,this.uvs6,n,u),this.colors&&t.updateVerticesData(l["VertexBuffer"].ColorKind,this.colors,n,u),this.matricesIndices&&t.updateVerticesData(l["VertexBuffer"].MatricesIndicesKind,this.matricesIndices,n,u),this.matricesWeights&&t.updateVerticesData(l["VertexBuffer"].MatricesWeightsKind,this.matricesWeights,n,u),this.matricesIndicesExtra&&t.updateVerticesData(l["VertexBuffer"].MatricesIndicesExtraKind,this.matricesIndicesExtra,n,u),this.matricesWeightsExtra&&t.updateVerticesData(l["VertexBuffer"].MatricesWeightsExtraKind,this.matricesWeightsExtra,n,u),this.indices&&t.setIndices(this.indices,null),this},VertexData.prototype.transform=function(t){var n,u=t.determinant()<0,l=c["Vector3"].Zero();if(this.positions){var d=c["Vector3"].Zero();for(n=0;n<this.positions.length;n+=3)c["Vector3"].FromArrayToRef(this.positions,n,d),c["Vector3"].TransformCoordinatesToRef(d,t,l),this.positions[n]=l.x,this.positions[n+1]=l.y,this.positions[n+2]=l.z}if(this.normals){var h=c["Vector3"].Zero();for(n=0;n<this.normals.length;n+=3)c["Vector3"].FromArrayToRef(this.normals,n,h),c["Vector3"].TransformNormalToRef(h,t,l),this.normals[n]=l.x,this.normals[n+1]=l.y,this.normals[n+2]=l.z}if(this.tangents){var p=c["Vector4"].Zero(),m=c["Vector4"].Zero();for(n=0;n<this.tangents.length;n+=4)c["Vector4"].FromArrayToRef(this.tangents,n,p),c["Vector4"].TransformNormalToRef(p,t,m),this.tangents[n]=m.x,this.tangents[n+1]=m.y,this.tangents[n+2]=m.z,this.tangents[n+3]=m.w}if(u&&this.indices)for(n=0;n<this.indices.length;n+=3){var _=this.indices[n+1];this.indices[n+1]=this.indices[n+2],this.indices[n+2]=_}return this},VertexData.prototype.merge=function(t,n){if(void 0===n&&(n=!1),this._validate(),t._validate(),!this.normals!==!t.normals||!this.tangents!==!t.tangents||!this.uvs!==!t.uvs||!this.uvs2!==!t.uvs2||!this.uvs3!==!t.uvs3||!this.uvs4!==!t.uvs4||!this.uvs5!==!t.uvs5||!this.uvs6!==!t.uvs6||!this.colors!==!t.colors||!this.matricesIndices!==!t.matricesIndices||!this.matricesWeights!==!t.matricesWeights||!this.matricesIndicesExtra!==!t.matricesIndicesExtra||!this.matricesWeightsExtra!==!t.matricesWeightsExtra)throw new Error("Cannot merge vertex data that do not have the same set of attributes");if(t.indices){this.indices||(this.indices=[]);var u=this.positions?this.positions.length/3:0,c=void 0!==this.indices.BYTES_PER_ELEMENT;if(c){var l=this.indices.length+t.indices.length,d=n||this.indices instanceof Uint32Array?new Uint32Array(l):new Uint16Array(l);d.set(this.indices);for(var h=this.indices.length,p=0;p<t.indices.length;p++)d[h+p]=t.indices[p]+u;this.indices=d}else for(p=0;p<t.indices.length;p++)this.indices.push(t.indices[p]+u)}return this.positions=this._mergeElement(this.positions,t.positions),this.normals=this._mergeElement(this.normals,t.normals),this.tangents=this._mergeElement(this.tangents,t.tangents),this.uvs=this._mergeElement(this.uvs,t.uvs),this.uvs2=this._mergeElement(this.uvs2,t.uvs2),this.uvs3=this._mergeElement(this.uvs3,t.uvs3),this.uvs4=this._mergeElement(this.uvs4,t.uvs4),this.uvs5=this._mergeElement(this.uvs5,t.uvs5),this.uvs6=this._mergeElement(this.uvs6,t.uvs6),this.colors=this._mergeElement(this.colors,t.colors),this.matricesIndices=this._mergeElement(this.matricesIndices,t.matricesIndices),this.matricesWeights=this._mergeElement(this.matricesWeights,t.matricesWeights),this.matricesIndicesExtra=this._mergeElement(this.matricesIndicesExtra,t.matricesIndicesExtra),this.matricesWeightsExtra=this._mergeElement(this.matricesWeightsExtra,t.matricesWeightsExtra),this},VertexData.prototype._mergeElement=function(t,n){if(!t)return n;if(!n)return t;var u=n.length+t.length,c=t instanceof Float32Array,l=n instanceof Float32Array;if(c){var d=new Float32Array(u);return d.set(t),d.set(n,t.length),d}if(l){var h=t.slice(0),p=0;for(u=n.length;p<u;p++)h.push(n[p]);return h}return t.concat(n)},VertexData.prototype._validate=function(){if(!this.positions)throw new Error("Positions are required");var getElementCount=function(t,n){var u=l["VertexBuffer"].DeduceStride(t);if(n.length%u!==0)throw new Error("The "+t+"s array count must be a multiple of "+u);return n.length/u},t=getElementCount(l["VertexBuffer"].PositionKind,this.positions),validateElementCount=function(n,u){var c=getElementCount(n,u);if(c!==t)throw new Error("The "+n+"s element count ("+c+") does not match the positions count ("+t+")")};this.normals&&validateElementCount(l["VertexBuffer"].NormalKind,this.normals),this.tangents&&validateElementCount(l["VertexBuffer"].TangentKind,this.tangents),this.uvs&&validateElementCount(l["VertexBuffer"].UVKind,this.uvs),this.uvs2&&validateElementCount(l["VertexBuffer"].UV2Kind,this.uvs2),this.uvs3&&validateElementCount(l["VertexBuffer"].UV3Kind,this.uvs3),this.uvs4&&validateElementCount(l["VertexBuffer"].UV4Kind,this.uvs4),this.uvs5&&validateElementCount(l["VertexBuffer"].UV5Kind,this.uvs5),this.uvs6&&validateElementCount(l["VertexBuffer"].UV6Kind,this.uvs6),this.colors&&validateElementCount(l["VertexBuffer"].ColorKind,this.colors),this.matricesIndices&&validateElementCount(l["VertexBuffer"].MatricesIndicesKind,this.matricesIndices),this.matricesWeights&&validateElementCount(l["VertexBuffer"].MatricesWeightsKind,this.matricesWeights),this.matricesIndicesExtra&&validateElementCount(l["VertexBuffer"].MatricesIndicesExtraKind,this.matricesIndicesExtra),this.matricesWeightsExtra&&validateElementCount(l["VertexBuffer"].MatricesWeightsExtraKind,this.matricesWeightsExtra)},VertexData.prototype.serialize=function(){var t=this.serialize();return this.positions&&(t.positions=this.positions),this.normals&&(t.normals=this.normals),this.tangents&&(t.tangents=this.tangents),this.uvs&&(t.uvs=this.uvs),this.uvs2&&(t.uvs2=this.uvs2),this.uvs3&&(t.uvs3=this.uvs3),this.uvs4&&(t.uvs4=this.uvs4),this.uvs5&&(t.uvs5=this.uvs5),this.uvs6&&(t.uvs6=this.uvs6),this.colors&&(t.colors=this.colors),this.matricesIndices&&(t.matricesIndices=this.matricesIndices,t.matricesIndices._isExpanded=!0),this.matricesWeights&&(t.matricesWeights=this.matricesWeights),this.matricesIndicesExtra&&(t.matricesIndicesExtra=this.matricesIndicesExtra,t.matricesIndicesExtra._isExpanded=!0),this.matricesWeightsExtra&&(t.matricesWeightsExtra=this.matricesWeightsExtra),t.indices=this.indices,t},VertexData.ExtractFromMesh=function(t,n,u){return VertexData._ExtractFrom(t,n,u)},VertexData.ExtractFromGeometry=function(t,n,u){return VertexData._ExtractFrom(t,n,u)},VertexData._ExtractFrom=function(t,n,u){var c=new VertexData;return t.isVerticesDataPresent(l["VertexBuffer"].PositionKind)&&(c.positions=t.getVerticesData(l["VertexBuffer"].PositionKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].NormalKind)&&(c.normals=t.getVerticesData(l["VertexBuffer"].NormalKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].TangentKind)&&(c.tangents=t.getVerticesData(l["VertexBuffer"].TangentKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].UVKind)&&(c.uvs=t.getVerticesData(l["VertexBuffer"].UVKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].UV2Kind)&&(c.uvs2=t.getVerticesData(l["VertexBuffer"].UV2Kind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].UV3Kind)&&(c.uvs3=t.getVerticesData(l["VertexBuffer"].UV3Kind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].UV4Kind)&&(c.uvs4=t.getVerticesData(l["VertexBuffer"].UV4Kind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].UV5Kind)&&(c.uvs5=t.getVerticesData(l["VertexBuffer"].UV5Kind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].UV6Kind)&&(c.uvs6=t.getVerticesData(l["VertexBuffer"].UV6Kind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].ColorKind)&&(c.colors=t.getVerticesData(l["VertexBuffer"].ColorKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].MatricesIndicesKind)&&(c.matricesIndices=t.getVerticesData(l["VertexBuffer"].MatricesIndicesKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].MatricesWeightsKind)&&(c.matricesWeights=t.getVerticesData(l["VertexBuffer"].MatricesWeightsKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].MatricesIndicesExtraKind)&&(c.matricesIndicesExtra=t.getVerticesData(l["VertexBuffer"].MatricesIndicesExtraKind,n,u)),t.isVerticesDataPresent(l["VertexBuffer"].MatricesWeightsExtraKind)&&(c.matricesWeightsExtra=t.getVerticesData(l["VertexBuffer"].MatricesWeightsExtraKind,n,u)),c.indices=t.getIndices(n,u),c},VertexData.CreateRibbon=function(t){throw d["_DevTools"].WarnImport("ribbonBuilder")},VertexData.CreateBox=function(t){throw d["_DevTools"].WarnImport("boxBuilder")},VertexData.CreateTiledBox=function(t){throw d["_DevTools"].WarnImport("tiledBoxBuilder")},VertexData.CreateTiledPlane=function(t){throw d["_DevTools"].WarnImport("tiledPlaneBuilder")},VertexData.CreateSphere=function(t){throw d["_DevTools"].WarnImport("sphereBuilder")},VertexData.CreateCylinder=function(t){throw d["_DevTools"].WarnImport("cylinderBuilder")},VertexData.CreateTorus=function(t){throw d["_DevTools"].WarnImport("torusBuilder")},VertexData.CreateLineSystem=function(t){throw d["_DevTools"].WarnImport("linesBuilder")},VertexData.CreateDashedLines=function(t){throw d["_DevTools"].WarnImport("linesBuilder")},VertexData.CreateGround=function(t){throw d["_DevTools"].WarnImport("groundBuilder")},VertexData.CreateTiledGround=function(t){throw d["_DevTools"].WarnImport("groundBuilder")},VertexData.CreateGroundFromHeightMap=function(t){throw d["_DevTools"].WarnImport("groundBuilder")},VertexData.CreatePlane=function(t){throw d["_DevTools"].WarnImport("planeBuilder")},VertexData.CreateDisc=function(t){throw d["_DevTools"].WarnImport("discBuilder")},VertexData.CreatePolygon=function(t,n,u,c,l,h,p){throw d["_DevTools"].WarnImport("polygonBuilder")},VertexData.CreateIcoSphere=function(t){throw d["_DevTools"].WarnImport("icoSphereBuilder")},VertexData.CreatePolyhedron=function(t){throw d["_DevTools"].WarnImport("polyhedronBuilder")},VertexData.CreateCapsule=function(t){throw void 0===t&&(t={orientation:c["Vector3"].Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6}),d["_DevTools"].WarnImport("capsuleBuilder")},VertexData.CreateTorusKnot=function(t){throw d["_DevTools"].WarnImport("torusKnotBuilder")},VertexData.ComputeNormals=function(t,n,u,l){var d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0,U=0,G=0,W=0,X=0,q=0,K=0,Y=0,Q=0,Z=0,$=0,J=0,ee=0,te=!1,re=!1,ne=!1,ie=!1,oe=1,se=0,ae=null;if(l&&(te=!!l.facetNormals,re=!!l.facetPositions,ne=!!l.facetPartitioning,oe=!0===l.useRightHandedSystem?-1:1,se=l.ratio||0,ie=!!l.depthSort,ae=l.distanceTo,ie)){void 0===ae&&(ae=c["Vector3"].Zero());var ue=l.depthSortedFacets}var ce=0,le=0,de=0,he=0;if(ne&&l&&l.bbSize){var fe=0,pe=0,me=0,_e=0,ge=0,be=0,ve=0,ye=0,xe=0,Me=0,Te=0,Se=0,Ce=0,Ee=0,Oe=0,Pe=0,je=l.bbSize.x>l.bbSize.y?l.bbSize.x:l.bbSize.y;je=je>l.bbSize.z?je:l.bbSize.z,ce=l.subDiv.X*se/l.bbSize.x,le=l.subDiv.Y*se/l.bbSize.y,de=l.subDiv.Z*se/l.bbSize.z,he=l.subDiv.max*l.subDiv.max,l.facetPartitioning.length=0}for(d=0;d<t.length;d++)u[d]=0;var Ae=n.length/3|0;for(d=0;d<Ae;d++){if(X=3*n[3*d],q=X+1,K=X+2,Y=3*n[3*d+1],Q=Y+1,Z=Y+2,$=3*n[3*d+2],J=$+1,ee=$+2,h=t[X]-t[Y],p=t[q]-t[Q],m=t[K]-t[Z],_=t[$]-t[Y],g=t[J]-t[Q],b=t[ee]-t[Z],v=oe*(p*b-m*g),U=oe*(m*_-h*b),G=oe*(h*g-p*_),W=Math.sqrt(v*v+U*U+G*G),W=0===W?1:W,v/=W,U/=W,G/=W,te&&l&&(l.facetNormals[d].x=v,l.facetNormals[d].y=U,l.facetNormals[d].z=G),re&&l&&(l.facetPositions[d].x=(t[X]+t[Y]+t[$])/3,l.facetPositions[d].y=(t[q]+t[Q]+t[J])/3,l.facetPositions[d].z=(t[K]+t[Z]+t[ee])/3),ne&&l&&(fe=Math.floor((l.facetPositions[d].x-l.bInfo.minimum.x*se)*ce),pe=Math.floor((l.facetPositions[d].y-l.bInfo.minimum.y*se)*le),me=Math.floor((l.facetPositions[d].z-l.bInfo.minimum.z*se)*de),_e=Math.floor((t[X]-l.bInfo.minimum.x*se)*ce),ge=Math.floor((t[q]-l.bInfo.minimum.y*se)*le),be=Math.floor((t[K]-l.bInfo.minimum.z*se)*de),ve=Math.floor((t[Y]-l.bInfo.minimum.x*se)*ce),ye=Math.floor((t[Q]-l.bInfo.minimum.y*se)*le),xe=Math.floor((t[Z]-l.bInfo.minimum.z*se)*de),Me=Math.floor((t[$]-l.bInfo.minimum.x*se)*ce),Te=Math.floor((t[J]-l.bInfo.minimum.y*se)*le),Se=Math.floor((t[ee]-l.bInfo.minimum.z*se)*de),Ee=_e+l.subDiv.max*ge+he*be,Oe=ve+l.subDiv.max*ye+he*xe,Pe=Me+l.subDiv.max*Te+he*Se,Ce=fe+l.subDiv.max*pe+he*me,l.facetPartitioning[Ce]=l.facetPartitioning[Ce]?l.facetPartitioning[Ce]:new Array,l.facetPartitioning[Ee]=l.facetPartitioning[Ee]?l.facetPartitioning[Ee]:new Array,l.facetPartitioning[Oe]=l.facetPartitioning[Oe]?l.facetPartitioning[Oe]:new Array,l.facetPartitioning[Pe]=l.facetPartitioning[Pe]?l.facetPartitioning[Pe]:new Array,l.facetPartitioning[Ee].push(d),Oe!=Ee&&l.facetPartitioning[Oe].push(d),Pe!=Oe&&Pe!=Ee&&l.facetPartitioning[Pe].push(d),Ce!=Ee&&Ce!=Oe&&Ce!=Pe&&l.facetPartitioning[Ce].push(d)),ie&&l&&l.facetPositions){var Re=ue[d];Re.ind=3*d,Re.sqDistance=c["Vector3"].DistanceSquared(l.facetPositions[d],ae)}u[X]+=v,u[q]+=U,u[K]+=G,u[Y]+=v,u[Q]+=U,u[Z]+=G,u[$]+=v,u[J]+=U,u[ee]+=G}for(d=0;d<u.length/3;d++)v=u[3*d],U=u[3*d+1],G=u[3*d+2],W=Math.sqrt(v*v+U*U+G*G),W=0===W?1:W,v/=W,U/=W,G/=W,u[3*d]=v,u[3*d+1]=U,u[3*d+2]=G},VertexData._ComputeSides=function(t,n,u,l,d,h,p){var m,_,g=u.length,b=l.length;switch(t=t||VertexData.DEFAULTSIDE,t){case VertexData.FRONTSIDE:break;case VertexData.BACKSIDE:var v;for(m=0;m<g;m+=3)v=u[m],u[m]=u[m+2],u[m+2]=v;for(_=0;_<b;_++)l[_]=-l[_];break;case VertexData.DOUBLESIDE:for(var U=n.length,G=U/3,W=0;W<U;W++)n[U+W]=n[W];for(m=0;m<g;m+=3)u[m+g]=u[m+2]+G,u[m+1+g]=u[m+1]+G,u[m+2+g]=u[m]+G;for(_=0;_<b;_++)l[b+_]=-l[_];var X=d.length,q=0;for(q=0;q<X;q++)d[q+X]=d[q];for(h=h||new c["Vector4"](0,0,1,1),p=p||new c["Vector4"](0,0,1,1),q=0,m=0;m<X/2;m++)d[q]=h.x+(h.z-h.x)*d[q],d[q+1]=h.y+(h.w-h.y)*d[q+1],d[q+X]=p.x+(p.z-p.x)*d[q+X],d[q+X+1]=p.y+(p.w-p.y)*d[q+X+1],q+=2;break}},VertexData.ImportVertexData=function(t,n){var u=new VertexData,c=t.positions;c&&u.set(c,l["VertexBuffer"].PositionKind);var d=t.normals;d&&u.set(d,l["VertexBuffer"].NormalKind);var p=t.tangents;p&&u.set(p,l["VertexBuffer"].TangentKind);var m=t.uvs;m&&u.set(m,l["VertexBuffer"].UVKind);var _=t.uv2s;_&&u.set(_,l["VertexBuffer"].UV2Kind);var g=t.uv3s;g&&u.set(g,l["VertexBuffer"].UV3Kind);var b=t.uv4s;b&&u.set(b,l["VertexBuffer"].UV4Kind);var v=t.uv5s;v&&u.set(v,l["VertexBuffer"].UV5Kind);var U=t.uv6s;U&&u.set(U,l["VertexBuffer"].UV6Kind);var G=t.colors;G&&u.set(h["Color4"].CheckColors4(G,c.length/3),l["VertexBuffer"].ColorKind);var W=t.matricesIndices;W&&u.set(W,l["VertexBuffer"].MatricesIndicesKind);var X=t.matricesWeights;X&&u.set(X,l["VertexBuffer"].MatricesWeightsKind);var q=t.indices;q&&(u.indices=q),n.setAllVerticesData(u,t.updatable)},VertexData.FRONTSIDE=0,VertexData.BACKSIDE=1,VertexData.DOUBLESIDE=2,VertexData.DEFAULTSIDE=0,VertexData}()},"./node_modules/@babylonjs/core/Meshes/meshBuilder.js":function(t,n,u){"use strict";u.r(n),u.d(n,"MeshBuilder",(function(){return ee}));var c=u("./node_modules/@babylonjs/core/Meshes/Builders/ribbonBuilder.js"),l=u("./node_modules/@babylonjs/core/Meshes/Builders/discBuilder.js"),d=u("./node_modules/@babylonjs/core/Meshes/Builders/boxBuilder.js"),h=u("./node_modules/@babylonjs/core/Meshes/Builders/tiledBoxBuilder.js"),p=u("./node_modules/@babylonjs/core/Meshes/Builders/sphereBuilder.js"),m=u("./node_modules/@babylonjs/core/Meshes/Builders/cylinderBuilder.js"),_=u("./node_modules/@babylonjs/core/Meshes/Builders/torusBuilder.js"),g=u("./node_modules/@babylonjs/core/Meshes/Builders/torusKnotBuilder.js"),b=u("./node_modules/@babylonjs/core/Meshes/Builders/linesBuilder.js"),v=u("./node_modules/@babylonjs/core/Meshes/Builders/polygonBuilder.js"),U=u("./node_modules/@babylonjs/core/Meshes/Builders/shapeBuilder.js"),G=u("./node_modules/@babylonjs/core/Meshes/Builders/latheBuilder.js"),W=u("./node_modules/@babylonjs/core/Meshes/Builders/planeBuilder.js"),X=u("./node_modules/@babylonjs/core/Meshes/Builders/tiledPlaneBuilder.js"),q=u("./node_modules/@babylonjs/core/Meshes/Builders/groundBuilder.js"),K=u("./node_modules/@babylonjs/core/Meshes/Builders/tubeBuilder.js"),Y=u("./node_modules/@babylonjs/core/Meshes/Builders/polyhedronBuilder.js"),Q=u("./node_modules/@babylonjs/core/Meshes/Builders/icoSphereBuilder.js"),Z=u("./node_modules/@babylonjs/core/Meshes/Builders/decalBuilder.js"),$=u("./node_modules/@babylonjs/core/Meshes/Builders/capsuleBuilder.js"),J=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),ee=function(){function MeshBuilder(){}return MeshBuilder.CreateBox=function(t,n,u){return void 0===u&&(u=null),d["BoxBuilder"].CreateBox(t,n,u)},MeshBuilder.CreateTiledBox=function(t,n,u){return void 0===u&&(u=null),h["TiledBoxBuilder"].CreateTiledBox(t,n,u)},MeshBuilder.CreateSphere=function(t,n,u){return void 0===u&&(u=null),p["SphereBuilder"].CreateSphere(t,n,u)},MeshBuilder.CreateDisc=function(t,n,u){return void 0===u&&(u=null),l["DiscBuilder"].CreateDisc(t,n,u)},MeshBuilder.CreateIcoSphere=function(t,n,u){return void 0===u&&(u=null),Q["IcoSphereBuilder"].CreateIcoSphere(t,n,u)},MeshBuilder.CreateRibbon=function(t,n,u){return void 0===u&&(u=null),c["RibbonBuilder"].CreateRibbon(t,n,u)},MeshBuilder.CreateCylinder=function(t,n,u){return void 0===u&&(u=null),m["CylinderBuilder"].CreateCylinder(t,n,u)},MeshBuilder.CreateTorus=function(t,n,u){return void 0===u&&(u=null),_["TorusBuilder"].CreateTorus(t,n,u)},MeshBuilder.CreateTorusKnot=function(t,n,u){return void 0===u&&(u=null),g["TorusKnotBuilder"].CreateTorusKnot(t,n,u)},MeshBuilder.CreateLineSystem=function(t,n,u){return b["LinesBuilder"].CreateLineSystem(t,n,u)},MeshBuilder.CreateLines=function(t,n,u){return void 0===u&&(u=null),b["LinesBuilder"].CreateLines(t,n,u)},MeshBuilder.CreateDashedLines=function(t,n,u){return void 0===u&&(u=null),b["LinesBuilder"].CreateDashedLines(t,n,u)},MeshBuilder.ExtrudeShape=function(t,n,u){return void 0===u&&(u=null),U["ShapeBuilder"].ExtrudeShape(t,n,u)},MeshBuilder.ExtrudeShapeCustom=function(t,n,u){return void 0===u&&(u=null),U["ShapeBuilder"].ExtrudeShapeCustom(t,n,u)},MeshBuilder.CreateLathe=function(t,n,u){return void 0===u&&(u=null),G["LatheBuilder"].CreateLathe(t,n,u)},MeshBuilder.CreateTiledPlane=function(t,n,u){return void 0===u&&(u=null),X["TiledPlaneBuilder"].CreateTiledPlane(t,n,u)},MeshBuilder.CreatePlane=function(t,n,u){return void 0===u&&(u=null),W["PlaneBuilder"].CreatePlane(t,n,u)},MeshBuilder.CreateGround=function(t,n,u){return void 0===u&&(u=null),q["GroundBuilder"].CreateGround(t,n,u)},MeshBuilder.CreateTiledGround=function(t,n,u){return void 0===u&&(u=null),q["GroundBuilder"].CreateTiledGround(t,n,u)},MeshBuilder.CreateGroundFromHeightMap=function(t,n,u,c){return void 0===c&&(c=null),q["GroundBuilder"].CreateGroundFromHeightMap(t,n,u,c)},MeshBuilder.CreatePolygon=function(t,n,u,c){return void 0===u&&(u=null),void 0===c&&(c=earcut),v["PolygonBuilder"].CreatePolygon(t,n,u,c)},MeshBuilder.ExtrudePolygon=function(t,n,u,c){return void 0===u&&(u=null),void 0===c&&(c=earcut),v["PolygonBuilder"].ExtrudePolygon(t,n,u,c)},MeshBuilder.CreateTube=function(t,n,u){return void 0===u&&(u=null),K["TubeBuilder"].CreateTube(t,n,u)},MeshBuilder.CreatePolyhedron=function(t,n,u){return void 0===u&&(u=null),Y["PolyhedronBuilder"].CreatePolyhedron(t,n,u)},MeshBuilder.CreateDecal=function(t,n,u){return Z["DecalBuilder"].CreateDecal(t,n,u)},MeshBuilder.CreateCapsule=function(t,n,u){return void 0===n&&(n={orientation:J["Vector3"].Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6}),void 0===u&&(u=null),$["CapsuleBuilder"].CreateCapsule(t,n,u)},MeshBuilder}()},"./node_modules/@babylonjs/core/Meshes/meshLODLevel.js":function(t,n,u){"use strict";u.r(n),u.d(n,"MeshLODLevel",(function(){return c}));var c=function(){function MeshLODLevel(t,n){this.distance=t,this.mesh=n}return MeshLODLevel}()},"./node_modules/@babylonjs/core/Meshes/polygonMesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Polygon",(function(){return U})),u.d(n,"PolygonMeshBuilder",(function(){return G}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/logger.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),p=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),m=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),_=u("./node_modules/@babylonjs/core/Engines/engine.js"),g=u("./node_modules/@babylonjs/core/Maths/math.path.js"),b=function(t){function IndexedVector2(n,u){var c=t.call(this,n.x,n.y)||this;return c.index=u,c}return Object(c["__extends"])(IndexedVector2,t),IndexedVector2}(d["Vector2"]),v=function(){function PolygonPoints(){this.elements=new Array}return PolygonPoints.prototype.add=function(t){var n=this,u=new Array;return t.forEach((function(t){var c=new b(t,n.elements.length);u.push(c),n.elements.push(c)})),u},PolygonPoints.prototype.computeBounds=function(){var t=new d["Vector2"](this.elements[0].x,this.elements[0].y),n=new d["Vector2"](this.elements[0].x,this.elements[0].y);return this.elements.forEach((function(u){u.x<t.x?t.x=u.x:u.x>n.x&&(n.x=u.x),u.y<t.y?t.y=u.y:u.y>n.y&&(n.y=u.y)})),{min:t,max:n,width:n.x-t.x,height:n.y-t.y}},PolygonPoints}(),U=function(){function Polygon(){}return Polygon.Rectangle=function(t,n,u,c){return[new d["Vector2"](t,n),new d["Vector2"](u,n),new d["Vector2"](u,c),new d["Vector2"](t,c)]},Polygon.Circle=function(t,n,u,c){void 0===n&&(n=0),void 0===u&&(u=0),void 0===c&&(c=32);for(var l=new Array,h=0,p=2*Math.PI/c,m=0;m<c;m++)l.push(new d["Vector2"](n+Math.cos(h)*t,u+Math.sin(h)*t)),h-=p;return l},Polygon.Parse=function(t){var n,u=t.split(/[^-+eE\.\d]+/).map(parseFloat).filter((function(t){return!isNaN(t)})),c=[];for(n=0;n<(2147483646&u.length);n+=2)c.push(new d["Vector2"](u[n],u[n+1]));return c},Polygon.StartingAt=function(t,n){return g["Path2"].StartingAt(t,n)},Polygon}(),G=function(){function PolygonMeshBuilder(t,n,u,c){var d;void 0===c&&(c=earcut),this._points=new v,this._outlinepoints=new v,this._holes=new Array,this._epoints=new Array,this._eholes=new Array,this.bjsEarcut=c,this._name=t,this._scene=u||_["Engine"].LastCreatedScene,d=n instanceof g["Path2"]?n.getPoints():n,this._addToepoint(d),this._points.add(d),this._outlinepoints.add(d),"undefined"===typeof this.bjsEarcut&&l["Logger"].Warn("Earcut was not found, the polygon will not be built.")}return PolygonMeshBuilder.prototype._addToepoint=function(t){for(var n=0,u=t;n<u.length;n++){var c=u[n];this._epoints.push(c.x,c.y)}},PolygonMeshBuilder.prototype.addHole=function(t){this._points.add(t);var n=new v;return n.add(t),this._holes.push(n),this._eholes.push(this._epoints.length/2),this._addToepoint(t),this},PolygonMeshBuilder.prototype.build=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var u=new p["Mesh"](this._name,this._scene),c=this.buildVertexData(n);return u.setVerticesData(h["VertexBuffer"].PositionKind,c.positions,t),u.setVerticesData(h["VertexBuffer"].NormalKind,c.normals,t),u.setVerticesData(h["VertexBuffer"].UVKind,c.uvs,t),u.setIndices(c.indices),u},PolygonMeshBuilder.prototype.buildVertexData=function(t){var n=this;void 0===t&&(t=0);var u=new m["VertexData"],c=new Array,l=new Array,d=new Array,h=this._points.computeBounds();this._points.elements.forEach((function(t){c.push(0,1,0),l.push(t.x,0,t.y),d.push((t.x-h.min.x)/h.width,(t.y-h.min.y)/h.height)}));for(var p=new Array,_=this.bjsEarcut(this._epoints,this._eholes,2),g=0;g<_.length;g++)p.push(_[g]);if(t>0){var b=l.length/3;this._points.elements.forEach((function(n){c.push(0,-1,0),l.push(n.x,-t,n.y),d.push(1-(n.x-h.min.x)/h.width,1-(n.y-h.min.y)/h.height)}));var v=p.length;for(g=0;g<v;g+=3){var U=p[g+0],G=p[g+1],W=p[g+2];p.push(W+b),p.push(G+b),p.push(U+b)}this.addSide(l,c,d,p,h,this._outlinepoints,t,!1),this._holes.forEach((function(u){n.addSide(l,c,d,p,h,u,t,!0)}))}return u.indices=p,u.positions=l,u.normals=c,u.uvs=d,u},PolygonMeshBuilder.prototype.addSide=function(t,n,u,c,l,h,p,m){for(var _=t.length/3,g=0,b=0;b<h.elements.length;b++){var v,U=h.elements[b];v=b+1>h.elements.length-1?h.elements[0]:h.elements[b+1],t.push(U.x,0,U.y),t.push(U.x,-p,U.y),t.push(v.x,0,v.y),t.push(v.x,-p,v.y);var G=new d["Vector3"](U.x,0,U.y),W=new d["Vector3"](v.x,0,v.y),X=W.subtract(G),q=new d["Vector3"](0,1,0),K=d["Vector3"].Cross(X,q);K=K.normalize(),u.push(g/l.width,0),u.push(g/l.width,1),g+=X.length(),u.push(g/l.width,0),u.push(g/l.width,1),m?(n.push(K.x,K.y,K.z),n.push(K.x,K.y,K.z),n.push(K.x,K.y,K.z),n.push(K.x,K.y,K.z),c.push(_),c.push(_+2),c.push(_+1),c.push(_+1),c.push(_+2),c.push(_+3)):(n.push(-K.x,-K.y,-K.z),n.push(-K.x,-K.y,-K.z),n.push(-K.x,-K.y,-K.z),n.push(-K.x,-K.y,-K.z),c.push(_),c.push(_+1),c.push(_+2),c.push(_+1),c.push(_+3),c.push(_+2)),_+=4}},PolygonMeshBuilder}()},"./node_modules/@babylonjs/core/Meshes/subMesh.js":function(t,n,u){"use strict";u.r(n),u.d(n,"SubMesh",(function(){return p}));var c=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),l=u("./node_modules/@babylonjs/core/Collisions/intersectionInfo.js"),d=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js"),h=u("./node_modules/@babylonjs/core/Maths/math.functions.js"),p=function(){function SubMesh(t,n,u,c,l,d,h,p,m){void 0===p&&(p=!0),void 0===m&&(m=!0),this.materialIndex=t,this.verticesStart=n,this.verticesCount=u,this.indexStart=c,this.indexCount=l,this._materialDefines=null,this._materialEffect=null,this._effectOverride=null,this._linesIndexCount=0,this._linesIndexBuffer=null,this._lastColliderWorldVertices=null,this._lastColliderTransformMatrix=null,this._renderId=0,this._alphaIndex=0,this._distanceToCamera=0,this._currentMaterial=null,this._mesh=d,this._renderingMesh=h||d,m&&d.subMeshes.push(this),this._trianglePlanes=[],this._id=d.subMeshes.length-1,p&&(this.refreshBoundingInfo(),d.computeWorldMatrix(!0))}return Object.defineProperty(SubMesh.prototype,"materialDefines",{get:function(){return this._materialDefines},set:function(t){this._materialDefines=t},enumerable:!1,configurable:!0}),Object.defineProperty(SubMesh.prototype,"effect",{get:function(){var t;return null!==(t=this._effectOverride)&&void 0!==t?t:this._materialEffect},enumerable:!1,configurable:!0}),SubMesh.prototype.setEffect=function(t,n){void 0===n&&(n=null),this._materialEffect!==t?(this._materialDefines=n,this._materialEffect=t):t||(this._materialDefines=null)},SubMesh.AddToMesh=function(t,n,u,c,l,d,h,p){return void 0===p&&(p=!0),new SubMesh(t,n,u,c,l,d,h,p)},Object.defineProperty(SubMesh.prototype,"IsGlobal",{get:function(){return 0===this.verticesStart&&this.verticesCount===this._mesh.getTotalVertices()},enumerable:!1,configurable:!0}),SubMesh.prototype.getBoundingInfo=function(){return this.IsGlobal?this._mesh.getBoundingInfo():this._boundingInfo},SubMesh.prototype.setBoundingInfo=function(t){return this._boundingInfo=t,this},SubMesh.prototype.getMesh=function(){return this._mesh},SubMesh.prototype.getRenderingMesh=function(){return this._renderingMesh},SubMesh.prototype.getReplacementMesh=function(){return this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh?this._mesh:null},SubMesh.prototype.getEffectiveMesh=function(){var t=this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh?this._mesh:null;return t||this._renderingMesh},SubMesh.prototype.getMaterial=function(){var t=this._renderingMesh.material;if(null===t||void 0===t)return this._mesh.getScene().defaultMaterial;if(this._IsMultiMaterial(t)){var n=t.getSubMaterial(this.materialIndex);return this._currentMaterial!==n&&(this._currentMaterial=n,this._materialDefines=null),n}return t},SubMesh.prototype._IsMultiMaterial=function(t){return void 0!==t.getSubMaterial},SubMesh.prototype.refreshBoundingInfo=function(t){if(void 0===t&&(t=null),this._lastColliderWorldVertices=null,this.IsGlobal||!this._renderingMesh||!this._renderingMesh.geometry)return this;if(t||(t=this._renderingMesh.getVerticesData(c["VertexBuffer"].PositionKind)),!t)return this._boundingInfo=this._mesh.getBoundingInfo(),this;var n,u=this._renderingMesh.getIndices();if(0===this.indexStart&&this.indexCount===u.length){var l=this._renderingMesh.getBoundingInfo();n={minimum:l.minimum.clone(),maximum:l.maximum.clone()}}else n=Object(h["extractMinAndMaxIndexed"])(t,u,this.indexStart,this.indexCount,this._renderingMesh.geometry.boundingBias);return this._boundingInfo?this._boundingInfo.reConstruct(n.minimum,n.maximum):this._boundingInfo=new d["BoundingInfo"](n.minimum,n.maximum),this},SubMesh.prototype._checkCollision=function(t){var n=this.getBoundingInfo();return n._checkCollision(t)},SubMesh.prototype.updateBoundingInfo=function(t){var n=this.getBoundingInfo();return n||(this.refreshBoundingInfo(),n=this.getBoundingInfo()),n&&n.update(t),this},SubMesh.prototype.isInFrustum=function(t){var n=this.getBoundingInfo();return!!n&&n.isInFrustum(t,this._mesh.cullingStrategy)},SubMesh.prototype.isCompletelyInFrustum=function(t){var n=this.getBoundingInfo();return!!n&&n.isCompletelyInFrustum(t)},SubMesh.prototype.render=function(t){return this._renderingMesh.render(this,t,this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh?this._mesh:void 0),this},SubMesh.prototype._getLinesIndexBuffer=function(t,n){if(!this._linesIndexBuffer){for(var u=[],c=this.indexStart;c<this.indexStart+this.indexCount;c+=3)u.push(t[c],t[c+1],t[c+1],t[c+2],t[c+2],t[c]);this._linesIndexBuffer=n.createIndexBuffer(u),this._linesIndexCount=u.length}return this._linesIndexBuffer},SubMesh.prototype.canIntersects=function(t){var n=this.getBoundingInfo();return!!n&&t.intersectsBox(n.boundingBox)},SubMesh.prototype.intersects=function(t,n,u,c,l){var d=this.getMaterial();if(!d)return null;var h=3,p=!1;switch(d.fillMode){case 3:case 4:case 5:case 6:case 8:return null;case 7:h=1,p=!0;break;default:break}return"InstancedLinesMesh"===this._mesh.getClassName()||"LinesMesh"===this._mesh.getClassName()?u.length?this._intersectLines(t,n,u,this._mesh.intersectionThreshold,c):this._intersectUnIndexedLines(t,n,u,this._mesh.intersectionThreshold,c):!u.length&&this._mesh._unIndexed?this._intersectUnIndexedTriangles(t,n,u,c,l):this._intersectTriangles(t,n,u,h,p,c,l)},SubMesh.prototype._intersectLines=function(t,n,u,c,d){for(var h=null,p=this.indexStart;p<this.indexStart+this.indexCount;p+=2){var m=n[u[p]],_=n[u[p+1]],g=t.intersectionSegment(m,_,c);if(!(g<0)&&((d||!h||g<h.distance)&&(h=new l["IntersectionInfo"](null,null,g),h.faceId=p/2,d)))break}return h},SubMesh.prototype._intersectUnIndexedLines=function(t,n,u,c,d){for(var h=null,p=this.verticesStart;p<this.verticesStart+this.verticesCount;p+=2){var m=n[p],_=n[p+1],g=t.intersectionSegment(m,_,c);if(!(g<0)&&((d||!h||g<h.distance)&&(h=new l["IntersectionInfo"](null,null,g),h.faceId=p/2,d)))break}return h},SubMesh.prototype._intersectTriangles=function(t,n,u,c,l,d,h){for(var p=null,m=-1,_=this.indexStart;_<this.indexStart+this.indexCount;_+=c){m++;var g=u[_],b=u[_+1],v=u[_+2];if(l&&4294967295===v)_+=2;else{var U=n[g],G=n[b],W=n[v];if(!h||h(U,G,W,t)){var X=t.intersectsTriangle(U,G,W);if(X){if(X.distance<0)continue;if((d||!p||X.distance<p.distance)&&(p=X,p.faceId=m,d))break}}}}return p},SubMesh.prototype._intersectUnIndexedTriangles=function(t,n,u,c,l){for(var d=null,h=this.verticesStart;h<this.verticesStart+this.verticesCount;h+=3){var p=n[h],m=n[h+1],_=n[h+2];if(!l||l(p,m,_,t)){var g=t.intersectsTriangle(p,m,_);if(g){if(g.distance<0)continue;if((c||!d||g.distance<d.distance)&&(d=g,d.faceId=h/3,c))break}}}return d},SubMesh.prototype._rebuild=function(){this._linesIndexBuffer&&(this._linesIndexBuffer=null)},SubMesh.prototype.clone=function(t,n){var u=new SubMesh(this.materialIndex,this.verticesStart,this.verticesCount,this.indexStart,this.indexCount,t,n,!1);if(!this.IsGlobal){var c=this.getBoundingInfo();if(!c)return u;u._boundingInfo=new d["BoundingInfo"](c.minimum,c.maximum)}return u},SubMesh.prototype.dispose=function(){this._linesIndexBuffer&&(this._mesh.getScene().getEngine()._releaseBuffer(this._linesIndexBuffer),this._linesIndexBuffer=null);var t=this._mesh.subMeshes.indexOf(this);this._mesh.subMeshes.splice(t,1)},SubMesh.prototype.getClassName=function(){return"SubMesh"},SubMesh.CreateFromIndices=function(t,n,u,c,l){for(var d=Number.MAX_VALUE,h=-Number.MAX_VALUE,p=l||c,m=p.getIndices(),_=n;_<n+u;_++){var g=m[_];g<d&&(d=g),g>h&&(h=g)}return new SubMesh(t,d,h-d+1,n,u,c,l)},SubMesh}()},"./node_modules/@babylonjs/core/Meshes/thinInstanceMesh.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),l=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js");c["Mesh"].prototype.thinInstanceAdd=function(t,n){void 0===n&&(n=!0),this._thinInstanceUpdateBufferSize("matrix",Array.isArray(t)?t.length:1);var u=this._thinInstanceDataStorage.instancesCount;if(Array.isArray(t))for(var c=0;c<t.length;++c)this.thinInstanceSetMatrixAt(this._thinInstanceDataStorage.instancesCount++,t[c],c===t.length-1&&n);else this.thinInstanceSetMatrixAt(this._thinInstanceDataStorage.instancesCount++,t,n);return u},c["Mesh"].prototype.thinInstanceAddSelf=function(t){return void 0===t&&(t=!0),this.thinInstanceAdd(d["Matrix"].IdentityReadOnly,t)},c["Mesh"].prototype.thinInstanceRegisterAttribute=function(t,n){this.removeVerticesData(t),this._thinInstanceInitializeUserStorage(),this._userThinInstanceBuffersStorage.strides[t]=n,this._userThinInstanceBuffersStorage.sizes[t]=n*Math.max(32,this._thinInstanceDataStorage.instancesCount),this._userThinInstanceBuffersStorage.data[t]=new Float32Array(this._userThinInstanceBuffersStorage.sizes[t]),this._userThinInstanceBuffersStorage.vertexBuffers[t]=new l["VertexBuffer"](this.getEngine(),this._userThinInstanceBuffersStorage.data[t],t,!0,!1,n,!0),this.setVerticesBuffer(this._userThinInstanceBuffersStorage.vertexBuffers[t])},c["Mesh"].prototype.thinInstanceSetMatrixAt=function(t,n,u){if(void 0===u&&(u=!0),!this._thinInstanceDataStorage.matrixData||t>=this._thinInstanceDataStorage.instancesCount)return!1;var c=this._thinInstanceDataStorage.matrixData;return n.copyToArray(c,16*t),this._thinInstanceDataStorage.worldMatrices&&(this._thinInstanceDataStorage.worldMatrices[t]=n),u&&(this.thinInstanceBufferUpdated("matrix"),this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1)),!0},c["Mesh"].prototype.thinInstanceSetAttributeAt=function(t,n,u,c){return void 0===c&&(c=!0),!(!this._userThinInstanceBuffersStorage||!this._userThinInstanceBuffersStorage.data[t]||n>=this._thinInstanceDataStorage.instancesCount)&&(this._thinInstanceUpdateBufferSize(t,0),this._userThinInstanceBuffersStorage.data[t].set(u,n*this._userThinInstanceBuffersStorage.strides[t]),c&&this.thinInstanceBufferUpdated(t),!0)},Object.defineProperty(c["Mesh"].prototype,"thinInstanceCount",{get:function(){return this._thinInstanceDataStorage.instancesCount},set:function(t){var n,u,c=(null!==(u=null===(n=this._thinInstanceDataStorage.matrixData)||void 0===n?void 0:n.length)&&void 0!==u?u:0)/16;t<=c&&(this._thinInstanceDataStorage.instancesCount=t)},enumerable:!0,configurable:!0}),c["Mesh"].prototype.thinInstanceSetBuffer=function(t,n,u,c){var d,h;if(void 0===u&&(u=0),void 0===c&&(c=!1),u=u||16,"matrix"===t)if(null===(d=this._thinInstanceDataStorage.matrixBuffer)||void 0===d||d.dispose(),this._thinInstanceDataStorage.matrixBuffer=null,this._thinInstanceDataStorage.matrixBufferSize=n?n.length:32*u,this._thinInstanceDataStorage.matrixData=n,this._thinInstanceDataStorage.worldMatrices=null,null!==n){this._thinInstanceDataStorage.instancesCount=n.length/u;var p=new l["Buffer"](this.getEngine(),n,!c,u,!1,!0);this._thinInstanceDataStorage.matrixBuffer=p,this.setVerticesBuffer(p.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(p.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(p.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(p.createVertexBuffer("world3",12,4)),this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1)}else this._thinInstanceDataStorage.instancesCount=0,this.doNotSyncBoundingInfo||this.refreshBoundingInfo(!0);else null===n?(null===(h=this._userThinInstanceBuffersStorage)||void 0===h?void 0:h.data[t])&&(this.removeVerticesData(t),delete this._userThinInstanceBuffersStorage.data[t],delete this._userThinInstanceBuffersStorage.strides[t],delete this._userThinInstanceBuffersStorage.sizes[t],delete this._userThinInstanceBuffersStorage.vertexBuffers[t]):(this._thinInstanceInitializeUserStorage(),this._userThinInstanceBuffersStorage.data[t]=n,this._userThinInstanceBuffersStorage.strides[t]=u,this._userThinInstanceBuffersStorage.sizes[t]=n.length,this._userThinInstanceBuffersStorage.vertexBuffers[t]=new l["VertexBuffer"](this.getEngine(),n,t,!c,!1,u,!0),this.setVerticesBuffer(this._userThinInstanceBuffersStorage.vertexBuffers[t]))},c["Mesh"].prototype.thinInstanceBufferUpdated=function(t){var n;"matrix"===t?this._thinInstanceDataStorage.matrixBuffer&&this._thinInstanceDataStorage.matrixBuffer.updateDirectly(this._thinInstanceDataStorage.matrixData,0,this._thinInstanceDataStorage.instancesCount):(null===(n=this._userThinInstanceBuffersStorage)||void 0===n?void 0:n.vertexBuffers[t])&&this._userThinInstanceBuffersStorage.vertexBuffers[t].updateDirectly(this._userThinInstanceBuffersStorage.data[t],0)},c["Mesh"].prototype.thinInstancePartialBufferUpdate=function(t,n,u){var c;"matrix"===t?this._thinInstanceDataStorage.matrixBuffer&&this._thinInstanceDataStorage.matrixBuffer.updateDirectly(n,u):(null===(c=this._userThinInstanceBuffersStorage)||void 0===c?void 0:c.vertexBuffers[t])&&this._userThinInstanceBuffersStorage.vertexBuffers[t].updateDirectly(n,u)},c["Mesh"].prototype.thinInstanceGetWorldMatrices=function(){if(!this._thinInstanceDataStorage.matrixData||!this._thinInstanceDataStorage.matrixBuffer)return[];var t=this._thinInstanceDataStorage.matrixData;if(!this._thinInstanceDataStorage.worldMatrices){this._thinInstanceDataStorage.worldMatrices=new Array;for(var n=0;n<this._thinInstanceDataStorage.instancesCount;++n)this._thinInstanceDataStorage.worldMatrices[n]=d["Matrix"].FromArray(t,16*n)}return this._thinInstanceDataStorage.worldMatrices},c["Mesh"].prototype.thinInstanceRefreshBoundingInfo=function(t){if(void 0===t&&(t=!1),this._thinInstanceDataStorage.matrixData&&this._thinInstanceDataStorage.matrixBuffer){var n=this._thinInstanceDataStorage.boundingVectors;t&&(n.length=0,this.refreshBoundingInfo(!0));var u=this.getBoundingInfo(),c=this._thinInstanceDataStorage.matrixData;if(0===n.length)for(var l=0;l<u.boundingBox.vectors.length;++l)n.push(u.boundingBox.vectors[l].clone());d["TmpVectors"].Vector3[0].setAll(Number.POSITIVE_INFINITY),d["TmpVectors"].Vector3[1].setAll(Number.NEGATIVE_INFINITY);for(var h=0;h<this._thinInstanceDataStorage.instancesCount;++h){d["Matrix"].FromArrayToRef(c,16*h,d["TmpVectors"].Matrix[0]);for(l=0;l<n.length;++l)d["Vector3"].TransformCoordinatesToRef(n[l],d["TmpVectors"].Matrix[0],d["TmpVectors"].Vector3[2]),d["TmpVectors"].Vector3[0].minimizeInPlace(d["TmpVectors"].Vector3[2]),d["TmpVectors"].Vector3[1].maximizeInPlace(d["TmpVectors"].Vector3[2])}u.reConstruct(d["TmpVectors"].Vector3[0],d["TmpVectors"].Vector3[1]),this._updateBoundingInfo()}},c["Mesh"].prototype._thinInstanceUpdateBufferSize=function(t,n){var u,c;void 0===n&&(n=1);var d="matrix"===t;if(d||this._userThinInstanceBuffersStorage&&this._userThinInstanceBuffersStorage.strides[t]){var h=d?16:this._userThinInstanceBuffersStorage.strides[t],p=d?this._thinInstanceDataStorage.matrixBufferSize:this._userThinInstanceBuffersStorage.sizes[t],m=d?this._thinInstanceDataStorage.matrixData:this._userThinInstanceBuffersStorage.data[t],_=(this._thinInstanceDataStorage.instancesCount+n)*h,g=p;while(g<_)g*=2;if(!m||p!=g){if(m){var b=new Float32Array(g);b.set(m,0),m=b}else m=new Float32Array(g);if(d){null===(u=this._thinInstanceDataStorage.matrixBuffer)||void 0===u||u.dispose();var v=new l["Buffer"](this.getEngine(),m,!0,h,!1,!0);this._thinInstanceDataStorage.matrixBuffer=v,this._thinInstanceDataStorage.matrixData=m,this._thinInstanceDataStorage.matrixBufferSize=g,this.setVerticesBuffer(v.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(v.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(v.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(v.createVertexBuffer("world3",12,4))}else null===(c=this._userThinInstanceBuffersStorage.vertexBuffers[t])||void 0===c||c.dispose(),this._userThinInstanceBuffersStorage.data[t]=m,this._userThinInstanceBuffersStorage.sizes[t]=g,this._userThinInstanceBuffersStorage.vertexBuffers[t]=new l["VertexBuffer"](this.getEngine(),m,t,!0,!1,h,!0),this.setVerticesBuffer(this._userThinInstanceBuffersStorage.vertexBuffers[t])}}},c["Mesh"].prototype._thinInstanceInitializeUserStorage=function(){this._userThinInstanceBuffersStorage||(this._userThinInstanceBuffersStorage={data:{},sizes:{},vertexBuffers:{},strides:{}})},c["Mesh"].prototype._disposeThinInstanceSpecificData=function(){var t;(null===(t=this._thinInstanceDataStorage)||void 0===t?void 0:t.matrixBuffer)&&(this._thinInstanceDataStorage.matrixBuffer.dispose(),this._thinInstanceDataStorage.matrixBuffer=null)}},"./node_modules/@babylonjs/core/Meshes/transformNode.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TransformNode",(function(){return _}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=u("./node_modules/@babylonjs/core/node.js"),m=u("./node_modules/@babylonjs/core/Maths/math.axis.js"),_=function(t){function TransformNode(n,u,c){void 0===u&&(u=null),void 0===c&&(c=!0);var l=t.call(this,n,u)||this;return l._forward=new h["Vector3"](0,0,1),l._forwardInverted=new h["Vector3"](0,0,-1),l._up=new h["Vector3"](0,1,0),l._right=new h["Vector3"](1,0,0),l._rightInverted=new h["Vector3"](-1,0,0),l._position=h["Vector3"].Zero(),l._rotation=h["Vector3"].Zero(),l._rotationQuaternion=null,l._scaling=h["Vector3"].One(),l._isDirty=!1,l._transformToBoneReferal=null,l._isAbsoluteSynced=!1,l._billboardMode=TransformNode.BILLBOARDMODE_NONE,l._preserveParentRotationForBillboard=!1,l.scalingDeterminant=1,l._infiniteDistance=!1,l.ignoreNonUniformScaling=!1,l.reIntegrateRotationIntoRotationQuaternion=!1,l._poseMatrix=null,l._localMatrix=h["Matrix"].Zero(),l._usePivotMatrix=!1,l._absolutePosition=h["Vector3"].Zero(),l._absoluteScaling=h["Vector3"].Zero(),l._absoluteRotationQuaternion=h["Quaternion"].Identity(),l._pivotMatrix=h["Matrix"].Identity(),l._postMultiplyPivotMatrix=!1,l._isWorldMatrixFrozen=!1,l._indexInSceneTransformNodesArray=-1,l.onAfterWorldMatrixUpdateObservable=new d["Observable"],l._nonUniformScaling=!1,c&&l.getScene().addTransformNode(l),l}return Object(c["__extends"])(TransformNode,t),Object.defineProperty(TransformNode.prototype,"billboardMode",{get:function(){return this._billboardMode},set:function(t){this._billboardMode!==t&&(this._billboardMode=t)},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"preserveParentRotationForBillboard",{get:function(){return this._preserveParentRotationForBillboard},set:function(t){t!==this._preserveParentRotationForBillboard&&(this._preserveParentRotationForBillboard=t)},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"infiniteDistance",{get:function(){return this._infiniteDistance},set:function(t){this._infiniteDistance!==t&&(this._infiniteDistance=t)},enumerable:!1,configurable:!0}),TransformNode.prototype.getClassName=function(){return"TransformNode"},Object.defineProperty(TransformNode.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this._rotationQuaternion=null,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"scaling",{get:function(){return this._scaling},set:function(t){this._scaling=t,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"rotationQuaternion",{get:function(){return this._rotationQuaternion},set:function(t){this._rotationQuaternion=t,t&&this._rotation.setAll(0),this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"forward",{get:function(){return h["Vector3"].Normalize(h["Vector3"].TransformNormal(this.getScene().useRightHandedSystem?this._forwardInverted:this._forward,this.getWorldMatrix()))},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"up",{get:function(){return h["Vector3"].Normalize(h["Vector3"].TransformNormal(this._up,this.getWorldMatrix()))},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"right",{get:function(){return h["Vector3"].Normalize(h["Vector3"].TransformNormal(this.getScene().useRightHandedSystem?this._rightInverted:this._right,this.getWorldMatrix()))},enumerable:!1,configurable:!0}),TransformNode.prototype.updatePoseMatrix=function(t){return this._poseMatrix?(this._poseMatrix.copyFrom(t),this):(this._poseMatrix=t.clone(),this)},TransformNode.prototype.getPoseMatrix=function(){return this._poseMatrix||(this._poseMatrix=h["Matrix"].Identity()),this._poseMatrix},TransformNode.prototype._isSynchronized=function(){var t=this._cache;return this.billboardMode===t.billboardMode&&this.billboardMode===TransformNode.BILLBOARDMODE_NONE&&(!t.pivotMatrixUpdated&&(!this.infiniteDistance&&(!this.position._isDirty&&(!this.scaling._isDirty&&!(this._rotationQuaternion&&this._rotationQuaternion._isDirty||this.rotation._isDirty)))))},TransformNode.prototype._initCache=function(){t.prototype._initCache.call(this);var n=this._cache;n.localMatrixUpdated=!1,n.billboardMode=-1,n.infiniteDistance=!1},TransformNode.prototype.markAsDirty=function(t){return this._currentRenderId=Number.MAX_VALUE,this._isDirty=!0,this},Object.defineProperty(TransformNode.prototype,"absolutePosition",{get:function(){return this._absolutePosition},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"absoluteScaling",{get:function(){return this._syncAbsoluteScalingAndRotation(),this._absoluteScaling},enumerable:!1,configurable:!0}),Object.defineProperty(TransformNode.prototype,"absoluteRotationQuaternion",{get:function(){return this._syncAbsoluteScalingAndRotation(),this._absoluteRotationQuaternion},enumerable:!1,configurable:!0}),TransformNode.prototype.setPreTransformMatrix=function(t){return this.setPivotMatrix(t,!1)},TransformNode.prototype.setPivotMatrix=function(t,n){return void 0===n&&(n=!0),this._pivotMatrix.copyFrom(t),this._usePivotMatrix=!this._pivotMatrix.isIdentity(),this._cache.pivotMatrixUpdated=!0,this._postMultiplyPivotMatrix=n,this._postMultiplyPivotMatrix&&(this._pivotMatrixInverse?this._pivotMatrix.invertToRef(this._pivotMatrixInverse):this._pivotMatrixInverse=h["Matrix"].Invert(this._pivotMatrix)),this},TransformNode.prototype.getPivotMatrix=function(){return this._pivotMatrix},TransformNode.prototype.instantiateHierarchy=function(t,n,u){void 0===t&&(t=null);var c=this.clone("Clone of "+(this.name||this.id),t||this.parent,!0);c&&u&&u(this,c);for(var l=0,d=this.getChildTransformNodes(!0);l<d.length;l++){var h=d[l];h.instantiateHierarchy(c,n,u)}return c},TransformNode.prototype.freezeWorldMatrix=function(t){return void 0===t&&(t=null),t?this._worldMatrix=t:(this._isWorldMatrixFrozen=!1,this.computeWorldMatrix(!0)),this._isDirty=!1,this._isWorldMatrixFrozen=!0,this},TransformNode.prototype.unfreezeWorldMatrix=function(){return this._isWorldMatrixFrozen=!1,this.computeWorldMatrix(!0),this},Object.defineProperty(TransformNode.prototype,"isWorldMatrixFrozen",{get:function(){return this._isWorldMatrixFrozen},enumerable:!1,configurable:!0}),TransformNode.prototype.getAbsolutePosition=function(){return this.computeWorldMatrix(),this._absolutePosition},TransformNode.prototype.setAbsolutePosition=function(t){if(!t)return this;var n,u,c;if(void 0===t.x){if(arguments.length<3)return this;n=arguments[0],u=arguments[1],c=arguments[2]}else n=t.x,u=t.y,c=t.z;if(this.parent){var l=h["TmpVectors"].Matrix[0];this.parent.getWorldMatrix().invertToRef(l),h["Vector3"].TransformCoordinatesFromFloatsToRef(n,u,c,l,this.position)}else this.position.x=n,this.position.y=u,this.position.z=c;return this._absolutePosition.copyFrom(t),this},TransformNode.prototype.setPositionWithLocalVector=function(t){return this.computeWorldMatrix(),this.position=h["Vector3"].TransformNormal(t,this._localMatrix),this},TransformNode.prototype.getPositionExpressedInLocalSpace=function(){this.computeWorldMatrix();var t=h["TmpVectors"].Matrix[0];return this._localMatrix.invertToRef(t),h["Vector3"].TransformNormal(this.position,t)},TransformNode.prototype.locallyTranslate=function(t){return this.computeWorldMatrix(!0),this.position=h["Vector3"].TransformCoordinates(t,this._localMatrix),this},TransformNode.prototype.lookAt=function(t,n,u,c,l){void 0===n&&(n=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===l&&(l=m["Space"].LOCAL);var d=TransformNode._lookAtVectorCache,p=l===m["Space"].LOCAL?this.position:this.getAbsolutePosition();if(t.subtractToRef(p,d),this.setDirection(d,n,u,c),l===m["Space"].WORLD&&this.parent)if(this.rotationQuaternion){var _=h["TmpVectors"].Matrix[0];this.rotationQuaternion.toRotationMatrix(_);var g=h["TmpVectors"].Matrix[1];this.parent.getWorldMatrix().getRotationMatrixToRef(g),g.invert(),_.multiplyToRef(g,_),this.rotationQuaternion.fromRotationMatrix(_)}else{var b=h["TmpVectors"].Quaternion[0];h["Quaternion"].FromEulerVectorToRef(this.rotation,b);_=h["TmpVectors"].Matrix[0];b.toRotationMatrix(_);g=h["TmpVectors"].Matrix[1];this.parent.getWorldMatrix().getRotationMatrixToRef(g),g.invert(),_.multiplyToRef(g,_),b.fromRotationMatrix(_),b.toEulerAnglesToRef(this.rotation)}return this},TransformNode.prototype.getDirection=function(t){var n=h["Vector3"].Zero();return this.getDirectionToRef(t,n),n},TransformNode.prototype.getDirectionToRef=function(t,n){return h["Vector3"].TransformNormalToRef(t,this.getWorldMatrix(),n),this},TransformNode.prototype.setDirection=function(t,n,u,c){void 0===n&&(n=0),void 0===u&&(u=0),void 0===c&&(c=0);var l=-Math.atan2(t.z,t.x)+Math.PI/2,d=Math.sqrt(t.x*t.x+t.z*t.z),p=-Math.atan2(t.y,d);return this.rotationQuaternion?h["Quaternion"].RotationYawPitchRollToRef(l+n,p+u,c,this.rotationQuaternion):(this.rotation.x=p+u,this.rotation.y=l+n,this.rotation.z=c),this},TransformNode.prototype.setPivotPoint=function(t,n){void 0===n&&(n=m["Space"].LOCAL),0==this.getScene().getRenderId()&&this.computeWorldMatrix(!0);var u=this.getWorldMatrix();if(n==m["Space"].WORLD){var c=h["TmpVectors"].Matrix[0];u.invertToRef(c),t=h["Vector3"].TransformCoordinates(t,c)}return this.setPivotMatrix(h["Matrix"].Translation(-t.x,-t.y,-t.z),!0)},TransformNode.prototype.getPivotPoint=function(){var t=h["Vector3"].Zero();return this.getPivotPointToRef(t),t},TransformNode.prototype.getPivotPointToRef=function(t){return t.x=-this._pivotMatrix.m[12],t.y=-this._pivotMatrix.m[13],t.z=-this._pivotMatrix.m[14],this},TransformNode.prototype.getAbsolutePivotPoint=function(){var t=h["Vector3"].Zero();return this.getAbsolutePivotPointToRef(t),t},TransformNode.prototype.getAbsolutePivotPointToRef=function(t){return this.getPivotPointToRef(t),h["Vector3"].TransformCoordinatesToRef(t,this.getWorldMatrix(),t),this},TransformNode.prototype.setParent=function(t){if(!t&&!this.parent)return this;var n=h["TmpVectors"].Quaternion[0],u=h["TmpVectors"].Vector3[0],c=h["TmpVectors"].Vector3[1];if(t){var l=h["TmpVectors"].Matrix[0],d=h["TmpVectors"].Matrix[1];this.computeWorldMatrix(!0),t.computeWorldMatrix(!0),t.getWorldMatrix().invertToRef(d),this.getWorldMatrix().multiplyToRef(d,l),l.decompose(c,n,u)}else this.computeWorldMatrix(!0),this.getWorldMatrix().decompose(c,n,u);return this.rotationQuaternion?this.rotationQuaternion.copyFrom(n):n.toEulerAnglesToRef(this.rotation),this.scaling.copyFrom(c),this.position.copyFrom(u),this.parent=t,this},Object.defineProperty(TransformNode.prototype,"nonUniformScaling",{get:function(){return this._nonUniformScaling},enumerable:!1,configurable:!0}),TransformNode.prototype._updateNonUniformScalingState=function(t){return this._nonUniformScaling!==t&&(this._nonUniformScaling=t,!0)},TransformNode.prototype.attachToBone=function(t,n){return this._transformToBoneReferal=n,this.parent=t,t.getSkeleton().prepare(),t.getWorldMatrix().determinant()<0&&(this.scalingDeterminant*=-1),this},TransformNode.prototype.detachFromBone=function(){return this.parent?(this.parent.getWorldMatrix().determinant()<0&&(this.scalingDeterminant*=-1),this._transformToBoneReferal=null,this.parent=null,this):this},TransformNode.prototype.rotate=function(t,n,u){var c;if(t.normalize(),this.rotationQuaternion||(this.rotationQuaternion=this.rotation.toQuaternion(),this.rotation.setAll(0)),u&&u!==m["Space"].LOCAL){if(this.parent){var l=h["TmpVectors"].Matrix[0];this.parent.getWorldMatrix().invertToRef(l),t=h["Vector3"].TransformNormal(t,l)}c=h["Quaternion"].RotationAxisToRef(t,n,TransformNode._rotationAxisCache),c.multiplyToRef(this.rotationQuaternion,this.rotationQuaternion)}else c=h["Quaternion"].RotationAxisToRef(t,n,TransformNode._rotationAxisCache),this.rotationQuaternion.multiplyToRef(c,this.rotationQuaternion);return this},TransformNode.prototype.rotateAround=function(t,n,u){n.normalize(),this.rotationQuaternion||(this.rotationQuaternion=h["Quaternion"].RotationYawPitchRoll(this.rotation.y,this.rotation.x,this.rotation.z),this.rotation.setAll(0));var c=h["TmpVectors"].Vector3[0],l=h["TmpVectors"].Vector3[1],d=h["TmpVectors"].Vector3[2],p=h["TmpVectors"].Quaternion[0],m=h["TmpVectors"].Matrix[0],_=h["TmpVectors"].Matrix[1],g=h["TmpVectors"].Matrix[2],b=h["TmpVectors"].Matrix[3];return t.subtractToRef(this.position,c),h["Matrix"].TranslationToRef(c.x,c.y,c.z,m),h["Matrix"].TranslationToRef(-c.x,-c.y,-c.z,_),h["Matrix"].RotationAxisToRef(n,u,g),_.multiplyToRef(g,b),b.multiplyToRef(m,b),b.decompose(l,p,d),this.position.addInPlace(d),p.multiplyToRef(this.rotationQuaternion,this.rotationQuaternion),this},TransformNode.prototype.translate=function(t,n,u){var c=t.scale(n);if(u&&u!==m["Space"].LOCAL)this.setAbsolutePosition(this.getAbsolutePosition().add(c));else{var l=this.getPositionExpressedInLocalSpace().add(c);this.setPositionWithLocalVector(l)}return this},TransformNode.prototype.addRotation=function(t,n,u){var c;this.rotationQuaternion?c=this.rotationQuaternion:(c=h["TmpVectors"].Quaternion[1],h["Quaternion"].RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,c));var l=h["TmpVectors"].Quaternion[0];return h["Quaternion"].RotationYawPitchRollToRef(n,t,u,l),c.multiplyInPlace(l),this.rotationQuaternion||c.toEulerAnglesToRef(this.rotation),this},TransformNode.prototype._getEffectiveParent=function(){return this.parent},TransformNode.prototype.computeWorldMatrix=function(t){if(this._isWorldMatrixFrozen&&!this._isDirty)return this._worldMatrix;var n=this.getScene().getRenderId();if(!this._isDirty&&!t&&this.isSynchronized())return this._currentRenderId=n,this._worldMatrix;var u=this.getScene().activeCamera,c=0!==(this._billboardMode&TransformNode.BILLBOARDMODE_USE_POSITION),l=this._billboardMode!==TransformNode.BILLBOARDMODE_NONE&&!this.preserveParentRotationForBillboard;l&&u&&c&&(this.lookAt(u.position),(this.billboardMode&TransformNode.BILLBOARDMODE_X)!==TransformNode.BILLBOARDMODE_X&&(this.rotation.x=0),(this.billboardMode&TransformNode.BILLBOARDMODE_Y)!==TransformNode.BILLBOARDMODE_Y&&(this.rotation.y=0),(this.billboardMode&TransformNode.BILLBOARDMODE_Z)!==TransformNode.BILLBOARDMODE_Z&&(this.rotation.z=0)),this._updateCache();var d=this._cache;d.pivotMatrixUpdated=!1,d.billboardMode=this.billboardMode,d.infiniteDistance=this.infiniteDistance,this._currentRenderId=n,this._childUpdateId++,this._isDirty=!1,this._position._isDirty=!1,this._rotation._isDirty=!1,this._scaling._isDirty=!1;var p,m=this._getEffectiveParent(),_=TransformNode._TmpScaling,g=this._position;if(this._infiniteDistance&&!this.parent&&u){var b=u.getWorldMatrix(),v=new h["Vector3"](b.m[12],b.m[13],b.m[14]);g=TransformNode._TmpTranslation,g.copyFromFloats(this._position.x+v.x,this._position.y+v.y,this._position.z+v.z)}if(_.copyFromFloats(this._scaling.x*this.scalingDeterminant,this._scaling.y*this.scalingDeterminant,this._scaling.z*this.scalingDeterminant),this._rotationQuaternion){if(this._rotationQuaternion._isDirty=!1,p=this._rotationQuaternion,this.reIntegrateRotationIntoRotationQuaternion){var U=this.rotation.lengthSquared();U&&(this._rotationQuaternion.multiplyInPlace(h["Quaternion"].RotationYawPitchRoll(this._rotation.y,this._rotation.x,this._rotation.z)),this._rotation.copyFromFloats(0,0,0))}}else p=TransformNode._TmpRotation,h["Quaternion"].RotationYawPitchRollToRef(this._rotation.y,this._rotation.x,this._rotation.z,p);if(this._usePivotMatrix){var G=h["TmpVectors"].Matrix[1];h["Matrix"].ScalingToRef(_.x,_.y,_.z,G);var W=h["TmpVectors"].Matrix[0];p.toRotationMatrix(W),this._pivotMatrix.multiplyToRef(G,h["TmpVectors"].Matrix[4]),h["TmpVectors"].Matrix[4].multiplyToRef(W,this._localMatrix),this._postMultiplyPivotMatrix&&this._localMatrix.multiplyToRef(this._pivotMatrixInverse,this._localMatrix),this._localMatrix.addTranslationFromFloats(g.x,g.y,g.z)}else h["Matrix"].ComposeToRef(_,p,g,this._localMatrix);if(m&&m.getWorldMatrix){if(t&&m.computeWorldMatrix(),l){this._transformToBoneReferal?m.getWorldMatrix().multiplyToRef(this._transformToBoneReferal.getWorldMatrix(),h["TmpVectors"].Matrix[7]):h["TmpVectors"].Matrix[7].copyFrom(m.getWorldMatrix());var X=h["TmpVectors"].Vector3[5],q=h["TmpVectors"].Vector3[6];h["TmpVectors"].Matrix[7].decompose(q,void 0,X),h["Matrix"].ScalingToRef(q.x,q.y,q.z,h["TmpVectors"].Matrix[7]),h["TmpVectors"].Matrix[7].setTranslation(X),this._localMatrix.multiplyToRef(h["TmpVectors"].Matrix[7],this._worldMatrix)}else this._transformToBoneReferal?(this._localMatrix.multiplyToRef(m.getWorldMatrix(),h["TmpVectors"].Matrix[6]),h["TmpVectors"].Matrix[6].multiplyToRef(this._transformToBoneReferal.getWorldMatrix(),this._worldMatrix)):this._localMatrix.multiplyToRef(m.getWorldMatrix(),this._worldMatrix);this._markSyncedWithParent()}else this._worldMatrix.copyFrom(this._localMatrix);if(l&&u&&this.billboardMode&&!c){var K=h["TmpVectors"].Vector3[0];if(this._worldMatrix.getTranslationToRef(K),h["TmpVectors"].Matrix[1].copyFrom(u.getViewMatrix()),h["TmpVectors"].Matrix[1].setTranslationFromFloats(0,0,0),h["TmpVectors"].Matrix[1].invertToRef(h["TmpVectors"].Matrix[0]),(this.billboardMode&TransformNode.BILLBOARDMODE_ALL)!==TransformNode.BILLBOARDMODE_ALL){h["TmpVectors"].Matrix[0].decompose(void 0,h["TmpVectors"].Quaternion[0],void 0);var Y=h["TmpVectors"].Vector3[1];h["TmpVectors"].Quaternion[0].toEulerAnglesToRef(Y),(this.billboardMode&TransformNode.BILLBOARDMODE_X)!==TransformNode.BILLBOARDMODE_X&&(Y.x=0),(this.billboardMode&TransformNode.BILLBOARDMODE_Y)!==TransformNode.BILLBOARDMODE_Y&&(Y.y=0),(this.billboardMode&TransformNode.BILLBOARDMODE_Z)!==TransformNode.BILLBOARDMODE_Z&&(Y.z=0),h["Matrix"].RotationYawPitchRollToRef(Y.y,Y.x,Y.z,h["TmpVectors"].Matrix[0])}this._worldMatrix.setTranslationFromFloats(0,0,0),this._worldMatrix.multiplyToRef(h["TmpVectors"].Matrix[0],this._worldMatrix),this._worldMatrix.setTranslation(h["TmpVectors"].Vector3[0])}return this.ignoreNonUniformScaling?this._updateNonUniformScalingState(!1):this._scaling.isNonUniformWithinEpsilon(1e-6)?this._updateNonUniformScalingState(!0):m&&m._nonUniformScaling?this._updateNonUniformScalingState(m._nonUniformScaling):this._updateNonUniformScalingState(!1),this._afterComputeWorldMatrix(),this._absolutePosition.copyFromFloats(this._worldMatrix.m[12],this._worldMatrix.m[13],this._worldMatrix.m[14]),this._isAbsoluteSynced=!1,this.onAfterWorldMatrixUpdateObservable.notifyObservers(this),this._poseMatrix||(this._poseMatrix=h["Matrix"].Invert(this._worldMatrix)),this._worldMatrixDeterminantIsDirty=!0,this._worldMatrix},TransformNode.prototype.resetLocalMatrix=function(t){if(void 0===t&&(t=!0),this.computeWorldMatrix(),t)for(var n=this.getChildren(),u=0;u<n.length;++u){var c=n[u];if(c){c.computeWorldMatrix();var l=h["TmpVectors"].Matrix[0];c._localMatrix.multiplyToRef(this._localMatrix,l);var d=h["TmpVectors"].Quaternion[0];l.decompose(c.scaling,d,c.position),c.rotationQuaternion?c.rotationQuaternion=d:d.toEulerAnglesToRef(c.rotation)}}this.scaling.copyFromFloats(1,1,1),this.position.copyFromFloats(0,0,0),this.rotation.copyFromFloats(0,0,0),this.rotationQuaternion&&(this.rotationQuaternion=h["Quaternion"].Identity()),this._worldMatrix=h["Matrix"].Identity()},TransformNode.prototype._afterComputeWorldMatrix=function(){},TransformNode.prototype.registerAfterWorldMatrixUpdate=function(t){return this.onAfterWorldMatrixUpdateObservable.add(t),this},TransformNode.prototype.unregisterAfterWorldMatrixUpdate=function(t){return this.onAfterWorldMatrixUpdateObservable.removeCallback(t),this},TransformNode.prototype.getPositionInCameraSpace=function(t){return void 0===t&&(t=null),t||(t=this.getScene().activeCamera),h["Vector3"].TransformCoordinates(this.getAbsolutePosition(),t.getViewMatrix())},TransformNode.prototype.getDistanceToCamera=function(t){return void 0===t&&(t=null),t||(t=this.getScene().activeCamera),this.getAbsolutePosition().subtract(t.globalPosition).length()},TransformNode.prototype.clone=function(t,n,u){var c=this,d=l["SerializationHelper"].Clone((function(){return new TransformNode(t,c.getScene())}),this);if(d.name=t,d.id=t,n&&(d.parent=n),!u)for(var h=this.getDescendants(!0),p=0;p<h.length;p++){var m=h[p];m.clone&&m.clone(t+"."+m.name,d)}return d},TransformNode.prototype.serialize=function(t){var n=l["SerializationHelper"].Serialize(this,t);return n.type=this.getClassName(),this.parent&&(n.parentId=this.parent.id),n.localMatrix=this.getPivotMatrix().asArray(),n.isEnabled=this.isEnabled(),this.parent&&(n.parentId=this.parent.id),n},TransformNode.Parse=function(t,n,u){var c=l["SerializationHelper"].Parse((function(){return new TransformNode(t.name,n)}),t,n,u);return t.localMatrix?c.setPreTransformMatrix(h["Matrix"].FromArray(t.localMatrix)):t.pivotMatrix&&c.setPivotMatrix(h["Matrix"].FromArray(t.pivotMatrix)),c.setEnabled(t.isEnabled),t.parentId&&(c._waitingParentId=t.parentId),c},TransformNode.prototype.getChildTransformNodes=function(t,n){var u=[];return this._getDescendants(u,t,(function(t){return(!n||n(t))&&t instanceof TransformNode})),u},TransformNode.prototype.dispose=function(n,u){if(void 0===u&&(u=!1),this.getScene().stopAnimation(this),this.getScene().removeTransformNode(this),this.onAfterWorldMatrixUpdateObservable.clear(),n)for(var c=this.getChildTransformNodes(!0),l=0,d=c;l<d.length;l++){var h=d[l];h.parent=null,h.computeWorldMatrix(!0)}t.prototype.dispose.call(this,n,u)},TransformNode.prototype.normalizeToUnitCube=function(t,n,u){void 0===t&&(t=!0),void 0===n&&(n=!1);var c=null,l=null;n&&(this.rotationQuaternion?(l=this.rotationQuaternion.clone(),this.rotationQuaternion.copyFromFloats(0,0,0,1)):this.rotation&&(c=this.rotation.clone(),this.rotation.copyFromFloats(0,0,0)));var d=this.getHierarchyBoundingVectors(t,u),h=d.max.subtract(d.min),p=Math.max(h.x,h.y,h.z);if(0===p)return this;var m=1/p;return this.scaling.scaleInPlace(m),n&&(this.rotationQuaternion&&l?this.rotationQuaternion.copyFrom(l):this.rotation&&c&&this.rotation.copyFrom(c)),this},TransformNode.prototype._syncAbsoluteScalingAndRotation=function(){this._isAbsoluteSynced||(this._worldMatrix.decompose(this._absoluteScaling,this._absoluteRotationQuaternion),this._isAbsoluteSynced=!0)},TransformNode.BILLBOARDMODE_NONE=0,TransformNode.BILLBOARDMODE_X=1,TransformNode.BILLBOARDMODE_Y=2,TransformNode.BILLBOARDMODE_Z=4,TransformNode.BILLBOARDMODE_ALL=7,TransformNode.BILLBOARDMODE_USE_POSITION=128,TransformNode._TmpRotation=h["Quaternion"].Zero(),TransformNode._TmpScaling=h["Vector3"].Zero(),TransformNode._TmpTranslation=h["Vector3"].Zero(),TransformNode._lookAtVectorCache=new h["Vector3"](0,0,0),TransformNode._rotationAxisCache=new h["Quaternion"],Object(c["__decorate"])([Object(l["serializeAsVector3"])("position")],TransformNode.prototype,"_position",void 0),Object(c["__decorate"])([Object(l["serializeAsVector3"])("rotation")],TransformNode.prototype,"_rotation",void 0),Object(c["__decorate"])([Object(l["serializeAsQuaternion"])("rotationQuaternion")],TransformNode.prototype,"_rotationQuaternion",void 0),Object(c["__decorate"])([Object(l["serializeAsVector3"])("scaling")],TransformNode.prototype,"_scaling",void 0),Object(c["__decorate"])([Object(l["serialize"])("billboardMode")],TransformNode.prototype,"_billboardMode",void 0),Object(c["__decorate"])([Object(l["serialize"])()],TransformNode.prototype,"scalingDeterminant",void 0),Object(c["__decorate"])([Object(l["serialize"])("infiniteDistance")],TransformNode.prototype,"_infiniteDistance",void 0),Object(c["__decorate"])([Object(l["serialize"])()],TransformNode.prototype,"ignoreNonUniformScaling",void 0),Object(c["__decorate"])([Object(l["serialize"])()],TransformNode.prototype,"reIntegrateRotationIntoRotationQuaternion",void 0),TransformNode}(p["Node"])},"./node_modules/@babylonjs/core/Misc/andOrNotEvaluator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AndOrNotEvaluator",(function(){return c}));var c=function(){function AndOrNotEvaluator(){}return AndOrNotEvaluator.Eval=function(t,n){return t=t.match(/\([^\(\)]*\)/g)?t.replace(/\([^\(\)]*\)/g,(function(t){return t=t.slice(1,t.length-1),AndOrNotEvaluator._HandleParenthesisContent(t,n)})):AndOrNotEvaluator._HandleParenthesisContent(t,n),"true"===t||"false"!==t&&AndOrNotEvaluator.Eval(t,n)},AndOrNotEvaluator._HandleParenthesisContent=function(t,n){var u;n=n||function(t){return"true"===t};var c=t.split("||");for(var l in c)if(c.hasOwnProperty(l)){var d=AndOrNotEvaluator._SimplifyNegation(c[l].trim()),h=d.split("&&");if(h.length>1)for(var p=0;p<h.length;++p){var m=AndOrNotEvaluator._SimplifyNegation(h[p].trim());if(u="true"!==m&&"false"!==m?"!"===m[0]?!n(m.substring(1)):n(m):"true"===m,!u){d="false";break}}if(u||"true"===d){u=!0;break}u="true"!==d&&"false"!==d?"!"===d[0]?!n(d.substring(1)):n(d):"true"===d}return u?"true":"false"},AndOrNotEvaluator._SimplifyNegation=function(t){return t=t.replace(/^[\s!]+/,(function(t){return t=t.replace(/[\s]/g,(function(){return""})),t.length%2?"!":""})),t=t.trim(),"!true"===t?t="false":"!false"===t&&(t="true"),t},AndOrNotEvaluator}()},"./node_modules/@babylonjs/core/Misc/arrayTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ArrayTools",(function(){return c}));var c=function(){function ArrayTools(){}return ArrayTools.BuildArray=function(t,n){for(var u=[],c=0;c<t;++c)u.push(n());return u},ArrayTools}()},"./node_modules/@babylonjs/core/Misc/baseError.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BaseError",(function(){return l}));var c=u("./node_modules/tslib/tslib.es6.js"),l=function(t){function BaseError(){return null!==t&&t.apply(this,arguments)||this}return Object(c["__extends"])(BaseError,t),BaseError._setPrototypeOf=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},BaseError}(Error)},"./node_modules/@babylonjs/core/Misc/canvasGenerator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CanvasGenerator",(function(){return c}));var c=function(){function CanvasGenerator(){}return CanvasGenerator.CreateCanvas=function(t,n){if("undefined"===typeof document)return new OffscreenCanvas(t,n);var u=document.createElement("canvas");return u.width=t,u.height=n,u},CanvasGenerator}()},"./node_modules/@babylonjs/core/Misc/copyTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CopyTools",(function(){return c}));var c=function(){function CopyTools(){}return CopyTools.GenerateBase64StringFromTexture=function(t,n,u){void 0===n&&(n=0),void 0===u&&(u=0);var c=t.getInternalTexture();if(!c)return null;var l=t.readPixels(n,u);if(!l)return null;var d=t.getSize(),h=d.width,p=d.height;if(l instanceof Float32Array){var m=l.byteLength/l.BYTES_PER_ELEMENT,_=new Uint8Array(m);while(--m>=0){var g=l[m];g<0?g=0:g>1&&(g=1),_[m]=255*g}l=_}var b=document.createElement("canvas");b.width=h,b.height=p;var v=b.getContext("2d");if(!v)return null;var U=v.createImageData(h,p),G=U.data;if(G.set(l),v.putImageData(U,0,0),c.invertY){var W=document.createElement("canvas");W.width=h,W.height=p;var X=W.getContext("2d");return X?(X.translate(0,p),X.scale(1,-1),X.drawImage(b,0,0),W.toDataURL("image/png")):null}return b.toDataURL("image/png")},CopyTools}()},"./node_modules/@babylonjs/core/Misc/decorators.js":function(t,n,u){"use strict";u.r(n),u.d(n,"expandToProperty",(function(){return expandToProperty})),u.d(n,"serialize",(function(){return serialize})),u.d(n,"serializeAsTexture",(function(){return serializeAsTexture})),u.d(n,"serializeAsColor3",(function(){return serializeAsColor3})),u.d(n,"serializeAsFresnelParameters",(function(){return serializeAsFresnelParameters})),u.d(n,"serializeAsVector2",(function(){return serializeAsVector2})),u.d(n,"serializeAsVector3",(function(){return serializeAsVector3})),u.d(n,"serializeAsMeshReference",(function(){return serializeAsMeshReference})),u.d(n,"serializeAsColorCurves",(function(){return serializeAsColorCurves})),u.d(n,"serializeAsColor4",(function(){return serializeAsColor4})),u.d(n,"serializeAsImageProcessingConfiguration",(function(){return serializeAsImageProcessingConfiguration})),u.d(n,"serializeAsQuaternion",(function(){return serializeAsQuaternion})),u.d(n,"serializeAsMatrix",(function(){return serializeAsMatrix})),u.d(n,"serializeAsCameraReference",(function(){return serializeAsCameraReference})),u.d(n,"SerializationHelper",(function(){return _}));var c=u("./node_modules/@babylonjs/core/Misc/tags.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Misc/devTools.js"),h=u("./node_modules/@babylonjs/core/Maths/math.color.js"),p={},m={},_copySource=function(t,n,u){var l=t();c["Tags"]&&c["Tags"].AddTagsTo(l,n.tags);var d=getMergedStore(l);for(var h in d){var p=d[h],m=n[h],_=p.type;if(void 0!==m&&null!==m&&"uniqueId"!==h)switch(_){case 0:case 6:case 11:l[h]=m;break;case 1:l[h]=u||m.isRenderTarget?m:m.clone();break;case 2:case 3:case 4:case 5:case 7:case 10:case 12:l[h]=u?m:m.clone();break}}return l};function getDirectStore(t){var n=t.getClassName();return p[n]||(p[n]={}),p[n]}function getMergedStore(t){var n=t.getClassName();if(m[n])return m[n];m[n]={};var u=m[n],c=t,l=n;while(l){var d=p[l];for(var h in d)u[h]=d[h];var _=void 0,g=!1;do{if(_=Object.getPrototypeOf(c),!_.getClassName){g=!0;break}if(_.getClassName()!==l)break;c=_}while(_);if(g)break;l=_.getClassName(),c=_}return u}function generateSerializableMember(t,n){return function(u,c){var l=getDirectStore(u);l[c]||(l[c]={type:t,sourceName:n})}}function generateExpandMember(t,n){return void 0===n&&(n=null),function(u,c){var l=n||"_"+c;Object.defineProperty(u,c,{get:function(){return this[l]},set:function(n){this[l]!==n&&(this[l]=n,u[t].apply(this))},enumerable:!0,configurable:!0})}}function expandToProperty(t,n){return void 0===n&&(n=null),generateExpandMember(t,n)}function serialize(t){return generateSerializableMember(0,t)}function serializeAsTexture(t){return generateSerializableMember(1,t)}function serializeAsColor3(t){return generateSerializableMember(2,t)}function serializeAsFresnelParameters(t){return generateSerializableMember(3,t)}function serializeAsVector2(t){return generateSerializableMember(4,t)}function serializeAsVector3(t){return generateSerializableMember(5,t)}function serializeAsMeshReference(t){return generateSerializableMember(6,t)}function serializeAsColorCurves(t){return generateSerializableMember(7,t)}function serializeAsColor4(t){return generateSerializableMember(8,t)}function serializeAsImageProcessingConfiguration(t){return generateSerializableMember(9,t)}function serializeAsQuaternion(t){return generateSerializableMember(10,t)}function serializeAsMatrix(t){return generateSerializableMember(12,t)}function serializeAsCameraReference(t){return generateSerializableMember(11,t)}var _=function(){function SerializationHelper(){}return SerializationHelper.AppendSerializedAnimations=function(t,n){if(t.animations){n.animations=[];for(var u=0;u<t.animations.length;u++){var c=t.animations[u];n.animations.push(c.serialize())}}},SerializationHelper.Serialize=function(t,n){n||(n={}),c["Tags"]&&(n.tags=c["Tags"].GetTags(t));var u=getMergedStore(t);for(var l in u){var d=u[l],h=d.sourceName||l,p=d.type,m=t[l];if(void 0!==m&&null!==m&&"uniqueId"!==l)switch(p){case 0:n[h]=m;break;case 1:n[h]=m.serialize();break;case 2:n[h]=m.asArray();break;case 3:n[h]=m.serialize();break;case 4:n[h]=m.asArray();break;case 5:n[h]=m.asArray();break;case 6:n[h]=m.id;break;case 7:n[h]=m.serialize();break;case 8:n[h]=m.asArray();break;case 9:n[h]=m.serialize();break;case 10:n[h]=m.asArray();break;case 11:n[h]=m.id;case 12:n[h]=m.asArray();break}}return n},SerializationHelper.Parse=function(t,n,u,d){void 0===d&&(d=null);var p=t();d||(d=""),c["Tags"]&&c["Tags"].AddTagsTo(p,n.tags);var m=getMergedStore(p);for(var _ in m){var g=m[_],b=n[g.sourceName||_],v=g.type;if(void 0!==b&&null!==b&&"uniqueId"!==_){var U=p;switch(v){case 0:U[_]=b;break;case 1:u&&(U[_]=SerializationHelper._TextureParser(b,u,d));break;case 2:U[_]=h["Color3"].FromArray(b);break;case 3:U[_]=SerializationHelper._FresnelParametersParser(b);break;case 4:U[_]=l["Vector2"].FromArray(b);break;case 5:U[_]=l["Vector3"].FromArray(b);break;case 6:u&&(U[_]=u.getLastMeshByID(b));break;case 7:U[_]=SerializationHelper._ColorCurvesParser(b);break;case 8:U[_]=h["Color4"].FromArray(b);break;case 9:U[_]=SerializationHelper._ImageProcessingConfigurationParser(b);break;case 10:U[_]=l["Quaternion"].FromArray(b);break;case 11:u&&(U[_]=u.getCameraByID(b));case 12:U[_]=l["Matrix"].FromArray(b);break}}}return p},SerializationHelper.Clone=function(t,n){return _copySource(t,n,!1)},SerializationHelper.Instanciate=function(t,n){return _copySource(t,n,!0)},SerializationHelper._ImageProcessingConfigurationParser=function(t){throw d["_DevTools"].WarnImport("ImageProcessingConfiguration")},SerializationHelper._FresnelParametersParser=function(t){throw d["_DevTools"].WarnImport("FresnelParameters")},SerializationHelper._ColorCurvesParser=function(t){throw d["_DevTools"].WarnImport("ColorCurves")},SerializationHelper._TextureParser=function(t,n,u){throw d["_DevTools"].WarnImport("Texture")},SerializationHelper}()},"./node_modules/@babylonjs/core/Misc/deepCopier.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DeepCopier",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Misc/stringTools.js"),l=u("./node_modules/@babylonjs/core/Misc/logger.js"),cloneValue=function(t,n){return t?t.getClassName&&"Mesh"===t.getClassName()?null:t.getClassName&&"SubMesh"===t.getClassName()?t.clone(n):t.clone?t.clone():null:null};function getAllPropertyNames(t){var n=[];do{Object.getOwnPropertyNames(t).forEach((function(t){-1===n.indexOf(t)&&n.push(t)}))}while(t=Object.getPrototypeOf(t));return n}var d=function(){function DeepCopier(){}return DeepCopier.DeepCopy=function(t,n,u,d){for(var h=getAllPropertyNames(t),p=0,m=h;p<m.length;p++){var _=m[p];if(("_"!==_[0]||d&&-1!==d.indexOf(_))&&(!c["StringTools"].EndsWith(_,"Observable")&&(!u||-1===u.indexOf(_)))){var g=t[_],b=typeof g;if("function"!==b)try{if("object"===b)if(g instanceof Array){if(n[_]=[],g.length>0)if("object"==typeof g[0])for(var v=0;v<g.length;v++){var U=cloneValue(g[v],n);-1===n[_].indexOf(U)&&n[_].push(U)}else n[_]=g.slice(0)}else n[_]=cloneValue(g,n);else n[_]=g}catch(G){l["Logger"].Warn(G.message)}}}},DeepCopier}()},"./node_modules/@babylonjs/core/Misc/devTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"_DevTools",(function(){return c}));var c=function(){function _DevTools(){}return _DevTools.WarnImport=function(t){return t+" needs to be imported before as it contains a side-effect required by your code."},_DevTools}()},"./node_modules/@babylonjs/core/Misc/domManagement.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DomManagement",(function(){return c}));var c=function(){function DomManagement(){}return DomManagement.IsWindowObjectExist=function(){return"undefined"!==typeof window},DomManagement.IsNavigatorAvailable=function(){return"undefined"!==typeof navigator},DomManagement.IsDocumentAvailable=function(){return"undefined"!==typeof document},DomManagement.GetDOMTextContent=function(t){var n="",u=t.firstChild;while(u)3===u.nodeType&&(n+=u.textContent),u=u.nextSibling;return n},DomManagement}()},"./node_modules/@babylonjs/core/Misc/fileTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"LoadFileError",(function(){return U})),u.d(n,"RequestFileError",(function(){return G})),u.d(n,"ReadFileError",(function(){return W})),u.d(n,"FileTools",(function(){return X}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/webRequest.js"),d=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),h=u("./node_modules/@babylonjs/core/Misc/observable.js"),p=u("./node_modules/@babylonjs/core/Misc/filesInputStore.js"),m=u("./node_modules/@babylonjs/core/Misc/retryStrategy.js"),_=u("./node_modules/@babylonjs/core/Misc/baseError.js"),g=u("./node_modules/@babylonjs/core/Misc/stringTools.js"),b=u("./node_modules/@babylonjs/core/Engines/thinEngine.js"),v=u("./node_modules/@babylonjs/core/Engines/Processors/shaderProcessor.js"),U=function(t){function LoadFileError(n,u){var c=t.call(this,n)||this;return c.name="LoadFileError",_["BaseError"]._setPrototypeOf(c,LoadFileError.prototype),u instanceof l["WebRequest"]?c.request=u:c.file=u,c}return Object(c["__extends"])(LoadFileError,t),LoadFileError}(_["BaseError"]),G=function(t){function RequestFileError(n,u){var c=t.call(this,n)||this;return c.request=u,c.name="RequestFileError",_["BaseError"]._setPrototypeOf(c,RequestFileError.prototype),c}return Object(c["__extends"])(RequestFileError,t),RequestFileError}(_["BaseError"]),W=function(t){function ReadFileError(n,u){var c=t.call(this,n)||this;return c.file=u,c.name="ReadFileError",_["BaseError"]._setPrototypeOf(c,ReadFileError.prototype),c}return Object(c["__extends"])(ReadFileError,t),ReadFileError}(_["BaseError"]),X=function(){function FileTools(){}return FileTools._CleanUrl=function(t){return t=t.replace(/#/gm,"%23"),t},FileTools.SetCorsBehavior=function(t,n){if((!t||0!==t.indexOf("data:"))&&FileTools.CorsBehavior)if("string"===typeof FileTools.CorsBehavior||this.CorsBehavior instanceof String)n.crossOrigin=FileTools.CorsBehavior;else{var u=FileTools.CorsBehavior(t);u&&(n.crossOrigin=u)}},FileTools.LoadImage=function(t,n,u,c,l){var d;void 0===l&&(l="");var h=!1;if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)?"undefined"!==typeof Blob?(d=URL.createObjectURL(new Blob([t],{type:l})),h=!0):d="data:"+l+";base64,"+g["StringTools"].EncodeArrayBufferToBase64(t):t instanceof Blob?(d=URL.createObjectURL(t),h=!0):(d=FileTools._CleanUrl(t),d=FileTools.PreprocessUrl(t)),"undefined"===typeof Image)return FileTools.LoadFile(d,(function(c){createImageBitmap(new Blob([c],{type:l})).then((function(t){n(t),h&&URL.revokeObjectURL(d)})).catch((function(n){u&&u("Error while trying to load image: "+t,n)}))}),void 0,c||void 0,!0,(function(n,c){u&&u("Error while trying to load image: "+t,c)})),null;var m=new Image;FileTools.SetCorsBehavior(d,m);var loadHandler=function(){m.removeEventListener("load",loadHandler),m.removeEventListener("error",errorHandler),n(m),h&&m.src&&URL.revokeObjectURL(m.src)},errorHandler=function(n){if(m.removeEventListener("load",loadHandler),m.removeEventListener("error",errorHandler),u){var c=t.toString();u("Error while trying to load image: "+(c.length<32?c:c.slice(0,32)+"..."),n)}h&&m.src&&URL.revokeObjectURL(m.src)};m.addEventListener("load",loadHandler),m.addEventListener("error",errorHandler);var noOfflineSupport=function(){m.src=d},loadFromOfflineSupport=function(){c&&c.loadImage(d,m)};if("data:"!==d.substr(0,5)&&c&&c.enableTexturesOffline)c.open(loadFromOfflineSupport,noOfflineSupport);else{if(-1!==d.indexOf("file:")){var _=decodeURIComponent(d.substring(5).toLowerCase());if(p["FilesInputStore"].FilesToLoad[_]){try{var b;try{b=URL.createObjectURL(p["FilesInputStore"].FilesToLoad[_])}catch(v){b=URL.createObjectURL(p["FilesInputStore"].FilesToLoad[_])}m.src=b,h=!0}catch(U){m.src=""}return m}}noOfflineSupport()}return m},FileTools.ReadFile=function(t,n,u,c,l){var d=new FileReader,p={onCompleteObservable:new h["Observable"],abort:function(){return d.abort()}};return d.onloadend=function(t){return p.onCompleteObservable.notifyObservers(p)},l&&(d.onerror=function(n){l(new W("Unable to read "+t.name,t))}),d.onload=function(t){n(t.target["result"])},u&&(d.onprogress=u),c?d.readAsArrayBuffer(t):d.readAsText(t),p},FileTools.LoadFile=function(t,n,u,c,l,d){if(-1!==t.indexOf("file:")){var h=decodeURIComponent(t.substring(5).toLowerCase());0===h.indexOf("./")&&(h=h.substring(2));var m=p["FilesInputStore"].FilesToLoad[h];if(m)return FileTools.ReadFile(m,n,u,l,d?function(t){return d(void 0,new U(t.message,t.file))}:void 0)}return FileTools.RequestFile(t,(function(t,u){n(t,u?u.responseURL:void 0)}),u,c,l,d?function(t){d(t.request,new U(t.message,t.request))}:void 0)},FileTools.RequestFile=function(t,n,u,c,p,m,_){t=FileTools._CleanUrl(t),t=FileTools.PreprocessUrl(t);var g=FileTools.BaseUrl+t,b=!1,v={onCompleteObservable:new h["Observable"],abort:function(){return b=!0}},requestFile=function(){var t=new l["WebRequest"],c=null;v.abort=function(){b=!0,t.readyState!==(XMLHttpRequest.DONE||4)&&t.abort(),null!==c&&(clearTimeout(c),c=null)};var retryLoop=function(h){t.open("GET",g),_&&_(t),p&&(t.responseType="arraybuffer"),u&&t.addEventListener("progress",u);var onLoadEnd=function(){t.removeEventListener("loadend",onLoadEnd),v.onCompleteObservable.notifyObservers(v),v.onCompleteObservable.clear()};t.addEventListener("loadend",onLoadEnd);var onReadyStateChange=function(){if(!b&&t.readyState===(XMLHttpRequest.DONE||4)){if(t.removeEventListener("readystatechange",onReadyStateChange),t.status>=200&&t.status<300||0===t.status&&(!d["DomManagement"].IsWindowObjectExist()||FileTools.IsFileURL()))return void n(p?t.response:t.responseText,t);var u=FileTools.DefaultRetryStrategy;if(u){var _=u(g,t,h);if(-1!==_)return t.removeEventListener("loadend",onLoadEnd),t=new l["WebRequest"],void(c=setTimeout((function(){return retryLoop(h+1)}),_))}var v=new G("Error status: "+t.status+" "+t.statusText+" - Unable to load "+g,t);m&&m(v)}};t.addEventListener("readystatechange",onReadyStateChange),t.send()};retryLoop(0)};if(c&&c.enableSceneOffline){var noOfflineSupport_1=function(t){t&&t.status>400?m&&m(t):requestFile()},loadFromOfflineSupport=function(){c&&c.loadFile(FileTools.BaseUrl+t,(function(t){b||n(t),v.onCompleteObservable.notifyObservers(v)}),u?function(t){b||u(t)}:void 0,noOfflineSupport_1,p)};c.open(loadFromOfflineSupport,noOfflineSupport_1)}else requestFile();return v},FileTools.IsFileURL=function(){return"undefined"!==typeof location&&"file:"===location.protocol},FileTools.DefaultRetryStrategy=m["RetryStrategy"].ExponentialBackoff(),FileTools.BaseUrl="",FileTools.CorsBehavior="anonymous",FileTools.PreprocessUrl=function(t){return t},FileTools}();b["ThinEngine"]._FileToolsLoadImage=X.LoadImage.bind(X),b["ThinEngine"]._FileToolsLoadFile=X.LoadFile.bind(X),v["ShaderProcessor"]._FileToolsLoadFile=X.LoadFile.bind(X)},"./node_modules/@babylonjs/core/Misc/filesInputStore.js":function(t,n,u){"use strict";u.r(n),u.d(n,"FilesInputStore",(function(){return c}));var c=function(){function FilesInputStore(){}return FilesInputStore.FilesToLoad={},FilesInputStore}()},"./node_modules/@babylonjs/core/Misc/guid.js":function(t,n,u){"use strict";u.r(n),u.d(n,"GUID",(function(){return c}));var c=function(){function GUID(){}return GUID.RandomId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0,u="x"===t?n:3&n|8;return u.toString(16)}))},GUID}()},"./node_modules/@babylonjs/core/Misc/instantiationTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"InstantiationTools",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Misc/logger.js"),l=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),d=function(){function InstantiationTools(){}return InstantiationTools.Instantiate=function(t){if(this.RegisteredExternalClasses&&this.RegisteredExternalClasses[t])return this.RegisteredExternalClasses[t];var n=l["_TypeStore"].GetClass(t);if(n)return n;c["Logger"].Warn(t+" not found, you may have missed an import.");for(var u=t.split("."),d=window||this,h=0,p=u.length;h<p;h++)d=d[u[h]];return"function"!==typeof d?null:d},InstantiationTools.RegisteredExternalClasses={},InstantiationTools}()},"./node_modules/@babylonjs/core/Misc/logger.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Logger",(function(){return c}));var c=function(){function Logger(){}return Logger._AddLogEntry=function(t){Logger._LogCache=t+Logger._LogCache,Logger.OnNewCacheEntry&&Logger.OnNewCacheEntry(t)},Logger._FormatMessage=function(t){var padStr=function(t){return t<10?"0"+t:""+t},n=new Date;return"["+padStr(n.getHours())+":"+padStr(n.getMinutes())+":"+padStr(n.getSeconds())+"]: "+t},Logger._LogDisabled=function(t){},Logger._LogEnabled=function(t){var n=Logger._FormatMessage(t);console.log("BJS - "+n);var u="<div style='color:white'>"+n+"</div><br>";Logger._AddLogEntry(u)},Logger._WarnDisabled=function(t){},Logger._WarnEnabled=function(t){var n=Logger._FormatMessage(t);console.warn("BJS - "+n);var u="<div style='color:orange'>"+n+"</div><br>";Logger._AddLogEntry(u)},Logger._ErrorDisabled=function(t){},Logger._ErrorEnabled=function(t){Logger.errorsCount++;var n=Logger._FormatMessage(t);console.error("BJS - "+n);var u="<div style='color:red'>"+n+"</div><br>";Logger._AddLogEntry(u)},Object.defineProperty(Logger,"LogCache",{get:function(){return Logger._LogCache},enumerable:!1,configurable:!0}),Logger.ClearLogCache=function(){Logger._LogCache="",Logger.errorsCount=0},Object.defineProperty(Logger,"LogLevels",{set:function(t){(t&Logger.MessageLogLevel)===Logger.MessageLogLevel?Logger.Log=Logger._LogEnabled:Logger.Log=Logger._LogDisabled,(t&Logger.WarningLogLevel)===Logger.WarningLogLevel?Logger.Warn=Logger._WarnEnabled:Logger.Warn=Logger._WarnDisabled,(t&Logger.ErrorLogLevel)===Logger.ErrorLogLevel?Logger.Error=Logger._ErrorEnabled:Logger.Error=Logger._ErrorDisabled},enumerable:!1,configurable:!0}),Logger.NoneLogLevel=0,Logger.MessageLogLevel=1,Logger.WarningLogLevel=2,Logger.ErrorLogLevel=4,Logger.AllLogLevel=7,Logger._LogCache="",Logger.errorsCount=0,Logger.Log=Logger._LogEnabled,Logger.Warn=Logger._WarnEnabled,Logger.Error=Logger._ErrorEnabled,Logger}()},"./node_modules/@babylonjs/core/Misc/observable.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EventState",(function(){return c})),u.d(n,"Observer",(function(){return l})),u.d(n,"MultiObserver",(function(){return d})),u.d(n,"Observable",(function(){return h}));var c=function(){function EventState(t,n,u,c){void 0===n&&(n=!1),this.initalize(t,n,u,c)}return EventState.prototype.initalize=function(t,n,u,c){return void 0===n&&(n=!1),this.mask=t,this.skipNextObservers=n,this.target=u,this.currentTarget=c,this},EventState}(),l=function(){function Observer(t,n,u){void 0===u&&(u=null),this.callback=t,this.mask=n,this.scope=u,this._willBeUnregistered=!1,this.unregisterOnNextCall=!1}return Observer}(),d=function(){function MultiObserver(){}return MultiObserver.prototype.dispose=function(){if(this._observers&&this._observables)for(var t=0;t<this._observers.length;t++)this._observables[t].remove(this._observers[t]);this._observers=null,this._observables=null},MultiObserver.Watch=function(t,n,u,c){void 0===u&&(u=-1),void 0===c&&(c=null);var l=new MultiObserver;l._observers=new Array,l._observables=t;for(var d=0,h=t;d<h.length;d++){var p=h[d],m=p.add(n,u,!1,c);m&&l._observers.push(m)}return l},MultiObserver}(),h=function(){function Observable(t){this._observers=new Array,this._eventState=new c(0),t&&(this._onObserverAdded=t)}return Object.defineProperty(Observable.prototype,"observers",{get:function(){return this._observers},enumerable:!1,configurable:!0}),Observable.prototype.add=function(t,n,u,c,d){if(void 0===n&&(n=-1),void 0===u&&(u=!1),void 0===c&&(c=null),void 0===d&&(d=!1),!t)return null;var h=new l(t,n,c);return h.unregisterOnNextCall=d,u?this._observers.unshift(h):this._observers.push(h),this._onObserverAdded&&this._onObserverAdded(h),h},Observable.prototype.addOnce=function(t){return this.add(t,void 0,void 0,void 0,!0)},Observable.prototype.remove=function(t){if(!t)return!1;var n=this._observers.indexOf(t);return-1!==n&&(this._deferUnregister(t),!0)},Observable.prototype.removeCallback=function(t,n){for(var u=0;u<this._observers.length;u++){var c=this._observers[u];if(!c._willBeUnregistered&&(c.callback===t&&(!n||n===c.scope)))return this._deferUnregister(c),!0}return!1},Observable.prototype._deferUnregister=function(t){var n=this;t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,setTimeout((function(){n._remove(t)}),0)},Observable.prototype._remove=function(t){if(!t)return!1;var n=this._observers.indexOf(t);return-1!==n&&(this._observers.splice(n,1),!0)},Observable.prototype.makeObserverTopPriority=function(t){this._remove(t),this._observers.unshift(t)},Observable.prototype.makeObserverBottomPriority=function(t){this._remove(t),this._observers.push(t)},Observable.prototype.notifyObservers=function(t,n,u,c,l){if(void 0===n&&(n=-1),!this._observers.length)return!0;var d=this._eventState;d.mask=n,d.target=u,d.currentTarget=c,d.skipNextObservers=!1,d.lastReturnValue=t,d.userInfo=l;for(var h=0,p=this._observers;h<p.length;h++){var m=p[h];if(!m._willBeUnregistered&&(m.mask&n&&(m.scope?d.lastReturnValue=m.callback.apply(m.scope,[t,d]):d.lastReturnValue=m.callback(t,d),m.unregisterOnNextCall&&this._deferUnregister(m)),d.skipNextObservers))return!1}return!0},Observable.prototype.notifyObserversWithPromise=function(t,n,u,c,l){var d=this;void 0===n&&(n=-1);var h=Promise.resolve(t);if(!this._observers.length)return h;var p=this._eventState;return p.mask=n,p.target=u,p.currentTarget=c,p.skipNextObservers=!1,p.userInfo=l,this._observers.forEach((function(u){p.skipNextObservers||u._willBeUnregistered||u.mask&n&&(h=u.scope?h.then((function(n){return p.lastReturnValue=n,u.callback.apply(u.scope,[t,p])})):h.then((function(n){return p.lastReturnValue=n,u.callback(t,p)})),u.unregisterOnNextCall&&d._deferUnregister(u))})),h.then((function(){return t}))},Observable.prototype.notifyObserver=function(t,n,u){void 0===u&&(u=-1);var c=this._eventState;c.mask=u,c.skipNextObservers=!1,t.callback(n,c)},Observable.prototype.hasObservers=function(){return this._observers.length>0},Observable.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},Observable.prototype.clone=function(){var t=new Observable;return t._observers=this._observers.slice(0),t},Observable.prototype.hasSpecificMask=function(t){void 0===t&&(t=-1);for(var n=0,u=this._observers;n<u.length;n++){var c=u[n];if(c.mask&t||c.mask===t)return!0}return!1},Observable}()},"./node_modules/@babylonjs/core/Misc/perfCounter.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PerfCounter",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Misc/precisionDate.js"),l=function(){function PerfCounter(){this._startMonitoringTime=0,this._min=0,this._max=0,this._average=0,this._lastSecAverage=0,this._current=0,this._totalValueCount=0,this._totalAccumulated=0,this._lastSecAccumulated=0,this._lastSecTime=0,this._lastSecValueCount=0}return Object.defineProperty(PerfCounter.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"average",{get:function(){return this._average},enumerable:!1,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"lastSecAverage",{get:function(){return this._lastSecAverage},enumerable:!1,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"total",{get:function(){return this._totalAccumulated},enumerable:!1,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"count",{get:function(){return this._totalValueCount},enumerable:!1,configurable:!0}),PerfCounter.prototype.fetchNewFrame=function(){this._totalValueCount++,this._current=0,this._lastSecValueCount++},PerfCounter.prototype.addCount=function(t,n){PerfCounter.Enabled&&(this._current+=t,n&&this._fetchResult())},PerfCounter.prototype.beginMonitoring=function(){PerfCounter.Enabled&&(this._startMonitoringTime=c["PrecisionDate"].Now)},PerfCounter.prototype.endMonitoring=function(t){if(void 0===t&&(t=!0),PerfCounter.Enabled){t&&this.fetchNewFrame();var n=c["PrecisionDate"].Now;this._current=n-this._startMonitoringTime,t&&this._fetchResult()}},PerfCounter.prototype._fetchResult=function(){this._totalAccumulated+=this._current,this._lastSecAccumulated+=this._current,this._min=Math.min(this._min,this._current),this._max=Math.max(this._max,this._current),this._average=this._totalAccumulated/this._totalValueCount;var t=c["PrecisionDate"].Now;t-this._lastSecTime>1e3&&(this._lastSecAverage=this._lastSecAccumulated/this._lastSecValueCount,this._lastSecTime=t,this._lastSecAccumulated=0,this._lastSecValueCount=0)},PerfCounter.Enabled=!0,PerfCounter}()},"./node_modules/@babylonjs/core/Misc/performanceMonitor.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PerformanceMonitor",(function(){return l})),u.d(n,"RollingAverage",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Misc/precisionDate.js"),l=function(){function PerformanceMonitor(t){void 0===t&&(t=30),this._enabled=!0,this._rollingFrameTime=new d(t)}return PerformanceMonitor.prototype.sampleFrame=function(t){if(void 0===t&&(t=c["PrecisionDate"].Now),this._enabled){if(null!=this._lastFrameTimeMs){var n=t-this._lastFrameTimeMs;this._rollingFrameTime.add(n)}this._lastFrameTimeMs=t}},Object.defineProperty(PerformanceMonitor.prototype,"averageFrameTime",{get:function(){return this._rollingFrameTime.average},enumerable:!1,configurable:!0}),Object.defineProperty(PerformanceMonitor.prototype,"averageFrameTimeVariance",{get:function(){return this._rollingFrameTime.variance},enumerable:!1,configurable:!0}),Object.defineProperty(PerformanceMonitor.prototype,"instantaneousFrameTime",{get:function(){return this._rollingFrameTime.history(0)},enumerable:!1,configurable:!0}),Object.defineProperty(PerformanceMonitor.prototype,"averageFPS",{get:function(){return 1e3/this._rollingFrameTime.average},enumerable:!1,configurable:!0}),Object.defineProperty(PerformanceMonitor.prototype,"instantaneousFPS",{get:function(){var t=this._rollingFrameTime.history(0);return 0===t?0:1e3/t},enumerable:!1,configurable:!0}),Object.defineProperty(PerformanceMonitor.prototype,"isSaturated",{get:function(){return this._rollingFrameTime.isSaturated()},enumerable:!1,configurable:!0}),PerformanceMonitor.prototype.enable=function(){this._enabled=!0},PerformanceMonitor.prototype.disable=function(){this._enabled=!1,this._lastFrameTimeMs=null},Object.defineProperty(PerformanceMonitor.prototype,"isEnabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),PerformanceMonitor.prototype.reset=function(){this._lastFrameTimeMs=null,this._rollingFrameTime.reset()},PerformanceMonitor}(),d=function(){function RollingAverage(t){this._samples=new Array(t),this.reset()}return RollingAverage.prototype.add=function(t){var n;if(this.isSaturated()){var u=this._samples[this._pos];n=u-this.average,this.average-=n/(this._sampleCount-1),this._m2-=n*(u-this.average)}else this._sampleCount++;n=t-this.average,this.average+=n/this._sampleCount,this._m2+=n*(t-this.average),this.variance=this._m2/(this._sampleCount-1),this._samples[this._pos]=t,this._pos++,this._pos%=this._samples.length},RollingAverage.prototype.history=function(t){if(t>=this._sampleCount||t>=this._samples.length)return 0;var n=this._wrapPosition(this._pos-1);return this._samples[this._wrapPosition(n-t)]},RollingAverage.prototype.isSaturated=function(){return this._sampleCount>=this._samples.length},RollingAverage.prototype.reset=function(){this.average=0,this.variance=0,this._sampleCount=0,this._pos=0,this._m2=0},RollingAverage.prototype._wrapPosition=function(t){var n=this._samples.length;return(t%n+n)%n},RollingAverage}()},"./node_modules/@babylonjs/core/Misc/precisionDate.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PrecisionDate",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),l=function(){function PrecisionDate(){}return Object.defineProperty(PrecisionDate,"Now",{get:function(){return c["DomManagement"].IsWindowObjectExist()&&window.performance&&window.performance.now?window.performance.now():Date.now()},enumerable:!1,configurable:!0}),PrecisionDate}()},"./node_modules/@babylonjs/core/Misc/promise.js":function(t,n,u){"use strict";var c;u.r(n),u.d(n,"PromisePolyfill",(function(){return h})),function(t){t[t["Pending"]=0]="Pending",t[t["Fulfilled"]=1]="Fulfilled",t[t["Rejected"]=2]="Rejected"}(c||(c={}));var l=function(){function FulFillmentAgregator(){this.count=0,this.target=0,this.results=[]}return FulFillmentAgregator}(),d=function(){function InternalPromise(t){var n=this;if(this._state=c.Pending,this._children=new Array,this._rejectWasConsumed=!1,t)try{t((function(t){n._resolve(t)}),(function(t){n._reject(t)}))}catch(u){this._reject(u)}}return Object.defineProperty(InternalPromise.prototype,"_result",{get:function(){return this._resultValue},set:function(t){this._resultValue=t,this._parent&&void 0===this._parent._result&&(this._parent._result=t)},enumerable:!1,configurable:!0}),InternalPromise.prototype.catch=function(t){return this.then(void 0,t)},InternalPromise.prototype.then=function(t,n){var u=this,l=new InternalPromise;return l._onFulfilled=t,l._onRejected=n,this._children.push(l),l._parent=this,this._state!==c.Pending&&setTimeout((function(){if(u._state===c.Fulfilled||u._rejectWasConsumed){var t=l._resolve(u._result);if(void 0!==t&&null!==t)if(void 0!==t._state){var n=t;l._children.push(n),n._parent=l,l=n}else l._result=t}else l._reject(u._reason)})),l},InternalPromise.prototype._moveChildren=function(t){var n,u=this;if((n=this._children).push.apply(n,t.splice(0,t.length)),this._children.forEach((function(t){t._parent=u})),this._state===c.Fulfilled)for(var l=0,d=this._children;l<d.length;l++){var h=d[l];h._resolve(this._result)}else if(this._state===c.Rejected)for(var p=0,m=this._children;p<m.length;p++){h=m[p];h._reject(this._reason)}},InternalPromise.prototype._resolve=function(t){try{this._state=c.Fulfilled;var n=null;if(this._onFulfilled&&(n=this._onFulfilled(t)),void 0!==n&&null!==n)if(void 0!==n._state){var u=n;u._parent=this,u._moveChildren(this._children),t=u._result}else t=n;this._result=t;for(var l=0,d=this._children;l<d.length;l++){var h=d[l];h._resolve(t)}this._children.length=0,delete this._onFulfilled,delete this._onRejected}catch(p){this._reject(p,!0)}},InternalPromise.prototype._reject=function(t,n){if(void 0===n&&(n=!1),this._state=c.Rejected,this._reason=t,this._onRejected&&!n)try{this._onRejected(t),this._rejectWasConsumed=!0}catch(h){t=h}for(var u=0,l=this._children;u<l.length;u++){var d=l[u];this._rejectWasConsumed?d._resolve(null):d._reject(t)}this._children.length=0,delete this._onFulfilled,delete this._onRejected},InternalPromise.resolve=function(t){var n=new InternalPromise;return n._resolve(t),n},InternalPromise._RegisterForFulfillment=function(t,n,u){t.then((function(t){return n.results[u]=t,n.count++,n.count===n.target&&n.rootPromise._resolve(n.results),null}),(function(t){n.rootPromise._state!==c.Rejected&&n.rootPromise._reject(t)}))},InternalPromise.all=function(t){var n=new InternalPromise,u=new l;if(u.target=t.length,u.rootPromise=n,t.length)for(var c=0;c<t.length;c++)InternalPromise._RegisterForFulfillment(t[c],u,c);else n._resolve([]);return n},InternalPromise.race=function(t){var n=new InternalPromise;if(t.length)for(var u=0,c=t;u<c.length;u++){var l=c[u];l.then((function(t){return n&&(n._resolve(t),n=null),null}),(function(t){n&&(n._reject(t),n=null)}))}return n},InternalPromise}(),h=function(){function PromisePolyfill(){}return PromisePolyfill.Apply=function(t){if(void 0===t&&(t=!1),t||"undefined"===typeof Promise){var n=window;n.Promise=d}},PromisePolyfill}()},"./node_modules/@babylonjs/core/Misc/retryStrategy.js":function(t,n,u){"use strict";u.r(n),u.d(n,"RetryStrategy",(function(){return c}));var c=function(){function RetryStrategy(){}return RetryStrategy.ExponentialBackoff=function(t,n){return void 0===t&&(t=3),void 0===n&&(n=500),function(u,c,l){return 0!==c.status||l>=t||-1!==u.indexOf("file:")?-1:Math.pow(2,l)*n}},RetryStrategy}()},"./node_modules/@babylonjs/core/Misc/smartArray.js":function(t,n,u){"use strict";u.r(n),u.d(n,"SmartArray",(function(){return l})),u.d(n,"SmartArrayNoDuplicate",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=function(){function SmartArray(t){this.length=0,this.data=new Array(t),this._id=SmartArray._GlobalId++}return SmartArray.prototype.push=function(t){this.data[this.length++]=t,this.length>this.data.length&&(this.data.length*=2)},SmartArray.prototype.forEach=function(t){for(var n=0;n<this.length;n++)t(this.data[n])},SmartArray.prototype.sort=function(t){this.data.sort(t)},SmartArray.prototype.reset=function(){this.length=0},SmartArray.prototype.dispose=function(){this.reset(),this.data&&(this.data.length=0,this.data=[])},SmartArray.prototype.concat=function(t){if(0!==t.length){this.length+t.length>this.data.length&&(this.data.length=2*(this.length+t.length));for(var n=0;n<t.length;n++)this.data[this.length++]=(t.data||t)[n]}},SmartArray.prototype.indexOf=function(t){var n=this.data.indexOf(t);return n>=this.length?-1:n},SmartArray.prototype.contains=function(t){return-1!==this.indexOf(t)},SmartArray._GlobalId=0,SmartArray}(),d=function(t){function SmartArrayNoDuplicate(){var n=null!==t&&t.apply(this,arguments)||this;return n._duplicateId=0,n}return Object(c["__extends"])(SmartArrayNoDuplicate,t),SmartArrayNoDuplicate.prototype.push=function(n){t.prototype.push.call(this,n),n.__smartArrayFlags||(n.__smartArrayFlags={}),n.__smartArrayFlags[this._id]=this._duplicateId},SmartArrayNoDuplicate.prototype.pushNoDuplicate=function(t){return(!t.__smartArrayFlags||t.__smartArrayFlags[this._id]!==this._duplicateId)&&(this.push(t),!0)},SmartArrayNoDuplicate.prototype.reset=function(){t.prototype.reset.call(this),this._duplicateId++},SmartArrayNoDuplicate.prototype.concatWithNoDuplicate=function(t){if(0!==t.length){this.length+t.length>this.data.length&&(this.data.length=2*(this.length+t.length));for(var n=0;n<t.length;n++){var u=(t.data||t)[n];this.pushNoDuplicate(u)}}},SmartArrayNoDuplicate}(l)},"./node_modules/@babylonjs/core/Misc/stringDictionary.js":function(t,n,u){"use strict";u.r(n),u.d(n,"StringDictionary",(function(){return c}));var c=function(){function StringDictionary(){this._count=0,this._data={}}return StringDictionary.prototype.copyFrom=function(t){var n=this;this.clear(),t.forEach((function(t,u){return n.add(t,u)}))},StringDictionary.prototype.get=function(t){var n=this._data[t];if(void 0!==n)return n},StringDictionary.prototype.getOrAddWithFactory=function(t,n){var u=this.get(t);return void 0!==u||(u=n(t),u&&this.add(t,u)),u},StringDictionary.prototype.getOrAdd=function(t,n){var u=this.get(t);return void 0!==u?u:(this.add(t,n),n)},StringDictionary.prototype.contains=function(t){return void 0!==this._data[t]},StringDictionary.prototype.add=function(t,n){return void 0===this._data[t]&&(this._data[t]=n,++this._count,!0)},StringDictionary.prototype.set=function(t,n){return void 0!==this._data[t]&&(this._data[t]=n,!0)},StringDictionary.prototype.getAndRemove=function(t){var n=this.get(t);return void 0!==n?(delete this._data[t],--this._count,n):null},StringDictionary.prototype.remove=function(t){return!!this.contains(t)&&(delete this._data[t],--this._count,!0)},StringDictionary.prototype.clear=function(){this._data={},this._count=0},Object.defineProperty(StringDictionary.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),StringDictionary.prototype.forEach=function(t){for(var n in this._data){var u=this._data[n];t(n,u)}},StringDictionary.prototype.first=function(t){for(var n in this._data){var u=this._data[n],c=t(n,u);if(c)return c}return null},StringDictionary}()},"./node_modules/@babylonjs/core/Misc/stringTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"StringTools",(function(){return c}));var c=function(){function StringTools(){}return StringTools.EndsWith=function(t,n){return-1!==t.indexOf(n,t.length-n.length)},StringTools.StartsWith=function(t,n){return!!t&&0===t.indexOf(n)},StringTools.Decode=function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var n="",u=0;u<t.byteLength;u++)n+=String.fromCharCode(t[u]);return n},StringTools.EncodeArrayBufferToBase64=function(t){var n,u,c,l,d,h,p,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_="",g=0,b=ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t);while(g<b.length)n=b[g++],u=g<b.length?b[g++]:Number.NaN,c=g<b.length?b[g++]:Number.NaN,l=n>>2,d=(3&n)<<4|u>>4,h=(15&u)<<2|c>>6,p=63&c,isNaN(u)?h=p=64:isNaN(c)&&(p=64),_+=m.charAt(l)+m.charAt(d)+m.charAt(h)+m.charAt(p);return _},StringTools.PadNumber=function(t,n){var u=String(t);while(u.length<n)u="0"+u;return u},StringTools}()},"./node_modules/@babylonjs/core/Misc/tags.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Tags",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Misc/andOrNotEvaluator.js"),l=function(){function Tags(){}return Tags.EnableFor=function(t){t._tags=t._tags||{},t.hasTags=function(){return Tags.HasTags(t)},t.addTags=function(n){return Tags.AddTagsTo(t,n)},t.removeTags=function(n){return Tags.RemoveTagsFrom(t,n)},t.matchesTagsQuery=function(n){return Tags.MatchesQuery(t,n)}},Tags.DisableFor=function(t){delete t._tags,delete t.hasTags,delete t.addTags,delete t.removeTags,delete t.matchesTagsQuery},Tags.HasTags=function(t){if(!t._tags)return!1;var n=t._tags;for(var u in n)if(n.hasOwnProperty(u))return!0;return!1},Tags.GetTags=function(t,n){if(void 0===n&&(n=!0),!t._tags)return null;if(n){var u=[];for(var c in t._tags)t._tags.hasOwnProperty(c)&&!0===t._tags[c]&&u.push(c);return u.join(" ")}return t._tags},Tags.AddTagsTo=function(t,n){if(n&&"string"===typeof n){var u=n.split(" ");u.forEach((function(n,u,c){Tags._AddTagTo(t,n)}))}},Tags._AddTagTo=function(t,n){n=n.trim(),""!==n&&"true"!==n&&"false"!==n&&(n.match(/[\s]/)||n.match(/^([!]|([|]|[&]){2})/)||(Tags.EnableFor(t),t._tags[n]=!0))},Tags.RemoveTagsFrom=function(t,n){if(Tags.HasTags(t)){var u=n.split(" ");for(var c in u)Tags._RemoveTagFrom(t,u[c])}},Tags._RemoveTagFrom=function(t,n){delete t._tags[n]},Tags.MatchesQuery=function(t,n){return void 0===n||(""===n?Tags.HasTags(t):c["AndOrNotEvaluator"].Eval(n,(function(n){return Tags.HasTags(t)&&t._tags[n]})))},Tags}()},"./node_modules/@babylonjs/core/Misc/timingTools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"TimingTools",(function(){return l}));var c=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),l=function(){function TimingTools(){}return TimingTools.SetImmediate=function(t){c["DomManagement"].IsWindowObjectExist()&&window.setImmediate?window.setImmediate(t):setTimeout(t,1)},TimingTools}()},"./node_modules/@babylonjs/core/Misc/tools.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Tools",(function(){return X})),u.d(n,"className",(function(){return className})),u.d(n,"AsyncLoop",(function(){return q}));var c=u("./node_modules/@babylonjs/core/Misc/observable.js"),l=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),d=u("./node_modules/@babylonjs/core/Misc/logger.js"),h=u("./node_modules/@babylonjs/core/Misc/deepCopier.js"),p=u("./node_modules/@babylonjs/core/Misc/precisionDate.js"),m=u("./node_modules/@babylonjs/core/Misc/devTools.js"),_=u("./node_modules/@babylonjs/core/Misc/webRequest.js"),g=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),b=u("./node_modules/@babylonjs/core/Misc/fileTools.js"),v=u("./node_modules/@babylonjs/core/Misc/promise.js"),U=u("./node_modules/@babylonjs/core/Misc/timingTools.js"),G=u("./node_modules/@babylonjs/core/Misc/instantiationTools.js"),W=u("./node_modules/@babylonjs/core/Misc/guid.js"),X=function(){function Tools(){}return Object.defineProperty(Tools,"BaseUrl",{get:function(){return b["FileTools"].BaseUrl},set:function(t){b["FileTools"].BaseUrl=t},enumerable:!1,configurable:!0}),Object.defineProperty(Tools,"DefaultRetryStrategy",{get:function(){return b["FileTools"].DefaultRetryStrategy},set:function(t){b["FileTools"].DefaultRetryStrategy=t},enumerable:!1,configurable:!0}),Object.defineProperty(Tools,"CorsBehavior",{get:function(){return b["FileTools"].CorsBehavior},set:function(t){b["FileTools"].CorsBehavior=t},enumerable:!1,configurable:!0}),Object.defineProperty(Tools,"UseFallbackTexture",{get:function(){return g["EngineStore"].UseFallbackTexture},set:function(t){g["EngineStore"].UseFallbackTexture=t},enumerable:!1,configurable:!0}),Object.defineProperty(Tools,"RegisteredExternalClasses",{get:function(){return G["InstantiationTools"].RegisteredExternalClasses},set:function(t){G["InstantiationTools"].RegisteredExternalClasses=t},enumerable:!1,configurable:!0}),Object.defineProperty(Tools,"fallbackTexture",{get:function(){return g["EngineStore"].FallbackTexture},set:function(t){g["EngineStore"].FallbackTexture=t},enumerable:!1,configurable:!0}),Tools.FetchToRef=function(t,n,u,c,l,d){var h=Math.abs(t)*u%u|0,p=Math.abs(n)*c%c|0,m=4*(h+p*u);d.r=l[m]/255,d.g=l[m+1]/255,d.b=l[m+2]/255,d.a=l[m+3]/255},Tools.Mix=function(t,n,u){return t*(1-u)+n*u},Tools.Instantiate=function(t){return G["InstantiationTools"].Instantiate(t)},Tools.Slice=function(t,n,u){return t.slice?t.slice(n,u):Array.prototype.slice.call(t,n,u)},Tools.SliceToArray=function(t,n,u){return Array.isArray(t)?t.slice(n,u):Array.prototype.slice.call(t,n,u)},Tools.SetImmediate=function(t){U["TimingTools"].SetImmediate(t)},Tools.IsExponentOfTwo=function(t){var n=1;do{n*=2}while(n<t);return n===t},Tools.FloatRound=function(t){return Math.fround?Math.fround(t):Tools._tmpFloatArray[0]=t},Tools.GetFilename=function(t){var n=t.lastIndexOf("/");return n<0?t:t.substring(n+1)},Tools.GetFolderPath=function(t,n){void 0===n&&(n=!1);var u=t.lastIndexOf("/");return u<0?n?t:"":t.substring(0,u+1)},Tools.ToDegrees=function(t){return 180*t/Math.PI},Tools.ToRadians=function(t){return t*Math.PI/180},Tools.MakeArray=function(t,n){return!0===n||void 0!==t&&null!=t?Array.isArray(t)?t:[t]:null},Tools.GetPointerPrefix=function(t){var n="pointer";return l["DomManagement"].IsWindowObjectExist()&&!window.PointerEvent&&l["DomManagement"].IsNavigatorAvailable()&&!navigator.pointerEnabled&&(n="mouse"),!t._badDesktopOS||t._badOS||document&&"ontouchend"in document||(n="mouse"),n},Tools.SetCorsBehavior=function(t,n){b["FileTools"].SetCorsBehavior(t,n)},Tools.CleanUrl=function(t){return t=t.replace(/#/gm,"%23"),t},Object.defineProperty(Tools,"PreprocessUrl",{get:function(){return b["FileTools"].PreprocessUrl},set:function(t){b["FileTools"].PreprocessUrl=t},enumerable:!1,configurable:!0}),Tools.LoadImage=function(t,n,u,c,l){return b["FileTools"].LoadImage(t,n,u,c,l)},Tools.LoadFile=function(t,n,u,c,l,d){return b["FileTools"].LoadFile(t,n,u,c,l,d)},Tools.LoadFileAsync=function(t,n){return void 0===n&&(n=!0),new Promise((function(u,c){b["FileTools"].LoadFile(t,(function(t){u(t)}),void 0,void 0,n,(function(t,n){c(n)}))}))},Tools.LoadScript=function(t,n,u,c){if(l["DomManagement"].IsWindowObjectExist()){var d=document.getElementsByTagName("head")[0],h=document.createElement("script");h.setAttribute("type","text/javascript"),h.setAttribute("src",t),c&&(h.id=c),h.onload=function(){n&&n()},h.onerror=function(n){u&&u("Unable to load script '"+t+"'",n)},d.appendChild(h)}},Tools.LoadScriptAsync=function(t,n){var u=this;return new Promise((function(n,c){u.LoadScript(t,(function(){n()}),(function(t,n){c(n)}))}))},Tools.ReadFileAsDataURL=function(t,n,u){var l=new FileReader,d={onCompleteObservable:new c["Observable"],abort:function(){return l.abort()}};return l.onloadend=function(t){d.onCompleteObservable.notifyObservers(d)},l.onload=function(t){n(t.target["result"])},l.onprogress=u,l.readAsDataURL(t),d},Tools.ReadFile=function(t,n,u,c,l){return b["FileTools"].ReadFile(t,n,u,c,l)},Tools.FileAsURL=function(t){var n=new Blob([t]),u=window.URL||window.webkitURL,c=u.createObjectURL(n);return c},Tools.Format=function(t,n){return void 0===n&&(n=2),t.toFixed(n)},Tools.DeepCopy=function(t,n,u,c){h["DeepCopier"].DeepCopy(t,n,u,c)},Tools.IsEmpty=function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0},Tools.RegisterTopRootEvents=function(t,n){for(var u=0;u<n.length;u++){var c=n[u];t.addEventListener(c.name,c.handler,!1);try{window.parent&&window.parent.addEventListener(c.name,c.handler,!1)}catch(l){}}},Tools.UnregisterTopRootEvents=function(t,n){for(var u=0;u<n.length;u++){var c=n[u];t.removeEventListener(c.name,c.handler);try{t.parent&&t.parent.removeEventListener(c.name,c.handler)}catch(l){}}},Tools.DumpFramebuffer=function(t,n,u,c,l,d){void 0===l&&(l="image/png");for(var h=4*t,p=n/2,m=u.readPixels(0,0,t,n),_=0;_<p;_++)for(var g=0;g<h;g++){var b=g+_*h,v=n-_-1,U=g+v*h,G=m[b];m[b]=m[U],m[U]=G}Tools._ScreenshotCanvas||(Tools._ScreenshotCanvas=document.createElement("canvas")),Tools._ScreenshotCanvas.width=t,Tools._ScreenshotCanvas.height=n;var W=Tools._ScreenshotCanvas.getContext("2d");if(W){var X=W.createImageData(t,n),q=X.data;q.set(m),W.putImageData(X,0,0),Tools.EncodeScreenshotCanvasData(c,l,d)}},Tools.ToBlob=function(t,n,u){void 0===u&&(u="image/png"),t.toBlob||(t.toBlob=function(t,n,u){var c=this;setTimeout((function(){for(var l=atob(c.toDataURL(n,u).split(",")[1]),d=l.length,h=new Uint8Array(d),p=0;p<d;p++)h[p]=l.charCodeAt(p);t(new Blob([h]))}))}),t.toBlob((function(t){n(t)}),u)},Tools.EncodeScreenshotCanvasData=function(t,n,u){if(void 0===n&&(n="image/png"),t){var c=Tools._ScreenshotCanvas.toDataURL(n);t(c)}else this.ToBlob(Tools._ScreenshotCanvas,(function(t){if("download"in document.createElement("a")){if(!u){var n=new Date,c=(n.getFullYear()+"-"+(n.getMonth()+1)).slice(2)+"-"+n.getDate()+"_"+n.getHours()+"-"+("0"+n.getMinutes()).slice(-2);u="screenshot_"+c+".png"}Tools.Download(t,u)}else{var l=URL.createObjectURL(t),d=window.open("");if(!d)return;var h=d.document.createElement("img");h.onload=function(){URL.revokeObjectURL(l)},h.src=l,d.document.body.appendChild(h)}}),n)},Tools.Download=function(t,n){if(navigator&&navigator.msSaveBlob)navigator.msSaveBlob(t,n);else{var u=window.URL.createObjectURL(t),c=document.createElement("a");document.body.appendChild(c),c.style.display="none",c.href=u,c.download=n,c.addEventListener("click",(function(){c.parentElement&&c.parentElement.removeChild(c)})),c.click(),window.URL.revokeObjectURL(u)}},Tools.BackCompatCameraNoPreventDefault=function(t){return"boolean"===typeof t[0]?t[0]:"boolean"===typeof t[1]&&t[1]},Tools.CreateScreenshot=function(t,n,u,c,l){throw void 0===l&&(l="image/png"),m["_DevTools"].WarnImport("ScreenshotTools")},Tools.CreateScreenshotAsync=function(t,n,u,c){throw void 0===c&&(c="image/png"),m["_DevTools"].WarnImport("ScreenshotTools")},Tools.CreateScreenshotUsingRenderTarget=function(t,n,u,c,l,d,h,p){throw void 0===l&&(l="image/png"),void 0===d&&(d=1),void 0===h&&(h=!1),m["_DevTools"].WarnImport("ScreenshotTools")},Tools.CreateScreenshotUsingRenderTargetAsync=function(t,n,u,c,l,d,h){throw void 0===c&&(c="image/png"),void 0===l&&(l=1),void 0===d&&(d=!1),m["_DevTools"].WarnImport("ScreenshotTools")},Tools.RandomId=function(){return W["GUID"].RandomId()},Tools.IsBase64=function(t){return!(t.length<5)&&"data:"===t.substr(0,5)},Tools.DecodeBase64=function(t){for(var n=atob(t.split(",")[1]),u=n.length,c=new Uint8Array(new ArrayBuffer(u)),l=0;l<u;l++)c[l]=n.charCodeAt(l);return c.buffer},Tools.GetAbsoluteUrl=function(t){var n=document.createElement("a");return n.href=t,n.href},Object.defineProperty(Tools,"errorsCount",{get:function(){return d["Logger"].errorsCount},enumerable:!1,configurable:!0}),Tools.Log=function(t){d["Logger"].Log(t)},Tools.Warn=function(t){d["Logger"].Warn(t)},Tools.Error=function(t){d["Logger"].Error(t)},Object.defineProperty(Tools,"LogCache",{get:function(){return d["Logger"].LogCache},enumerable:!1,configurable:!0}),Tools.ClearLogCache=function(){d["Logger"].ClearLogCache()},Object.defineProperty(Tools,"LogLevels",{set:function(t){d["Logger"].LogLevels=t},enumerable:!1,configurable:!0}),Object.defineProperty(Tools,"PerformanceLogLevel",{set:function(t){return(t&Tools.PerformanceUserMarkLogLevel)===Tools.PerformanceUserMarkLogLevel?(Tools.StartPerformanceCounter=Tools._StartUserMark,void(Tools.EndPerformanceCounter=Tools._EndUserMark)):(t&Tools.PerformanceConsoleLogLevel)===Tools.PerformanceConsoleLogLevel?(Tools.StartPerformanceCounter=Tools._StartPerformanceConsole,void(Tools.EndPerformanceCounter=Tools._EndPerformanceConsole)):(Tools.StartPerformanceCounter=Tools._StartPerformanceCounterDisabled,void(Tools.EndPerformanceCounter=Tools._EndPerformanceCounterDisabled))},enumerable:!1,configurable:!0}),Tools._StartPerformanceCounterDisabled=function(t,n){},Tools._EndPerformanceCounterDisabled=function(t,n){},Tools._StartUserMark=function(t,n){if(void 0===n&&(n=!0),!Tools._performance){if(!l["DomManagement"].IsWindowObjectExist())return;Tools._performance=window.performance}n&&Tools._performance.mark&&Tools._performance.mark(t+"-Begin")},Tools._EndUserMark=function(t,n){void 0===n&&(n=!0),n&&Tools._performance.mark&&(Tools._performance.mark(t+"-End"),Tools._performance.measure(t,t+"-Begin",t+"-End"))},Tools._StartPerformanceConsole=function(t,n){void 0===n&&(n=!0),n&&(Tools._StartUserMark(t,n),console.time&&console.time(t))},Tools._EndPerformanceConsole=function(t,n){void 0===n&&(n=!0),n&&(Tools._EndUserMark(t,n),console.timeEnd(t))},Object.defineProperty(Tools,"Now",{get:function(){return p["PrecisionDate"].Now},enumerable:!1,configurable:!0}),Tools.GetClassName=function(t,n){void 0===n&&(n=!1);var u=null;if(!n&&t.getClassName)u=t.getClassName();else{if(t instanceof Object){var c=n?t:Object.getPrototypeOf(t);u=c.constructor["__bjsclassName__"]}u||(u=typeof t)}return u},Tools.First=function(t,n){for(var u=0,c=t;u<c.length;u++){var l=c[u];if(n(l))return l}return null},Tools.getFullClassName=function(t,n){void 0===n&&(n=!1);var u=null,c=null;if(!n&&t.getClassName)u=t.getClassName();else{if(t instanceof Object){var l=n?t:Object.getPrototypeOf(t);u=l.constructor["__bjsclassName__"],c=l.constructor["__bjsmoduleName__"]}u||(u=typeof t)}return u?(null!=c?c+".":"")+u:null},Tools.DelayAsync=function(t){return new Promise((function(n){setTimeout((function(){n()}),t)}))},Tools.IsSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},Tools.UseCustomRequestHeaders=!1,Tools.CustomRequestHeaders=_["WebRequest"].CustomRequestHeaders,Tools._tmpFloatArray=new Float32Array(1),Tools.GetDOMTextContent=l["DomManagement"].GetDOMTextContent,Tools.NoneLogLevel=d["Logger"].NoneLogLevel,Tools.MessageLogLevel=d["Logger"].MessageLogLevel,Tools.WarningLogLevel=d["Logger"].WarningLogLevel,Tools.ErrorLogLevel=d["Logger"].ErrorLogLevel,Tools.AllLogLevel=d["Logger"].AllLogLevel,Tools.IsWindowObjectExist=l["DomManagement"].IsWindowObjectExist,Tools.PerformanceNoneLogLevel=0,Tools.PerformanceUserMarkLogLevel=1,Tools.PerformanceConsoleLogLevel=2,Tools.StartPerformanceCounter=Tools._StartPerformanceCounterDisabled,Tools.EndPerformanceCounter=Tools._EndPerformanceCounterDisabled,Tools}();function className(t,n){return function(u){u["__bjsclassName__"]=t,u["__bjsmoduleName__"]=null!=n?n:null}}var q=function(){function AsyncLoop(t,n,u,c){void 0===c&&(c=0),this.iterations=t,this.index=c-1,this._done=!1,this._fn=n,this._successCallback=u}return AsyncLoop.prototype.executeNext=function(){this._done||(this.index+1<this.iterations?(++this.index,this._fn(this)):this.breakLoop())},AsyncLoop.prototype.breakLoop=function(){this._done=!0,this._successCallback()},AsyncLoop.Run=function(t,n,u,c){void 0===c&&(c=0);var l=new AsyncLoop(t,n,u,c);return l.executeNext(),l},AsyncLoop.SyncAsyncForLoop=function(t,n,u,c,l,d){return void 0===d&&(d=0),AsyncLoop.Run(Math.ceil(t/n),(function(c){l&&l()?c.breakLoop():setTimeout((function(){for(var d=0;d<n;++d){var h=c.index*n+d;if(h>=t)break;if(u(h),l&&l()){c.breakLoop();break}}c.executeNext()}),d)}),c)},AsyncLoop}();g["EngineStore"].FallbackTexture="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z",v["PromisePolyfill"].Apply()},"./node_modules/@babylonjs/core/Misc/typeStore.js":function(t,n,u){"use strict";u.r(n),u.d(n,"_TypeStore",(function(){return c}));var c=function(){function _TypeStore(){}return _TypeStore.GetClass=function(t){return this.RegisteredTypes&&this.RegisteredTypes[t]?this.RegisteredTypes[t]:null},_TypeStore.RegisteredTypes={},_TypeStore}()},"./node_modules/@babylonjs/core/Misc/uniqueIdGenerator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"UniqueIdGenerator",(function(){return c}));var c=function(){function UniqueIdGenerator(){}return Object.defineProperty(UniqueIdGenerator,"UniqueId",{get:function(){var t=this._UniqueIdCounter;return this._UniqueIdCounter++,t},enumerable:!1,configurable:!0}),UniqueIdGenerator._UniqueIdCounter=0,UniqueIdGenerator}()},"./node_modules/@babylonjs/core/Misc/webRequest.js":function(t,n,u){"use strict";function createXMLHttpRequest(){return"undefined"!==typeof _native&&_native.XMLHttpRequest?new _native.XMLHttpRequest:new XMLHttpRequest}u.r(n),u.d(n,"WebRequest",(function(){return c}));var c=function(){function WebRequest(){this._xhr=createXMLHttpRequest()}return WebRequest.prototype._injectCustomRequestHeaders=function(){for(var t in WebRequest.CustomRequestHeaders){var n=WebRequest.CustomRequestHeaders[t];n&&this._xhr.setRequestHeader(t,n)}},Object.defineProperty(WebRequest.prototype,"onprogress",{get:function(){return this._xhr.onprogress},set:function(t){this._xhr.onprogress=t},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"readyState",{get:function(){return this._xhr.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"status",{get:function(){return this._xhr.status},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"statusText",{get:function(){return this._xhr.statusText},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"response",{get:function(){return this._xhr.response},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"responseURL",{get:function(){return this._xhr.responseURL},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"responseText",{get:function(){return this._xhr.responseText},enumerable:!1,configurable:!0}),Object.defineProperty(WebRequest.prototype,"responseType",{get:function(){return this._xhr.responseType},set:function(t){this._xhr.responseType=t},enumerable:!1,configurable:!0}),WebRequest.prototype.addEventListener=function(t,n,u){this._xhr.addEventListener(t,n,u)},WebRequest.prototype.removeEventListener=function(t,n,u){this._xhr.removeEventListener(t,n,u)},WebRequest.prototype.abort=function(){this._xhr.abort()},WebRequest.prototype.send=function(t){WebRequest.CustomRequestHeaders&&this._injectCustomRequestHeaders(),this._xhr.send(t)},WebRequest.prototype.open=function(t,n){for(var u=0,c=WebRequest.CustomRequestModifiers;u<c.length;u++){var l=c[u];l(this._xhr,n)}return n=n.replace("file:http:","http:"),n=n.replace("file:https:","https:"),this._xhr.open(t,n,!0)},WebRequest.prototype.setRequestHeader=function(t,n){this._xhr.setRequestHeader(t,n)},WebRequest.prototype.getResponseHeader=function(t){return this._xhr.getResponseHeader(t)},WebRequest.CustomRequestHeaders={},WebRequest.CustomRequestModifiers=new Array,WebRequest}()},"./node_modules/@babylonjs/core/Particles/cloudPoint.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CloudPoint",(function(){return l})),u.d(n,"PointsGroup",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Maths/math.js"),l=function(){function CloudPoint(t,n,u,l,d){this.idx=0,this.color=new c["Color4"](1,1,1,1),this.position=c["Vector3"].Zero(),this.rotation=c["Vector3"].Zero(),this.uv=new c["Vector2"](0,0),this.velocity=c["Vector3"].Zero(),this.pivot=c["Vector3"].Zero(),this.translateFromPivot=!1,this._pos=0,this._ind=0,this.groupId=0,this.idxInGroup=0,this._stillInvisible=!1,this._rotationMatrix=[1,0,0,0,1,0,0,0,1],this.parentId=null,this._globalPosition=c["Vector3"].Zero(),this.idx=t,this._group=n,this.groupId=u,this.idxInGroup=l,this._pcs=d}return Object.defineProperty(CloudPoint.prototype,"size",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!1,configurable:!0}),Object.defineProperty(CloudPoint.prototype,"quaternion",{get:function(){return this.rotationQuaternion},set:function(t){this.rotationQuaternion=t},enumerable:!1,configurable:!0}),CloudPoint.prototype.intersectsMesh=function(t,n){if(!t._boundingInfo)return!1;if(n=n||!1,n)return t.getBoundingInfo().boundingSphere.intersectsPoint(this.position.add(this._pcs.mesh.position));var u=0,c=0,l=0,d=0,h=0,p=0;u=t.getBoundingInfo().boundingBox.maximumWorld.x,c=t.getBoundingInfo().boundingBox.minimumWorld.x,l=t.getBoundingInfo().boundingBox.maximumWorld.y,d=t.getBoundingInfo().boundingBox.minimumWorld.y,h=t.getBoundingInfo().boundingBox.maximumWorld.z,p=t.getBoundingInfo().boundingBox.minimumWorld.z;var m=this.position.x+this._pcs.mesh.position.x,_=this.position.y+this._pcs.mesh.position.y,g=this.position.z+this._pcs.mesh.position.z;return c<=m&&m<=u&&d<=_&&_<=l&&p<=g&&g<=h},CloudPoint.prototype.getRotationMatrix=function(t){var n;if(this.rotationQuaternion)n=this.rotationQuaternion;else{n=c["TmpVectors"].Quaternion[0];var u=this.rotation;c["Quaternion"].RotationYawPitchRollToRef(u.y,u.x,u.z,n)}n.toRotationMatrix(t)},CloudPoint}(),d=function(){function PointsGroup(t,n){this.groupID=t,this._positionFunction=n}return PointsGroup}()},"./node_modules/@babylonjs/core/Particles/pointsCloudSystem.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PointColor",(function(){return c})),u.d(n,"PointsCloudSystem",(function(){return q}));var c,l=u("./node_modules/@babylonjs/core/Maths/math.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Misc/logger.js"),p=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),m=u("./node_modules/@babylonjs/core/Meshes/mesh.vertexData.js"),_=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),g=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),b=u("./node_modules/@babylonjs/core/Particles/cloudPoint.js"),v=u("./node_modules/@babylonjs/core/Culling/boundingInfo.js"),U=u("./node_modules/@babylonjs/core/Culling/ray.js"),G=u("./node_modules/@babylonjs/core/Materials/standardMaterial.js"),W=u("./node_modules/@babylonjs/core/Materials/Textures/baseTexture.js"),X=u("./node_modules/@babylonjs/core/Maths/math.scalar.js");(function(t){t[t["Color"]=2]="Color",t[t["UV"]=1]="UV",t[t["Random"]=0]="Random",t[t["Stated"]=3]="Stated"})(c||(c={}));var q=function(){function PointsCloudSystem(t,n,u,c){this.particles=new Array,this.nbParticles=0,this.counter=0,this.vars={},this._promises=[],this._positions=new Array,this._indices=new Array,this._normals=new Array,this._colors=new Array,this._uvs=new Array,this._updatable=!0,this._isVisibilityBoxLocked=!1,this._alwaysVisible=!1,this._groups=new Array,this._groupCounter=0,this._computeParticleColor=!0,this._computeParticleTexture=!0,this._computeParticleRotation=!0,this._computeBoundingBox=!1,this._isReady=!1,this.name=t,this._size=n,this._scene=u||g["EngineStore"].LastCreatedScene,c&&void 0!==c.updatable?this._updatable=c.updatable:this._updatable=!0}return PointsCloudSystem.prototype.buildMeshAsync=function(){var t=this;return Promise.all(this._promises).then((function(){return t._isReady=!0,t._buildMesh()}))},PointsCloudSystem.prototype._buildMesh=function(){0===this.nbParticles&&this.addPoints(1),this._positions32=new Float32Array(this._positions),this._uvs32=new Float32Array(this._uvs),this._colors32=new Float32Array(this._colors);var t=new m["VertexData"];t.set(this._positions32,p["VertexBuffer"].PositionKind),this._uvs32.length>0&&t.set(this._uvs32,p["VertexBuffer"].UVKind);var n=0;this._colors32.length>0&&(n=1,t.set(this._colors32,p["VertexBuffer"].ColorKind));var u=new _["Mesh"](this.name,this._scene);t.applyToMesh(u,this._updatable),this.mesh=u,this._positions=null,this._uvs=null,this._colors=null,this._updatable||(this.particles.length=0);var c=new G["StandardMaterial"]("point cloud material",this._scene);return c.emissiveColor=new l["Color3"](n,n,n),c.disableLighting=!0,c.pointsCloud=!0,c.pointSize=this._size,u.material=c,new Promise((function(t){return t(u)}))},PointsCloudSystem.prototype._addParticle=function(t,n,u,c){var l=new b["CloudPoint"](t,n,u,c,this);return this.particles.push(l),l},PointsCloudSystem.prototype._randomUnitVector=function(t){t.position=new d["Vector3"](Math.random(),Math.random(),Math.random()),t.color=new l["Color4"](1,1,1,1)},PointsCloudSystem.prototype._getColorIndicesForCoord=function(t,n,u,c){var d=t._groupImageData,h=u*(4*c)+4*n,p=[h,h+1,h+2,h+3],m=p[0],_=p[1],g=p[2],b=p[3],v=d[m],U=d[_],G=d[g],W=d[b];return new l["Color4"](v/255,U/255,G/255,W)},PointsCloudSystem.prototype._setPointsColorOrUV=function(t,n,u,c,h,m,_){u&&t.updateFacetData();var g=t.getBoundingInfo(),b=2*g.boundingSphere.radius,v=t.getVerticesData(p["VertexBuffer"].PositionKind),G=t.getIndices(),W=t.getVerticesData(p["VertexBuffer"].UVKind),q=t.getVerticesData(p["VertexBuffer"].ColorKind),K=d["Vector3"].Zero();t.computeWorldMatrix();var Y=t.getWorldMatrix();if(!Y.isIdentity())for(var Q=0;Q<v.length/3;Q++)d["Vector3"].TransformCoordinatesFromFloatsToRef(v[3*Q],v[3*Q+1],v[3*Q+2],Y,K),v[3*Q]=K.x,v[3*Q+1]=K.y,v[3*Q+2]=K.z;var Z,$,J=0,ee=0,te=0,re=0,ne=0,ie=0,oe=0,se=0,ae=0,ue=0,ce=0,le=0,de=0,he=0,fe=d["Vector3"].Zero(),pe=d["Vector3"].Zero(),me=d["Vector3"].Zero(),_e=d["Vector3"].Zero(),ge=d["Vector3"].Zero(),be=0,ve=0,ye=0,xe=0,Me=0,Te=0,Se=d["Vector2"].Zero(),Ce=d["Vector2"].Zero(),Ee=d["Vector2"].Zero(),Oe=d["Vector2"].Zero(),Pe=d["Vector2"].Zero(),je=0,Ae=0,Re=0,Ie=0,we=0,De=0,Fe=0,Be=0,Le=0,Ve=0,Ne=0,ke=0,Ue=d["Vector4"].Zero(),ze=d["Vector4"].Zero(),Ge=d["Vector4"].Zero(),We=d["Vector4"].Zero(),He=d["Vector4"].Zero(),Xe=0,qe=0;_=_||0;var Ke,Ye=new d["Vector4"](0,0,0,0),Qe=d["Vector3"].Zero(),Ze=d["Vector3"].Zero(),$e=d["Vector3"].Zero(),Je=0,et=d["Vector3"].Zero(),tt=0,rt=0,nt=new U["Ray"](d["Vector3"].Zero(),new d["Vector3"](1,0,0)),it=d["Vector3"].Zero();for(ee=0;ee<G.length/3;ee++){var ot,st,at,ut,ct,lt,dt,ht;te=G[3*ee],re=G[3*ee+1],ne=G[3*ee+2],ie=v[3*te],oe=v[3*te+1],se=v[3*te+2],ae=v[3*re],ue=v[3*re+1],ce=v[3*re+2],le=v[3*ne],de=v[3*ne+1],he=v[3*ne+2],fe.set(ie,oe,se),pe.set(ae,ue,ce),me.set(le,de,he),pe.subtractToRef(fe,_e),me.subtractToRef(pe,ge),W&&(be=W[2*te],ve=W[2*te+1],ye=W[2*re],xe=W[2*re+1],Me=W[2*ne],Te=W[2*ne+1],Se.set(be,ve),Ce.set(ye,xe),Ee.set(Me,Te),Ce.subtractToRef(Se,Oe),Ee.subtractToRef(Ce,Pe)),q&&c&&(je=q[4*te],Ae=q[4*te+1],Re=q[4*te+2],Ie=q[4*te+3],we=q[4*re],De=q[4*re+1],Fe=q[4*re+2],Be=q[4*re+3],Le=q[4*ne],Ve=q[4*ne+1],Ne=q[4*ne+2],ke=q[4*ne+3],Ue.set(je,Ae,Re,Ie),ze.set(we,De,Fe,Be),Ge.set(Le,Ve,Ne,ke),ze.subtractToRef(Ue,We),Ge.subtractToRef(ze,He));for(var ft,pt,mt=new l["Color3"](0,0,0),_t=new l["Color3"](0,0,0),gt=0;gt<n._groupDensity[ee];gt++)J=this.particles.length,this._addParticle(J,n,this._groupCounter,ee+gt),pt=this.particles[J],Xe=X["Scalar"].RandomRange(0,1),qe=X["Scalar"].RandomRange(0,1),Z=fe.add(_e.scale(Xe)).add(ge.scale(Xe*qe)),u&&(Qe=t.getFacetNormal(ee).normalize().scale(-1),Ze=_e.clone().normalize(),$e=d["Vector3"].Cross(Qe,Ze),Je=X["Scalar"].RandomRange(0,2*Math.PI),et=Ze.scale(Math.cos(Je)).add($e.scale(Math.sin(Je))),Je=X["Scalar"].RandomRange(.1,Math.PI/2),it=et.scale(Math.cos(Je)).add(Qe.scale(Math.sin(Je))),nt.origin=Z.add(it.scale(1e-5)),nt.direction=it,nt.length=b,Ke=nt.intersectsMesh(t),Ke.hit&&(rt=Ke.pickedPoint.subtract(Z).length(),tt=X["Scalar"].RandomRange(0,1)*rt,Z.addInPlace(it.scale(tt)))),pt.position=Z.clone(),this._positions.push(pt.position.x,pt.position.y,pt.position.z),void 0!==c?W&&($=Se.add(Oe.scale(Xe)).add(Pe.scale(Xe*qe)),c?h&&null!==n._groupImageData?(ot=n._groupImgWidth,st=n._groupImgHeight,ft=this._getColorIndicesForCoord(n,Math.round($.x*ot),Math.round($.y*st),ot),pt.color=ft,this._colors.push(ft.r,ft.g,ft.b,ft.a)):q?(Ye=Ue.add(We.scale(Xe)).add(He.scale(Xe*qe)),pt.color=new l["Color4"](Ye.x,Ye.y,Ye.z,Ye.w),this._colors.push(Ye.x,Ye.y,Ye.z,Ye.w)):(Ye=Ue.set(Math.random(),Math.random(),Math.random(),1),pt.color=new l["Color4"](Ye.x,Ye.y,Ye.z,Ye.w),this._colors.push(Ye.x,Ye.y,Ye.z,Ye.w)):(pt.uv=$.clone(),this._uvs.push(pt.uv.x,pt.uv.y))):(m?(mt.set(m.r,m.g,m.b),at=X["Scalar"].RandomRange(-_,_),ut=X["Scalar"].RandomRange(-_,_),ht=mt.toHSV(),ct=ht.r,lt=ht.g+at,dt=ht.b+ut,lt<0&&(lt=0),lt>1&&(lt=1),dt<0&&(dt=0),dt>1&&(dt=1),l["Color3"].HSVtoRGBToRef(ct,lt,dt,_t),Ye.set(_t.r,_t.g,_t.b,1)):Ye=Ue.set(Math.random(),Math.random(),Math.random(),1),pt.color=new l["Color4"](Ye.x,Ye.y,Ye.z,Ye.w),this._colors.push(Ye.x,Ye.y,Ye.z,Ye.w))}},PointsCloudSystem.prototype._colorFromTexture=function(t,n,u){var c=this;if(null===t.material)return h["Logger"].Warn(t.name+"has no material."),n._groupImageData=null,void this._setPointsColorOrUV(t,n,u,!0,!1);var l=t.material,d=l.getActiveTextures();if(0===d.length)return h["Logger"].Warn(t.name+"has no useable texture."),n._groupImageData=null,void this._setPointsColorOrUV(t,n,u,!0,!1);var p=t.clone();p.setEnabled(!1),this._promises.push(new Promise((function(t){W["BaseTexture"].WhenAllReady(d,(function(){var l=n._textureNb;return l<0&&(l=0),l>d.length-1&&(l=d.length-1),n._groupImageData=d[l].readPixels(),n._groupImgWidth=d[l].getSize().width,n._groupImgHeight=d[l].getSize().height,c._setPointsColorOrUV(p,n,u,!0,!0),p.dispose(),t()}))})))},PointsCloudSystem.prototype._calculateDensity=function(t,n,u){for(var c,l,h,p,m,_,g,b,v,U,G,W,X,q,K,Y,Q,Z=new Array,$=d["Vector3"].Zero(),J=d["Vector3"].Zero(),ee=d["Vector3"].Zero(),te=d["Vector3"].Zero(),re=d["Vector3"].Zero(),ne=d["Vector3"].Zero(),ie=new Array,oe=0,se=u.length/3,ae=0;ae<se;ae++)c=u[3*ae],l=u[3*ae+1],h=u[3*ae+2],p=n[3*c],m=n[3*c+1],_=n[3*c+2],g=n[3*l],b=n[3*l+1],v=n[3*l+2],U=n[3*h],G=n[3*h+1],W=n[3*h+2],$.set(p,m,_),J.set(g,b,v),ee.set(U,G,W),J.subtractToRef($,te),ee.subtractToRef(J,re),ee.subtractToRef($,ne),X=te.length(),q=re.length(),K=ne.length(),Y=(X+q+K)/2,Q=Math.sqrt(Y*(Y-X)*(Y-q)*(Y-K)),oe+=Q,ie[ae]=Q;var ue=0;for(ae=0;ae<se;ae++)Z[ae]=Math.floor(t*ie[ae]/oe),ue+=Z[ae];var ce=t-ue,le=Math.floor(ce/se),de=ce%se;le>0&&(Z=Z.map((function(t){return t+le})));for(ae=0;ae<de;ae++)Z[ae]+=1;return Z},PointsCloudSystem.prototype.addPoints=function(t,n){void 0===n&&(n=this._randomUnitVector);for(var u,c=new b["PointsGroup"](this._groupCounter,n),l=this.nbParticles,d=0;d<t;d++)u=this._addParticle(l,c,this._groupCounter,d),c&&c._positionFunction&&c._positionFunction(u,l,d),this._positions.push(u.position.x,u.position.y,u.position.z),u.color&&this._colors.push(u.color.r,u.color.g,u.color.b,u.color.a),u.uv&&this._uvs.push(u.uv.x,u.uv.y),l++;return this.nbParticles+=t,this._groupCounter++,this._groupCounter},PointsCloudSystem.prototype.addSurfacePoints=function(t,n,u,d,h){var m=u||c.Random;(isNaN(m)||m<0||m>3)&&(m=c.Random);var _=t.getVerticesData(p["VertexBuffer"].PositionKind),g=t.getIndices();this._groups.push(this._groupCounter);var v=new b["PointsGroup"](this._groupCounter,null);switch(v._groupDensity=this._calculateDensity(n,_,g),m===c.Color?v._textureNb=d||0:d=d||new l["Color4"](1,1,1,1),m){case c.Color:this._colorFromTexture(t,v,!1);break;case c.UV:this._setPointsColorOrUV(t,v,!1,!1,!1);break;case c.Random:this._setPointsColorOrUV(t,v,!1);break;case c.Stated:this._setPointsColorOrUV(t,v,!1,void 0,void 0,d,h);break}return this.nbParticles+=n,this._groupCounter++,this._groupCounter-1},PointsCloudSystem.prototype.addVolumePoints=function(t,n,u,d,h){var m=u||c.Random;(isNaN(m)||m<0||m>3)&&(m=c.Random);var _=t.getVerticesData(p["VertexBuffer"].PositionKind),g=t.getIndices();this._groups.push(this._groupCounter);var v=new b["PointsGroup"](this._groupCounter,null);switch(v._groupDensity=this._calculateDensity(n,_,g),m===c.Color?v._textureNb=d||0:d=d||new l["Color4"](1,1,1,1),m){case c.Color:this._colorFromTexture(t,v,!0);break;case c.UV:this._setPointsColorOrUV(t,v,!0,!1,!1);break;case c.Random:this._setPointsColorOrUV(t,v,!0);break;case c.Stated:this._setPointsColorOrUV(t,v,!0,void 0,void 0,d,h);break}return this.nbParticles+=n,this._groupCounter++,this._groupCounter-1},PointsCloudSystem.prototype.setParticles=function(t,n,u){if(void 0===t&&(t=0),void 0===n&&(n=this.nbParticles-1),void 0===u&&(u=!0),!this._updatable||!this._isReady)return this;this.beforeUpdateParticles(t,n,u);var c=d["TmpVectors"].Matrix[0],l=this.mesh,h=this._colors32,m=this._positions32,_=this._uvs32,g=d["TmpVectors"].Vector3,b=g[5].copyFromFloats(1,0,0),U=g[6].copyFromFloats(0,1,0),G=g[7].copyFromFloats(0,0,1),W=g[8].setAll(Number.MAX_VALUE),X=g[9].setAll(-Number.MAX_VALUE);d["Matrix"].IdentityToRef(c);var q=0;if(this.mesh.isFacetDataEnabled&&(this._computeBoundingBox=!0),n=n>=this.nbParticles?this.nbParticles-1:n,this._computeBoundingBox&&(0!=t||n!=this.nbParticles-1)){var K=this.mesh._boundingInfo;K&&(W.copyFrom(K.minimum),X.copyFrom(K.maximum))}q=0;for(var Y=0,Q=0,Z=0,$=t;$<=n;$++){var J=this.particles[$];q=J.idx,Y=3*q,Q=4*q,Z=2*q,this.updateParticle(J);var ee=J._rotationMatrix,te=J.position,re=J._globalPosition;this._computeParticleRotation&&J.getRotationMatrix(c);var ne=null!==J.parentId;if(ne){var ie=this.particles[J.parentId],oe=ie._rotationMatrix,se=ie._globalPosition,ae=te.x*oe[1]+te.y*oe[4]+te.z*oe[7],ue=te.x*oe[0]+te.y*oe[3]+te.z*oe[6],ce=te.x*oe[2]+te.y*oe[5]+te.z*oe[8];if(re.x=se.x+ue,re.y=se.y+ae,re.z=se.z+ce,this._computeParticleRotation){var le=c.m;ee[0]=le[0]*oe[0]+le[1]*oe[3]+le[2]*oe[6],ee[1]=le[0]*oe[1]+le[1]*oe[4]+le[2]*oe[7],ee[2]=le[0]*oe[2]+le[1]*oe[5]+le[2]*oe[8],ee[3]=le[4]*oe[0]+le[5]*oe[3]+le[6]*oe[6],ee[4]=le[4]*oe[1]+le[5]*oe[4]+le[6]*oe[7],ee[5]=le[4]*oe[2]+le[5]*oe[5]+le[6]*oe[8],ee[6]=le[8]*oe[0]+le[9]*oe[3]+le[10]*oe[6],ee[7]=le[8]*oe[1]+le[9]*oe[4]+le[10]*oe[7],ee[8]=le[8]*oe[2]+le[9]*oe[5]+le[10]*oe[8]}}else if(re.x=0,re.y=0,re.z=0,this._computeParticleRotation){le=c.m;ee[0]=le[0],ee[1]=le[1],ee[2]=le[2],ee[3]=le[4],ee[4]=le[5],ee[5]=le[6],ee[6]=le[8],ee[7]=le[9],ee[8]=le[10]}var de=g[11];J.translateFromPivot?de.setAll(0):de.copyFrom(J.pivot);var he=g[0];he.copyFrom(J.position);var fe=he.x-J.pivot.x,pe=he.y-J.pivot.y,me=he.z-J.pivot.z,_e=fe*ee[0]+pe*ee[3]+me*ee[6],ge=fe*ee[1]+pe*ee[4]+me*ee[7],be=fe*ee[2]+pe*ee[5]+me*ee[8];_e+=de.x,ge+=de.y,be+=de.z;var ve=m[Y]=re.x+b.x*_e+U.x*ge+G.x*be,ye=m[Y+1]=re.y+b.y*_e+U.y*ge+G.y*be,xe=m[Y+2]=re.z+b.z*_e+U.z*ge+G.z*be;if(this._computeBoundingBox&&(W.minimizeInPlaceFromFloats(ve,ye,xe),X.maximizeInPlaceFromFloats(ve,ye,xe)),this._computeParticleColor&&J.color){var Me=J.color,Te=this._colors32;Te[Q]=Me.r,Te[Q+1]=Me.g,Te[Q+2]=Me.b,Te[Q+3]=Me.a}if(this._computeParticleTexture&&J.uv){var Se=J.uv,Ce=this._uvs32;Ce[Z]=Se.x,Ce[Z+1]=Se.y}}return u&&(this._computeParticleColor&&l.updateVerticesData(p["VertexBuffer"].ColorKind,h,!1,!1),this._computeParticleTexture&&l.updateVerticesData(p["VertexBuffer"].UVKind,_,!1,!1),l.updateVerticesData(p["VertexBuffer"].PositionKind,m,!1,!1)),this._computeBoundingBox&&(l._boundingInfo?l._boundingInfo.reConstruct(W,X,l._worldMatrix):l._boundingInfo=new v["BoundingInfo"](W,X,l._worldMatrix)),this.afterUpdateParticles(t,n,u),this},PointsCloudSystem.prototype.dispose=function(){this.mesh.dispose(),this.vars=null,this._positions=null,this._indices=null,this._normals=null,this._uvs=null,this._colors=null,this._indices32=null,this._positions32=null,this._uvs32=null,this._colors32=null},PointsCloudSystem.prototype.refreshVisibleSize=function(){return this._isVisibilityBoxLocked||this.mesh.refreshBoundingInfo(),this},PointsCloudSystem.prototype.setVisibilityBox=function(t){var n=t/2;this.mesh._boundingInfo=new v["BoundingInfo"](new d["Vector3"](-n,-n,-n),new d["Vector3"](n,n,n))},Object.defineProperty(PointsCloudSystem.prototype,"isAlwaysVisible",{get:function(){return this._alwaysVisible},set:function(t){this._alwaysVisible=t,this.mesh.alwaysSelectAsActiveMesh=t},enumerable:!1,configurable:!0}),Object.defineProperty(PointsCloudSystem.prototype,"computeParticleRotation",{set:function(t){this._computeParticleRotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(PointsCloudSystem.prototype,"computeParticleColor",{get:function(){return this._computeParticleColor},set:function(t){this._computeParticleColor=t},enumerable:!1,configurable:!0}),Object.defineProperty(PointsCloudSystem.prototype,"computeParticleTexture",{get:function(){return this._computeParticleTexture},set:function(t){this._computeParticleTexture=t},enumerable:!1,configurable:!0}),Object.defineProperty(PointsCloudSystem.prototype,"computeBoundingBox",{get:function(){return this._computeBoundingBox},set:function(t){this._computeBoundingBox=t},enumerable:!1,configurable:!0}),PointsCloudSystem.prototype.initParticles=function(){},PointsCloudSystem.prototype.recycleParticle=function(t){return t},PointsCloudSystem.prototype.updateParticle=function(t){return t},PointsCloudSystem.prototype.beforeUpdateParticles=function(t,n,u){},PointsCloudSystem.prototype.afterUpdateParticles=function(t,n,u){},PointsCloudSystem}()},"./node_modules/@babylonjs/core/PostProcesses/blurPostProcess.js":function(t,n,u){"use strict";u.r(n),u.d(n,"BlurPostProcess",(function(){return m}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/PostProcesses/postProcess.js"),d=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),h=(u("./node_modules/@babylonjs/core/Shaders/kernelBlur.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/kernelBlur.vertex.js"),u("./node_modules/@babylonjs/core/Misc/typeStore.js")),p=u("./node_modules/@babylonjs/core/Misc/decorators.js"),m=function(t){function BlurPostProcess(n,u,c,l,h,p,m,_,g,b,v){void 0===p&&(p=d["Texture"].BILINEAR_SAMPLINGMODE),void 0===g&&(g=0),void 0===b&&(b=""),void 0===v&&(v=!1);var U=t.call(this,n,"kernelBlur",["delta","direction","cameraMinMaxZ"],["circleOfConfusionSampler"],l,h,p,m,_,null,g,"kernelBlur",{varyingCount:0,depCount:0},!0)||this;return U.blockCompilation=v,U._packedFloat=!1,U._staticDefines="",U._staticDefines=b,U.direction=u,U.onApplyObservable.add((function(t){U._outputTexture?t.setFloat2("delta",1/U._outputTexture.width*U.direction.x,1/U._outputTexture.height*U.direction.y):t.setFloat2("delta",1/U.width*U.direction.x,1/U.height*U.direction.y)})),U.kernel=c,U}return Object(c["__extends"])(BlurPostProcess,t),Object.defineProperty(BlurPostProcess.prototype,"kernel",{get:function(){return this._idealKernel},set:function(t){this._idealKernel!==t&&(t=Math.max(t,1),this._idealKernel=t,this._kernel=this._nearestBestKernel(t),this.blockCompilation||this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(BlurPostProcess.prototype,"packedFloat",{get:function(){return this._packedFloat},set:function(t){this._packedFloat!==t&&(this._packedFloat=t,this.blockCompilation||this._updateParameters())},enumerable:!1,configurable:!0}),BlurPostProcess.prototype.getClassName=function(){return"BlurPostProcess"},BlurPostProcess.prototype.updateEffect=function(t,n,u,c,l,d){void 0===t&&(t=null),void 0===n&&(n=null),void 0===u&&(u=null),this._updateParameters(l,d)},BlurPostProcess.prototype._updateParameters=function(n,u){for(var c=this._kernel,l=(c-1)/2,d=[],h=[],p=0,m=0;m<c;m++){var _=m/(c-1),g=this._gaussianWeight(2*_-1);d[m]=m-l,h[m]=g,p+=g}for(m=0;m<h.length;m++)h[m]/=p;var b=[],v=[],U=[];for(m=0;m<=l;m+=2){var G=Math.min(m+1,Math.floor(l)),W=m===G;if(W)U.push({o:d[m],w:h[m]});else{var X=G===l,q=h[m]+h[G]*(X?.5:1),K=d[m]+1/(1+h[m]/h[G]);0===K?(U.push({o:d[m],w:h[m]}),U.push({o:d[m+1],w:h[m+1]})):(U.push({o:K,w:q}),U.push({o:-K,w:q}))}}for(m=0;m<U.length;m++)v[m]=U[m].o,b[m]=U[m].w;d=v,h=b;var Y=this.getEngine().getCaps().maxVaryingVectors,Q=Math.max(Y,0)-1,Z=Math.min(d.length,Q),$="";$+=this._staticDefines,-1!=this._staticDefines.indexOf("DOF")&&($+="#define CENTER_WEIGHT "+this._glslFloat(h[Z-1])+"\r\n",Z--);for(m=0;m<Z;m++)$+="#define KERNEL_OFFSET"+m+" "+this._glslFloat(d[m])+"\r\n",$+="#define KERNEL_WEIGHT"+m+" "+this._glslFloat(h[m])+"\r\n";var J=0;for(m=Q;m<d.length;m++)$+="#define KERNEL_DEP_OFFSET"+J+" "+this._glslFloat(d[m])+"\r\n",$+="#define KERNEL_DEP_WEIGHT"+J+" "+this._glslFloat(h[m])+"\r\n",J++;this.packedFloat&&($+="#define PACKEDFLOAT 1"),this.blockCompilation=!1,t.prototype.updateEffect.call(this,$,null,null,{varyingCount:Z,depCount:J},n,u)},BlurPostProcess.prototype._nearestBestKernel=function(t){for(var n=Math.round(t),u=0,c=[n,n-1,n+1,n-2,n+2];u<c.length;u++){var l=c[u];if(l%2!==0&&Math.floor(l/2)%2===0&&l>0)return Math.max(l,3)}return Math.max(n,3)},BlurPostProcess.prototype._gaussianWeight=function(t){var n=1/3,u=Math.sqrt(2*Math.PI)*n,c=-t*t/(2*n*n),l=1/u*Math.exp(c);return l},BlurPostProcess.prototype._glslFloat=function(t,n){return void 0===n&&(n=8),t.toFixed(n).replace(/0+$/,"")},BlurPostProcess._Parse=function(t,n,u,c){return p["SerializationHelper"].Parse((function(){return new BlurPostProcess(t.name,t.direction,t.kernel,t.options,n,t.renderTargetSamplingMode,u.getEngine(),t.reusable,t.textureType,void 0,!1)}),t,u,c)},Object(c["__decorate"])([Object(p["serialize"])("kernel")],BlurPostProcess.prototype,"_kernel",void 0),Object(c["__decorate"])([Object(p["serialize"])("packedFloat")],BlurPostProcess.prototype,"_packedFloat",void 0),Object(c["__decorate"])([Object(p["serializeAsVector2"])()],BlurPostProcess.prototype,"direction",void 0),BlurPostProcess}(l["PostProcess"]);h["_TypeStore"].RegisteredTypes["BABYLON.BlurPostProcess"]=m},"./node_modules/@babylonjs/core/PostProcesses/passPostProcess.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PassPostProcess",(function(){return m})),u.d(n,"PassCubePostProcess",(function(){return _}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/PostProcesses/postProcess.js"),d=u("./node_modules/@babylonjs/core/Engines/engine.js"),h=(u("./node_modules/@babylonjs/core/Shaders/pass.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/passCube.fragment.js"),u("./node_modules/@babylonjs/core/Misc/typeStore.js")),p=u("./node_modules/@babylonjs/core/Misc/decorators.js"),m=function(t){function PassPostProcess(n,u,c,l,d,h,p,m){return void 0===c&&(c=null),void 0===p&&(p=0),void 0===m&&(m=!1),t.call(this,n,"pass",null,null,u,c,l,d,h,void 0,p,void 0,null,m)||this}return Object(c["__extends"])(PassPostProcess,t),PassPostProcess.prototype.getClassName=function(){return"PassPostProcess"},PassPostProcess._Parse=function(t,n,u,c){return p["SerializationHelper"].Parse((function(){return new PassPostProcess(t.name,t.options,n,t.renderTargetSamplingMode,u.getEngine(),t.reusable)}),t,u,c)},PassPostProcess}(l["PostProcess"]);h["_TypeStore"].RegisteredTypes["BABYLON.PassPostProcess"]=m;var _=function(t){function PassCubePostProcess(n,u,c,l,d,h,p,m){void 0===c&&(c=null),void 0===p&&(p=0),void 0===m&&(m=!1);var _=t.call(this,n,"passCube",null,null,u,c,l,d,h,"#define POSITIVEX",p,void 0,null,m)||this;return _._face=0,_}return Object(c["__extends"])(PassCubePostProcess,t),Object.defineProperty(PassCubePostProcess.prototype,"face",{get:function(){return this._face},set:function(t){if(!(t<0||t>5))switch(this._face=t,this._face){case 0:this.updateEffect("#define POSITIVEX");break;case 1:this.updateEffect("#define NEGATIVEX");break;case 2:this.updateEffect("#define POSITIVEY");break;case 3:this.updateEffect("#define NEGATIVEY");break;case 4:this.updateEffect("#define POSITIVEZ");break;case 5:this.updateEffect("#define NEGATIVEZ");break}},enumerable:!1,configurable:!0}),PassCubePostProcess.prototype.getClassName=function(){return"PassCubePostProcess"},PassCubePostProcess._Parse=function(t,n,u,c){return p["SerializationHelper"].Parse((function(){return new PassCubePostProcess(t.name,t.options,n,t.renderTargetSamplingMode,u.getEngine(),t.reusable)}),t,u,c)},PassCubePostProcess}(l["PostProcess"]);d["Engine"]._RescalePostProcessFactory=function(t){return new m("rescale",1,null,2,t,!1,0)}},"./node_modules/@babylonjs/core/PostProcesses/postProcess.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PostProcess",(function(){return g}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/smartArray.js"),d=u("./node_modules/@babylonjs/core/Misc/observable.js"),h=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),p=(u("./node_modules/@babylonjs/core/Shaders/postprocess.vertex.js"),u("./node_modules/@babylonjs/core/Engines/engine.js")),m=(u("./node_modules/@babylonjs/core/Engines/Extensions/engine.renderTarget.js"),u("./node_modules/@babylonjs/core/Misc/decorators.js")),_=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),g=function(){function PostProcess(t,n,u,c,p,m,_,g,b,v,U,G,W,X,q){void 0===_&&(_=1),void 0===v&&(v=null),void 0===U&&(U=0),void 0===G&&(G="postprocess"),void 0===X&&(X=!1),void 0===q&&(q=5),this.width=-1,this.height=-1,this.nodeMaterialSource=null,this._outputTexture=null,this.autoClear=!0,this.alphaMode=0,this.animations=new Array,this.enablePixelPerfectMode=!1,this.forceFullscreenViewport=!0,this.scaleMode=1,this.alwaysForcePOT=!1,this._samples=1,this.adaptScaleToCurrentViewport=!1,this._reusable=!1,this._textures=new l["SmartArray"](2),this._currentRenderTextureInd=0,this._scaleRatio=new h["Vector2"](1,1),this._texelSize=h["Vector2"].Zero(),this.onActivateObservable=new d["Observable"],this.onSizeChangedObservable=new d["Observable"],this.onApplyObservable=new d["Observable"],this.onBeforeRenderObservable=new d["Observable"],this.onAfterRenderObservable=new d["Observable"],this.name=t,null!=m?(this._camera=m,this._scene=m.getScene(),m.attachPostProcess(this),this._engine=this._scene.getEngine(),this._scene.postProcesses.push(this),this.uniqueId=this._scene.getUniqueId()):g&&(this._engine=g,this._engine.postProcesses.push(this)),this._options=p,this.renderTargetSamplingMode=_||1,this._reusable=b||!1,this._textureType=U,this._textureFormat=q,this._samplers=c||[],this._samplers.push("textureSampler"),this._fragmentUrl=n,this._vertexUrl=G,this._parameters=u||[],this._parameters.push("scale"),this._indexParameters=W,X||this.updateEffect(v)}return Object.defineProperty(PostProcess.prototype,"samples",{get:function(){return this._samples},set:function(t){var n=this;this._samples=Math.min(t,this._engine.getCaps().maxMSAASamples),this._textures.forEach((function(t){t.samples!==n._samples&&n._engine.updateRenderTargetTextureSampleCount(t,n._samples)}))},enumerable:!1,configurable:!0}),PostProcess.prototype.getEffectName=function(){return this._fragmentUrl},Object.defineProperty(PostProcess.prototype,"onActivate",{set:function(t){this._onActivateObserver&&this.onActivateObservable.remove(this._onActivateObserver),t&&(this._onActivateObserver=this.onActivateObservable.add(t))},enumerable:!1,configurable:!0}),Object.defineProperty(PostProcess.prototype,"onSizeChanged",{set:function(t){this._onSizeChangedObserver&&this.onSizeChangedObservable.remove(this._onSizeChangedObserver),this._onSizeChangedObserver=this.onSizeChangedObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(PostProcess.prototype,"onApply",{set:function(t){this._onApplyObserver&&this.onApplyObservable.remove(this._onApplyObserver),this._onApplyObserver=this.onApplyObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(PostProcess.prototype,"onBeforeRender",{set:function(t){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(PostProcess.prototype,"onAfterRender",{set:function(t){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver),this._onAfterRenderObserver=this.onAfterRenderObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(PostProcess.prototype,"inputTexture",{get:function(){return this._textures.data[this._currentRenderTextureInd]},set:function(t){this._forcedOutputTexture=t},enumerable:!1,configurable:!0}),PostProcess.prototype.restoreDefaultInputTexture=function(){this._forcedOutputTexture=null},PostProcess.prototype.getCamera=function(){return this._camera},Object.defineProperty(PostProcess.prototype,"texelSize",{get:function(){return this._shareOutputWithPostProcess?this._shareOutputWithPostProcess.texelSize:(this._forcedOutputTexture&&this._texelSize.copyFromFloats(1/this._forcedOutputTexture.width,1/this._forcedOutputTexture.height),this._texelSize)},enumerable:!1,configurable:!0}),PostProcess.prototype.getClassName=function(){return"PostProcess"},PostProcess.prototype.getEngine=function(){return this._engine},PostProcess.prototype.getEffect=function(){return this._effect},PostProcess.prototype.shareOutputWith=function(t){return this._disposeTextures(),this._shareOutputWithPostProcess=t,this},PostProcess.prototype.useOwnOutput=function(){0==this._textures.length&&(this._textures=new l["SmartArray"](2)),this._shareOutputWithPostProcess=null},PostProcess.prototype.updateEffect=function(t,n,u,c,l,d,h,p){void 0===t&&(t=null),void 0===n&&(n=null),void 0===u&&(u=null),this._effect=this._engine.createEffect({vertex:null!==h&&void 0!==h?h:this._vertexUrl,fragment:null!==p&&void 0!==p?p:this._fragmentUrl},["position"],n||this._parameters,u||this._samplers,null!==t?t:"",void 0,l,d,c||this._indexParameters)},PostProcess.prototype.isReusable=function(){return this._reusable},PostProcess.prototype.markTextureDirty=function(){this.width=-1},PostProcess.prototype.activate=function(t,n,u){var c=this;void 0===n&&(n=null),t=t||this._camera;var l=t.getScene(),d=l.getEngine(),h=d.getCaps().maxTextureSize,m=(n?n.width:this._engine.getRenderWidth(!0))*this._options|0,_=(n?n.height:this._engine.getRenderHeight(!0))*this._options|0,g=t.parent;!g||g.leftCamera!=t&&g.rightCamera!=t||(m/=2);var b,v=this._options.width||m,U=this._options.height||_,G=7!==this.renderTargetSamplingMode&&1!==this.renderTargetSamplingMode&&2!==this.renderTargetSamplingMode;if(!this._shareOutputWithPostProcess&&!this._forcedOutputTexture){if(this.adaptScaleToCurrentViewport){var W=d.currentViewport;W&&(v*=W.width,U*=W.height)}if((G||this.alwaysForcePOT)&&(this._options.width||(v=d.needPOTTextures?p["Engine"].GetExponentOfTwo(v,h,this.scaleMode):v),this._options.height||(U=d.needPOTTextures?p["Engine"].GetExponentOfTwo(U,h,this.scaleMode):U)),this.width!==v||this.height!==U){if(this._textures.length>0){for(var X=0;X<this._textures.length;X++)this._engine._releaseTexture(this._textures.data[X]);this._textures.reset()}this.width=v,this.height=U;var q={width:this.width,height:this.height},K={generateMipMaps:G,generateDepthBuffer:u||0===t._postProcesses.indexOf(this),generateStencilBuffer:(u||0===t._postProcesses.indexOf(this))&&this._engine.isStencilEnable,samplingMode:this.renderTargetSamplingMode,type:this._textureType,format:this._textureFormat};this._textures.push(this._engine.createRenderTargetTexture(q,K)),this._reusable&&this._textures.push(this._engine.createRenderTargetTexture(q,K)),this._texelSize.copyFromFloats(1/this.width,1/this.height),this.onSizeChangedObservable.notifyObservers(this)}this._textures.forEach((function(t){t.samples!==c.samples&&c._engine.updateRenderTargetTextureSampleCount(t,c.samples)}))}return this._shareOutputWithPostProcess?b=this._shareOutputWithPostProcess.inputTexture:this._forcedOutputTexture?(b=this._forcedOutputTexture,this.width=this._forcedOutputTexture.width,this.height=this._forcedOutputTexture.height):b=this.inputTexture,this.enablePixelPerfectMode?(this._scaleRatio.copyFromFloats(m/v,_/U),this._engine.bindFramebuffer(b,0,m,_,this.forceFullscreenViewport)):(this._scaleRatio.copyFromFloats(1,1),this._engine.bindFramebuffer(b,0,void 0,void 0,this.forceFullscreenViewport)),this.onActivateObservable.notifyObservers(t),this.autoClear&&0===this.alphaMode&&this._engine.clear(this.clearColor?this.clearColor:l.clearColor,l._allowPostProcessClearColor,!0,!0),this._reusable&&(this._currentRenderTextureInd=(this._currentRenderTextureInd+1)%2),b},Object.defineProperty(PostProcess.prototype,"isSupported",{get:function(){return this._effect.isSupported},enumerable:!1,configurable:!0}),Object.defineProperty(PostProcess.prototype,"aspectRatio",{get:function(){return this._shareOutputWithPostProcess?this._shareOutputWithPostProcess.aspectRatio:this._forcedOutputTexture?this._forcedOutputTexture.width/this._forcedOutputTexture.height:this.width/this.height},enumerable:!1,configurable:!0}),PostProcess.prototype.isReady=function(){return this._effect&&this._effect.isReady()},PostProcess.prototype.apply=function(){return this._effect&&this._effect.isReady()?(this._engine.enableEffect(this._effect),this._engine.setState(!1),this._engine.setDepthBuffer(!1),this._engine.setDepthWrite(!1),this._engine.setAlphaMode(this.alphaMode),this.alphaConstants&&this.getEngine().setAlphaConstants(this.alphaConstants.r,this.alphaConstants.g,this.alphaConstants.b,this.alphaConstants.a),t=this._shareOutputWithPostProcess?this._shareOutputWithPostProcess.inputTexture:this._forcedOutputTexture?this._forcedOutputTexture:this.inputTexture,this._effect._bindTexture("textureSampler",t),this._effect.setVector2("scale",this._scaleRatio),this.onApplyObservable.notifyObservers(this._effect),this._effect):null;var t},PostProcess.prototype._disposeTextures=function(){if(!this._shareOutputWithPostProcess&&!this._forcedOutputTexture){if(this._textures.length>0)for(var t=0;t<this._textures.length;t++)this._engine._releaseTexture(this._textures.data[t]);this._textures.dispose()}},PostProcess.prototype.setPrePassRenderer=function(t){return!!this._prePassEffectConfiguration&&(this._prePassEffectConfiguration=t.addEffectConfiguration(this._prePassEffectConfiguration),this._prePassEffectConfiguration.enabled=!0,!0)},PostProcess.prototype.dispose=function(t){var n;if(t=t||this._camera,this._disposeTextures(),this._scene&&(n=this._scene.postProcesses.indexOf(this),-1!==n&&this._scene.postProcesses.splice(n,1)),n=this._engine.postProcesses.indexOf(this),-1!==n&&this._engine.postProcesses.splice(n,1),t){if(t.detachPostProcess(this),n=t._postProcesses.indexOf(this),0===n&&t._postProcesses.length>0){var u=this._camera._getFirstPostProcess();u&&u.markTextureDirty()}this.onActivateObservable.clear(),this.onAfterRenderObservable.clear(),this.onApplyObservable.clear(),this.onBeforeRenderObservable.clear(),this.onSizeChangedObservable.clear()}},PostProcess.prototype.serialize=function(){var t=m["SerializationHelper"].Serialize(this);return t.customType="BABYLON."+this.getClassName(),t.cameraId=this.getCamera().id,t.reusable=this._reusable,t.options=this._options,t.textureType=this._textureType,t},PostProcess.Parse=function(t,n,u){var c=_["_TypeStore"].GetClass(t.customType);if(!c||!c._Parse)return null;var l=n.getCameraByID(t.cameraId);return l?c._Parse(t,l,n,u):null},Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"uniqueId",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"name",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"width",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"height",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"renderTargetSamplingMode",void 0),Object(c["__decorate"])([Object(m["serializeAsColor4"])()],PostProcess.prototype,"clearColor",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"autoClear",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"alphaMode",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"alphaConstants",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"enablePixelPerfectMode",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"forceFullscreenViewport",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"scaleMode",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"alwaysForcePOT",void 0),Object(c["__decorate"])([Object(m["serialize"])("samples")],PostProcess.prototype,"_samples",void 0),Object(c["__decorate"])([Object(m["serialize"])()],PostProcess.prototype,"adaptScaleToCurrentViewport",void 0),PostProcess}();_["_TypeStore"].RegisteredTypes["BABYLON.PostProcess"]=g},"./node_modules/@babylonjs/core/PostProcesses/postProcessManager.js":function(t,n,u){"use strict";u.r(n),u.d(n,"PostProcessManager",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Materials/material.js"),l=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),d=function(){function PostProcessManager(t){this._vertexBuffers={},this._scene=t}return PostProcessManager.prototype._prepareBuffers=function(){if(!this._vertexBuffers[l["VertexBuffer"].PositionKind]){var t=[];t.push(1,1),t.push(-1,1),t.push(-1,-1),t.push(1,-1),this._vertexBuffers[l["VertexBuffer"].PositionKind]=new l["VertexBuffer"](this._scene.getEngine(),t,l["VertexBuffer"].PositionKind,!1,!1,2),this._buildIndexBuffer()}},PostProcessManager.prototype._buildIndexBuffer=function(){var t=[];t.push(0),t.push(1),t.push(2),t.push(0),t.push(2),t.push(3),this._indexBuffer=this._scene.getEngine().createIndexBuffer(t)},PostProcessManager.prototype._rebuild=function(){var t=this._vertexBuffers[l["VertexBuffer"].PositionKind];t&&(t._rebuild(),this._buildIndexBuffer())},PostProcessManager.prototype._prepareFrame=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var u=this._scene.activeCamera;return!!u&&(n=n||u._postProcesses.filter((function(t){return null!=t})),!(!n||0===n.length||!this._scene.postProcessesEnabled)&&(n[0].activate(u,t,null!==n&&void 0!==n),!0))},PostProcessManager.prototype.directRender=function(t,n,u,l,d,h){void 0===n&&(n=null),void 0===u&&(u=!1),void 0===l&&(l=0),void 0===d&&(d=0),void 0===h&&(h=!1);for(var p=this._scene.getEngine(),m=0;m<t.length;m++){m<t.length-1?t[m+1].activate(this._scene.activeCamera,n):n?p.bindFramebuffer(n,l,void 0,void 0,u,d):h||p.restoreDefaultFramebuffer();var _=t[m],g=_.apply();g&&(_.onBeforeRenderObservable.notifyObservers(g),this._prepareBuffers(),p.bindBuffers(this._vertexBuffers,this._indexBuffer,g),p.drawElementsType(c["Material"].TriangleFillMode,0,6),_.onAfterRenderObservable.notifyObservers(g))}p.setDepthBuffer(!0),p.setDepthWrite(!0)},PostProcessManager.prototype._finalizeFrame=function(t,n,u,l,d){void 0===d&&(d=!1);var h=this._scene.activeCamera;if(h&&(l=l||h._postProcesses.filter((function(t){return null!=t})),0!==l.length&&this._scene.postProcessesEnabled)){for(var p=this._scene.getEngine(),m=0,_=l.length;m<_;m++){var g=l[m];if(m<_-1?g._outputTexture=l[m+1].activate(h,n):n?(p.bindFramebuffer(n,u,void 0,void 0,d),g._outputTexture=n):(p.restoreDefaultFramebuffer(),g._outputTexture=null),t)break;var b=g.apply();b&&(g.onBeforeRenderObservable.notifyObservers(b),this._prepareBuffers(),p.bindBuffers(this._vertexBuffers,this._indexBuffer,b),p.drawElementsType(c["Material"].TriangleFillMode,0,6),g.onAfterRenderObservable.notifyObservers(b))}p.setDepthBuffer(!0),p.setDepthWrite(!0),p.setAlphaMode(0)}},PostProcessManager.prototype.dispose=function(){var t=this._vertexBuffers[l["VertexBuffer"].PositionKind];t&&(t.dispose(),this._vertexBuffers[l["VertexBuffer"].PositionKind]=null),this._indexBuffer&&(this._scene.getEngine()._releaseBuffer(this._indexBuffer),this._indexBuffer=null)},PostProcessManager}()},"./node_modules/@babylonjs/core/Rendering/edgesRenderer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EdgesRenderer",(function(){return G})),u.d(n,"LineEdgesRenderer",(function(){return W}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),d=u("./node_modules/@babylonjs/core/Meshes/abstractMesh.js"),h=u("./node_modules/@babylonjs/core/Meshes/linesMesh.js"),p=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),m=u("./node_modules/@babylonjs/core/Materials/material.js"),_=u("./node_modules/@babylonjs/core/Materials/shaderMaterial.js"),g=u("./node_modules/@babylonjs/core/Cameras/camera.js"),b=(u("./node_modules/@babylonjs/core/Shaders/line.fragment.js"),u("./node_modules/@babylonjs/core/Shaders/line.vertex.js"),u("./node_modules/@babylonjs/core/Misc/smartArray.js")),v=u("./node_modules/@babylonjs/core/Misc/tools.js");d["AbstractMesh"].prototype.disableEdgesRendering=function(){return this._edgesRenderer&&(this._edgesRenderer.dispose(),this._edgesRenderer=null),this},d["AbstractMesh"].prototype.enableEdgesRendering=function(t,n,u){return void 0===t&&(t=.95),void 0===n&&(n=!1),this.disableEdgesRendering(),this._edgesRenderer=new G(this,t,n,!0,u),this},Object.defineProperty(d["AbstractMesh"].prototype,"edgesRenderer",{get:function(){return this._edgesRenderer},enumerable:!0,configurable:!0}),h["LinesMesh"].prototype.enableEdgesRendering=function(t,n){return void 0===t&&(t=.95),void 0===n&&(n=!1),this.disableEdgesRendering(),this._edgesRenderer=new W(this,t,n),this},h["InstancedLinesMesh"].prototype.enableEdgesRendering=function(t,n){return void 0===t&&(t=.95),void 0===n&&(n=!1),h["LinesMesh"].prototype.enableEdgesRendering.apply(this,arguments),this};var U=function(){function FaceAdjacencies(){this.edges=new Array,this.edgesConnectedCount=0}return FaceAdjacencies}(),G=function(){function EdgesRenderer(t,n,u,c,l){var d,h=this;void 0===n&&(n=.95),void 0===u&&(u=!1),void 0===c&&(c=!0),this.edgesWidthScalerForOrthographic=1e3,this.edgesWidthScalerForPerspective=50,this._linesPositions=new Array,this._linesNormals=new Array,this._linesIndices=new Array,this._buffers={},this._buffersForInstances={},this._checkVerticesInsteadOfIndices=!1,this.isEnabled=!0,this.customInstances=new b["SmartArray"](32),this._source=t,this._checkVerticesInsteadOfIndices=u,this._options=null!==l&&void 0!==l?l:null,this._epsilon=n,this._prepareRessources(),c&&(null===(d=null===l||void 0===l?void 0:l.useAlternateEdgeFinder)||void 0===d||d?this._generateEdgesLinesAlternate():this._generateEdgesLines()),this._meshRebuildObserver=this._source.onRebuildObservable.add((function(){h._rebuild()})),this._meshDisposeObserver=this._source.onDisposeObservable.add((function(){h.dispose()}))}return Object.defineProperty(EdgesRenderer.prototype,"linesPositions",{get:function(){return this._linesPositions},enumerable:!1,configurable:!0}),Object.defineProperty(EdgesRenderer.prototype,"linesNormals",{get:function(){return this._linesNormals},enumerable:!1,configurable:!0}),Object.defineProperty(EdgesRenderer.prototype,"linesIndices",{get:function(){return this._linesIndices},enumerable:!1,configurable:!0}),EdgesRenderer.GetShader=function(t){if(!t._edgeRenderLineShader){var n=new _["ShaderMaterial"]("lineShader",t,"line",{attributes:["position","normal"],uniforms:["world","viewProjection","color","width","aspectRatio"]});n.disableDepthWrite=!0,n.backFaceCulling=!1,t._edgeRenderLineShader=n}return t._edgeRenderLineShader},EdgesRenderer.prototype._prepareRessources=function(){this._lineShader||(this._lineShader=EdgesRenderer.GetShader(this._source.getScene()))},EdgesRenderer.prototype._rebuild=function(){var t=this._buffers[l["VertexBuffer"].PositionKind];t&&t._rebuild(),t=this._buffers[l["VertexBuffer"].NormalKind],t&&t._rebuild();var n=this._source.getScene(),u=n.getEngine();this._ib=u.createIndexBuffer(this._linesIndices)},EdgesRenderer.prototype.dispose=function(){this._source.onRebuildObservable.remove(this._meshRebuildObserver),this._source.onDisposeObservable.remove(this._meshDisposeObserver);var t=this._buffers[l["VertexBuffer"].PositionKind];t&&(t.dispose(),this._buffers[l["VertexBuffer"].PositionKind]=null),t=this._buffers[l["VertexBuffer"].NormalKind],t&&(t.dispose(),this._buffers[l["VertexBuffer"].NormalKind]=null),this._ib&&this._source.getScene().getEngine()._releaseBuffer(this._ib),this._lineShader.dispose()},EdgesRenderer.prototype._processEdgeForAdjacencies=function(t,n,u,c,l){return t===u&&n===c||t===c&&n===u?0:t===c&&n===l||t===l&&n===c?1:t===l&&n===u||t===u&&n===l?2:-1},EdgesRenderer.prototype._processEdgeForAdjacenciesWithVertices=function(t,n,u,c,l){var d=1e-10;return t.equalsWithEpsilon(u,d)&&n.equalsWithEpsilon(c,d)||t.equalsWithEpsilon(c,d)&&n.equalsWithEpsilon(u,d)?0:t.equalsWithEpsilon(c,d)&&n.equalsWithEpsilon(l,d)||t.equalsWithEpsilon(l,d)&&n.equalsWithEpsilon(c,d)?1:t.equalsWithEpsilon(l,d)&&n.equalsWithEpsilon(u,d)||t.equalsWithEpsilon(u,d)&&n.equalsWithEpsilon(l,d)?2:-1},EdgesRenderer.prototype._checkEdge=function(t,n,u,c,l){var d;if(void 0===n)d=!0;else{var h=p["Vector3"].Dot(u[t],u[n]);d=h<this._epsilon}d&&this.createLine(c,l,this._linesPositions.length/3)},EdgesRenderer.prototype.createLine=function(t,n,u){this._linesPositions.push(t.x,t.y,t.z,t.x,t.y,t.z,n.x,n.y,n.z,n.x,n.y,n.z),this._linesNormals.push(n.x,n.y,n.z,-1,n.x,n.y,n.z,1,t.x,t.y,t.z,-1,t.x,t.y,t.z,1),this._linesIndices.push(u,u+1,u+2,u,u+2,u+3)},EdgesRenderer.prototype._tessellateTriangle=function(t,n,u,c){var makePointList=function(t,n,u){u>=0&&n.push(u);for(var c=0;c<t.length;++c)n.push(t[c][0])},l=0;t[1].length>=t[0].length&&t[1].length>=t[2].length?l=1:t[2].length>=t[0].length&&t[2].length>=t[1].length&&(l=2);for(var d=0;d<3;++d)d===l?t[d].sort((function(t,n){return t[1]<n[1]?-1:t[1]>n[1]?1:0})):t[d].sort((function(t,n){return t[1]>n[1]?-1:t[1]<n[1]?1:0}));var h=[],p=[];makePointList(t[l],h,-1);for(var m=h.length,_=l+2;_>=l+1;--_)makePointList(t[_%3],p,_!==l+2?c[u[n+(_+1)%3]]:-1);var g=p.length,b=0,v=0;u.push(c[u[n+l]],h[0],p[0]),u.push(c[u[n+(l+1)%3]],p[g-1],h[m-1]);var U=m<=g,G=U?m:g,W=U?g:m,X=U?m-1:g-1,q=U?0:1,K=m+g-2,Y=U?b:v,Q=U?v:b,Z=U?h:p,$=U?p:h,J=0;while(K-- >0){q?u.push(Z[Y],$[Q]):u.push($[Q],Z[Y]),J+=G;var ee=void 0;J>=W&&Y<X?(ee=Z[++Y],J-=W):ee=$[++Q],u.push(ee)}u[n+0]=u[u.length-3],u[n+1]=u[u.length-2],u[n+2]=u[u.length-1],u.length=u.length-3},EdgesRenderer.prototype._generateEdgesLinesAlternate=function(){var t,n,u,c,d,h,m,_,g,b=this._source.getVerticesData(l["VertexBuffer"].PositionKind),U=this._source.getIndices();if(U&&b){Array.isArray(U)||(U=v["Tools"].SliceToArray(U));var G=null===(n=null===(t=this._options)||void 0===t?void 0:t.useFastVertexMerger)||void 0===n||n,W=G?Math.round(-Math.log(null!==(c=null===(u=this._options)||void 0===u?void 0:u.epsilonVertexMerge)&&void 0!==c?c:1e-6)/Math.log(10)):null!==(h=null===(d=this._options)||void 0===d?void 0:d.epsilonVertexMerge)&&void 0!==h?h:1e-6,X=[],q=[];if(G)for(var K={},Y=0;Y<b.length;Y+=3){var Q=b[Y+0],Z=b[Y+1],$=b[Y+2],J=Q.toFixed(W)+"|"+Z.toFixed(W)+"|"+$.toFixed(W);if(void 0!==K[J])X.push(K[J]);else{var ee=Y/3;K[J]=ee,X.push(ee),q.push(ee)}}else for(Y=0;Y<b.length;Y+=3){Q=b[Y+0],Z=b[Y+1],$=b[Y+2];for(var te=!1,re=0;re<Y&&!te;re+=3){var ne=b[re+0],ie=b[re+1],oe=b[re+2];if(Math.abs(Q-ne)<W&&Math.abs(Z-ie)<W&&Math.abs($-oe)<W){X.push(re/3),te=!0;break}}te||(X.push(Y/3),q.push(Y/3))}if(null===(m=this._options)||void 0===m?void 0:m.applyTessellation){for(var se=null!==(g=null===(_=this._options)||void 0===_?void 0:_.epsilonVertexAligned)&&void 0!==g?g:1e-6,ae=[],ue=0;ue<U.length;ue+=3)for(var ce=void 0,le=0;le<3;++le){var de=X[U[ue+le]],he=X[U[ue+(le+1)%3]],fe=X[U[ue+(le+2)%3]];if(de!==he)for(var pe=b[3*de+0],me=b[3*de+1],_e=b[3*de+2],ge=b[3*he+0],be=b[3*he+1],ve=b[3*he+2],ye=Math.sqrt((ge-pe)*(ge-pe)+(be-me)*(be-me)+(ve-_e)*(ve-_e)),xe=0;xe<q.length-1;xe++){var Me=q[xe];if(Me!==de&&Me!==he&&Me!==fe){var Te=b[3*Me+0],Se=b[3*Me+1],Ce=b[3*Me+2],Ee=Math.sqrt((Te-pe)*(Te-pe)+(Se-me)*(Se-me)+(Ce-_e)*(Ce-_e)),Oe=Math.sqrt((Te-ge)*(Te-ge)+(Se-be)*(Se-be)+(Ce-ve)*(Ce-ve));Math.abs(Ee+Oe-ye)<se&&(ce||(ce={index:ue,edgesPoints:[[],[],[]]},ae.push(ce)),ce.edgesPoints[le].push([Me,Ee]))}}}for(var Pe=0;Pe<ae.length;++Pe){var je=ae[Pe];this._tessellateTriangle(je.edgesPoints,je.index,U,X)}ae=null}var Ae={};for(ue=0;ue<U.length;ue+=3){var Re=void 0;for(le=0;le<3;++le){de=X[U[ue+le]],he=X[U[ue+(le+1)%3]],fe=X[U[ue+(le+2)%3]];if(de!==he){if(p["TmpVectors"].Vector3[0].copyFromFloats(b[3*de+0],b[3*de+1],b[3*de+2]),p["TmpVectors"].Vector3[1].copyFromFloats(b[3*he+0],b[3*he+1],b[3*he+2]),p["TmpVectors"].Vector3[2].copyFromFloats(b[3*fe+0],b[3*fe+1],b[3*fe+2]),Re||(p["TmpVectors"].Vector3[1].subtractToRef(p["TmpVectors"].Vector3[0],p["TmpVectors"].Vector3[3]),p["TmpVectors"].Vector3[2].subtractToRef(p["TmpVectors"].Vector3[1],p["TmpVectors"].Vector3[4]),Re=p["Vector3"].Cross(p["TmpVectors"].Vector3[3],p["TmpVectors"].Vector3[4]),Re.normalize()),de>he){var Ie=de;de=he,he=Ie}J=de+"_"+he;var we=Ae[J];if(we){if(!we.done){var De=p["Vector3"].Dot(Re,we.normal);De<this._epsilon&&this.createLine(p["TmpVectors"].Vector3[0],p["TmpVectors"].Vector3[1],this._linesPositions.length/3),we.done=!0}}else Ae[J]={normal:Re,done:!1,index:ue,i:le}}}}for(var J in Ae){we=Ae[J];if(!we.done){de=X[U[we.index+we.i]],he=X[U[we.index+(we.i+1)%3]];p["TmpVectors"].Vector3[0].copyFromFloats(b[3*de+0],b[3*de+1],b[3*de+2]),p["TmpVectors"].Vector3[1].copyFromFloats(b[3*he+0],b[3*he+1],b[3*he+2]),this.createLine(p["TmpVectors"].Vector3[0],p["TmpVectors"].Vector3[1],this._linesPositions.length/3)}}var Fe=this._source.getScene().getEngine();this._buffers[l["VertexBuffer"].PositionKind]=new l["VertexBuffer"](Fe,this._linesPositions,l["VertexBuffer"].PositionKind,!1),this._buffers[l["VertexBuffer"].NormalKind]=new l["VertexBuffer"](Fe,this._linesNormals,l["VertexBuffer"].NormalKind,!1,!1,4),this._buffersForInstances[l["VertexBuffer"].PositionKind]=this._buffers[l["VertexBuffer"].PositionKind],this._buffersForInstances[l["VertexBuffer"].NormalKind]=this._buffers[l["VertexBuffer"].NormalKind],this._ib=Fe.createIndexBuffer(this._linesIndices),this._indicesCount=this._linesIndices.length}},EdgesRenderer.prototype._generateEdgesLines=function(){var t=this._source.getVerticesData(l["VertexBuffer"].PositionKind),n=this._source.getIndices();if(n&&t){var u,c,d=new Array,h=new Array;for(u=0;u<n.length;u+=3){c=new U;var m=n[u],_=n[u+1],g=n[u+2];c.p0=new p["Vector3"](t[3*m],t[3*m+1],t[3*m+2]),c.p1=new p["Vector3"](t[3*_],t[3*_+1],t[3*_+2]),c.p2=new p["Vector3"](t[3*g],t[3*g+1],t[3*g+2]);var b=p["Vector3"].Cross(c.p1.subtract(c.p0),c.p2.subtract(c.p1));b.normalize(),h.push(b),d.push(c)}for(u=0;u<d.length;u++){c=d[u];for(var v=u+1;v<d.length;v++){var G=d[v];if(3===c.edgesConnectedCount)break;if(3!==G.edgesConnectedCount)for(var W=n[3*v],X=n[3*v+1],q=n[3*v+2],K=0;K<3;K++){var Y=0;if(void 0===c.edges[K]){switch(K){case 0:Y=this._checkVerticesInsteadOfIndices?this._processEdgeForAdjacenciesWithVertices(c.p0,c.p1,G.p0,G.p1,G.p2):this._processEdgeForAdjacencies(n[3*u],n[3*u+1],W,X,q);break;case 1:Y=this._checkVerticesInsteadOfIndices?this._processEdgeForAdjacenciesWithVertices(c.p1,c.p2,G.p0,G.p1,G.p2):this._processEdgeForAdjacencies(n[3*u+1],n[3*u+2],W,X,q);break;case 2:Y=this._checkVerticesInsteadOfIndices?this._processEdgeForAdjacenciesWithVertices(c.p2,c.p0,G.p0,G.p1,G.p2):this._processEdgeForAdjacencies(n[3*u+2],n[3*u],W,X,q);break}if(-1!==Y&&(c.edges[K]=v,G.edges[Y]=u,c.edgesConnectedCount++,G.edgesConnectedCount++,3===c.edgesConnectedCount))break}}}}for(u=0;u<d.length;u++){var Q=d[u];this._checkEdge(u,Q.edges[0],h,Q.p0,Q.p1),this._checkEdge(u,Q.edges[1],h,Q.p1,Q.p2),this._checkEdge(u,Q.edges[2],h,Q.p2,Q.p0)}var Z=this._source.getScene().getEngine();this._buffers[l["VertexBuffer"].PositionKind]=new l["VertexBuffer"](Z,this._linesPositions,l["VertexBuffer"].PositionKind,!1),this._buffers[l["VertexBuffer"].NormalKind]=new l["VertexBuffer"](Z,this._linesNormals,l["VertexBuffer"].NormalKind,!1,!1,4),this._buffersForInstances[l["VertexBuffer"].PositionKind]=this._buffers[l["VertexBuffer"].PositionKind],this._buffersForInstances[l["VertexBuffer"].NormalKind]=this._buffers[l["VertexBuffer"].NormalKind],this._ib=Z.createIndexBuffer(this._linesIndices),this._indicesCount=this._linesIndices.length}},EdgesRenderer.prototype.isReady=function(){return this._lineShader.isReady(this._source,this._source.hasInstances&&this.customInstances.length>0||this._source.hasThinInstances)},EdgesRenderer.prototype.render=function(){var t=this._source.getScene();if(this.isReady()&&t.activeCamera){var n=t.getEngine();this._lineShader._preBind(),1!==this._source.edgesColor.a?n.setAlphaMode(2):n.setAlphaMode(0);var u=this._source.hasInstances&&this.customInstances.length>0,c=u||this._source.hasThinInstances,l=0;if(c)if(this._buffersForInstances["world0"]=this._source.getVertexBuffer("world0"),this._buffersForInstances["world1"]=this._source.getVertexBuffer("world1"),this._buffersForInstances["world2"]=this._source.getVertexBuffer("world2"),this._buffersForInstances["world3"]=this._source.getVertexBuffer("world3"),u){var d=this._source._instanceDataStorage;if(l=this.customInstances.length,!d.isFrozen){for(var h=0,p=0;p<l;++p)this.customInstances.data[p].copyToArray(d.instancesData,h),h+=16;d.instancesBuffer.updateDirectly(d.instancesData,0,l)}}else l=this._source.thinInstanceCount;n.bindBuffers(c?this._buffersForInstances:this._buffers,this._ib,this._lineShader.getEffect()),t.resetCachedMaterial(),this._lineShader.setColor4("color",this._source.edgesColor),t.activeCamera.mode===g["Camera"].ORTHOGRAPHIC_CAMERA?this._lineShader.setFloat("width",this._source.edgesWidth/this.edgesWidthScalerForOrthographic):this._lineShader.setFloat("width",this._source.edgesWidth/this.edgesWidthScalerForPerspective),this._lineShader.setFloat("aspectRatio",n.getAspectRatio(t.activeCamera)),this._lineShader.bind(this._source.getWorldMatrix()),n.drawElementsType(m["Material"].TriangleFillMode,0,this._indicesCount,l),this._lineShader.unbind(),c&&n.unbindInstanceAttributes(),this._source.getScene()._activeMeshesFrozen||this.customInstances.reset()}},EdgesRenderer}(),W=function(t){function LineEdgesRenderer(n,u,c){void 0===u&&(u=.95),void 0===c&&(c=!1);var l=t.call(this,n,u,c,!1)||this;return l._generateEdgesLines(),l}return Object(c["__extends"])(LineEdgesRenderer,t),LineEdgesRenderer.prototype._generateEdgesLines=function(){var t=this._source.getVerticesData(l["VertexBuffer"].PositionKind),n=this._source.getIndices();if(n&&t){for(var u=p["TmpVectors"].Vector3[0],c=p["TmpVectors"].Vector3[1],d=n.length-1,h=0,m=0;h<d;h+=2,m+=4)p["Vector3"].FromArrayToRef(t,3*n[h],u),p["Vector3"].FromArrayToRef(t,3*n[h+1],c),this.createLine(u,c,m);var _=this._source.getScene().getEngine();this._buffers[l["VertexBuffer"].PositionKind]=new l["VertexBuffer"](_,this._linesPositions,l["VertexBuffer"].PositionKind,!1),this._buffers[l["VertexBuffer"].NormalKind]=new l["VertexBuffer"](_,this._linesNormals,l["VertexBuffer"].NormalKind,!1,!1,4),this._ib=_.createIndexBuffer(this._linesIndices),this._indicesCount=this._linesIndices.length}},LineEdgesRenderer}(G)},"./node_modules/@babylonjs/core/Rendering/renderingGroup.js":function(t,n,u){"use strict";u.r(n),u.d(n,"RenderingGroup",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Misc/smartArray.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=function(){function RenderingGroup(t,n,u,l,d){void 0===u&&(u=null),void 0===l&&(l=null),void 0===d&&(d=null),this.index=t,this._opaqueSubMeshes=new c["SmartArray"](256),this._transparentSubMeshes=new c["SmartArray"](256),this._alphaTestSubMeshes=new c["SmartArray"](256),this._depthOnlySubMeshes=new c["SmartArray"](256),this._particleSystems=new c["SmartArray"](256),this._spriteManagers=new c["SmartArray"](256),this._edgesRenderers=new c["SmartArrayNoDuplicate"](16),this._scene=n,this.opaqueSortCompareFn=u,this.alphaTestSortCompareFn=l,this.transparentSortCompareFn=d}return Object.defineProperty(RenderingGroup.prototype,"opaqueSortCompareFn",{set:function(t){this._opaqueSortCompareFn=t,this._renderOpaque=t?this.renderOpaqueSorted:RenderingGroup.renderUnsorted},enumerable:!1,configurable:!0}),Object.defineProperty(RenderingGroup.prototype,"alphaTestSortCompareFn",{set:function(t){this._alphaTestSortCompareFn=t,this._renderAlphaTest=t?this.renderAlphaTestSorted:RenderingGroup.renderUnsorted},enumerable:!1,configurable:!0}),Object.defineProperty(RenderingGroup.prototype,"transparentSortCompareFn",{set:function(t){this._transparentSortCompareFn=t||RenderingGroup.defaultTransparentSortCompare,this._renderTransparent=this.renderTransparentSorted},enumerable:!1,configurable:!0}),RenderingGroup.prototype.render=function(t,n,u,c){if(t)t(this._opaqueSubMeshes,this._alphaTestSubMeshes,this._transparentSubMeshes,this._depthOnlySubMeshes);else{var l=this._scene.getEngine();0!==this._depthOnlySubMeshes.length&&(l.setColorWrite(!1),this._renderAlphaTest(this._depthOnlySubMeshes),l.setColorWrite(!0)),0!==this._opaqueSubMeshes.length&&this._renderOpaque(this._opaqueSubMeshes),0!==this._alphaTestSubMeshes.length&&this._renderAlphaTest(this._alphaTestSubMeshes);var d=l.getStencilBuffer();if(l.setStencilBuffer(!1),n&&this._renderSprites(),u&&this._renderParticles(c),this.onBeforeTransparentRendering&&this.onBeforeTransparentRendering(),0!==this._transparentSubMeshes.length&&(l.setStencilBuffer(d),this._renderTransparent(this._transparentSubMeshes),l.setAlphaMode(0)),l.setStencilBuffer(!1),this._edgesRenderers.length){for(var h=0;h<this._edgesRenderers.length;h++)this._edgesRenderers.data[h].render();l.setAlphaMode(0)}l.setStencilBuffer(d)}},RenderingGroup.prototype.renderOpaqueSorted=function(t){return RenderingGroup.renderSorted(t,this._opaqueSortCompareFn,this._scene.activeCamera,!1)},RenderingGroup.prototype.renderAlphaTestSorted=function(t){return RenderingGroup.renderSorted(t,this._alphaTestSortCompareFn,this._scene.activeCamera,!1)},RenderingGroup.prototype.renderTransparentSorted=function(t){return RenderingGroup.renderSorted(t,this._transparentSortCompareFn,this._scene.activeCamera,!0)},RenderingGroup.renderSorted=function(t,n,u,c){for(var d,h=0,p=u?u.globalPosition:RenderingGroup._zeroVector;h<t.length;h++)d=t.data[h],d._alphaIndex=d.getMesh().alphaIndex,d._distanceToCamera=l["Vector3"].Distance(d.getBoundingInfo().boundingSphere.centerWorld,p);var m=t.data.slice(0,t.length);for(n&&m.sort(n),h=0;h<m.length;h++){if(d=m[h],c){var _=d.getMaterial();if(_&&_.needDepthPrePass){var g=_.getScene().getEngine();g.setColorWrite(!1),g.setAlphaMode(0),d.render(!1),g.setColorWrite(!0)}}d.render(c)}},RenderingGroup.renderUnsorted=function(t){for(var n=0;n<t.length;n++){var u=t.data[n];u.render(!1)}},RenderingGroup.defaultTransparentSortCompare=function(t,n){return t._alphaIndex>n._alphaIndex?1:t._alphaIndex<n._alphaIndex?-1:RenderingGroup.backToFrontSortCompare(t,n)},RenderingGroup.backToFrontSortCompare=function(t,n){return t._distanceToCamera<n._distanceToCamera?1:t._distanceToCamera>n._distanceToCamera?-1:0},RenderingGroup.frontToBackSortCompare=function(t,n){return t._distanceToCamera<n._distanceToCamera?-1:t._distanceToCamera>n._distanceToCamera?1:0},RenderingGroup.prototype.prepare=function(){this._opaqueSubMeshes.reset(),this._transparentSubMeshes.reset(),this._alphaTestSubMeshes.reset(),this._depthOnlySubMeshes.reset(),this._particleSystems.reset(),this._spriteManagers.reset(),this._edgesRenderers.reset()},RenderingGroup.prototype.dispose=function(){this._opaqueSubMeshes.dispose(),this._transparentSubMeshes.dispose(),this._alphaTestSubMeshes.dispose(),this._depthOnlySubMeshes.dispose(),this._particleSystems.dispose(),this._spriteManagers.dispose(),this._edgesRenderers.dispose()},RenderingGroup.prototype.dispatch=function(t,n,u){void 0===n&&(n=t.getMesh()),void 0===u&&(u=t.getMaterial()),null!==u&&void 0!==u&&(u.needAlphaBlendingForMesh(n)?this._transparentSubMeshes.push(t):u.needAlphaTesting()?(u.needDepthPrePass&&this._depthOnlySubMeshes.push(t),this._alphaTestSubMeshes.push(t)):(u.needDepthPrePass&&this._depthOnlySubMeshes.push(t),this._opaqueSubMeshes.push(t)),n._renderingGroup=this,n._edgesRenderer&&n._edgesRenderer.isEnabled&&this._edgesRenderers.pushNoDuplicate(n._edgesRenderer))},RenderingGroup.prototype.dispatchSprites=function(t){this._spriteManagers.push(t)},RenderingGroup.prototype.dispatchParticles=function(t){this._particleSystems.push(t)},RenderingGroup.prototype._renderParticles=function(t){if(0!==this._particleSystems.length){var n=this._scene.activeCamera;this._scene.onBeforeParticlesRenderingObservable.notifyObservers(this._scene);for(var u=0;u<this._particleSystems.length;u++){var c=this._particleSystems.data[u];if(0!==(n&&n.layerMask&c.layerMask)){var l=c.emitter;l.position&&t&&-1===t.indexOf(l)||this._scene._activeParticles.addCount(c.render(),!1)}}this._scene.onAfterParticlesRenderingObservable.notifyObservers(this._scene)}},RenderingGroup.prototype._renderSprites=function(){if(this._scene.spritesEnabled&&0!==this._spriteManagers.length){var t=this._scene.activeCamera;this._scene.onBeforeSpritesRenderingObservable.notifyObservers(this._scene);for(var n=0;n<this._spriteManagers.length;n++){var u=this._spriteManagers.data[n];0!==(t&&t.layerMask&u.layerMask)&&u.render()}this._scene.onAfterSpritesRenderingObservable.notifyObservers(this._scene)}},RenderingGroup._zeroVector=l["Vector3"].Zero(),RenderingGroup}()},"./node_modules/@babylonjs/core/Rendering/renderingManager.js":function(t,n,u){"use strict";u.r(n),u.d(n,"RenderingGroupInfo",(function(){return l})),u.d(n,"RenderingManager",(function(){return d}));var c=u("./node_modules/@babylonjs/core/Rendering/renderingGroup.js"),l=function(){function RenderingGroupInfo(){}return RenderingGroupInfo}(),d=function(){function RenderingManager(t){this._useSceneAutoClearSetup=!1,this._renderingGroups=new Array,this._autoClearDepthStencil={},this._customOpaqueSortCompareFn={},this._customAlphaTestSortCompareFn={},this._customTransparentSortCompareFn={},this._renderingGroupInfo=new l,this._scene=t;for(var n=RenderingManager.MIN_RENDERINGGROUPS;n<RenderingManager.MAX_RENDERINGGROUPS;n++)this._autoClearDepthStencil[n]={autoClear:!0,depth:!0,stencil:!0}}return RenderingManager.prototype._clearDepthStencilBuffer=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this._depthStencilBufferAlreadyCleaned||(this._scene.getEngine().clear(null,!1,t,n),this._depthStencilBufferAlreadyCleaned=!0)},RenderingManager.prototype.render=function(t,n,u,c){var l=this._renderingGroupInfo;if(l.scene=this._scene,l.camera=this._scene.activeCamera,this._scene.spriteManagers&&c)for(var d=0;d<this._scene.spriteManagers.length;d++){var h=this._scene.spriteManagers[d];this.dispatchSprites(h)}for(d=RenderingManager.MIN_RENDERINGGROUPS;d<RenderingManager.MAX_RENDERINGGROUPS;d++){this._depthStencilBufferAlreadyCleaned=d===RenderingManager.MIN_RENDERINGGROUPS;var p=this._renderingGroups[d];if(p){var m=Math.pow(2,d);if(l.renderingGroupId=d,this._scene.onBeforeRenderingGroupObservable.notifyObservers(l,m),RenderingManager.AUTOCLEAR){var _=this._useSceneAutoClearSetup?this._scene.getAutoClearDepthStencilSetup(d):this._autoClearDepthStencil[d];_&&_.autoClear&&this._clearDepthStencilBuffer(_.depth,_.stencil)}for(var g=0,b=this._scene._beforeRenderingGroupDrawStage;g<b.length;g++){var v=b[g];v.action(d)}p.render(t,c,u,n);for(var U=0,G=this._scene._afterRenderingGroupDrawStage;U<G.length;U++){v=G[U];v.action(d)}this._scene.onAfterRenderingGroupObservable.notifyObservers(l,m)}}},RenderingManager.prototype.reset=function(){for(var t=RenderingManager.MIN_RENDERINGGROUPS;t<RenderingManager.MAX_RENDERINGGROUPS;t++){var n=this._renderingGroups[t];n&&n.prepare()}},RenderingManager.prototype.dispose=function(){this.freeRenderingGroups(),this._renderingGroups.length=0,this._renderingGroupInfo=null},RenderingManager.prototype.freeRenderingGroups=function(){for(var t=RenderingManager.MIN_RENDERINGGROUPS;t<RenderingManager.MAX_RENDERINGGROUPS;t++){var n=this._renderingGroups[t];n&&n.dispose()}},RenderingManager.prototype._prepareRenderingGroup=function(t){void 0===this._renderingGroups[t]&&(this._renderingGroups[t]=new c["RenderingGroup"](t,this._scene,this._customOpaqueSortCompareFn[t],this._customAlphaTestSortCompareFn[t],this._customTransparentSortCompareFn[t]))},RenderingManager.prototype.dispatchSprites=function(t){var n=t.renderingGroupId||0;this._prepareRenderingGroup(n),this._renderingGroups[n].dispatchSprites(t)},RenderingManager.prototype.dispatchParticles=function(t){var n=t.renderingGroupId||0;this._prepareRenderingGroup(n),this._renderingGroups[n].dispatchParticles(t)},RenderingManager.prototype.dispatch=function(t,n,u){void 0===n&&(n=t.getMesh());var c=n.renderingGroupId||0;this._prepareRenderingGroup(c),this._renderingGroups[c].dispatch(t,n,u)},RenderingManager.prototype.setRenderingOrder=function(t,n,u,c){if(void 0===n&&(n=null),void 0===u&&(u=null),void 0===c&&(c=null),this._customOpaqueSortCompareFn[t]=n,this._customAlphaTestSortCompareFn[t]=u,this._customTransparentSortCompareFn[t]=c,this._renderingGroups[t]){var l=this._renderingGroups[t];l.opaqueSortCompareFn=this._customOpaqueSortCompareFn[t],l.alphaTestSortCompareFn=this._customAlphaTestSortCompareFn[t],l.transparentSortCompareFn=this._customTransparentSortCompareFn[t]}},RenderingManager.prototype.setRenderingAutoClearDepthStencil=function(t,n,u,c){void 0===u&&(u=!0),void 0===c&&(c=!0),this._autoClearDepthStencil[t]={autoClear:n,depth:u,stencil:c}},RenderingManager.prototype.getAutoClearDepthStencilSetup=function(t){return this._autoClearDepthStencil[t]},RenderingManager.MAX_RENDERINGGROUPS=4,RenderingManager.MIN_RENDERINGGROUPS=0,RenderingManager.AUTOCLEAR=!0,RenderingManager}()},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bonesDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bonesDeclaration",d="#if NUM_BONE_INFLUENCERS>0\n#ifdef BONETEXTURE\nuniform sampler2D boneSampler;\nuniform float boneTextureWidth;\n#else\nuniform mat4 mBones[BonesPerMesh];\n#ifdef BONES_VELOCITY_ENABLED\nuniform mat4 mPreviousBones[BonesPerMesh];\n#endif\n#endif\nattribute vec4 matricesIndices;\nattribute vec4 matricesWeights;\n#if NUM_BONE_INFLUENCERS>4\nattribute vec4 matricesIndicesExtra;\nattribute vec4 matricesWeightsExtra;\n#endif\n#ifdef BONETEXTURE\n#define inline\nmat4 readMatrixFromRawSampler(sampler2D smp,float index)\n{\nfloat offset=index*4.0;\nfloat dx=1.0/boneTextureWidth;\nvec4 m0=texture2D(smp,vec2(dx*(offset+0.5),0.));\nvec4 m1=texture2D(smp,vec2(dx*(offset+1.5),0.));\nvec4 m2=texture2D(smp,vec2(dx*(offset+2.5),0.));\nvec4 m3=texture2D(smp,vec2(dx*(offset+3.5),0.));\nreturn mat4(m0,m1,m2,m3);\n}\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bonesVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bonesVertex",d="#if NUM_BONE_INFLUENCERS>0\nmat4 influence;\n#ifdef BONETEXTURE\ninfluence=readMatrixFromRawSampler(boneSampler,matricesIndices[0])*matricesWeights[0];\n#if NUM_BONE_INFLUENCERS>1\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[1])*matricesWeights[1];\n#endif\n#if NUM_BONE_INFLUENCERS>2\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[2])*matricesWeights[2];\n#endif\n#if NUM_BONE_INFLUENCERS>3\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[3])*matricesWeights[3];\n#endif\n#if NUM_BONE_INFLUENCERS>4\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[0])*matricesWeightsExtra[0];\n#endif\n#if NUM_BONE_INFLUENCERS>5\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[1])*matricesWeightsExtra[1];\n#endif\n#if NUM_BONE_INFLUENCERS>6\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[2])*matricesWeightsExtra[2];\n#endif\n#if NUM_BONE_INFLUENCERS>7\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[3])*matricesWeightsExtra[3];\n#endif\n#else\ninfluence=mBones[int(matricesIndices[0])]*matricesWeights[0];\n#if NUM_BONE_INFLUENCERS>1\ninfluence+=mBones[int(matricesIndices[1])]*matricesWeights[1];\n#endif\n#if NUM_BONE_INFLUENCERS>2\ninfluence+=mBones[int(matricesIndices[2])]*matricesWeights[2];\n#endif\n#if NUM_BONE_INFLUENCERS>3\ninfluence+=mBones[int(matricesIndices[3])]*matricesWeights[3];\n#endif\n#if NUM_BONE_INFLUENCERS>4\ninfluence+=mBones[int(matricesIndicesExtra[0])]*matricesWeightsExtra[0];\n#endif\n#if NUM_BONE_INFLUENCERS>5\ninfluence+=mBones[int(matricesIndicesExtra[1])]*matricesWeightsExtra[1];\n#endif\n#if NUM_BONE_INFLUENCERS>6\ninfluence+=mBones[int(matricesIndicesExtra[2])]*matricesWeightsExtra[2];\n#endif\n#if NUM_BONE_INFLUENCERS>7\ninfluence+=mBones[int(matricesIndicesExtra[3])]*matricesWeightsExtra[3];\n#endif\n#endif\nfinalWorld=finalWorld*influence;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpFragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bumpFragment",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bumpFragment",d="vec2 uvOffset=vec2(0.0,0.0);\n#if defined(BUMP) || defined(PARALLAX) || defined(DETAIL)\n#ifdef NORMALXYSCALE\nfloat normalScale=1.0;\n#elif defined(BUMP)\nfloat normalScale=vBumpInfos.y;\n#else\nfloat normalScale=1.0;\n#endif\n#if defined(TANGENT) && defined(NORMAL)\nmat3 TBN=vTBN;\n#elif defined(BUMP)\nmat3 TBN=cotangent_frame(normalW*normalScale,vPositionW,vBumpUV);\n#else\nmat3 TBN=cotangent_frame(normalW*normalScale,vPositionW,vDetailUV,vec2(1.,1.));\n#endif\n#elif defined(ANISOTROPIC)\n#if defined(TANGENT) && defined(NORMAL)\nmat3 TBN=vTBN;\n#else\nmat3 TBN=cotangent_frame(normalW,vPositionW,vMainUV1,vec2(1.,1.));\n#endif\n#endif\n#ifdef PARALLAX\nmat3 invTBN=transposeMat3(TBN);\n#ifdef PARALLAXOCCLUSION\nuvOffset=parallaxOcclusion(invTBN*-viewDirectionW,invTBN*normalW,vBumpUV,vBumpInfos.z);\n#else\nuvOffset=parallaxOffset(invTBN*viewDirectionW,vBumpInfos.z);\n#endif\n#endif\n#ifdef DETAIL\nvec4 detailColor=texture2D(detailSampler,vDetailUV+uvOffset);\nvec2 detailNormalRG=detailColor.wy*2.0-1.0;\nfloat detailNormalB=sqrt(1.-saturate(dot(detailNormalRG,detailNormalRG)));\nvec3 detailNormal=vec3(detailNormalRG,detailNormalB);\n#endif\n#ifdef BUMP\n#ifdef OBJECTSPACE_NORMALMAP\nnormalW=normalize(texture2D(bumpSampler,vBumpUV).xyz*2.0-1.0);\nnormalW=normalize(mat3(normalMatrix)*normalW);\n#elif !defined(DETAIL)\nnormalW=perturbNormal(TBN,vBumpUV+uvOffset);\n#else\nvec3 bumpNormal=texture2D(bumpSampler,vBumpUV+uvOffset).xyz*2.0-1.0;\n\n#if DETAIL_NORMALBLENDMETHOD == 0\ndetailNormal.xy*=vDetailInfos.z;\nvec3 blendedNormal=normalize(vec3(bumpNormal.xy+detailNormal.xy,bumpNormal.z*detailNormal.z));\n#elif DETAIL_NORMALBLENDMETHOD == 1\ndetailNormal.xy*=vDetailInfos.z;\nbumpNormal+=vec3(0.0,0.0,1.0);\ndetailNormal*=vec3(-1.0,-1.0,1.0);\nvec3 blendedNormal=bumpNormal*dot(bumpNormal,detailNormal)/bumpNormal.z-detailNormal;\n#endif\nnormalW=perturbNormalBase(TBN,blendedNormal,vBumpInfos.y);\n#endif\n#elif defined(DETAIL)\ndetailNormal.xy*=vDetailInfos.z;\nnormalW=perturbNormalBase(TBN,detailNormal,vDetailInfos.z);\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpFragmentFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bumpFragmentFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bumpFragmentFunctions",d="#if defined(BUMP)\n#if BUMPDIRECTUV == 1\n#define vBumpUV vMainUV1\n#elif BUMPDIRECTUV == 2\n#define vBumpUV vMainUV2\n#else\nvarying vec2 vBumpUV;\n#endif\nuniform sampler2D bumpSampler;\nvec3 perturbNormal(mat3 cotangentFrame,vec2 uv)\n{\nreturn perturbNormal(cotangentFrame,texture2D(bumpSampler,uv).xyz,vBumpInfos.y);\n}\n#endif\n#if defined(DETAIL)\n#if DETAILDIRECTUV == 1\n#define vDetailUV vMainUV1\n#elif DETAILDIRECTUV == 2\n#define vDetailUV vMainUV2\n#else\nvarying vec2 vDetailUV;\n#endif\nuniform sampler2D detailSampler;\n#endif\n#if defined(BUMP)\nvec3 perturbNormal(mat3 cotangentFrame,vec3 color)\n{\nreturn perturbNormal(cotangentFrame,color,vBumpInfos.y);\n}\n\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv)\n{\nreturn cotangent_frame(normal,p,uv,vTangentSpaceParams);\n}\n#endif\n#if defined(BUMP) && defined(PARALLAX)\nconst float minSamples=4.;\nconst float maxSamples=15.;\nconst int iMaxSamples=15;\n\nvec2 parallaxOcclusion(vec3 vViewDirCoT,vec3 vNormalCoT,vec2 texCoord,float parallaxScale) {\nfloat parallaxLimit=length(vViewDirCoT.xy)/vViewDirCoT.z;\nparallaxLimit*=parallaxScale;\nvec2 vOffsetDir=normalize(vViewDirCoT.xy);\nvec2 vMaxOffset=vOffsetDir*parallaxLimit;\nfloat numSamples=maxSamples+(dot(vViewDirCoT,vNormalCoT)*(minSamples-maxSamples));\nfloat stepSize=1.0/numSamples;\n\nfloat currRayHeight=1.0;\nvec2 vCurrOffset=vec2(0,0);\nvec2 vLastOffset=vec2(0,0);\nfloat lastSampledHeight=1.0;\nfloat currSampledHeight=1.0;\nfor (int i=0; i<iMaxSamples; i++)\n{\ncurrSampledHeight=texture2D(bumpSampler,vBumpUV+vCurrOffset).w;\n\nif (currSampledHeight>currRayHeight)\n{\nfloat delta1=currSampledHeight-currRayHeight;\nfloat delta2=(currRayHeight+stepSize)-lastSampledHeight;\nfloat ratio=delta1/(delta1+delta2);\nvCurrOffset=(ratio)* vLastOffset+(1.0-ratio)*vCurrOffset;\n\nbreak;\n}\nelse\n{\ncurrRayHeight-=stepSize;\nvLastOffset=vCurrOffset;\nvCurrOffset+=stepSize*vMaxOffset;\nlastSampledHeight=currSampledHeight;\n}\n}\nreturn vCurrOffset;\n}\nvec2 parallaxOffset(vec3 viewDir,float heightScale)\n{\n\nfloat height=texture2D(bumpSampler,vBumpUV).w;\nvec2 texCoordOffset=heightScale*viewDir.xy*height;\nreturn -texCoordOffset;\n}\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpFragmentMainFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bumpFragmentMainFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bumpFragmentMainFunctions",d="#if defined(BUMP) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC) || defined(DETAIL)\n#if defined(TANGENT) && defined(NORMAL)\nvarying mat3 vTBN;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\nuniform mat4 normalMatrix;\n#endif\nvec3 perturbNormalBase(mat3 cotangentFrame,vec3 normal,float scale)\n{\n#ifdef NORMALXYSCALE\nnormal=normalize(normal*vec3(scale,scale,1.0));\n#endif\nreturn normalize(cotangentFrame*normal);\n}\nvec3 perturbNormal(mat3 cotangentFrame,vec3 textureSample,float scale)\n{\nreturn perturbNormalBase(cotangentFrame,textureSample*2.0-1.0,scale);\n}\n\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv,vec2 tangentSpaceParams)\n{\n\nuv=gl_FrontFacing ? uv : -uv;\n\nvec3 dp1=dFdx(p);\nvec3 dp2=dFdy(p);\nvec2 duv1=dFdx(uv);\nvec2 duv2=dFdy(uv);\n\nvec3 dp2perp=cross(dp2,normal);\nvec3 dp1perp=cross(normal,dp1);\nvec3 tangent=dp2perp*duv1.x+dp1perp*duv2.x;\nvec3 bitangent=dp2perp*duv1.y+dp1perp*duv2.y;\n\ntangent*=tangentSpaceParams.x;\nbitangent*=tangentSpaceParams.y;\n\nfloat invmax=inversesqrt(max(dot(tangent,tangent),dot(bitangent,bitangent)));\nreturn mat3(tangent*invmax,bitangent*invmax,normal);\n}\n#endif\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bumpVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bumpVertex",d="#if defined(BUMP) || defined(PARALLAX) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\n#if defined(TANGENT) && defined(NORMAL)\nvec3 tbnNormal=normalize(normalUpdated);\nvec3 tbnTangent=normalize(tangentUpdated.xyz);\nvec3 tbnBitangent=cross(tbnNormal,tbnTangent)*tangentUpdated.w;\nvTBN=mat3(finalWorld)*mat3(tbnTangent,tbnBitangent,tbnNormal);\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpVertexDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bumpVertexDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="bumpVertexDeclaration",d="#if defined(BUMP) || defined(PARALLAX) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\n#if defined(TANGENT) && defined(NORMAL)\nvarying mat3 vTBN;\n#endif\n#endif\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneFragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"clipPlaneFragment",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="clipPlaneFragment",d="#ifdef CLIPPLANE\nif (fClipDistance>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE2\nif (fClipDistance2>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE3\nif (fClipDistance3>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE4\nif (fClipDistance4>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE5\nif (fClipDistance5>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE6\nif (fClipDistance6>0.0)\n{\ndiscard;\n}\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneFragmentDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"clipPlaneFragmentDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="clipPlaneFragmentDeclaration",d="#ifdef CLIPPLANE\nvarying float fClipDistance;\n#endif\n#ifdef CLIPPLANE2\nvarying float fClipDistance2;\n#endif\n#ifdef CLIPPLANE3\nvarying float fClipDistance3;\n#endif\n#ifdef CLIPPLANE4\nvarying float fClipDistance4;\n#endif\n#ifdef CLIPPLANE5\nvarying float fClipDistance5;\n#endif\n#ifdef CLIPPLANE6\nvarying float fClipDistance6;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"clipPlaneVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="clipPlaneVertex",d="#ifdef CLIPPLANE\nfClipDistance=dot(worldPos,vClipPlane);\n#endif\n#ifdef CLIPPLANE2\nfClipDistance2=dot(worldPos,vClipPlane2);\n#endif\n#ifdef CLIPPLANE3\nfClipDistance3=dot(worldPos,vClipPlane3);\n#endif\n#ifdef CLIPPLANE4\nfClipDistance4=dot(worldPos,vClipPlane4);\n#endif\n#ifdef CLIPPLANE5\nfClipDistance5=dot(worldPos,vClipPlane5);\n#endif\n#ifdef CLIPPLANE6\nfClipDistance6=dot(worldPos,vClipPlane6);\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneVertexDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"clipPlaneVertexDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="clipPlaneVertexDeclaration",d="#ifdef CLIPPLANE\nuniform vec4 vClipPlane;\nvarying float fClipDistance;\n#endif\n#ifdef CLIPPLANE2\nuniform vec4 vClipPlane2;\nvarying float fClipDistance2;\n#endif\n#ifdef CLIPPLANE3\nuniform vec4 vClipPlane3;\nvarying float fClipDistance3;\n#endif\n#ifdef CLIPPLANE4\nuniform vec4 vClipPlane4;\nvarying float fClipDistance4;\n#endif\n#ifdef CLIPPLANE5\nuniform vec4 vClipPlane5;\nvarying float fClipDistance5;\n#endif\n#ifdef CLIPPLANE6\nuniform vec4 vClipPlane6;\nvarying float fClipDistance6;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultFragmentDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"defaultFragmentDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="defaultFragmentDeclaration",d="uniform vec4 vDiffuseColor;\n#ifdef SPECULARTERM\nuniform vec4 vSpecularColor;\n#endif\nuniform vec3 vEmissiveColor;\nuniform float visibility;\n\n#ifdef DIFFUSE\nuniform vec2 vDiffuseInfos;\n#endif\n#ifdef AMBIENT\nuniform vec2 vAmbientInfos;\n#endif\n#ifdef OPACITY\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform vec2 vTangentSpaceParams;\n#endif\n#if defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_PROJECTION) || defined(REFRACTION)\nuniform mat4 view;\n#endif\n#ifdef REFRACTION\nuniform vec4 vRefractionInfos;\n#ifndef REFRACTIONMAP_3D\nuniform mat4 refractionMatrix;\n#endif\n#ifdef REFRACTIONFRESNEL\nuniform vec4 refractionLeftColor;\nuniform vec4 refractionRightColor;\n#endif\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\nuniform vec2 vSpecularInfos;\n#endif\n#ifdef DIFFUSEFRESNEL\nuniform vec4 diffuseLeftColor;\nuniform vec4 diffuseRightColor;\n#endif\n#ifdef OPACITYFRESNEL\nuniform vec4 opacityParts;\n#endif\n#ifdef EMISSIVEFRESNEL\nuniform vec4 emissiveLeftColor;\nuniform vec4 emissiveRightColor;\n#endif\n\n#ifdef REFLECTION\nuniform vec2 vReflectionInfos;\n#if defined(REFLECTIONMAP_PLANAR) || defined(REFLECTIONMAP_CUBIC) || defined(REFLECTIONMAP_PROJECTION) || defined(REFLECTIONMAP_EQUIRECTANGULAR) || defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_SKYBOX)\nuniform mat4 reflectionMatrix;\n#endif\n#ifndef REFLECTIONMAP_SKYBOX\n#if defined(USE_LOCAL_REFLECTIONMAP_CUBIC) && defined(REFLECTIONMAP_CUBIC)\nuniform vec3 vReflectionPosition;\nuniform vec3 vReflectionSize;\n#endif\n#endif\n#ifdef REFLECTIONFRESNEL\nuniform vec4 reflectionLeftColor;\nuniform vec4 reflectionRightColor;\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultUboDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"defaultUboDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="defaultUboDeclaration",d="layout(std140,column_major) uniform;\nuniform Material\n{\nvec4 diffuseLeftColor;\nvec4 diffuseRightColor;\nvec4 opacityParts;\nvec4 reflectionLeftColor;\nvec4 reflectionRightColor;\nvec4 refractionLeftColor;\nvec4 refractionRightColor;\nvec4 emissiveLeftColor;\nvec4 emissiveRightColor;\nvec2 vDiffuseInfos;\nvec2 vAmbientInfos;\nvec2 vOpacityInfos;\nvec2 vReflectionInfos;\nvec3 vReflectionPosition;\nvec3 vReflectionSize;\nvec2 vEmissiveInfos;\nvec2 vLightmapInfos;\nvec2 vSpecularInfos;\nvec3 vBumpInfos;\nmat4 diffuseMatrix;\nmat4 ambientMatrix;\nmat4 opacityMatrix;\nmat4 reflectionMatrix;\nmat4 emissiveMatrix;\nmat4 lightmapMatrix;\nmat4 specularMatrix;\nmat4 bumpMatrix;\nvec2 vTangentSpaceParams;\nfloat pointSize;\nmat4 refractionMatrix;\nvec4 vRefractionInfos;\nvec4 vSpecularColor;\nvec3 vEmissiveColor;\nfloat visibility;\nvec4 vDiffuseColor;\nvec4 vDetailInfos;\nmat4 detailMatrix;\n};\nuniform Scene {\nmat4 viewProjection;\n#ifdef MULTIVIEW\nmat4 viewProjectionR;\n#endif\nmat4 view;\n};\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultVertexDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"defaultVertexDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="defaultVertexDeclaration",d="\nuniform mat4 viewProjection;\nuniform mat4 view;\n#ifdef DIFFUSE\nuniform mat4 diffuseMatrix;\nuniform vec2 vDiffuseInfos;\n#endif\n#ifdef AMBIENT\nuniform mat4 ambientMatrix;\nuniform vec2 vAmbientInfos;\n#endif\n#ifdef OPACITY\nuniform mat4 opacityMatrix;\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\nuniform mat4 emissiveMatrix;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\nuniform mat4 lightmapMatrix;\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\nuniform vec2 vSpecularInfos;\nuniform mat4 specularMatrix;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform mat4 bumpMatrix;\n#endif\n#ifdef REFLECTION\nuniform mat4 reflectionMatrix;\n#endif\n#ifdef POINTSIZE\nuniform float pointSize;\n#endif\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/depthPrePass.js":function(t,n,u){"use strict";u.r(n),u.d(n,"depthPrePass",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="depthPrePass",d="#ifdef DEPTHPREPASS\ngl_FragColor=vec4(0.,0.,0.,1.0);\nreturn;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogFragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fogFragment",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="fogFragment",d="#ifdef FOG\nfloat fog=CalcFogFactor();\ncolor.rgb=fog*color.rgb+(1.0-fog)*vFogColor;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogFragmentDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fogFragmentDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="fogFragmentDeclaration",d="#ifdef FOG\n#define FOGMODE_NONE 0.\n#define FOGMODE_EXP 1.\n#define FOGMODE_EXP2 2.\n#define FOGMODE_LINEAR 3.\n#define E 2.71828\nuniform vec4 vFogInfos;\nuniform vec3 vFogColor;\nvarying vec3 vFogDistance;\nfloat CalcFogFactor()\n{\nfloat fogCoeff=1.0;\nfloat fogStart=vFogInfos.y;\nfloat fogEnd=vFogInfos.z;\nfloat fogDensity=vFogInfos.w;\nfloat fogDistance=length(vFogDistance);\nif (FOGMODE_LINEAR == vFogInfos.x)\n{\nfogCoeff=(fogEnd-fogDistance)/(fogEnd-fogStart);\n}\nelse if (FOGMODE_EXP == vFogInfos.x)\n{\nfogCoeff=1.0/pow(E,fogDistance*fogDensity);\n}\nelse if (FOGMODE_EXP2 == vFogInfos.x)\n{\nfogCoeff=1.0/pow(E,fogDistance*fogDistance*fogDensity*fogDensity);\n}\nreturn clamp(fogCoeff,0.0,1.0);\n}\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fogVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="fogVertex",d="#ifdef FOG\nvFogDistance=(view*worldPos).xyz;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogVertexDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fogVertexDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="fogVertexDeclaration",d="#ifdef FOG\nvarying vec3 vFogDistance;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/fresnelFunction.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fresnelFunction",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="fresnelFunction",d="#ifdef FRESNEL\nfloat computeFresnelTerm(vec3 viewDirection,vec3 worldNormal,float bias,float power)\n{\nfloat fresnelTerm=pow(bias+abs(dot(viewDirection,worldNormal)),power);\nreturn clamp(fresnelTerm,0.,1.);\n}\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/helperFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"helperFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="helperFunctions",d="const float PI=3.1415926535897932384626433832795;\nconst float HALF_MIN=5.96046448e-08;\nconst float LinearEncodePowerApprox=2.2;\nconst float GammaEncodePowerApprox=1.0/LinearEncodePowerApprox;\nconst vec3 LuminanceEncodeApprox=vec3(0.2126,0.7152,0.0722);\nconst float Epsilon=0.0000001;\n#define saturate(x) clamp(x,0.0,1.0)\n#define absEps(x) abs(x)+Epsilon\n#define maxEps(x) max(x,Epsilon)\n#define saturateEps(x) clamp(x,Epsilon,1.0)\nmat3 transposeMat3(mat3 inMatrix) {\nvec3 i0=inMatrix[0];\nvec3 i1=inMatrix[1];\nvec3 i2=inMatrix[2];\nmat3 outMatrix=mat3(\nvec3(i0.x,i1.x,i2.x),\nvec3(i0.y,i1.y,i2.y),\nvec3(i0.z,i1.z,i2.z)\n);\nreturn outMatrix;\n}\n\nmat3 inverseMat3(mat3 inMatrix) {\nfloat a00=inMatrix[0][0],a01=inMatrix[0][1],a02=inMatrix[0][2];\nfloat a10=inMatrix[1][0],a11=inMatrix[1][1],a12=inMatrix[1][2];\nfloat a20=inMatrix[2][0],a21=inMatrix[2][1],a22=inMatrix[2][2];\nfloat b01=a22*a11-a12*a21;\nfloat b11=-a22*a10+a12*a20;\nfloat b21=a21*a10-a11*a20;\nfloat det=a00*b01+a01*b11+a02*b21;\nreturn mat3(b01,(-a22*a01+a02*a21),(a12*a01-a02*a11),\nb11,(a22*a00-a02*a20),(-a12*a00+a02*a10),\nb21,(-a21*a00+a01*a20),(a11*a00-a01*a10))/det;\n}\nfloat toLinearSpace(float color)\n{\nreturn pow(color,LinearEncodePowerApprox);\n}\nvec3 toLinearSpace(vec3 color)\n{\nreturn pow(color,vec3(LinearEncodePowerApprox));\n}\nvec4 toLinearSpace(vec4 color)\n{\nreturn vec4(pow(color.rgb,vec3(LinearEncodePowerApprox)),color.a);\n}\nvec3 toGammaSpace(vec3 color)\n{\nreturn pow(color,vec3(GammaEncodePowerApprox));\n}\nvec4 toGammaSpace(vec4 color)\n{\nreturn vec4(pow(color.rgb,vec3(GammaEncodePowerApprox)),color.a);\n}\nfloat toGammaSpace(float color)\n{\nreturn pow(color,GammaEncodePowerApprox);\n}\nfloat square(float value)\n{\nreturn value*value;\n}\nfloat pow5(float value) {\nfloat sq=value*value;\nreturn sq*sq*value;\n}\nfloat getLuminance(vec3 color)\n{\nreturn clamp(dot(color,LuminanceEncodeApprox),0.,1.);\n}\n\nfloat getRand(vec2 seed) {\nreturn fract(sin(dot(seed.xy ,vec2(12.9898,78.233)))*43758.5453);\n}\nfloat dither(vec2 seed,float varianceAmount) {\nfloat rand=getRand(seed);\nfloat dither=mix(-varianceAmount/255.0,varianceAmount/255.0,rand);\nreturn dither;\n}\n\nconst float rgbdMaxRange=255.0;\nvec4 toRGBD(vec3 color) {\nfloat maxRGB=maxEps(max(color.r,max(color.g,color.b)));\nfloat D=max(rgbdMaxRange/maxRGB,1.);\nD=clamp(floor(D)/255.0,0.,1.);\n\nvec3 rgb=color.rgb*D;\n\nrgb=toGammaSpace(rgb);\nreturn vec4(rgb,D);\n}\nvec3 fromRGBD(vec4 rgbd) {\n\nrgbd.rgb=toLinearSpace(rgbd.rgb);\n\nreturn rgbd.rgb/rgbd.a;\n}\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/imageProcessingCompatibility.js":function(t,n,u){"use strict";u.r(n),u.d(n,"imageProcessingCompatibility",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="imageProcessingCompatibility",d="#ifdef IMAGEPROCESSINGPOSTPROCESS\ngl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(2.2));\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/imageProcessingDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"imageProcessingDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="imageProcessingDeclaration",d="#ifdef EXPOSURE\nuniform float exposureLinear;\n#endif\n#ifdef CONTRAST\nuniform float contrast;\n#endif\n#ifdef VIGNETTE\nuniform vec2 vInverseScreenSize;\nuniform vec4 vignetteSettings1;\nuniform vec4 vignetteSettings2;\n#endif\n#ifdef COLORCURVES\nuniform vec4 vCameraColorCurveNegative;\nuniform vec4 vCameraColorCurveNeutral;\nuniform vec4 vCameraColorCurvePositive;\n#endif\n#ifdef COLORGRADING\n#ifdef COLORGRADING3D\nuniform highp sampler3D txColorTransform;\n#else\nuniform sampler2D txColorTransform;\n#endif\nuniform vec4 colorTransformSettings;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/imageProcessingFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"imageProcessingFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="imageProcessingFunctions",d="#if defined(COLORGRADING) && !defined(COLORGRADING3D)\n\n#define inline\nvec3 sampleTexture3D(sampler2D colorTransform,vec3 color,vec2 sampler3dSetting)\n{\nfloat sliceSize=2.0*sampler3dSetting.x;\n#ifdef SAMPLER3DGREENDEPTH\nfloat sliceContinuous=(color.g-sampler3dSetting.x)*sampler3dSetting.y;\n#else\nfloat sliceContinuous=(color.b-sampler3dSetting.x)*sampler3dSetting.y;\n#endif\nfloat sliceInteger=floor(sliceContinuous);\n\n\nfloat sliceFraction=sliceContinuous-sliceInteger;\n#ifdef SAMPLER3DGREENDEPTH\nvec2 sliceUV=color.rb;\n#else\nvec2 sliceUV=color.rg;\n#endif\nsliceUV.x*=sliceSize;\nsliceUV.x+=sliceInteger*sliceSize;\nsliceUV=saturate(sliceUV);\nvec4 slice0Color=texture2D(colorTransform,sliceUV);\nsliceUV.x+=sliceSize;\nsliceUV=saturate(sliceUV);\nvec4 slice1Color=texture2D(colorTransform,sliceUV);\nvec3 result=mix(slice0Color.rgb,slice1Color.rgb,sliceFraction);\n#ifdef SAMPLER3DBGRMAP\ncolor.rgb=result.rgb;\n#else\ncolor.rgb=result.bgr;\n#endif\nreturn color;\n}\n#endif\n#ifdef TONEMAPPING_ACES\n\n\n\n\n\nconst mat3 ACESInputMat=mat3(\nvec3(0.59719,0.07600,0.02840),\nvec3(0.35458,0.90834,0.13383),\nvec3(0.04823,0.01566,0.83777)\n);\n\nconst mat3 ACESOutputMat=mat3(\nvec3( 1.60475,-0.10208,-0.00327),\nvec3(-0.53108,1.10813,-0.07276),\nvec3(-0.07367,-0.00605,1.07602)\n);\nvec3 RRTAndODTFit(vec3 v)\n{\nvec3 a=v*(v+0.0245786)-0.000090537;\nvec3 b=v*(0.983729*v+0.4329510)+0.238081;\nreturn a/b;\n}\nvec3 ACESFitted(vec3 color)\n{\ncolor=ACESInputMat*color;\n\ncolor=RRTAndODTFit(color);\ncolor=ACESOutputMat*color;\n\ncolor=saturate(color);\nreturn color;\n}\n#endif\nvec4 applyImageProcessing(vec4 result) {\n#ifdef EXPOSURE\nresult.rgb*=exposureLinear;\n#endif\n#ifdef VIGNETTE\n\nvec2 viewportXY=gl_FragCoord.xy*vInverseScreenSize;\nviewportXY=viewportXY*2.0-1.0;\nvec3 vignetteXY1=vec3(viewportXY*vignetteSettings1.xy+vignetteSettings1.zw,1.0);\nfloat vignetteTerm=dot(vignetteXY1,vignetteXY1);\nfloat vignette=pow(vignetteTerm,vignetteSettings2.w);\n\nvec3 vignetteColor=vignetteSettings2.rgb;\n#ifdef VIGNETTEBLENDMODEMULTIPLY\nvec3 vignetteColorMultiplier=mix(vignetteColor,vec3(1,1,1),vignette);\nresult.rgb*=vignetteColorMultiplier;\n#endif\n#ifdef VIGNETTEBLENDMODEOPAQUE\nresult.rgb=mix(vignetteColor,result.rgb,vignette);\n#endif\n#endif\n#ifdef TONEMAPPING\n#ifdef TONEMAPPING_ACES\nresult.rgb=ACESFitted(result.rgb);\n#else\nconst float tonemappingCalibration=1.590579;\nresult.rgb=1.0-exp2(-tonemappingCalibration*result.rgb);\n#endif\n#endif\n\nresult.rgb=toGammaSpace(result.rgb);\nresult.rgb=saturate(result.rgb);\n#ifdef CONTRAST\n\nvec3 resultHighContrast=result.rgb*result.rgb*(3.0-2.0*result.rgb);\nif (contrast<1.0) {\n\nresult.rgb=mix(vec3(0.5,0.5,0.5),result.rgb,contrast);\n} else {\n\nresult.rgb=mix(result.rgb,resultHighContrast,contrast-1.0);\n}\n#endif\n\n#ifdef COLORGRADING\nvec3 colorTransformInput=result.rgb*colorTransformSettings.xxx+colorTransformSettings.yyy;\n#ifdef COLORGRADING3D\nvec3 colorTransformOutput=texture(txColorTransform,colorTransformInput).rgb;\n#else\nvec3 colorTransformOutput=sampleTexture3D(txColorTransform,colorTransformInput,colorTransformSettings.yz).rgb;\n#endif\nresult.rgb=mix(result.rgb,colorTransformOutput,colorTransformSettings.www);\n#endif\n#ifdef COLORCURVES\n\nfloat luma=getLuminance(result.rgb);\nvec2 curveMix=clamp(vec2(luma*3.0-1.5,luma*-3.0+1.5),vec2(0.0),vec2(1.0));\nvec4 colorCurve=vCameraColorCurveNeutral+curveMix.x*vCameraColorCurvePositive-curveMix.y*vCameraColorCurveNegative;\nresult.rgb*=colorCurve.rgb;\nresult.rgb=mix(vec3(luma),result.rgb,colorCurve.a);\n#endif\nreturn result;\n}";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"instancesDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="instancesDeclaration",d="#ifdef INSTANCES\nattribute vec4 world0;\nattribute vec4 world1;\nattribute vec4 world2;\nattribute vec4 world3;\n#ifdef THIN_INSTANCES\nuniform mat4 world;\n#endif\n#else\nuniform mat4 world;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"instancesVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="instancesVertex",d="#ifdef INSTANCES\nmat4 finalWorld=mat4(world0,world1,world2,world3);\n#ifdef THIN_INSTANCES\nfinalWorld=world*finalWorld;\n#endif\n#else\nmat4 finalWorld=world;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurFragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"kernelBlurFragment",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="kernelBlurFragment",d="#ifdef DOF\nfactor=sampleCoC(sampleCoord{X});\ncomputedWeight=KERNEL_WEIGHT{X}*factor;\nsumOfWeights+=computedWeight;\n#else\ncomputedWeight=KERNEL_WEIGHT{X};\n#endif\n#ifdef PACKEDFLOAT\nblend+=unpack(texture2D(textureSampler,sampleCoord{X}))*computedWeight;\n#else\nblend+=texture2D(textureSampler,sampleCoord{X})*computedWeight;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurFragment2.js":function(t,n,u){"use strict";u.r(n),u.d(n,"kernelBlurFragment2",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="kernelBlurFragment2",d="#ifdef DOF\nfactor=sampleCoC(sampleCenter+delta*KERNEL_DEP_OFFSET{X});\ncomputedWeight=KERNEL_DEP_WEIGHT{X}*factor;\nsumOfWeights+=computedWeight;\n#else\ncomputedWeight=KERNEL_DEP_WEIGHT{X};\n#endif\n#ifdef PACKEDFLOAT\nblend+=unpack(texture2D(textureSampler,sampleCenter+delta*KERNEL_DEP_OFFSET{X}))*computedWeight;\n#else\nblend+=texture2D(textureSampler,sampleCenter+delta*KERNEL_DEP_OFFSET{X})*computedWeight;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurVaryingDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"kernelBlurVaryingDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="kernelBlurVaryingDeclaration",d="varying vec2 sampleCoord{X};";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"kernelBlurVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="kernelBlurVertex",d="sampleCoord{X}=sampleCenter+delta*KERNEL_OFFSET{X};";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightFragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"lightFragment",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="lightFragment",d="#ifdef LIGHT{X}\n#if defined(SHADOWONLY) || defined(LIGHTMAP) && defined(LIGHTMAPEXCLUDED{X}) && defined(LIGHTMAPNOSPECULAR{X})\n\n#else\n#ifdef PBR\n\n#ifdef SPOTLIGHT{X}\npreInfo=computePointAndSpotPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#elif defined(POINTLIGHT{X})\npreInfo=computePointAndSpotPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#elif defined(HEMILIGHT{X})\npreInfo=computeHemisphericPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#elif defined(DIRLIGHT{X})\npreInfo=computeDirectionalPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#endif\npreInfo.NdotV=NdotV;\n\n#ifdef SPOTLIGHT{X}\n#ifdef LIGHT_FALLOFF_GLTF{X}\npreInfo.attenuation=computeDistanceLightFalloff_GLTF(preInfo.lightDistanceSquared,light{X}.vLightFalloff.y);\npreInfo.attenuation*=computeDirectionalLightFalloff_GLTF(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightFalloff.z,light{X}.vLightFalloff.w);\n#elif defined(LIGHT_FALLOFF_PHYSICAL{X})\npreInfo.attenuation=computeDistanceLightFalloff_Physical(preInfo.lightDistanceSquared);\npreInfo.attenuation*=computeDirectionalLightFalloff_Physical(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w);\n#elif defined(LIGHT_FALLOFF_STANDARD{X})\npreInfo.attenuation=computeDistanceLightFalloff_Standard(preInfo.lightOffset,light{X}.vLightFalloff.x);\npreInfo.attenuation*=computeDirectionalLightFalloff_Standard(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w,light{X}.vLightData.w);\n#else\npreInfo.attenuation=computeDistanceLightFalloff(preInfo.lightOffset,preInfo.lightDistanceSquared,light{X}.vLightFalloff.x,light{X}.vLightFalloff.y);\npreInfo.attenuation*=computeDirectionalLightFalloff(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w,light{X}.vLightData.w,light{X}.vLightFalloff.z,light{X}.vLightFalloff.w);\n#endif\n#elif defined(POINTLIGHT{X})\n#ifdef LIGHT_FALLOFF_GLTF{X}\npreInfo.attenuation=computeDistanceLightFalloff_GLTF(preInfo.lightDistanceSquared,light{X}.vLightFalloff.y);\n#elif defined(LIGHT_FALLOFF_PHYSICAL{X})\npreInfo.attenuation=computeDistanceLightFalloff_Physical(preInfo.lightDistanceSquared);\n#elif defined(LIGHT_FALLOFF_STANDARD{X})\npreInfo.attenuation=computeDistanceLightFalloff_Standard(preInfo.lightOffset,light{X}.vLightFalloff.x);\n#else\npreInfo.attenuation=computeDistanceLightFalloff(preInfo.lightOffset,preInfo.lightDistanceSquared,light{X}.vLightFalloff.x,light{X}.vLightFalloff.y);\n#endif\n#else\npreInfo.attenuation=1.0;\n#endif\n\n\n#ifdef HEMILIGHT{X}\npreInfo.roughness=roughness;\n#else\npreInfo.roughness=adjustRoughnessFromLightProperties(roughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\n#endif\n\n#ifdef HEMILIGHT{X}\ninfo.diffuse=computeHemisphericDiffuseLighting(preInfo,light{X}.vLightDiffuse.rgb,light{X}.vLightGround);\n#elif defined(SS_TRANSLUCENCY)\ninfo.diffuse=computeDiffuseAndTransmittedLighting(preInfo,light{X}.vLightDiffuse.rgb,subSurfaceOut.transmittance);\n#else\ninfo.diffuse=computeDiffuseLighting(preInfo,light{X}.vLightDiffuse.rgb);\n#endif\n\n#ifdef SPECULARTERM\n#ifdef ANISOTROPIC\ninfo.specular=computeAnisotropicSpecularLighting(preInfo,viewDirectionW,normalW,anisotropicOut.anisotropicTangent,anisotropicOut.anisotropicBitangent,anisotropicOut.anisotropy,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\n#else\ninfo.specular=computeSpecularLighting(preInfo,normalW,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\n#endif\n#endif\n\n#ifdef SHEEN\n#ifdef SHEEN_LINKWITHALBEDO\n\npreInfo.roughness=sheenOut.sheenIntensity;\n#else\n#ifdef HEMILIGHT{X}\npreInfo.roughness=sheenOut.sheenRoughness;\n#else\npreInfo.roughness=adjustRoughnessFromLightProperties(sheenOut.sheenRoughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\n#endif\n#endif\ninfo.sheen=computeSheenLighting(preInfo,normalW,sheenOut.sheenColor,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\n#endif\n\n#ifdef CLEARCOAT\n\n#ifdef HEMILIGHT{X}\npreInfo.roughness=clearcoatOut.clearCoatRoughness;\n#else\npreInfo.roughness=adjustRoughnessFromLightProperties(clearcoatOut.clearCoatRoughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\n#endif\ninfo.clearCoat=computeClearCoatLighting(preInfo,clearcoatOut.clearCoatNormalW,clearcoatOut.clearCoatAARoughnessFactors.x,clearcoatOut.clearCoatIntensity,light{X}.vLightDiffuse.rgb);\n#ifdef CLEARCOAT_TINT\n\nabsorption=computeClearCoatLightingAbsorption(clearcoatOut.clearCoatNdotVRefract,preInfo.L,clearcoatOut.clearCoatNormalW,clearcoatOut.clearCoatColor,clearcoatOut.clearCoatThickness,clearcoatOut.clearCoatIntensity);\ninfo.diffuse*=absorption;\n#ifdef SPECULARTERM\ninfo.specular*=absorption;\n#endif\n#endif\n\ninfo.diffuse*=info.clearCoat.w;\n#ifdef SPECULARTERM\ninfo.specular*=info.clearCoat.w;\n#endif\n#ifdef SHEEN\ninfo.sheen*=info.clearCoat.w;\n#endif\n#endif\n#else\n#ifdef SPOTLIGHT{X}\ninfo=computeSpotLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDirection,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightDiffuse.a,glossiness);\n#elif defined(HEMILIGHT{X})\ninfo=computeHemisphericLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightGround,glossiness);\n#elif defined(POINTLIGHT{X}) || defined(DIRLIGHT{X})\ninfo=computeLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightDiffuse.a,glossiness);\n#endif\n#endif\n#ifdef PROJECTEDLIGHTTEXTURE{X}\ninfo.diffuse*=computeProjectionTextureDiffuseLighting(projectionLightSampler{X},textureProjectionMatrix{X});\n#endif\n#endif\n#ifdef SHADOW{X}\n#ifdef SHADOWCSM{X}\nfor (int i=0; i<SHADOWCSMNUM_CASCADES{X}; i++)\n{\n#ifdef SHADOWCSM_RIGHTHANDED{X}\ndiff{X}=viewFrustumZ{X}[i]+vPositionFromCamera{X}.z;\n#else\ndiff{X}=viewFrustumZ{X}[i]-vPositionFromCamera{X}.z;\n#endif\nif (diff{X}>=0.) {\nindex{X}=i;\nbreak;\n}\n}\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\nif (index{X}>=0)\n#endif\n{\n#if defined(SHADOWPCF{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithCSMPCF1(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithCSMPCF3(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nshadow=computeShadowWithCSMPCF5(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCSS{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithCSMPCSS16(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithCSMPCSS32(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#else\nshadow=computeShadowWithCSMPCSS64(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#endif\n#else\nshadow=computeShadowCSM(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#ifdef SHADOWCSMDEBUG{X}\nshadowDebug{X}=vec3(shadow)*vCascadeColorsMultiplier{X}[index{X}];\n#endif\n#ifndef SHADOWCSMNOBLEND{X}\nfloat frustumLength=frustumLengths{X}[index{X}];\nfloat diffRatio=clamp(diff{X}/frustumLength,0.,1.)*cascadeBlendFactor{X};\nif (index{X}<(SHADOWCSMNUM_CASCADES{X}-1) && diffRatio<1.)\n{\nindex{X}+=1;\nfloat nextShadow=0.;\n#if defined(SHADOWPCF{X})\n#if defined(SHADOWLOWQUALITY{X})\nnextShadow=computeShadowWithCSMPCF1(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nnextShadow=computeShadowWithCSMPCF3(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nnextShadow=computeShadowWithCSMPCF5(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCSS{X})\n#if defined(SHADOWLOWQUALITY{X})\nnextShadow=computeShadowWithCSMPCSS16(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#elif defined(SHADOWMEDIUMQUALITY{X})\nnextShadow=computeShadowWithCSMPCSS32(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#else\nnextShadow=computeShadowWithCSMPCSS64(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#endif\n#else\nnextShadow=computeShadowCSM(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\nshadow=mix(nextShadow,shadow,diffRatio);\n#ifdef SHADOWCSMDEBUG{X}\nshadowDebug{X}=mix(vec3(nextShadow)*vCascadeColorsMultiplier{X}[index{X}],shadowDebug{X},diffRatio);\n#endif\n}\n#endif\n}\n#elif defined(SHADOWCLOSEESM{X})\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowWithCloseESMCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.depthValues);\n#else\nshadow=computeShadowWithCloseESM(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWESM{X})\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowWithESMCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.depthValues);\n#else\nshadow=computeShadowWithESM(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPOISSON{X})\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowWithPoissonSamplingCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.x,light{X}.depthValues);\n#else\nshadow=computeShadowWithPoissonSampling(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCF{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithPCF1(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithPCF3(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nshadow=computeShadowWithPCF5(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCSS{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithPCSS16(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithPCSS32(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nshadow=computeShadowWithPCSS64(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#else\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.depthValues);\n#else\nshadow=computeShadow(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#endif\n#ifdef SHADOWONLY\n#ifndef SHADOWINUSE\n#define SHADOWINUSE\n#endif\nglobalShadow+=shadow;\nshadowLightCount+=1.0;\n#endif\n#else\nshadow=1.;\n#endif\n#ifndef SHADOWONLY\n#ifdef CUSTOMUSERLIGHTING\ndiffuseBase+=computeCustomDiffuseLighting(info,diffuseBase,shadow);\n#ifdef SPECULARTERM\nspecularBase+=computeCustomSpecularLighting(info,specularBase,shadow);\n#endif\n#elif defined(LIGHTMAP) && defined(LIGHTMAPEXCLUDED{X})\ndiffuseBase+=lightmapColor.rgb*shadow;\n#ifdef SPECULARTERM\n#ifndef LIGHTMAPNOSPECULAR{X}\nspecularBase+=info.specular*shadow*lightmapColor.rgb;\n#endif\n#endif\n#ifdef CLEARCOAT\n#ifndef LIGHTMAPNOSPECULAR{X}\nclearCoatBase+=info.clearCoat.rgb*shadow*lightmapColor.rgb;\n#endif\n#endif\n#ifdef SHEEN\n#ifndef LIGHTMAPNOSPECULAR{X}\nsheenBase+=info.sheen.rgb*shadow;\n#endif\n#endif\n#else\n#ifdef SHADOWCSMDEBUG{X}\ndiffuseBase+=info.diffuse*shadowDebug{X};\n#else\ndiffuseBase+=info.diffuse*shadow;\n#endif\n#ifdef SPECULARTERM\nspecularBase+=info.specular*shadow;\n#endif\n#ifdef CLEARCOAT\nclearCoatBase+=info.clearCoat.rgb*shadow;\n#endif\n#ifdef SHEEN\nsheenBase+=info.sheen.rgb*shadow;\n#endif\n#endif\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightFragmentDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"lightFragmentDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="lightFragmentDeclaration",d="#ifdef LIGHT{X}\nuniform vec4 vLightData{X};\nuniform vec4 vLightDiffuse{X};\n#ifdef SPECULARTERM\nuniform vec4 vLightSpecular{X};\n#else\nvec4 vLightSpecular{X}=vec4(0.);\n#endif\n#ifdef SHADOW{X}\n#ifdef SHADOWCSM{X}\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float viewFrustumZ{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float frustumLengths{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float cascadeBlendFactor{X};\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying vec4 vPositionFromCamera{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\nuniform highp sampler2DArray depthSampler{X};\nuniform vec2 lightSizeUVCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float depthCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float penumbraDarkness{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\n#else\nuniform highp sampler2DArray shadowSampler{X};\n#endif\n#ifdef SHADOWCSMDEBUG{X}\nconst vec3 vCascadeColorsMultiplier{X}[8]=vec3[8]\n(\nvec3 ( 1.5,0.0,0.0 ),\nvec3 ( 0.0,1.5,0.0 ),\nvec3 ( 0.0,0.0,5.5 ),\nvec3 ( 1.5,0.0,5.5 ),\nvec3 ( 1.5,1.5,0.0 ),\nvec3 ( 1.0,1.0,1.0 ),\nvec3 ( 0.0,1.0,5.5 ),\nvec3 ( 0.5,3.5,0.75 )\n);\nvec3 shadowDebug{X};\n#endif\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\nint index{X}=-1;\n#else\nint index{X}=SHADOWCSMNUM_CASCADES{X}-1;\n#endif\nfloat diff{X}=0.;\n#elif defined(SHADOWCUBE{X})\nuniform samplerCube shadowSampler{X};\n#else\nvarying vec4 vPositionFromLight{X};\nvarying float vDepthMetric{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DShadow shadowSampler{X};\nuniform highp sampler2D depthSampler{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DShadow shadowSampler{X};\n#else\nuniform sampler2D shadowSampler{X};\n#endif\nuniform mat4 lightMatrix{X};\n#endif\nuniform vec4 shadowsInfo{X};\nuniform vec2 depthValues{X};\n#endif\n#ifdef SPOTLIGHT{X}\nuniform vec4 vLightDirection{X};\nuniform vec4 vLightFalloff{X};\n#elif defined(POINTLIGHT{X})\nuniform vec4 vLightFalloff{X};\n#elif defined(HEMILIGHT{X})\nuniform vec3 vLightGround{X};\n#endif\n#ifdef PROJECTEDLIGHTTEXTURE{X}\nuniform mat4 textureProjectionMatrix{X};\nuniform sampler2D projectionLightSampler{X};\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightUboDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"lightUboDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="lightUboDeclaration",d="#ifdef LIGHT{X}\nuniform Light{X}\n{\nvec4 vLightData;\nvec4 vLightDiffuse;\nvec4 vLightSpecular;\n#ifdef SPOTLIGHT{X}\nvec4 vLightDirection;\nvec4 vLightFalloff;\n#elif defined(POINTLIGHT{X})\nvec4 vLightFalloff;\n#elif defined(HEMILIGHT{X})\nvec3 vLightGround;\n#endif\nvec4 shadowsInfo;\nvec2 depthValues;\n} light{X};\n#ifdef PROJECTEDLIGHTTEXTURE{X}\nuniform mat4 textureProjectionMatrix{X};\nuniform sampler2D projectionLightSampler{X};\n#endif\n#ifdef SHADOW{X}\n#ifdef SHADOWCSM{X}\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float viewFrustumZ{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float frustumLengths{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float cascadeBlendFactor{X};\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying vec4 vPositionFromCamera{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\nuniform highp sampler2DArray depthSampler{X};\nuniform vec2 lightSizeUVCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float depthCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float penumbraDarkness{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\n#else\nuniform highp sampler2DArray shadowSampler{X};\n#endif\n#ifdef SHADOWCSMDEBUG{X}\nconst vec3 vCascadeColorsMultiplier{X}[8]=vec3[8]\n(\nvec3 ( 1.5,0.0,0.0 ),\nvec3 ( 0.0,1.5,0.0 ),\nvec3 ( 0.0,0.0,5.5 ),\nvec3 ( 1.5,0.0,5.5 ),\nvec3 ( 1.5,1.5,0.0 ),\nvec3 ( 1.0,1.0,1.0 ),\nvec3 ( 0.0,1.0,5.5 ),\nvec3 ( 0.5,3.5,0.75 )\n);\nvec3 shadowDebug{X};\n#endif\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\nint index{X}=-1;\n#else\nint index{X}=SHADOWCSMNUM_CASCADES{X}-1;\n#endif\nfloat diff{X}=0.;\n#elif defined(SHADOWCUBE{X})\nuniform samplerCube shadowSampler{X};\n#else\nvarying vec4 vPositionFromLight{X};\nvarying float vDepthMetric{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DShadow shadowSampler{X};\nuniform highp sampler2D depthSampler{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DShadow shadowSampler{X};\n#else\nuniform sampler2D shadowSampler{X};\n#endif\nuniform mat4 lightMatrix{X};\n#endif\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightsFragmentFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"lightsFragmentFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="lightsFragmentFunctions",d="\nstruct lightingInfo\n{\nvec3 diffuse;\n#ifdef SPECULARTERM\nvec3 specular;\n#endif\n#ifdef NDOTL\nfloat ndl;\n#endif\n};\nlightingInfo computeLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec3 diffuseColor,vec3 specularColor,float range,float glossiness) {\nlightingInfo result;\nvec3 lightVectorW;\nfloat attenuation=1.0;\nif (lightData.w == 0.)\n{\nvec3 direction=lightData.xyz-vPositionW;\nattenuation=max(0.,1.0-length(direction)/range);\nlightVectorW=normalize(direction);\n}\nelse\n{\nlightVectorW=normalize(-lightData.xyz);\n}\n\nfloat ndl=max(0.,dot(vNormal,lightVectorW));\n#ifdef NDOTL\nresult.ndl=ndl;\n#endif\nresult.diffuse=ndl*diffuseColor*attenuation;\n#ifdef SPECULARTERM\n\nvec3 angleW=normalize(viewDirectionW+lightVectorW);\nfloat specComp=max(0.,dot(vNormal,angleW));\nspecComp=pow(specComp,max(1.,glossiness));\nresult.specular=specComp*specularColor*attenuation;\n#endif\nreturn result;\n}\nlightingInfo computeSpotLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec4 lightDirection,vec3 diffuseColor,vec3 specularColor,float range,float glossiness) {\nlightingInfo result;\nvec3 direction=lightData.xyz-vPositionW;\nvec3 lightVectorW=normalize(direction);\nfloat attenuation=max(0.,1.0-length(direction)/range);\n\nfloat cosAngle=max(0.,dot(lightDirection.xyz,-lightVectorW));\nif (cosAngle>=lightDirection.w)\n{\ncosAngle=max(0.,pow(cosAngle,lightData.w));\nattenuation*=cosAngle;\n\nfloat ndl=max(0.,dot(vNormal,lightVectorW));\n#ifdef NDOTL\nresult.ndl=ndl;\n#endif\nresult.diffuse=ndl*diffuseColor*attenuation;\n#ifdef SPECULARTERM\n\nvec3 angleW=normalize(viewDirectionW+lightVectorW);\nfloat specComp=max(0.,dot(vNormal,angleW));\nspecComp=pow(specComp,max(1.,glossiness));\nresult.specular=specComp*specularColor*attenuation;\n#endif\nreturn result;\n}\nresult.diffuse=vec3(0.);\n#ifdef SPECULARTERM\nresult.specular=vec3(0.);\n#endif\n#ifdef NDOTL\nresult.ndl=0.;\n#endif\nreturn result;\n}\nlightingInfo computeHemisphericLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec3 diffuseColor,vec3 specularColor,vec3 groundColor,float glossiness) {\nlightingInfo result;\n\nfloat ndl=dot(vNormal,lightData.xyz)*0.5+0.5;\n#ifdef NDOTL\nresult.ndl=ndl;\n#endif\nresult.diffuse=mix(groundColor,diffuseColor,ndl);\n#ifdef SPECULARTERM\n\nvec3 angleW=normalize(viewDirectionW+lightData.xyz);\nfloat specComp=max(0.,dot(vNormal,angleW));\nspecComp=pow(specComp,max(1.,glossiness));\nresult.specular=specComp*specularColor;\n#endif\nreturn result;\n}\n#define inline\nvec3 computeProjectionTextureDiffuseLighting(sampler2D projectionLightSampler,mat4 textureProjectionMatrix){\nvec4 strq=textureProjectionMatrix*vec4(vPositionW,1.0);\nstrq/=strq.w;\nvec3 textureColor=texture2D(projectionLightSampler,strq.xy).rgb;\nreturn textureColor;\n}";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"logDepthDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="logDepthDeclaration",d="#ifdef LOGARITHMICDEPTH\nuniform float logarithmicDepthConstant;\nvarying float vFragmentDepth;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthFragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"logDepthFragment",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="logDepthFragment",d="#ifdef LOGARITHMICDEPTH\ngl_FragDepthEXT=log2(vFragmentDepth)*logarithmicDepthConstant*0.5;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"logDepthVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="logDepthVertex",d="#ifdef LOGARITHMICDEPTH\nvFragmentDepth=1.0+gl_Position.w;\ngl_Position.z=log2(max(0.000001,vFragmentDepth))*logarithmicDepthConstant;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"morphTargetsVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="morphTargetsVertex",d="#ifdef MORPHTARGETS\npositionUpdated+=(position{X}-position)*morphTargetInfluences[{X}];\n#ifdef MORPHTARGETS_NORMAL\nnormalUpdated+=(normal{X}-normal)*morphTargetInfluences[{X}];\n#endif\n#ifdef MORPHTARGETS_TANGENT\ntangentUpdated.xyz+=(tangent{X}-tangent.xyz)*morphTargetInfluences[{X}];\n#endif\n#ifdef MORPHTARGETS_UV\nuvUpdated+=(uv_{X}-uv)*morphTargetInfluences[{X}];\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"morphTargetsVertexDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="morphTargetsVertexDeclaration",d="#ifdef MORPHTARGETS\nattribute vec3 position{X};\n#ifdef MORPHTARGETS_NORMAL\nattribute vec3 normal{X};\n#endif\n#ifdef MORPHTARGETS_TANGENT\nattribute vec3 tangent{X};\n#endif\n#ifdef MORPHTARGETS_UV\nattribute vec2 uv_{X};\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexGlobalDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"morphTargetsVertexGlobalDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="morphTargetsVertexGlobalDeclaration",d="#ifdef MORPHTARGETS\nuniform float morphTargetInfluences[NUM_MORPH_INFLUENCERS];\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/packingFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"packingFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="packingFunctions",d="vec4 pack(float depth)\n{\nconst vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);\nconst vec4 bit_mask=vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);\nvec4 res=fract(depth*bit_shift);\nres-=res.xxyz*bit_mask;\nreturn res;\n}\nfloat unpack(vec4 color)\n{\nconst vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);\nreturn dot(color,bit_shift);\n}";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/pointCloudVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"pointCloudVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="pointCloudVertex",d="#ifdef POINTSIZE\ngl_PointSize=pointSize;\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/prePassDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"prePassDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="prePassDeclaration",d="#ifdef PREPASS\n#extension GL_EXT_draw_buffers : require\n#ifdef WEBGL2\nlayout(location=0) out highp vec4 glFragData[{X}];\nhighp vec4 gl_FragColor;\n#endif\n#ifdef PREPASS_DEPTHNORMAL\nvarying highp vec3 vViewPos;\n#endif\n#ifdef PREPASS_VELOCITY\nvarying highp vec4 vCurrentPosition;\nvarying highp vec4 vPreviousPosition;\n#endif\n#endif\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/prePassVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"prePassVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="prePassVertex",d="#ifdef PREPASS_DEPTHNORMAL\nvViewPos=(view*worldPos).rgb;\n#endif\n#if defined(PREPASS_VELOCITY) && defined(BONES_VELOCITY_ENABLED)\nvCurrentPosition=viewProjection*worldPos;\n#if NUM_BONE_INFLUENCERS>0\nmat4 previousInfluence;\npreviousInfluence=mPreviousBones[int(matricesIndices[0])]*matricesWeights[0];\n#if NUM_BONE_INFLUENCERS>1\npreviousInfluence+=mPreviousBones[int(matricesIndices[1])]*matricesWeights[1];\n#endif\n#if NUM_BONE_INFLUENCERS>2\npreviousInfluence+=mPreviousBones[int(matricesIndices[2])]*matricesWeights[2];\n#endif\n#if NUM_BONE_INFLUENCERS>3\npreviousInfluence+=mPreviousBones[int(matricesIndices[3])]*matricesWeights[3];\n#endif\n#if NUM_BONE_INFLUENCERS>4\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[0])]*matricesWeightsExtra[0];\n#endif\n#if NUM_BONE_INFLUENCERS>5\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[1])]*matricesWeightsExtra[1];\n#endif\n#if NUM_BONE_INFLUENCERS>6\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[2])]*matricesWeightsExtra[2];\n#endif\n#if NUM_BONE_INFLUENCERS>7\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[3])]*matricesWeightsExtra[3];\n#endif\nvPreviousPosition=previousViewProjection*previousWorld*previousInfluence*vec4(positionUpdated,1.0);\n#else\nvPreviousPosition=previousViewProjection*previousWorld*vec4(positionUpdated,1.0);\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/prePassVertexDeclaration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"prePassVertexDeclaration",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="prePassVertexDeclaration",d="#ifdef PREPASS\n#ifdef PREPASS_DEPTHNORMAL\nvarying vec3 vViewPos;\n#endif\n#ifdef PREPASS_VELOCITY\nuniform mat4 previousWorld;\nuniform mat4 previousViewProjection;\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/reflectionFunction.js":function(t,n,u){"use strict";u.r(n),u.d(n,"reflectionFunction",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="reflectionFunction",d="vec3 parallaxCorrectNormal( vec3 vertexPos,vec3 origVec,vec3 cubeSize,vec3 cubePos ) {\n\nvec3 invOrigVec=vec3(1.0,1.0,1.0)/origVec;\nvec3 halfSize=cubeSize*0.5;\nvec3 intersecAtMaxPlane=(cubePos+halfSize-vertexPos)*invOrigVec;\nvec3 intersecAtMinPlane=(cubePos-halfSize-vertexPos)*invOrigVec;\n\nvec3 largestIntersec=max(intersecAtMaxPlane,intersecAtMinPlane);\n\nfloat distance=min(min(largestIntersec.x,largestIntersec.y),largestIntersec.z);\n\nvec3 intersectPositionWS=vertexPos+origVec*distance;\n\nreturn intersectPositionWS-cubePos;\n}\nvec3 computeFixedEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 direction)\n{\nfloat lon=atan(direction.z,direction.x);\nfloat lat=acos(direction.y);\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\nfloat s=sphereCoords.x*0.5+0.5;\nfloat t=sphereCoords.y;\nreturn vec3(s,t,0);\n}\nvec3 computeMirroredFixedEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 direction)\n{\nfloat lon=atan(direction.z,direction.x);\nfloat lat=acos(direction.y);\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\nfloat s=sphereCoords.x*0.5+0.5;\nfloat t=sphereCoords.y;\nreturn vec3(1.0-s,t,0);\n}\nvec3 computeEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\n{\nvec3 cameraToVertex=normalize(worldPos.xyz-eyePosition);\nvec3 r=normalize(reflect(cameraToVertex,worldNormal));\nr=vec3(reflectionMatrix*vec4(r,0));\nfloat lon=atan(r.z,r.x);\nfloat lat=acos(r.y);\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\nfloat s=sphereCoords.x*0.5+0.5;\nfloat t=sphereCoords.y;\nreturn vec3(s,t,0);\n}\nvec3 computeSphericalCoords(vec4 worldPos,vec3 worldNormal,mat4 view,mat4 reflectionMatrix)\n{\nvec3 viewDir=normalize(vec3(view*worldPos));\nvec3 viewNormal=normalize(vec3(view*vec4(worldNormal,0.0)));\nvec3 r=reflect(viewDir,viewNormal);\nr=vec3(reflectionMatrix*vec4(r,0));\nr.z=r.z-1.0;\nfloat m=2.0*length(r);\nreturn vec3(r.x/m+0.5,1.0-r.y/m-0.5,0);\n}\nvec3 computePlanarCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\n{\nvec3 viewDir=worldPos.xyz-eyePosition;\nvec3 coords=normalize(reflect(viewDir,worldNormal));\nreturn vec3(reflectionMatrix*vec4(coords,1));\n}\nvec3 computeCubicCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\n{\nvec3 viewDir=normalize(worldPos.xyz-eyePosition);\n\nvec3 coords=reflect(viewDir,worldNormal);\ncoords=vec3(reflectionMatrix*vec4(coords,0));\n#ifdef INVERTCUBICMAP\ncoords.y*=-1.0;\n#endif\nreturn coords;\n}\nvec3 computeCubicLocalCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix,vec3 reflectionSize,vec3 reflectionPosition)\n{\nvec3 viewDir=normalize(worldPos.xyz-eyePosition);\n\nvec3 coords=reflect(viewDir,worldNormal);\ncoords=parallaxCorrectNormal(worldPos.xyz,coords,reflectionSize,reflectionPosition);\ncoords=vec3(reflectionMatrix*vec4(coords,0));\n#ifdef INVERTCUBICMAP\ncoords.y*=-1.0;\n#endif\nreturn coords;\n}\nvec3 computeProjectionCoords(vec4 worldPos,mat4 view,mat4 reflectionMatrix)\n{\nreturn vec3(reflectionMatrix*(view*worldPos));\n}\nvec3 computeSkyBoxCoords(vec3 positionW,mat4 reflectionMatrix)\n{\nreturn vec3(reflectionMatrix*vec4(positionW,1.));\n}\n#ifdef REFLECTION\nvec3 computeReflectionCoords(vec4 worldPos,vec3 worldNormal)\n{\n#ifdef REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED\nvec3 direction=normalize(vDirectionW);\nreturn computeMirroredFixedEquirectangularCoords(worldPos,worldNormal,direction);\n#endif\n#ifdef REFLECTIONMAP_EQUIRECTANGULAR_FIXED\nvec3 direction=normalize(vDirectionW);\nreturn computeFixedEquirectangularCoords(worldPos,worldNormal,direction);\n#endif\n#ifdef REFLECTIONMAP_EQUIRECTANGULAR\nreturn computeEquirectangularCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_SPHERICAL\nreturn computeSphericalCoords(worldPos,worldNormal,view,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_PLANAR\nreturn computePlanarCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_CUBIC\n#ifdef USE_LOCAL_REFLECTIONMAP_CUBIC\nreturn computeCubicLocalCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix,vReflectionSize,vReflectionPosition);\n#else\nreturn computeCubicCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\n#endif\n#endif\n#ifdef REFLECTIONMAP_PROJECTION\nreturn computeProjectionCoords(worldPos,view,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_SKYBOX\nreturn computeSkyBoxCoords(vPositionUVW,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_EXPLICIT\nreturn vec3(0,0,0);\n#endif\n}\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/shadowsFragmentFunctions.js":function(t,n,u){"use strict";u.r(n),u.d(n,"shadowsFragmentFunctions",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="shadowsFragmentFunctions",d="#ifdef SHADOWS\n#ifndef SHADOWFLOAT\n\nfloat unpack(vec4 color)\n{\nconst vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);\nreturn dot(color,bit_shift);\n}\n#endif\nfloat computeFallOff(float value,vec2 clipSpace,float frustumEdgeFalloff)\n{\nfloat mask=smoothstep(1.0-frustumEdgeFalloff,1.00000012,clamp(dot(clipSpace,clipSpace),0.,1.));\nreturn mix(value,1.0,mask);\n}\n#define inline\nfloat computeShadowCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\ndepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\n#ifndef SHADOWFLOAT\nfloat shadow=unpack(textureCube(shadowSampler,directionToLight));\n#else\nfloat shadow=textureCube(shadowSampler,directionToLight).x;\n#endif\nreturn depth>shadow ? darkness : 1.0;\n}\n#define inline\nfloat computeShadowWithPoissonSamplingCube(vec3 lightPosition,samplerCube shadowSampler,float mapSize,float darkness,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\ndepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\nfloat visibility=1.;\nvec3 poissonDisk[4];\npoissonDisk[0]=vec3(-1.0,1.0,-1.0);\npoissonDisk[1]=vec3(1.0,-1.0,-1.0);\npoissonDisk[2]=vec3(-1.0,-1.0,-1.0);\npoissonDisk[3]=vec3(1.0,-1.0,1.0);\n\n#ifndef SHADOWFLOAT\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[0]*mapSize))<depth) visibility-=0.25;\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[1]*mapSize))<depth) visibility-=0.25;\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[2]*mapSize))<depth) visibility-=0.25;\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[3]*mapSize))<depth) visibility-=0.25;\n#else\nif (textureCube(shadowSampler,directionToLight+poissonDisk[0]*mapSize).x<depth) visibility-=0.25;\nif (textureCube(shadowSampler,directionToLight+poissonDisk[1]*mapSize).x<depth) visibility-=0.25;\nif (textureCube(shadowSampler,directionToLight+poissonDisk[2]*mapSize).x<depth) visibility-=0.25;\nif (textureCube(shadowSampler,directionToLight+poissonDisk[3]*mapSize).x<depth) visibility-=0.25;\n#endif\nreturn min(1.0,visibility+darkness);\n}\n#define inline\nfloat computeShadowWithESMCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,float depthScale,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\nfloat shadowPixelDepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(textureCube(shadowSampler,directionToLight));\n#else\nfloat shadowMapSample=textureCube(shadowSampler,directionToLight).x;\n#endif\nfloat esm=1.0-clamp(exp(min(87.,depthScale*shadowPixelDepth))*shadowMapSample,0.,1.-darkness);\nreturn esm;\n}\n#define inline\nfloat computeShadowWithCloseESMCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,float depthScale,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\nfloat shadowPixelDepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(textureCube(shadowSampler,directionToLight));\n#else\nfloat shadowMapSample=textureCube(shadowSampler,directionToLight).x;\n#endif\nfloat esm=clamp(exp(min(87.,-depthScale*(shadowPixelDepth-shadowMapSample))),darkness,1.);\nreturn esm;\n}\n#ifdef WEBGL2\n#define inline\nfloat computeShadowCSM(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nvec3 uvLayer=vec3(uv.x,uv.y,layer);\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadow=unpack(texture2D(shadowSampler,uvLayer));\n#else\nfloat shadow=texture2D(shadowSampler,uvLayer).x;\n#endif\nreturn shadowPixelDepth>shadow ? computeFallOff(darkness,clipSpace.xy,frustumEdgeFalloff) : 1.;\n}\n#endif\n#define inline\nfloat computeShadow(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadow=unpack(texture2D(shadowSampler,uv));\n#else\nfloat shadow=texture2D(shadowSampler,uv).x;\n#endif\nreturn shadowPixelDepth>shadow ? computeFallOff(darkness,clipSpace.xy,frustumEdgeFalloff) : 1.;\n}\n}\n#define inline\nfloat computeShadowWithPoissonSampling(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float mapSize,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\nfloat visibility=1.;\nvec2 poissonDisk[4];\npoissonDisk[0]=vec2(-0.94201624,-0.39906216);\npoissonDisk[1]=vec2(0.94558609,-0.76890725);\npoissonDisk[2]=vec2(-0.094184101,-0.92938870);\npoissonDisk[3]=vec2(0.34495938,0.29387760);\n\n#ifndef SHADOWFLOAT\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[0]*mapSize))<shadowPixelDepth) visibility-=0.25;\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[1]*mapSize))<shadowPixelDepth) visibility-=0.25;\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[2]*mapSize))<shadowPixelDepth) visibility-=0.25;\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[3]*mapSize))<shadowPixelDepth) visibility-=0.25;\n#else\nif (texture2D(shadowSampler,uv+poissonDisk[0]*mapSize).x<shadowPixelDepth) visibility-=0.25;\nif (texture2D(shadowSampler,uv+poissonDisk[1]*mapSize).x<shadowPixelDepth) visibility-=0.25;\nif (texture2D(shadowSampler,uv+poissonDisk[2]*mapSize).x<shadowPixelDepth) visibility-=0.25;\nif (texture2D(shadowSampler,uv+poissonDisk[3]*mapSize).x<shadowPixelDepth) visibility-=0.25;\n#endif\nreturn computeFallOff(min(1.0,visibility+darkness),clipSpace.xy,frustumEdgeFalloff);\n}\n}\n#define inline\nfloat computeShadowWithESM(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float depthScale,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(texture2D(shadowSampler,uv));\n#else\nfloat shadowMapSample=texture2D(shadowSampler,uv).x;\n#endif\nfloat esm=1.0-clamp(exp(min(87.,depthScale*shadowPixelDepth))*shadowMapSample,0.,1.-darkness);\nreturn computeFallOff(esm,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n#define inline\nfloat computeShadowWithCloseESM(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float depthScale,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(texture2D(shadowSampler,uv));\n#else\nfloat shadowMapSample=texture2D(shadowSampler,uv).x;\n#endif\nfloat esm=clamp(exp(min(87.,-depthScale*(shadowPixelDepth-shadowMapSample))),darkness,1.);\nreturn computeFallOff(esm,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n#ifdef WEBGL2\n#define GREATEST_LESS_THAN_ONE 0.99999994\n\n#define inline\nfloat computeShadowWithCSMPCF1(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec4 uvDepthLayer=vec4(uvDepth.x,uvDepth.y,layer,uvDepth.z);\nfloat shadow=texture(shadowSampler,uvDepthLayer);\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n\n\n\n#define inline\nfloat computeShadowWithCSMPCF3(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\n\n\nvec2 uvw0=3.-2.*st;\nvec2 uvw1=1.+2.*st;\nvec2 u=vec2((2.-st.x)/uvw0.x-1.,st.x/uvw1.x+1.)*shadowMapSizeAndInverse.y;\nvec2 v=vec2((2.-st.y)/uvw0.y-1.,st.y/uvw1.y+1.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[0]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[0]),layer,uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[1]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[1]),layer,uvDepth.z));\nshadow=shadow/16.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n\n\n\n#define inline\nfloat computeShadowWithCSMPCF5(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\nvec2 uvw0=4.-3.*st;\nvec2 uvw1=vec2(7.);\nvec2 uvw2=1.+3.*st;\nvec3 u=vec3((3.-2.*st.x)/uvw0.x-2.,(3.+st.x)/uvw1.x,st.x/uvw2.x+2.)*shadowMapSizeAndInverse.y;\nvec3 v=vec3((3.-2.*st.y)/uvw0.y-2.,(3.+st.y)/uvw1.y,st.y/uvw2.y+2.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[0]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[0]),layer,uvDepth.z));\nshadow+=uvw2.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[0]),layer,uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[1]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[1]),layer,uvDepth.z));\nshadow+=uvw2.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[1]),layer,uvDepth.z));\nshadow+=uvw0.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[2]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[2]),layer,uvDepth.z));\nshadow+=uvw2.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[2]),layer,uvDepth.z));\nshadow=shadow/144.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n\n#define inline\nfloat computeShadowWithPCF1(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nfloat shadow=texture2D(shadowSampler,uvDepth);\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n\n\n\n#define inline\nfloat computeShadowWithPCF3(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\n\n\nvec2 uvw0=3.-2.*st;\nvec2 uvw1=1.+2.*st;\nvec2 u=vec2((2.-st.x)/uvw0.x-1.,st.x/uvw1.x+1.)*shadowMapSizeAndInverse.y;\nvec2 v=vec2((2.-st.y)/uvw0.y-1.,st.y/uvw1.y+1.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[0]),uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[0]),uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[1]),uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[1]),uvDepth.z));\nshadow=shadow/16.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n\n\n\n#define inline\nfloat computeShadowWithPCF5(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\nvec2 uvw0=4.-3.*st;\nvec2 uvw1=vec2(7.);\nvec2 uvw2=1.+3.*st;\nvec3 u=vec3((3.-2.*st.x)/uvw0.x-2.,(3.+st.x)/uvw1.x,st.x/uvw2.x+2.)*shadowMapSizeAndInverse.y;\nvec3 v=vec3((3.-2.*st.y)/uvw0.y-2.,(3.+st.y)/uvw1.y,st.y/uvw2.y+2.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[0]),uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[0]),uvDepth.z));\nshadow+=uvw2.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[0]),uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[1]),uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[1]),uvDepth.z));\nshadow+=uvw2.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[1]),uvDepth.z));\nshadow+=uvw0.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[2]),uvDepth.z));\nshadow+=uvw1.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[2]),uvDepth.z));\nshadow+=uvw2.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[2]),uvDepth.z));\nshadow=shadow/144.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\nconst vec3 PoissonSamplers32[64]=vec3[64](\nvec3(0.06407013,0.05409927,0.),\nvec3(0.7366577,0.5789394,0.),\nvec3(-0.6270542,-0.5320278,0.),\nvec3(-0.4096107,0.8411095,0.),\nvec3(0.6849564,-0.4990818,0.),\nvec3(-0.874181,-0.04579735,0.),\nvec3(0.9989998,0.0009880066,0.),\nvec3(-0.004920578,-0.9151649,0.),\nvec3(0.1805763,0.9747483,0.),\nvec3(-0.2138451,0.2635818,0.),\nvec3(0.109845,0.3884785,0.),\nvec3(0.06876755,-0.3581074,0.),\nvec3(0.374073,-0.7661266,0.),\nvec3(0.3079132,-0.1216763,0.),\nvec3(-0.3794335,-0.8271583,0.),\nvec3(-0.203878,-0.07715034,0.),\nvec3(0.5912697,0.1469799,0.),\nvec3(-0.88069,0.3031784,0.),\nvec3(0.5040108,0.8283722,0.),\nvec3(-0.5844124,0.5494877,0.),\nvec3(0.6017799,-0.1726654,0.),\nvec3(-0.5554981,0.1559997,0.),\nvec3(-0.3016369,-0.3900928,0.),\nvec3(-0.5550632,-0.1723762,0.),\nvec3(0.925029,0.2995041,0.),\nvec3(-0.2473137,0.5538505,0.),\nvec3(0.9183037,-0.2862392,0.),\nvec3(0.2469421,0.6718712,0.),\nvec3(0.3916397,-0.4328209,0.),\nvec3(-0.03576927,-0.6220032,0.),\nvec3(-0.04661255,0.7995201,0.),\nvec3(0.4402924,0.3640312,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.)\n);\nconst vec3 PoissonSamplers64[64]=vec3[64](\nvec3(-0.613392,0.617481,0.),\nvec3(0.170019,-0.040254,0.),\nvec3(-0.299417,0.791925,0.),\nvec3(0.645680,0.493210,0.),\nvec3(-0.651784,0.717887,0.),\nvec3(0.421003,0.027070,0.),\nvec3(-0.817194,-0.271096,0.),\nvec3(-0.705374,-0.668203,0.),\nvec3(0.977050,-0.108615,0.),\nvec3(0.063326,0.142369,0.),\nvec3(0.203528,0.214331,0.),\nvec3(-0.667531,0.326090,0.),\nvec3(-0.098422,-0.295755,0.),\nvec3(-0.885922,0.215369,0.),\nvec3(0.566637,0.605213,0.),\nvec3(0.039766,-0.396100,0.),\nvec3(0.751946,0.453352,0.),\nvec3(0.078707,-0.715323,0.),\nvec3(-0.075838,-0.529344,0.),\nvec3(0.724479,-0.580798,0.),\nvec3(0.222999,-0.215125,0.),\nvec3(-0.467574,-0.405438,0.),\nvec3(-0.248268,-0.814753,0.),\nvec3(0.354411,-0.887570,0.),\nvec3(0.175817,0.382366,0.),\nvec3(0.487472,-0.063082,0.),\nvec3(-0.084078,0.898312,0.),\nvec3(0.488876,-0.783441,0.),\nvec3(0.470016,0.217933,0.),\nvec3(-0.696890,-0.549791,0.),\nvec3(-0.149693,0.605762,0.),\nvec3(0.034211,0.979980,0.),\nvec3(0.503098,-0.308878,0.),\nvec3(-0.016205,-0.872921,0.),\nvec3(0.385784,-0.393902,0.),\nvec3(-0.146886,-0.859249,0.),\nvec3(0.643361,0.164098,0.),\nvec3(0.634388,-0.049471,0.),\nvec3(-0.688894,0.007843,0.),\nvec3(0.464034,-0.188818,0.),\nvec3(-0.440840,0.137486,0.),\nvec3(0.364483,0.511704,0.),\nvec3(0.034028,0.325968,0.),\nvec3(0.099094,-0.308023,0.),\nvec3(0.693960,-0.366253,0.),\nvec3(0.678884,-0.204688,0.),\nvec3(0.001801,0.780328,0.),\nvec3(0.145177,-0.898984,0.),\nvec3(0.062655,-0.611866,0.),\nvec3(0.315226,-0.604297,0.),\nvec3(-0.780145,0.486251,0.),\nvec3(-0.371868,0.882138,0.),\nvec3(0.200476,0.494430,0.),\nvec3(-0.494552,-0.711051,0.),\nvec3(0.612476,0.705252,0.),\nvec3(-0.578845,-0.768792,0.),\nvec3(-0.772454,-0.090976,0.),\nvec3(0.504440,0.372295,0.),\nvec3(0.155736,0.065157,0.),\nvec3(0.391522,0.849605,0.),\nvec3(-0.620106,-0.328104,0.),\nvec3(0.789239,-0.419965,0.),\nvec3(-0.545396,0.538133,0.),\nvec3(-0.178564,-0.596057,0.)\n);\n\n\n\n\n\n#define inline\nfloat computeShadowWithCSMPCSS(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,int searchTapCount,int pcfTapCount,vec3[64] poissonSamplers,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec4 uvDepthLayer=vec4(uvDepth.x,uvDepth.y,layer,uvDepth.z);\nfloat blockerDepth=0.0;\nfloat sumBlockerDepth=0.0;\nfloat numBlocker=0.0;\nfor (int i=0; i<searchTapCount; i ++) {\nblockerDepth=texture(depthSampler,vec3(uvDepth.xy+(lightSizeUV*lightSizeUVCorrection*shadowMapSizeInverse*PoissonSamplers32[i].xy),layer)).r;\nif (blockerDepth<depthMetric) {\nsumBlockerDepth+=blockerDepth;\nnumBlocker++;\n}\n}\nif (numBlocker<1.0) {\nreturn 1.0;\n}\nelse\n{\nfloat avgBlockerDepth=sumBlockerDepth/numBlocker;\n\nfloat AAOffset=shadowMapSizeInverse*10.;\n\n\nfloat penumbraRatio=((depthMetric-avgBlockerDepth)*depthCorrection+AAOffset);\nvec4 filterRadius=vec4(penumbraRatio*lightSizeUV*lightSizeUVCorrection*shadowMapSizeInverse,0.,0.);\nfloat random=getRand(vPositionFromLight.xy);\nfloat rotationAngle=random*3.1415926;\nvec2 rotationVector=vec2(cos(rotationAngle),sin(rotationAngle));\nfloat shadow=0.;\nfor (int i=0; i<pcfTapCount; i++) {\nvec4 offset=vec4(poissonSamplers[i],0.);\n\noffset=vec4(offset.x*rotationVector.x-offset.y*rotationVector.y,offset.y*rotationVector.x+offset.x*rotationVector.y,0.,0.);\nshadow+=texture2D(shadowSampler,uvDepthLayer+offset*filterRadius);\n}\nshadow/=float(pcfTapCount);\n\nshadow=mix(shadow,1.,min((depthMetric-avgBlockerDepth)*depthCorrection*penumbraDarkness,1.));\n\nshadow=mix(darkness,1.,shadow);\n\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n\n\n\n\n\n#define inline\nfloat computeShadowWithPCSS(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,int searchTapCount,int pcfTapCount,vec3[64] poissonSamplers)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nfloat blockerDepth=0.0;\nfloat sumBlockerDepth=0.0;\nfloat numBlocker=0.0;\nfor (int i=0; i<searchTapCount; i ++) {\nblockerDepth=texture(depthSampler,uvDepth.xy+(lightSizeUV*shadowMapSizeInverse*PoissonSamplers32[i].xy)).r;\nif (blockerDepth<depthMetric) {\nsumBlockerDepth+=blockerDepth;\nnumBlocker++;\n}\n}\nif (numBlocker<1.0) {\nreturn 1.0;\n}\nelse\n{\nfloat avgBlockerDepth=sumBlockerDepth/numBlocker;\n\nfloat AAOffset=shadowMapSizeInverse*10.;\n\n\nfloat penumbraRatio=((depthMetric-avgBlockerDepth)+AAOffset);\nfloat filterRadius=penumbraRatio*lightSizeUV*shadowMapSizeInverse;\nfloat random=getRand(vPositionFromLight.xy);\nfloat rotationAngle=random*3.1415926;\nvec2 rotationVector=vec2(cos(rotationAngle),sin(rotationAngle));\nfloat shadow=0.;\nfor (int i=0; i<pcfTapCount; i++) {\nvec3 offset=poissonSamplers[i];\n\noffset=vec3(offset.x*rotationVector.x-offset.y*rotationVector.y,offset.y*rotationVector.x+offset.x*rotationVector.y,0.);\nshadow+=texture2D(shadowSampler,uvDepth+offset*filterRadius);\n}\nshadow/=float(pcfTapCount);\n\nshadow=mix(shadow,1.,depthMetric-avgBlockerDepth);\n\nshadow=mix(darkness,1.,shadow);\n\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n}\n#define inline\nfloat computeShadowWithPCSS16(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\n{\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,16,PoissonSamplers32);\n}\n#define inline\nfloat computeShadowWithPCSS32(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\n{\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,32,PoissonSamplers32);\n}\n#define inline\nfloat computeShadowWithPCSS64(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\n{\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,32,64,PoissonSamplers64);\n}\n#define inline\nfloat computeShadowWithCSMPCSS16(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,16,PoissonSamplers32,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\n}\n#define inline\nfloat computeShadowWithCSMPCSS32(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,32,PoissonSamplers32,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\n}\n#define inline\nfloat computeShadowWithCSMPCSS64(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,32,64,PoissonSamplers64,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\n}\n#endif\n#endif\n";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/ShadersInclude/shadowsVertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"shadowsVertex",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="shadowsVertex",d="#ifdef SHADOWS\n#if defined(SHADOWCSM{X})\nvPositionFromCamera{X}=view*worldPos;\nfor (int i=0; i<SHADOWCSMNUM_CASCADES{X}; i++) {\nvPositionFromLight{X}[i]=lightMatrix{X}[i]*worldPos;\nvDepthMetric{X}[i]=((vPositionFromLight{X}[i].z+light{X}.depthValues.x)/(light{X}.depthValues.y));\n}\n#elif defined(SHADOW{X}) && !defined(SHADOWCUBE{X})\nvPositionFromLight{X}=lightMatrix{X}*worldPos;\nvDepthMetric{X}=((vPositionFromLight{X}.z+light{X}.depthValues.x)/(light{X}.depthValues.y));\n#endif\n#endif";c["Effect"].IncludesShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/color.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"colorPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneFragment.js"),"colorPixelShader"),d="#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#else\nuniform vec4 color;\n#endif\n#include<clipPlaneFragmentDeclaration>\nvoid main(void) {\n#include<clipPlaneFragment>\n#ifdef VERTEXCOLOR\ngl_FragColor=vColor;\n#else\ngl_FragColor=color;\n#endif\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/color.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"colorVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneVertex.js"),"colorVertexShader"),d="\nattribute vec3 position;\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<bonesDeclaration>\n#include<clipPlaneVertexDeclaration>\n\n#include<instancesDeclaration>\nuniform mat4 viewProjection;\n#ifdef MULTIVIEW\nuniform mat4 viewProjectionR;\n#endif\n\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\nvoid main(void) {\n#include<instancesVertex>\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(position,1.0);\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*worldPos;\n} else {\ngl_Position=viewProjectionR*worldPos;\n}\n#else\ngl_Position=viewProjection*worldPos;\n#endif\n#include<clipPlaneVertex>\n#ifdef VERTEXCOLOR\n\nvColor=color;\n#endif\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/default.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"defaultPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultUboDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/prePassDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/helperFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightUboDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightsFragmentFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/shadowsFragmentFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fresnelFunction.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/reflectionFunction.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/imageProcessingDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/imageProcessingFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpFragmentMainFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpFragmentFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneFragment.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpFragment.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/depthPrePass.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightFragment.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthFragment.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogFragment.js"),"defaultPixelShader"),d="#include<__decl__defaultFragment>\n#if defined(BUMP) || !defined(NORMAL)\n#extension GL_OES_standard_derivatives : enable\n#endif\n#include<prePassDeclaration>[SCENE_MRT_COUNT]\n#define CUSTOM_FRAGMENT_BEGIN\n#ifdef LOGARITHMICDEPTH\n#extension GL_EXT_frag_depth : enable\n#endif\n\n#define RECIPROCAL_PI2 0.15915494\nuniform vec3 vEyePosition;\nuniform vec3 vAmbientColor;\n\nvarying vec3 vPositionW;\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n\n#include<helperFunctions>\n\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<lightsFragmentFunctions>\n#include<shadowsFragmentFunctions>\n\n#ifdef DIFFUSE\n#if DIFFUSEDIRECTUV == 1\n#define vDiffuseUV vMainUV1\n#elif DIFFUSEDIRECTUV == 2\n#define vDiffuseUV vMainUV2\n#else\nvarying vec2 vDiffuseUV;\n#endif\nuniform sampler2D diffuseSampler;\n#endif\n#ifdef AMBIENT\n#if AMBIENTDIRECTUV == 1\n#define vAmbientUV vMainUV1\n#elif AMBIENTDIRECTUV == 2\n#define vAmbientUV vMainUV2\n#else\nvarying vec2 vAmbientUV;\n#endif\nuniform sampler2D ambientSampler;\n#endif\n#ifdef OPACITY\n#if OPACITYDIRECTUV == 1\n#define vOpacityUV vMainUV1\n#elif OPACITYDIRECTUV == 2\n#define vOpacityUV vMainUV2\n#else\nvarying vec2 vOpacityUV;\n#endif\nuniform sampler2D opacitySampler;\n#endif\n#ifdef EMISSIVE\n#if EMISSIVEDIRECTUV == 1\n#define vEmissiveUV vMainUV1\n#elif EMISSIVEDIRECTUV == 2\n#define vEmissiveUV vMainUV2\n#else\nvarying vec2 vEmissiveUV;\n#endif\nuniform sampler2D emissiveSampler;\n#endif\n#ifdef LIGHTMAP\n#if LIGHTMAPDIRECTUV == 1\n#define vLightmapUV vMainUV1\n#elif LIGHTMAPDIRECTUV == 2\n#define vLightmapUV vMainUV2\n#else\nvarying vec2 vLightmapUV;\n#endif\nuniform sampler2D lightmapSampler;\n#endif\n#ifdef REFRACTION\n#ifdef REFRACTIONMAP_3D\nuniform samplerCube refractionCubeSampler;\n#else\nuniform sampler2D refraction2DSampler;\n#endif\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\n#if SPECULARDIRECTUV == 1\n#define vSpecularUV vMainUV1\n#elif SPECULARDIRECTUV == 2\n#define vSpecularUV vMainUV2\n#else\nvarying vec2 vSpecularUV;\n#endif\nuniform sampler2D specularSampler;\n#endif\n#ifdef ALPHATEST\nuniform float alphaCutOff;\n#endif\n\n#include<fresnelFunction>\n\n#ifdef REFLECTION\n#ifdef REFLECTIONMAP_3D\nuniform samplerCube reflectionCubeSampler;\n#else\nuniform sampler2D reflection2DSampler;\n#endif\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#else\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#endif\n#include<reflectionFunction>\n#endif\n#include<imageProcessingDeclaration>\n#include<imageProcessingFunctions>\n#include<bumpFragmentMainFunctions>\n#include<bumpFragmentFunctions>\n#include<clipPlaneFragmentDeclaration>\n#include<logDepthDeclaration>\n#include<fogFragmentDeclaration>\n#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\n#include<clipPlaneFragment>\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\n\nvec4 baseColor=vec4(1.,1.,1.,1.);\nvec3 diffuseColor=vDiffuseColor.rgb;\n\nfloat alpha=vDiffuseColor.a;\n\n#ifdef NORMAL\nvec3 normalW=normalize(vNormalW);\n#else\nvec3 normalW=normalize(-cross(dFdx(vPositionW),dFdy(vPositionW)));\n#endif\n#include<bumpFragment>\n#ifdef TWOSIDEDLIGHTING\nnormalW=gl_FrontFacing ? normalW : -normalW;\n#endif\n#ifdef DIFFUSE\nbaseColor=texture2D(diffuseSampler,vDiffuseUV+uvOffset);\n#if defined(ALPHATEST) && !defined(ALPHATEST_AFTERALLALPHACOMPUTATIONS)\nif (baseColor.a<alphaCutOff)\ndiscard;\n#endif\n#ifdef ALPHAFROMDIFFUSE\nalpha*=baseColor.a;\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_ALPHA\nbaseColor.rgb*=vDiffuseInfos.y;\n#endif\n#include<depthPrePass>\n#ifdef VERTEXCOLOR\nbaseColor.rgb*=vColor.rgb;\n#endif\n#ifdef DETAIL\nbaseColor.rgb=baseColor.rgb*2.0*mix(0.5,detailColor.r,vDetailInfos.y);\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\n\nvec3 baseAmbientColor=vec3(1.,1.,1.);\n#ifdef AMBIENT\nbaseAmbientColor=texture2D(ambientSampler,vAmbientUV+uvOffset).rgb*vAmbientInfos.y;\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\n\n#ifdef SPECULARTERM\nfloat glossiness=vSpecularColor.a;\nvec3 specularColor=vSpecularColor.rgb;\n#ifdef SPECULAR\nvec4 specularMapColor=texture2D(specularSampler,vSpecularUV+uvOffset);\nspecularColor=specularMapColor.rgb;\n#ifdef GLOSSINESS\nglossiness=glossiness*specularMapColor.a;\n#endif\n#endif\n#else\nfloat glossiness=0.;\n#endif\n\nvec3 diffuseBase=vec3(0.,0.,0.);\nlightingInfo info;\n#ifdef SPECULARTERM\nvec3 specularBase=vec3(0.,0.,0.);\n#endif\nfloat shadow=1.;\n#ifdef LIGHTMAP\nvec4 lightmapColor=texture2D(lightmapSampler,vLightmapUV+uvOffset);\n#ifdef RGBDLIGHTMAP\nlightmapColor.rgb=fromRGBD(lightmapColor);\n#endif\nlightmapColor.rgb*=vLightmapInfos.y;\n#endif\n#include<lightFragment>[0..maxSimultaneousLights]\n\nvec4 refractionColor=vec4(0.,0.,0.,1.);\n#ifdef REFRACTION\nvec3 refractionVector=normalize(refract(-viewDirectionW,normalW,vRefractionInfos.y));\n#ifdef REFRACTIONMAP_3D\nrefractionVector.y=refractionVector.y*vRefractionInfos.w;\nif (dot(refractionVector,viewDirectionW)<1.0) {\nrefractionColor=textureCube(refractionCubeSampler,refractionVector);\n}\n#else\nvec3 vRefractionUVW=vec3(refractionMatrix*(view*vec4(vPositionW+refractionVector*vRefractionInfos.z,1.0)));\nvec2 refractionCoords=vRefractionUVW.xy/vRefractionUVW.z;\nrefractionCoords.y=1.0-refractionCoords.y;\nrefractionColor=texture2D(refraction2DSampler,refractionCoords);\n#endif\n#ifdef RGBDREFRACTION\nrefractionColor.rgb=fromRGBD(refractionColor);\n#endif\n#ifdef IS_REFRACTION_LINEAR\nrefractionColor.rgb=toGammaSpace(refractionColor.rgb);\n#endif\nrefractionColor.rgb*=vRefractionInfos.x;\n#endif\n\nvec4 reflectionColor=vec4(0.,0.,0.,1.);\n#ifdef REFLECTION\nvec3 vReflectionUVW=computeReflectionCoords(vec4(vPositionW,1.0),normalW);\n#ifdef REFLECTIONMAP_3D\n#ifdef ROUGHNESS\nfloat bias=vReflectionInfos.y;\n#ifdef SPECULARTERM\n#ifdef SPECULAR\n#ifdef GLOSSINESS\nbias*=(1.0-specularMapColor.a);\n#endif\n#endif\n#endif\nreflectionColor=textureCube(reflectionCubeSampler,vReflectionUVW,bias);\n#else\nreflectionColor=textureCube(reflectionCubeSampler,vReflectionUVW);\n#endif\n#else\nvec2 coords=vReflectionUVW.xy;\n#ifdef REFLECTIONMAP_PROJECTION\ncoords/=vReflectionUVW.z;\n#endif\ncoords.y=1.0-coords.y;\nreflectionColor=texture2D(reflection2DSampler,coords);\n#endif\n#ifdef RGBDREFLECTION\nreflectionColor.rgb=fromRGBD(reflectionColor);\n#endif\n#ifdef IS_REFLECTION_LINEAR\nreflectionColor.rgb=toGammaSpace(reflectionColor.rgb);\n#endif\nreflectionColor.rgb*=vReflectionInfos.x;\n#ifdef REFLECTIONFRESNEL\nfloat reflectionFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,reflectionRightColor.a,reflectionLeftColor.a);\n#ifdef REFLECTIONFRESNELFROMSPECULAR\n#ifdef SPECULARTERM\nreflectionColor.rgb*=specularColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\n#else\nreflectionColor.rgb*=reflectionLeftColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\n#endif\n#else\nreflectionColor.rgb*=reflectionLeftColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\n#endif\n#endif\n#endif\n#ifdef REFRACTIONFRESNEL\nfloat refractionFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,refractionRightColor.a,refractionLeftColor.a);\nrefractionColor.rgb*=refractionLeftColor.rgb*(1.0-refractionFresnelTerm)+refractionFresnelTerm*refractionRightColor.rgb;\n#endif\n#ifdef OPACITY\nvec4 opacityMap=texture2D(opacitySampler,vOpacityUV+uvOffset);\n#ifdef OPACITYRGB\nopacityMap.rgb=opacityMap.rgb*vec3(0.3,0.59,0.11);\nalpha*=(opacityMap.x+opacityMap.y+opacityMap.z)* vOpacityInfos.y;\n#else\nalpha*=opacityMap.a*vOpacityInfos.y;\n#endif\n#endif\n#ifdef VERTEXALPHA\nalpha*=vColor.a;\n#endif\n#ifdef OPACITYFRESNEL\nfloat opacityFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,opacityParts.z,opacityParts.w);\nalpha+=opacityParts.x*(1.0-opacityFresnelTerm)+opacityFresnelTerm*opacityParts.y;\n#endif\n#ifdef ALPHATEST\n#ifdef ALPHATEST_AFTERALLALPHACOMPUTATIONS\nif (alpha<alphaCutOff)\ndiscard;\n#endif\n#ifndef ALPHABLEND\n\nalpha=1.0;\n#endif\n#endif\n\nvec3 emissiveColor=vEmissiveColor;\n#ifdef EMISSIVE\nemissiveColor+=texture2D(emissiveSampler,vEmissiveUV+uvOffset).rgb*vEmissiveInfos.y;\n#endif\n#ifdef EMISSIVEFRESNEL\nfloat emissiveFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,emissiveRightColor.a,emissiveLeftColor.a);\nemissiveColor*=emissiveLeftColor.rgb*(1.0-emissiveFresnelTerm)+emissiveFresnelTerm*emissiveRightColor.rgb;\n#endif\n\n#ifdef DIFFUSEFRESNEL\nfloat diffuseFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,diffuseRightColor.a,diffuseLeftColor.a);\ndiffuseBase*=diffuseLeftColor.rgb*(1.0-diffuseFresnelTerm)+diffuseFresnelTerm*diffuseRightColor.rgb;\n#endif\n\n#ifdef EMISSIVEASILLUMINATION\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\n#else\n#ifdef LINKEMISSIVEWITHDIFFUSE\nvec3 finalDiffuse=clamp((diffuseBase+emissiveColor)*diffuseColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\n#else\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor+emissiveColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\n#endif\n#endif\n#ifdef SPECULARTERM\nvec3 finalSpecular=specularBase*specularColor;\n#ifdef SPECULAROVERALPHA\nalpha=clamp(alpha+dot(finalSpecular,vec3(0.3,0.59,0.11)),0.,1.);\n#endif\n#else\nvec3 finalSpecular=vec3(0.0);\n#endif\n#ifdef REFLECTIONOVERALPHA\nalpha=clamp(alpha+dot(reflectionColor.rgb,vec3(0.3,0.59,0.11)),0.,1.);\n#endif\n\n#ifdef EMISSIVEASILLUMINATION\nvec4 color=vec4(clamp(finalDiffuse*baseAmbientColor+finalSpecular+reflectionColor.rgb+emissiveColor+refractionColor.rgb,0.0,1.0),alpha);\n#else\nvec4 color=vec4(finalDiffuse*baseAmbientColor+finalSpecular+reflectionColor.rgb+refractionColor.rgb,alpha);\n#endif\n\n#ifdef LIGHTMAP\n#ifndef LIGHTMAPEXCLUDED\n#ifdef USELIGHTMAPASSHADOWMAP\ncolor.rgb*=lightmapColor.rgb;\n#else\ncolor.rgb+=lightmapColor.rgb;\n#endif\n#endif\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_FOG\ncolor.rgb=max(color.rgb,0.);\n#include<logDepthFragment>\n#include<fogFragment>\n\n\n#ifdef IMAGEPROCESSINGPOSTPROCESS\ncolor.rgb=toLinearSpace(color.rgb);\n#else\n#ifdef IMAGEPROCESSING\ncolor.rgb=toLinearSpace(color.rgb);\ncolor=applyImageProcessing(color);\n#endif\n#endif\ncolor.a*=visibility;\n#ifdef PREMULTIPLYALPHA\n\ncolor.rgb*=color.a;\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\n#ifdef PREPASS\ngl_FragData[0]=color;\n#ifdef PREPASS_POSITION\ngl_FragData[PREPASS_POSITION_INDEX]=vec4(vPositionW,1.0);\n#endif\n#ifdef PREPASS_VELOCITY\nvec2 a=(vCurrentPosition.xy/vCurrentPosition.w)*0.5+0.5;\nvec2 b=(vPreviousPosition.xy/vPreviousPosition.w)*0.5+0.5;\nvec2 velocity=abs(a-b);\nvelocity=vec2(pow(velocity.x,1.0/3.0),pow(velocity.y,1.0/3.0))*sign(a-b)*0.5+0.5;\ngl_FragData[PREPASS_VELOCITY_INDEX]=vec4(velocity,0.0,1.0);\n#endif\n#ifdef PREPASS_IRRADIANCE\ngl_FragData[PREPASS_IRRADIANCE_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#ifdef PREPASS_DEPTHNORMAL\ngl_FragData[PREPASS_DEPTHNORMAL_INDEX]=vec4(vViewPos.z,(view*vec4(normalW,0.0)).rgb);\n#endif\n#ifdef PREPASS_ALBEDO\ngl_FragData[PREPASS_ALBEDO_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#ifdef PREPASS_REFLECTIVITY\n#if defined(SPECULAR)\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=specularMapColor;\n#else\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#endif\n#endif\n#if !defined(PREPASS) || defined(WEBGL2)\ngl_FragColor=color;\n#endif\n}\n";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/default.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"defaultVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/defaultUboDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/helperFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/prePassVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/lightUboDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexGlobalDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/prePassVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bumpVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/clipPlaneVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/shadowsVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/pointCloudVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/logDepthVertex.js"),"defaultVertexShader"),d="#include<__decl__defaultVertex>\n\n#define CUSTOM_VERTEX_BEGIN\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\n#endif\n#ifdef TANGENT\nattribute vec4 tangent;\n#endif\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<helperFunctions>\n#include<bonesDeclaration>\n\n#include<instancesDeclaration>\n#include<prePassVertexDeclaration>\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n#if defined(DIFFUSE) && DIFFUSEDIRECTUV == 0\nvarying vec2 vDiffuseUV;\n#endif\n#if defined(DETAIL) && DETAILDIRECTUV == 0\nvarying vec2 vDetailUV;\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nvarying vec2 vAmbientUV;\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nvarying vec2 vOpacityUV;\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nvarying vec2 vEmissiveUV;\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nvarying vec2 vLightmapUV;\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM) && SPECULARDIRECTUV == 0\nvarying vec2 vSpecularUV;\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nvarying vec2 vBumpUV;\n#endif\n\nvarying vec3 vPositionW;\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\n#include<bumpVertexDeclaration>\n#include<clipPlaneVertexDeclaration>\n#include<fogVertexDeclaration>\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#include<logDepthDeclaration>\n#define CUSTOM_VERTEX_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_VERTEX_MAIN_BEGIN\nvec3 positionUpdated=position;\n#ifdef NORMAL\nvec3 normalUpdated=normal;\n#endif\n#ifdef TANGENT\nvec4 tangentUpdated=tangent;\n#endif\n#ifdef UV1\nvec2 uvUpdated=uv;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvPositionUVW=positionUpdated;\n#endif\n#define CUSTOM_VERTEX_UPDATE_POSITION\n#define CUSTOM_VERTEX_UPDATE_NORMAL\n#include<instancesVertex>\n#if defined(PREPASS) && defined(PREPASS_VELOCITY) && !defined(BONES_VELOCITY_ENABLED)\n\nvCurrentPosition=viewProjection*finalWorld*vec4(positionUpdated,1.0);\nvPreviousPosition=previousViewProjection*previousWorld*vec4(positionUpdated,1.0);\n#endif\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\n#ifdef NORMAL\nmat3 normalWorld=mat3(finalWorld);\n#if defined(INSTANCES) && defined(THIN_INSTANCES)\nvNormalW=normalUpdated/vec3(dot(normalWorld[0],normalWorld[0]),dot(normalWorld[1],normalWorld[1]),dot(normalWorld[2],normalWorld[2]));\nvNormalW=normalize(normalWorld*vNormalW);\n#else\n#ifdef NONUNIFORMSCALING\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\n#endif\nvNormalW=normalize(normalWorld*normalUpdated);\n#endif\n#endif\n#define CUSTOM_VERTEX_UPDATE_WORLDPOS\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*worldPos;\n} else {\ngl_Position=viewProjectionR*worldPos;\n}\n#else\ngl_Position=viewProjection*worldPos;\n#endif\nvPositionW=vec3(worldPos);\n#include<prePassVertex>\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvDirectionW=normalize(vec3(finalWorld*vec4(positionUpdated,0.0)));\n#endif\n\n#ifndef UV1\nvec2 uvUpdated=vec2(0.,0.);\n#endif\n#ifndef UV2\nvec2 uv2=vec2(0.,0.);\n#endif\n#ifdef MAINUV1\nvMainUV1=uvUpdated;\n#endif\n#ifdef MAINUV2\nvMainUV2=uv2;\n#endif\n#if defined(DIFFUSE) && DIFFUSEDIRECTUV == 0\nif (vDiffuseInfos.x == 0.)\n{\nvDiffuseUV=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(DETAIL) && DETAILDIRECTUV == 0\nif (vDetailInfos.x == 0.)\n{\nvDetailUV=vec2(detailMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvDetailUV=vec2(detailMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nif (vAmbientInfos.x == 0.)\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nif (vOpacityInfos.x == 0.)\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nif (vEmissiveInfos.x == 0.)\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nif (vLightmapInfos.x == 0.)\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM) && SPECULARDIRECTUV == 0\nif (vSpecularInfos.x == 0.)\n{\nvSpecularUV=vec2(specularMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvSpecularUV=vec2(specularMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nif (vBumpInfos.x == 0.)\n{\nvBumpUV=vec2(bumpMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvBumpUV=vec2(bumpMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#include<bumpVertex>\n#include<clipPlaneVertex>\n#include<fogVertex>\n#include<shadowsVertex>[0..maxSimultaneousLights]\n#ifdef VERTEXCOLOR\n\nvColor=color;\n#endif\n#include<pointCloudVertex>\n#include<logDepthVertex>\n#define CUSTOM_VERTEX_MAIN_END\n}\n";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/glowBlurPostProcess.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"glowBlurPostProcessPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="glowBlurPostProcessPixelShader",d="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\n\nuniform vec2 screenSize;\nuniform vec2 direction;\nuniform float blurWidth;\n\nfloat getLuminance(vec3 color)\n{\nreturn dot(color,vec3(0.2126,0.7152,0.0722));\n}\nvoid main(void)\n{\nfloat weights[7];\nweights[0]=0.05;\nweights[1]=0.1;\nweights[2]=0.2;\nweights[3]=0.3;\nweights[4]=0.2;\nweights[5]=0.1;\nweights[6]=0.05;\nvec2 texelSize=vec2(1.0/screenSize.x,1.0/screenSize.y);\nvec2 texelStep=texelSize*direction*blurWidth;\nvec2 start=vUV-3.0*texelStep;\nvec4 baseColor=vec4(0.,0.,0.,0.);\nvec2 texelOffset=vec2(0.,0.);\nfor (int i=0; i<7; i++)\n{\n\nvec4 texel=texture2D(textureSampler,start+texelOffset);\nbaseColor.a+=texel.a*weights[i];\n\nfloat luminance=getLuminance(baseColor.rgb);\nfloat luminanceTexel=getLuminance(texel.rgb);\nfloat choice=step(luminanceTexel,luminance);\nbaseColor.rgb=choice*baseColor.rgb+(1.0-choice)*texel.rgb;\ntexelOffset+=texelStep;\n}\ngl_FragColor=baseColor;\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/glowMapGeneration.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"glowMapGenerationPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="glowMapGenerationPixelShader",d="#ifdef DIFFUSE\nvarying vec2 vUVDiffuse;\nuniform sampler2D diffuseSampler;\n#endif\n#ifdef OPACITY\nvarying vec2 vUVOpacity;\nuniform sampler2D opacitySampler;\nuniform float opacityIntensity;\n#endif\n#ifdef EMISSIVE\nvarying vec2 vUVEmissive;\nuniform sampler2D emissiveSampler;\n#endif\n#ifdef VERTEXALPHA\nvarying vec4 vColor;\n#endif\nuniform vec4 glowColor;\nvoid main(void)\n{\nvec4 finalColor=glowColor;\n\n#ifdef DIFFUSE\nvec4 albedoTexture=texture2D(diffuseSampler,vUVDiffuse);\n#ifdef GLOW\n\nfinalColor.a*=albedoTexture.a;\n#endif\n#ifdef HIGHLIGHT\n\nfinalColor.a=albedoTexture.a;\n#endif\n#endif\n#ifdef OPACITY\nvec4 opacityMap=texture2D(opacitySampler,vUVOpacity);\n#ifdef OPACITYRGB\nfinalColor.a*=getLuminance(opacityMap.rgb);\n#else\nfinalColor.a*=opacityMap.a;\n#endif\nfinalColor.a*=opacityIntensity;\n#endif\n#ifdef VERTEXALPHA\nfinalColor.a*=vColor.a;\n#endif\n#ifdef ALPHATEST\nif (finalColor.a<ALPHATESTVALUE)\ndiscard;\n#endif\n#ifdef EMISSIVE\ngl_FragColor=texture2D(emissiveSampler,vUVEmissive)*finalColor;\n#else\ngl_FragColor=finalColor;\n#endif\n#ifdef HIGHLIGHT\n\ngl_FragColor.a=glowColor.a;\n#endif\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/glowMapGeneration.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"glowMapGenerationVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexGlobalDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/morphTargetsVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/bonesVertex.js"),"glowMapGenerationVertexShader"),d="\nattribute vec3 position;\n#include<bonesDeclaration>\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n\n#include<instancesDeclaration>\nuniform mat4 viewProjection;\nvarying vec4 vPosition;\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#ifdef DIFFUSE\nvarying vec2 vUVDiffuse;\nuniform mat4 diffuseMatrix;\n#endif\n#ifdef OPACITY\nvarying vec2 vUVOpacity;\nuniform mat4 opacityMatrix;\n#endif\n#ifdef EMISSIVE\nvarying vec2 vUVEmissive;\nuniform mat4 emissiveMatrix;\n#endif\n#ifdef VERTEXALPHA\nattribute vec4 color;\nvarying vec4 vColor;\n#endif\nvoid main(void)\n{\nvec3 positionUpdated=position;\n#ifdef UV1\nvec2 uvUpdated=uv;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#include<instancesVertex>\n#include<bonesVertex>\n#ifdef CUBEMAP\nvPosition=finalWorld*vec4(positionUpdated,1.0);\ngl_Position=viewProjection*finalWorld*vec4(position,1.0);\n#else\nvPosition=viewProjection*finalWorld*vec4(positionUpdated,1.0);\ngl_Position=vPosition;\n#endif\n#ifdef DIFFUSE\n#ifdef DIFFUSEUV1\nvUVDiffuse=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\n#endif\n#ifdef DIFFUSEUV2\nvUVDiffuse=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n#endif\n#endif\n#ifdef OPACITY\n#ifdef OPACITYUV1\nvUVOpacity=vec2(opacityMatrix*vec4(uvUpdated,1.0,0.0));\n#endif\n#ifdef OPACITYUV2\nvUVOpacity=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\n#endif\n#endif\n#ifdef EMISSIVE\n#ifdef EMISSIVEUV1\nvUVEmissive=vec2(emissiveMatrix*vec4(uvUpdated,1.0,0.0));\n#endif\n#ifdef EMISSIVEUV2\nvUVEmissive=vec2(emissiveMatrix*vec4(uv2,1.0,0.0));\n#endif\n#endif\n#ifdef VERTEXALPHA\nvColor=color;\n#endif\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/glowMapMerge.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"glowMapMergePixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="glowMapMergePixelShader",d="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\n#ifdef EMISSIVE\nuniform sampler2D textureSampler2;\n#endif\n\nuniform float offset;\nvoid main(void) {\nvec4 baseColor=texture2D(textureSampler,vUV);\n#ifdef EMISSIVE\nbaseColor+=texture2D(textureSampler2,vUV);\nbaseColor*=offset;\n#else\nbaseColor.a=abs(offset-baseColor.a);\n#ifdef STROKE\nfloat alpha=smoothstep(.0,.1,baseColor.a);\nbaseColor.a=alpha;\nbaseColor.rgb=baseColor.rgb*alpha;\n#endif\n#endif\ngl_FragColor=baseColor;\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/glowMapMerge.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"glowMapMergeVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="glowMapMergeVertexShader",d="\nattribute vec2 position;\n\nvarying vec2 vUV;\nconst vec2 madd=vec2(0.5,0.5);\nvoid main(void) {\nvUV=position*madd+madd;\ngl_Position=vec4(position,0.0,1.0);\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/kernelBlur.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"kernelBlurPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurVaryingDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/packingFunctions.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurFragment.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurFragment2.js"),"kernelBlurPixelShader"),d="\nuniform sampler2D textureSampler;\nuniform vec2 delta;\n\nvarying vec2 sampleCenter;\n#ifdef DOF\nuniform sampler2D circleOfConfusionSampler;\nuniform vec2 cameraMinMaxZ;\nfloat sampleDistance(const in vec2 offset) {\nfloat depth=texture2D(circleOfConfusionSampler,offset).g;\nreturn cameraMinMaxZ.x+(cameraMinMaxZ.y-cameraMinMaxZ.x)*depth;\n}\nfloat sampleCoC(const in vec2 offset) {\nfloat coc=texture2D(circleOfConfusionSampler,offset).r;\nreturn coc;\n}\n#endif\n#include<kernelBlurVaryingDeclaration>[0..varyingCount]\n#ifdef PACKEDFLOAT\n#include<packingFunctions>\n#endif\nvoid main(void)\n{\nfloat computedWeight=0.0;\n#ifdef PACKEDFLOAT\nfloat blend=0.;\n#else\nvec4 blend=vec4(0.);\n#endif\n#ifdef DOF\nfloat sumOfWeights=CENTER_WEIGHT;\nfloat factor=0.0;\n\n#ifdef PACKEDFLOAT\nblend+=unpack(texture2D(textureSampler,sampleCenter))*CENTER_WEIGHT;\n#else\nblend+=texture2D(textureSampler,sampleCenter)*CENTER_WEIGHT;\n#endif\n#endif\n#include<kernelBlurFragment>[0..varyingCount]\n#include<kernelBlurFragment2>[0..depCount]\n#ifdef PACKEDFLOAT\ngl_FragColor=pack(blend);\n#else\ngl_FragColor=blend;\n#endif\n#ifdef DOF\ngl_FragColor/=sumOfWeights;\n#endif\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/kernelBlur.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"kernelBlurVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurVaryingDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/kernelBlurVertex.js"),"kernelBlurVertexShader"),d="\nattribute vec2 position;\n\nuniform vec2 delta;\n\nvarying vec2 sampleCenter;\n#include<kernelBlurVaryingDeclaration>[0..varyingCount]\nconst vec2 madd=vec2(0.5,0.5);\nvoid main(void) {\nsampleCenter=(position*madd+madd);\n#include<kernelBlurVertex>[0..varyingCount]\ngl_Position=vec4(position,0.0,1.0);\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/line.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"linePixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="linePixelShader",d="uniform vec4 color;\nvoid main(void) {\ngl_FragColor=color;\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/line.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"lineVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js"),"lineVertexShader"),d="#include<instancesDeclaration>\n\nattribute vec3 position;\nattribute vec4 normal;\n\nuniform mat4 viewProjection;\nuniform float width;\nuniform float aspectRatio;\nvoid main(void) {\n#include<instancesVertex>\nmat4 worldViewProjection=viewProjection*finalWorld;\nvec4 viewPosition=worldViewProjection*vec4(position,1.0);\nvec4 viewPositionNext=worldViewProjection*vec4(normal.xyz,1.0);\nvec2 currentScreen=viewPosition.xy/viewPosition.w;\nvec2 nextScreen=viewPositionNext.xy/viewPositionNext.w;\ncurrentScreen.x*=aspectRatio;\nnextScreen.x*=aspectRatio;\nvec2 dir=normalize(nextScreen-currentScreen);\nvec2 normalDir=vec2(-dir.y,dir.x);\nnormalDir*=width/2.0;\nnormalDir.x/=aspectRatio;\nvec4 offset=vec4(normalDir*normal.w,0.0,0.0);\ngl_Position=viewPosition+offset;\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/pass.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"passPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="passPixelShader",d="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\nvoid main(void)\n{\ngl_FragColor=texture2D(textureSampler,vUV);\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/passCube.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"passCubePixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="passCubePixelShader",d="\nvarying vec2 vUV;\nuniform samplerCube textureSampler;\nvoid main(void)\n{\nvec2 uv=vUV*2.0-1.0;\n#ifdef POSITIVEX\ngl_FragColor=textureCube(textureSampler,vec3(1.001,uv.y,uv.x));\n#endif\n#ifdef NEGATIVEX\ngl_FragColor=textureCube(textureSampler,vec3(-1.001,uv.y,uv.x));\n#endif\n#ifdef POSITIVEY\ngl_FragColor=textureCube(textureSampler,vec3(uv.y,1.001,uv.x));\n#endif\n#ifdef NEGATIVEY\ngl_FragColor=textureCube(textureSampler,vec3(uv.y,-1.001,uv.x));\n#endif\n#ifdef POSITIVEZ\ngl_FragColor=textureCube(textureSampler,vec3(uv,1.001));\n#endif\n#ifdef NEGATIVEZ\ngl_FragColor=textureCube(textureSampler,vec3(uv,-1.001));\n#endif\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/Shaders/postprocess.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"postprocessVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l="postprocessVertexShader",d="\nattribute vec2 position;\nuniform vec2 scale;\n\nvarying vec2 vUV;\nconst vec2 madd=vec2(0.5,0.5);\nvoid main(void) {\nvUV=(position*madd+madd)*scale;\ngl_Position=vec4(position,0.0,1.0);\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/core/States/alphaCullingState.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AlphaState",(function(){return c}));var c=function(){function AlphaState(){this._isAlphaBlendDirty=!1,this._isBlendFunctionParametersDirty=!1,this._isBlendEquationParametersDirty=!1,this._isBlendConstantsDirty=!1,this._alphaBlend=!1,this._blendFunctionParameters=new Array(4),this._blendEquationParameters=new Array(2),this._blendConstants=new Array(4),this.reset()}return Object.defineProperty(AlphaState.prototype,"isDirty",{get:function(){return this._isAlphaBlendDirty||this._isBlendFunctionParametersDirty},enumerable:!1,configurable:!0}),Object.defineProperty(AlphaState.prototype,"alphaBlend",{get:function(){return this._alphaBlend},set:function(t){this._alphaBlend!==t&&(this._alphaBlend=t,this._isAlphaBlendDirty=!0)},enumerable:!1,configurable:!0}),AlphaState.prototype.setAlphaBlendConstants=function(t,n,u,c){this._blendConstants[0]===t&&this._blendConstants[1]===n&&this._blendConstants[2]===u&&this._blendConstants[3]===c||(this._blendConstants[0]=t,this._blendConstants[1]=n,this._blendConstants[2]=u,this._blendConstants[3]=c,this._isBlendConstantsDirty=!0)},AlphaState.prototype.setAlphaBlendFunctionParameters=function(t,n,u,c){this._blendFunctionParameters[0]===t&&this._blendFunctionParameters[1]===n&&this._blendFunctionParameters[2]===u&&this._blendFunctionParameters[3]===c||(this._blendFunctionParameters[0]=t,this._blendFunctionParameters[1]=n,this._blendFunctionParameters[2]=u,this._blendFunctionParameters[3]=c,this._isBlendFunctionParametersDirty=!0)},AlphaState.prototype.setAlphaEquationParameters=function(t,n){this._blendEquationParameters[0]===t&&this._blendEquationParameters[1]===n||(this._blendEquationParameters[0]=t,this._blendEquationParameters[1]=n,this._isBlendEquationParametersDirty=!0)},AlphaState.prototype.reset=function(){this._alphaBlend=!1,this._blendFunctionParameters[0]=null,this._blendFunctionParameters[1]=null,this._blendFunctionParameters[2]=null,this._blendFunctionParameters[3]=null,this._blendEquationParameters[0]=null,this._blendEquationParameters[1]=null,this._blendConstants[0]=null,this._blendConstants[1]=null,this._blendConstants[2]=null,this._blendConstants[3]=null,this._isAlphaBlendDirty=!0,this._isBlendFunctionParametersDirty=!1,this._isBlendEquationParametersDirty=!1,this._isBlendConstantsDirty=!1},AlphaState.prototype.apply=function(t){this.isDirty&&(this._isAlphaBlendDirty&&(this._alphaBlend?t.enable(t.BLEND):t.disable(t.BLEND),this._isAlphaBlendDirty=!1),this._isBlendFunctionParametersDirty&&(t.blendFuncSeparate(this._blendFunctionParameters[0],this._blendFunctionParameters[1],this._blendFunctionParameters[2],this._blendFunctionParameters[3]),this._isBlendFunctionParametersDirty=!1),this._isBlendEquationParametersDirty&&(t.blendEquationSeparate(this._blendEquationParameters[0],this._blendEquationParameters[1]),this._isBlendEquationParametersDirty=!1),this._isBlendConstantsDirty&&(t.blendColor(this._blendConstants[0],this._blendConstants[1],this._blendConstants[2],this._blendConstants[3]),this._isBlendConstantsDirty=!1))},AlphaState}()},"./node_modules/@babylonjs/core/States/depthCullingState.js":function(t,n,u){"use strict";u.r(n),u.d(n,"DepthCullingState",(function(){return c}));var c=function(){function DepthCullingState(){this._isDepthTestDirty=!1,this._isDepthMaskDirty=!1,this._isDepthFuncDirty=!1,this._isCullFaceDirty=!1,this._isCullDirty=!1,this._isZOffsetDirty=!1,this._isFrontFaceDirty=!1,this.reset()}return Object.defineProperty(DepthCullingState.prototype,"isDirty",{get:function(){return this._isDepthFuncDirty||this._isDepthTestDirty||this._isDepthMaskDirty||this._isCullFaceDirty||this._isCullDirty||this._isZOffsetDirty||this._isFrontFaceDirty},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"zOffset",{get:function(){return this._zOffset},set:function(t){this._zOffset!==t&&(this._zOffset=t,this._isZOffsetDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"cullFace",{get:function(){return this._cullFace},set:function(t){this._cullFace!==t&&(this._cullFace=t,this._isCullFaceDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"cull",{get:function(){return this._cull},set:function(t){this._cull!==t&&(this._cull=t,this._isCullDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"depthFunc",{get:function(){return this._depthFunc},set:function(t){this._depthFunc!==t&&(this._depthFunc=t,this._isDepthFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"depthMask",{get:function(){return this._depthMask},set:function(t){this._depthMask!==t&&(this._depthMask=t,this._isDepthMaskDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"depthTest",{get:function(){return this._depthTest},set:function(t){this._depthTest!==t&&(this._depthTest=t,this._isDepthTestDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DepthCullingState.prototype,"frontFace",{get:function(){return this._frontFace},set:function(t){this._frontFace!==t&&(this._frontFace=t,this._isFrontFaceDirty=!0)},enumerable:!1,configurable:!0}),DepthCullingState.prototype.reset=function(){this._depthMask=!0,this._depthTest=!0,this._depthFunc=null,this._cullFace=null,this._cull=null,this._zOffset=0,this._frontFace=null,this._isDepthTestDirty=!0,this._isDepthMaskDirty=!0,this._isDepthFuncDirty=!1,this._isCullFaceDirty=!1,this._isCullDirty=!1,this._isZOffsetDirty=!1,this._isFrontFaceDirty=!1},DepthCullingState.prototype.apply=function(t){this.isDirty&&(this._isCullDirty&&(this.cull?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this._isCullDirty=!1),this._isCullFaceDirty&&(t.cullFace(this.cullFace),this._isCullFaceDirty=!1),this._isDepthMaskDirty&&(t.depthMask(this.depthMask),this._isDepthMaskDirty=!1),this._isDepthTestDirty&&(this.depthTest?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this._isDepthTestDirty=!1),this._isDepthFuncDirty&&(t.depthFunc(this.depthFunc),this._isDepthFuncDirty=!1),this._isZOffsetDirty&&(this.zOffset?(t.enable(t.POLYGON_OFFSET_FILL),t.polygonOffset(this.zOffset,0)):t.disable(t.POLYGON_OFFSET_FILL),this._isZOffsetDirty=!1),this._isFrontFaceDirty&&(t.frontFace(this.frontFace),this._isFrontFaceDirty=!1))},DepthCullingState}()},"./node_modules/@babylonjs/core/States/stencilState.js":function(t,n,u){"use strict";u.r(n),u.d(n,"StencilState",(function(){return c}));var c=function(){function StencilState(){this._isStencilTestDirty=!1,this._isStencilMaskDirty=!1,this._isStencilFuncDirty=!1,this._isStencilOpDirty=!1,this.reset()}return Object.defineProperty(StencilState.prototype,"isDirty",{get:function(){return this._isStencilTestDirty||this._isStencilMaskDirty||this._isStencilFuncDirty||this._isStencilOpDirty},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilFunc",{get:function(){return this._stencilFunc},set:function(t){this._stencilFunc!==t&&(this._stencilFunc=t,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilFuncRef",{get:function(){return this._stencilFuncRef},set:function(t){this._stencilFuncRef!==t&&(this._stencilFuncRef=t,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilFuncMask",{get:function(){return this._stencilFuncMask},set:function(t){this._stencilFuncMask!==t&&(this._stencilFuncMask=t,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilOpStencilFail",{get:function(){return this._stencilOpStencilFail},set:function(t){this._stencilOpStencilFail!==t&&(this._stencilOpStencilFail=t,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilOpDepthFail",{get:function(){return this._stencilOpDepthFail},set:function(t){this._stencilOpDepthFail!==t&&(this._stencilOpDepthFail=t,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilOpStencilDepthPass",{get:function(){return this._stencilOpStencilDepthPass},set:function(t){this._stencilOpStencilDepthPass!==t&&(this._stencilOpStencilDepthPass=t,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilMask",{get:function(){return this._stencilMask},set:function(t){this._stencilMask!==t&&(this._stencilMask=t,this._isStencilMaskDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(StencilState.prototype,"stencilTest",{get:function(){return this._stencilTest},set:function(t){this._stencilTest!==t&&(this._stencilTest=t,this._isStencilTestDirty=!0)},enumerable:!1,configurable:!0}),StencilState.prototype.reset=function(){this._stencilTest=!1,this._stencilMask=255,this._stencilFunc=StencilState.ALWAYS,this._stencilFuncRef=1,this._stencilFuncMask=255,this._stencilOpStencilFail=StencilState.KEEP,this._stencilOpDepthFail=StencilState.KEEP,this._stencilOpStencilDepthPass=StencilState.REPLACE,this._isStencilTestDirty=!0,this._isStencilMaskDirty=!0,this._isStencilFuncDirty=!0,this._isStencilOpDirty=!0},StencilState.prototype.apply=function(t){this.isDirty&&(this._isStencilTestDirty&&(this.stencilTest?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this._isStencilTestDirty=!1),this._isStencilMaskDirty&&(t.stencilMask(this.stencilMask),this._isStencilMaskDirty=!1),this._isStencilFuncDirty&&(t.stencilFunc(this.stencilFunc,this.stencilFuncRef,this.stencilFuncMask),this._isStencilFuncDirty=!1),this._isStencilOpDirty&&(t.stencilOp(this.stencilOpStencilFail,this.stencilOpDepthFail,this.stencilOpStencilDepthPass),this._isStencilOpDirty=!1))},StencilState.ALWAYS=519,StencilState.KEEP=7680,StencilState.REPLACE=7681,StencilState}()},"./node_modules/@babylonjs/core/abstractScene.js":function(t,n,u){"use strict";u.r(n),u.d(n,"AbstractScene",(function(){return c}));var c=function(){function AbstractScene(){this.rootNodes=new Array,this.cameras=new Array,this.lights=new Array,this.meshes=new Array,this.skeletons=new Array,this.particleSystems=new Array,this.animations=[],this.animationGroups=new Array,this.multiMaterials=new Array,this.materials=new Array,this.morphTargetManagers=new Array,this.geometries=new Array,this.transformNodes=new Array,this.actionManagers=new Array,this.textures=new Array,this._environmentTexture=null,this.postProcesses=new Array}return AbstractScene.AddParser=function(t,n){this._BabylonFileParsers[t]=n},AbstractScene.GetParser=function(t){return this._BabylonFileParsers[t]?this._BabylonFileParsers[t]:null},AbstractScene.AddIndividualParser=function(t,n){this._IndividualBabylonFileParsers[t]=n},AbstractScene.GetIndividualParser=function(t){return this._IndividualBabylonFileParsers[t]?this._IndividualBabylonFileParsers[t]:null},AbstractScene.Parse=function(t,n,u,c){for(var l in this._BabylonFileParsers)this._BabylonFileParsers.hasOwnProperty(l)&&this._BabylonFileParsers[l](t,n,u,c)},Object.defineProperty(AbstractScene.prototype,"environmentTexture",{get:function(){return this._environmentTexture},set:function(t){this._environmentTexture=t},enumerable:!1,configurable:!0}),AbstractScene.prototype.getNodes=function(){var t=new Array;return t=t.concat(this.meshes),t=t.concat(this.lights),t=t.concat(this.cameras),t=t.concat(this.transformNodes),this.skeletons.forEach((function(n){return t=t.concat(n.bones)})),t},AbstractScene._BabylonFileParsers={},AbstractScene._IndividualBabylonFileParsers={},AbstractScene}()},"./node_modules/@babylonjs/core/node.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Node",(function(){return _}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),d=u("./node_modules/@babylonjs/core/Misc/decorators.js"),h=u("./node_modules/@babylonjs/core/Misc/observable.js"),p=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),m=u("./node_modules/@babylonjs/core/Misc/devTools.js"),_=function(){function Node(t,n){void 0===n&&(n=null),this.state="",this.metadata=null,this.reservedDataStore=null,this._doNotSerialize=!1,this._isDisposed=!1,this.animations=new Array,this._ranges={},this.onReady=null,this._isEnabled=!0,this._isParentEnabled=!0,this._isReady=!0,this._currentRenderId=-1,this._parentUpdateId=-1,this._childUpdateId=-1,this._waitingParentId=null,this._cache={},this._parentNode=null,this._children=null,this._worldMatrix=l["Matrix"].Identity(),this._worldMatrixDeterminant=0,this._worldMatrixDeterminantIsDirty=!0,this._sceneRootNodesIndex=-1,this._animationPropertiesOverride=null,this._isNode=!0,this.onDisposeObservable=new h["Observable"],this._onDisposeObserver=null,this._behaviors=new Array,this.name=t,this.id=t,this._scene=n||p["EngineStore"].LastCreatedScene,this.uniqueId=this._scene.getUniqueId(),this._initCache()}return Node.AddNodeConstructor=function(t,n){this._NodeConstructors[t]=n},Node.Construct=function(t,n,u,c){var l=this._NodeConstructors[t];return l?l(n,u,c):null},Object.defineProperty(Node.prototype,"doNotSerialize",{get:function(){return!!this._doNotSerialize||!!this._parentNode&&this._parentNode.doNotSerialize},set:function(t){this._doNotSerialize=t},enumerable:!1,configurable:!0}),Node.prototype.isDisposed=function(){return this._isDisposed},Object.defineProperty(Node.prototype,"parent",{get:function(){return this._parentNode},set:function(t){if(this._parentNode!==t){var n=this._parentNode;if(this._parentNode&&void 0!==this._parentNode._children&&null!==this._parentNode._children){var u=this._parentNode._children.indexOf(this);-1!==u&&this._parentNode._children.splice(u,1),t||this._isDisposed||this._addToSceneRootNodes()}this._parentNode=t,this._parentNode&&(void 0!==this._parentNode._children&&null!==this._parentNode._children||(this._parentNode._children=new Array),this._parentNode._children.push(this),n||this._removeFromSceneRootNodes()),this._syncParentEnabledState()}},enumerable:!1,configurable:!0}),Node.prototype._addToSceneRootNodes=function(){-1===this._sceneRootNodesIndex&&(this._sceneRootNodesIndex=this._scene.rootNodes.length,this._scene.rootNodes.push(this))},Node.prototype._removeFromSceneRootNodes=function(){if(-1!==this._sceneRootNodesIndex){var t=this._scene.rootNodes,n=t.length-1;t[this._sceneRootNodesIndex]=t[n],t[this._sceneRootNodesIndex]._sceneRootNodesIndex=this._sceneRootNodesIndex,this._scene.rootNodes.pop(),this._sceneRootNodesIndex=-1}},Object.defineProperty(Node.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride?this._animationPropertiesOverride:this._scene.animationPropertiesOverride},set:function(t){this._animationPropertiesOverride=t},enumerable:!1,configurable:!0}),Node.prototype.getClassName=function(){return"Node"},Object.defineProperty(Node.prototype,"onDispose",{set:function(t){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(t)},enumerable:!1,configurable:!0}),Node.prototype.getScene=function(){return this._scene},Node.prototype.getEngine=function(){return this._scene.getEngine()},Node.prototype.addBehavior=function(t,n){var u=this;void 0===n&&(n=!1);var c=this._behaviors.indexOf(t);return-1!==c||(t.init(),this._scene.isLoading&&!n?this._scene.onDataLoadedObservable.addOnce((function(){t.attach(u)})):t.attach(this),this._behaviors.push(t)),this},Node.prototype.removeBehavior=function(t){var n=this._behaviors.indexOf(t);return-1===n||(this._behaviors[n].detach(),this._behaviors.splice(n,1)),this},Object.defineProperty(Node.prototype,"behaviors",{get:function(){return this._behaviors},enumerable:!1,configurable:!0}),Node.prototype.getBehaviorByName=function(t){for(var n=0,u=this._behaviors;n<u.length;n++){var c=u[n];if(c.name===t)return c}return null},Node.prototype.getWorldMatrix=function(){return this._currentRenderId!==this._scene.getRenderId()&&this.computeWorldMatrix(),this._worldMatrix},Node.prototype._getWorldMatrixDeterminant=function(){return this._worldMatrixDeterminantIsDirty&&(this._worldMatrixDeterminantIsDirty=!1,this._worldMatrixDeterminant=this._worldMatrix.determinant()),this._worldMatrixDeterminant},Object.defineProperty(Node.prototype,"worldMatrixFromCache",{get:function(){return this._worldMatrix},enumerable:!1,configurable:!0}),Node.prototype._initCache=function(){this._cache={},this._cache.parent=void 0},Node.prototype.updateCache=function(t){!t&&this.isSynchronized()||(this._cache.parent=this.parent,this._updateCache())},Node.prototype._getActionManagerForTrigger=function(t,n){return void 0===n&&(n=!0),this.parent?this.parent._getActionManagerForTrigger(t,!1):null},Node.prototype._updateCache=function(t){},Node.prototype._isSynchronized=function(){return!0},Node.prototype._markSyncedWithParent=function(){this._parentNode&&(this._parentUpdateId=this._parentNode._childUpdateId)},Node.prototype.isSynchronizedWithParent=function(){return!this._parentNode||this._parentUpdateId===this._parentNode._childUpdateId&&this._parentNode.isSynchronized()},Node.prototype.isSynchronized=function(){return this._cache.parent!=this._parentNode?(this._cache.parent=this._parentNode,!1):!(this._parentNode&&!this.isSynchronizedWithParent())&&this._isSynchronized()},Node.prototype.isReady=function(t){return void 0===t&&(t=!1),this._isReady},Node.prototype.isEnabled=function(t){return void 0===t&&(t=!0),!1===t?this._isEnabled:!!this._isEnabled&&this._isParentEnabled},Node.prototype._syncParentEnabledState=function(){this._isParentEnabled=!this._parentNode||this._parentNode.isEnabled(),this._children&&this._children.forEach((function(t){t._syncParentEnabledState()}))},Node.prototype.setEnabled=function(t){this._isEnabled=t,this._syncParentEnabledState()},Node.prototype.isDescendantOf=function(t){return!!this.parent&&(this.parent===t||this.parent.isDescendantOf(t))},Node.prototype._getDescendants=function(t,n,u){if(void 0===n&&(n=!1),this._children)for(var c=0;c<this._children.length;c++){var l=this._children[c];u&&!u(l)||t.push(l),n||l._getDescendants(t,!1,u)}},Node.prototype.getDescendants=function(t,n){var u=new Array;return this._getDescendants(u,t,n),u},Node.prototype.getChildMeshes=function(t,n){var u=[];return this._getDescendants(u,t,(function(t){return(!n||n(t))&&void 0!==t.cullingStrategy})),u},Node.prototype.getChildren=function(t,n){return void 0===n&&(n=!0),this.getDescendants(n,t)},Node.prototype._setReady=function(t){t!==this._isReady&&(t?(this.onReady&&this.onReady(this),this._isReady=!0):this._isReady=!1)},Node.prototype.getAnimationByName=function(t){for(var n=0;n<this.animations.length;n++){var u=this.animations[n];if(u.name===t)return u}return null},Node.prototype.createAnimationRange=function(t,n,u){if(!this._ranges[t]){this._ranges[t]=Node._AnimationRangeFactory(t,n,u);for(var c=0,l=this.animations.length;c<l;c++)this.animations[c]&&this.animations[c].createRange(t,n,u)}},Node.prototype.deleteAnimationRange=function(t,n){void 0===n&&(n=!0);for(var u=0,c=this.animations.length;u<c;u++)this.animations[u]&&this.animations[u].deleteRange(t,n);this._ranges[t]=null},Node.prototype.getAnimationRange=function(t){return this._ranges[t]||null},Node.prototype.getAnimationRanges=function(){var t,n=[];for(t in this._ranges)n.push(this._ranges[t]);return n},Node.prototype.beginAnimation=function(t,n,u,c){var l=this.getAnimationRange(t);return l?this._scene.beginAnimation(this,l.from,l.to,n,u,c):null},Node.prototype.serializeAnimationRanges=function(){var t=[];for(var n in this._ranges){var u=this._ranges[n];if(u){var c={};c.name=n,c.from=u.from,c.to=u.to,t.push(c)}}return t},Node.prototype.computeWorldMatrix=function(t){return this._worldMatrix||(this._worldMatrix=l["Matrix"].Identity()),this._worldMatrix},Node.prototype.dispose=function(t,n){if(void 0===n&&(n=!1),this._isDisposed=!0,!t)for(var u=this.getDescendants(!0),c=0,l=u;c<l.length;c++){var d=l[c];d.dispose(t,n)}this.parent?this.parent=null:this._removeFromSceneRootNodes(),this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear();for(var h=0,p=this._behaviors;h<p.length;h++){var m=p[h];m.detach()}this._behaviors=[]},Node.ParseAnimationRanges=function(t,n,u){if(n.ranges)for(var c=0;c<n.ranges.length;c++){var l=n.ranges[c];t.createAnimationRange(l.name,l.from,l.to)}},Node.prototype.getHierarchyBoundingVectors=function(t,n){var u,c;void 0===t&&(t=!0),void 0===n&&(n=null),this.getScene().incrementRenderId(),this.computeWorldMatrix(!0);var d=this;if(d.getBoundingInfo&&d.subMeshes){var h=d.getBoundingInfo();u=h.boundingBox.minimumWorld.clone(),c=h.boundingBox.maximumWorld.clone()}else u=new l["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),c=new l["Vector3"](-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);if(t)for(var p=this.getDescendants(!1),m=0,_=p;m<_.length;m++){var g=_[m],b=g;if(b.computeWorldMatrix(!0),(!n||n(b))&&b.getBoundingInfo&&0!==b.getTotalVertices()){var v=b.getBoundingInfo(),U=v.boundingBox,G=U.minimumWorld,W=U.maximumWorld;l["Vector3"].CheckExtends(G,u,c),l["Vector3"].CheckExtends(W,u,c)}}return{min:u,max:c}},Node._AnimationRangeFactory=function(t,n,u){throw m["_DevTools"].WarnImport("AnimationRange")},Node._NodeConstructors={},Object(c["__decorate"])([Object(d["serialize"])()],Node.prototype,"name",void 0),Object(c["__decorate"])([Object(d["serialize"])()],Node.prototype,"id",void 0),Object(c["__decorate"])([Object(d["serialize"])()],Node.prototype,"uniqueId",void 0),Object(c["__decorate"])([Object(d["serialize"])()],Node.prototype,"state",void 0),Object(c["__decorate"])([Object(d["serialize"])()],Node.prototype,"metadata",void 0),Node}()},"./node_modules/@babylonjs/core/scene.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Scene",(function(){return ce}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/tools.js"),d=u("./node_modules/@babylonjs/core/Misc/precisionDate.js"),h=u("./node_modules/@babylonjs/core/Misc/observable.js"),p=u("./node_modules/@babylonjs/core/Misc/smartArray.js"),m=u("./node_modules/@babylonjs/core/Misc/stringDictionary.js"),_=u("./node_modules/@babylonjs/core/Misc/tags.js"),g=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),b=u("./node_modules/@babylonjs/core/Meshes/transformNode.js"),v=u("./node_modules/@babylonjs/core/Meshes/abstractMesh.js"),U=u("./node_modules/@babylonjs/core/Cameras/camera.js"),G=u("./node_modules/@babylonjs/core/abstractScene.js"),W=u("./node_modules/@babylonjs/core/Materials/imageProcessingConfiguration.js"),X=u("./node_modules/@babylonjs/core/Materials/uniformBuffer.js"),q=u("./node_modules/@babylonjs/core/Lights/light.js"),K=u("./node_modules/@babylonjs/core/Collisions/pickingInfo.js"),Y=u("./node_modules/@babylonjs/core/Actions/actionEvent.js"),Q=u("./node_modules/@babylonjs/core/PostProcesses/postProcessManager.js"),Z=u("./node_modules/@babylonjs/core/Rendering/renderingManager.js"),$=u("./node_modules/@babylonjs/core/sceneComponent.js"),J=u("./node_modules/@babylonjs/core/Misc/domManagement.js"),ee=u("./node_modules/@babylonjs/core/Misc/logger.js"),te=u("./node_modules/@babylonjs/core/Engines/engineStore.js"),re=u("./node_modules/@babylonjs/core/Misc/devTools.js"),ne=u("./node_modules/@babylonjs/core/Inputs/scene.inputManager.js"),ie=u("./node_modules/@babylonjs/core/Misc/perfCounter.js"),oe=u("./node_modules/@babylonjs/core/Maths/math.color.js"),se=u("./node_modules/@babylonjs/core/Maths/math.frustum.js"),ae=u("./node_modules/@babylonjs/core/Misc/uniqueIdGenerator.js"),ue=u("./node_modules/@babylonjs/core/Misc/fileTools.js"),ce=function(t){function Scene(n,u){var l=t.call(this)||this;l._inputManager=new ne["InputManager"](l),l.cameraToUseForPointers=null,l._isScene=!0,l._blockEntityCollection=!1,l.autoClear=!0,l.autoClearDepthAndStencil=!0,l.clearColor=new oe["Color4"](.2,.2,.3,1),l.ambientColor=new oe["Color3"](0,0,0),l._environmentIntensity=1,l._forceWireframe=!1,l._skipFrustumClipping=!1,l._forcePointsCloud=!1,l.animationsEnabled=!0,l._animationPropertiesOverride=null,l.useConstantAnimationDeltaTime=!1,l.constantlyUpdateMeshUnderPointer=!1,l.hoverCursor="pointer",l.defaultCursor="",l.doNotHandleCursors=!1,l.preventDefaultOnPointerDown=!0,l.preventDefaultOnPointerUp=!0,l.metadata=null,l.reservedDataStore=null,l.disableOfflineSupportExceptionRules=new Array,l.onDisposeObservable=new h["Observable"],l._onDisposeObserver=null,l.onBeforeRenderObservable=new h["Observable"],l._onBeforeRenderObserver=null,l.onAfterRenderObservable=new h["Observable"],l.onAfterRenderCameraObservable=new h["Observable"],l._onAfterRenderObserver=null,l.onBeforeAnimationsObservable=new h["Observable"],l.onAfterAnimationsObservable=new h["Observable"],l.onBeforeDrawPhaseObservable=new h["Observable"],l.onAfterDrawPhaseObservable=new h["Observable"],l.onReadyObservable=new h["Observable"],l.onBeforeCameraRenderObservable=new h["Observable"],l._onBeforeCameraRenderObserver=null,l.onAfterCameraRenderObservable=new h["Observable"],l._onAfterCameraRenderObserver=null,l.onBeforeActiveMeshesEvaluationObservable=new h["Observable"],l.onAfterActiveMeshesEvaluationObservable=new h["Observable"],l.onBeforeParticlesRenderingObservable=new h["Observable"],l.onAfterParticlesRenderingObservable=new h["Observable"],l.onDataLoadedObservable=new h["Observable"],l.onNewCameraAddedObservable=new h["Observable"],l.onCameraRemovedObservable=new h["Observable"],l.onNewLightAddedObservable=new h["Observable"],l.onLightRemovedObservable=new h["Observable"],l.onNewGeometryAddedObservable=new h["Observable"],l.onGeometryRemovedObservable=new h["Observable"],l.onNewTransformNodeAddedObservable=new h["Observable"],l.onTransformNodeRemovedObservable=new h["Observable"],l.onNewMeshAddedObservable=new h["Observable"],l.onMeshRemovedObservable=new h["Observable"],l.onNewSkeletonAddedObservable=new h["Observable"],l.onSkeletonRemovedObservable=new h["Observable"],l.onNewMaterialAddedObservable=new h["Observable"],l.onNewMultiMaterialAddedObservable=new h["Observable"],l.onMaterialRemovedObservable=new h["Observable"],l.onMultiMaterialRemovedObservable=new h["Observable"],l.onNewTextureAddedObservable=new h["Observable"],l.onTextureRemovedObservable=new h["Observable"],l.onBeforeRenderTargetsRenderObservable=new h["Observable"],l.onAfterRenderTargetsRenderObservable=new h["Observable"],l.onBeforeStepObservable=new h["Observable"],l.onAfterStepObservable=new h["Observable"],l.onActiveCameraChanged=new h["Observable"],l.onBeforeRenderingGroupObservable=new h["Observable"],l.onAfterRenderingGroupObservable=new h["Observable"],l.onMeshImportedObservable=new h["Observable"],l.onAnimationFileImportedObservable=new h["Observable"],l._registeredForLateAnimationBindings=new p["SmartArrayNoDuplicate"](256),l.onPrePointerObservable=new h["Observable"],l.onPointerObservable=new h["Observable"],l.onPreKeyboardObservable=new h["Observable"],l.onKeyboardObservable=new h["Observable"],l._useRightHandedSystem=!1,l._timeAccumulator=0,l._currentStepId=0,l._currentInternalStep=0,l._fogEnabled=!0,l._fogMode=Scene.FOGMODE_NONE,l.fogColor=new oe["Color3"](.2,.2,.3),l.fogDensity=.1,l.fogStart=0,l.fogEnd=1e3,l.prePass=!1,l._shadowsEnabled=!0,l._lightsEnabled=!0,l.activeCameras=new Array,l._texturesEnabled=!0,l.physicsEnabled=!0,l.particlesEnabled=!0,l.spritesEnabled=!0,l._skeletonsEnabled=!0,l.lensFlaresEnabled=!0,l.collisionsEnabled=!0,l.gravity=new g["Vector3"](0,-9.807,0),l.postProcessesEnabled=!0,l.renderTargetsEnabled=!0,l.dumpNextRenderTargets=!1,l.customRenderTargets=new Array,l.importedMeshesFiles=new Array,l.probesEnabled=!0,l._meshesForIntersections=new p["SmartArrayNoDuplicate"](256),l.proceduralTexturesEnabled=!0,l._totalVertices=new ie["PerfCounter"],l._activeIndices=new ie["PerfCounter"],l._activeParticles=new ie["PerfCounter"],l._activeBones=new ie["PerfCounter"],l._animationTime=0,l.animationTimeScale=1,l._renderId=0,l._frameId=0,l._executeWhenReadyTimeoutId=-1,l._intermediateRendering=!1,l._viewUpdateFlag=-1,l._projectionUpdateFlag=-1,l._toBeDisposed=new Array(256),l._activeRequests=new Array,l._pendingData=new Array,l._isDisposed=!1,l.dispatchAllSubMeshesOfActiveMeshes=!1,l._activeMeshes=new p["SmartArray"](256),l._processedMaterials=new p["SmartArray"](256),l._renderTargets=new p["SmartArrayNoDuplicate"](256),l._activeParticleSystems=new p["SmartArray"](256),l._activeSkeletons=new p["SmartArrayNoDuplicate"](32),l._softwareSkinnedMeshes=new p["SmartArrayNoDuplicate"](32),l._activeAnimatables=new Array,l._transformMatrix=g["Matrix"].Zero(),l.requireLightSorting=!1,l._components=[],l._serializableComponents=[],l._transientComponents=[],l._beforeCameraUpdateStage=$["Stage"].Create(),l._beforeClearStage=$["Stage"].Create(),l._gatherRenderTargetsStage=$["Stage"].Create(),l._gatherActiveCameraRenderTargetsStage=$["Stage"].Create(),l._isReadyForMeshStage=$["Stage"].Create(),l._beforeEvaluateActiveMeshStage=$["Stage"].Create(),l._evaluateSubMeshStage=$["Stage"].Create(),l._preActiveMeshStage=$["Stage"].Create(),l._cameraDrawRenderTargetStage=$["Stage"].Create(),l._beforeCameraDrawStage=$["Stage"].Create(),l._beforeRenderTargetDrawStage=$["Stage"].Create(),l._beforeRenderingGroupDrawStage=$["Stage"].Create(),l._beforeRenderingMeshStage=$["Stage"].Create(),l._afterRenderingMeshStage=$["Stage"].Create(),l._afterRenderingGroupDrawStage=$["Stage"].Create(),l._afterCameraDrawStage=$["Stage"].Create(),l._afterRenderTargetDrawStage=$["Stage"].Create(),l._afterRenderStage=$["Stage"].Create(),l._pointerMoveStage=$["Stage"].Create(),l._pointerDownStage=$["Stage"].Create(),l._pointerUpStage=$["Stage"].Create(),l.geometriesByUniqueId=null,l._defaultMeshCandidates={data:[],length:0},l._defaultSubMeshCandidates={data:[],length:0},l._preventFreeActiveMeshesAndRenderingGroups=!1,l._activeMeshesFrozen=!1,l._skipEvaluateActiveMeshesCompletely=!1,l._allowPostProcessClearColor=!0,l.getDeterministicFrameTime=function(){return l._engine.getTimeStep()},l._blockMaterialDirtyMechanism=!1;var d=Object(c["__assign"])({useGeometryUniqueIdsMap:!0,useMaterialMeshMap:!0,useClonedMeshMap:!0,virtual:!1},u);return l._engine=n||te["EngineStore"].LastCreatedEngine,d.virtual||(te["EngineStore"]._LastCreatedScene=l,l._engine.scenes.push(l)),l._uid=null,l._renderingManager=new Z["RenderingManager"](l),Q["PostProcessManager"]&&(l.postProcessManager=new Q["PostProcessManager"](l)),J["DomManagement"].IsWindowObjectExist()&&l.attachControl(),l._createUbo(),W["ImageProcessingConfiguration"]&&(l._imageProcessingConfiguration=new W["ImageProcessingConfiguration"]),l.setDefaultCandidateProviders(),d.useGeometryUniqueIdsMap&&(l.geometriesByUniqueId={}),l.useMaterialMeshMap=d.useMaterialMeshMap,l.useClonedMeshMap=d.useClonedMeshMap,u&&u.virtual||l._engine.onNewSceneAddedObservable.notifyObservers(l),l}return Object(c["__extends"])(Scene,t),Scene.DefaultMaterialFactory=function(t){throw re["_DevTools"].WarnImport("StandardMaterial")},Scene.CollisionCoordinatorFactory=function(){throw re["_DevTools"].WarnImport("DefaultCollisionCoordinator")},Object.defineProperty(Scene.prototype,"environmentTexture",{get:function(){return this._environmentTexture},set:function(t){this._environmentTexture!==t&&(this._environmentTexture=t,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"environmentIntensity",{get:function(){return this._environmentIntensity},set:function(t){this._environmentIntensity!==t&&(this._environmentIntensity=t,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"imageProcessingConfiguration",{get:function(){return this._imageProcessingConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"forceWireframe",{get:function(){return this._forceWireframe},set:function(t){this._forceWireframe!==t&&(this._forceWireframe=t,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"skipFrustumClipping",{get:function(){return this._skipFrustumClipping},set:function(t){this._skipFrustumClipping!==t&&(this._skipFrustumClipping=t)},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"forcePointsCloud",{get:function(){return this._forcePointsCloud},set:function(t){this._forcePointsCloud!==t&&(this._forcePointsCloud=t,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride},set:function(t){this._animationPropertiesOverride=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"onDispose",{set:function(t){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"beforeRender",{set:function(t){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),t&&(this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(t))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"afterRender",{set:function(t){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver),t&&(this._onAfterRenderObserver=this.onAfterRenderObservable.add(t))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"beforeCameraRender",{set:function(t){this._onBeforeCameraRenderObserver&&this.onBeforeCameraRenderObservable.remove(this._onBeforeCameraRenderObserver),this._onBeforeCameraRenderObserver=this.onBeforeCameraRenderObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"afterCameraRender",{set:function(t){this._onAfterCameraRenderObserver&&this.onAfterCameraRenderObservable.remove(this._onAfterCameraRenderObserver),this._onAfterCameraRenderObserver=this.onAfterCameraRenderObservable.add(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"unTranslatedPointer",{get:function(){return this._inputManager.unTranslatedPointer},enumerable:!1,configurable:!0}),Object.defineProperty(Scene,"DragMovementThreshold",{get:function(){return ne["InputManager"].DragMovementThreshold},set:function(t){ne["InputManager"].DragMovementThreshold=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene,"LongPressDelay",{get:function(){return ne["InputManager"].LongPressDelay},set:function(t){ne["InputManager"].LongPressDelay=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene,"DoubleClickDelay",{get:function(){return ne["InputManager"].DoubleClickDelay},set:function(t){ne["InputManager"].DoubleClickDelay=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene,"ExclusiveDoubleClickMode",{get:function(){return ne["InputManager"].ExclusiveDoubleClickMode},set:function(t){ne["InputManager"].ExclusiveDoubleClickMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"useRightHandedSystem",{get:function(){return this._useRightHandedSystem},set:function(t){this._useRightHandedSystem!==t&&(this._useRightHandedSystem=t,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Scene.prototype.setStepId=function(t){this._currentStepId=t},Scene.prototype.getStepId=function(){return this._currentStepId},Scene.prototype.getInternalStep=function(){return this._currentInternalStep},Object.defineProperty(Scene.prototype,"fogEnabled",{get:function(){return this._fogEnabled},set:function(t){this._fogEnabled!==t&&(this._fogEnabled=t,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"fogMode",{get:function(){return this._fogMode},set:function(t){this._fogMode!==t&&(this._fogMode=t,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"shadowsEnabled",{get:function(){return this._shadowsEnabled},set:function(t){this._shadowsEnabled!==t&&(this._shadowsEnabled=t,this.markAllMaterialsAsDirty(2))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"lightsEnabled",{get:function(){return this._lightsEnabled},set:function(t){this._lightsEnabled!==t&&(this._lightsEnabled=t,this.markAllMaterialsAsDirty(2))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"activeCamera",{get:function(){return this._activeCamera},set:function(t){t!==this._activeCamera&&(this._activeCamera=t,this.onActiveCameraChanged.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"defaultMaterial",{get:function(){return this._defaultMaterial||(this._defaultMaterial=Scene.DefaultMaterialFactory(this)),this._defaultMaterial},set:function(t){this._defaultMaterial=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"texturesEnabled",{get:function(){return this._texturesEnabled},set:function(t){this._texturesEnabled!==t&&(this._texturesEnabled=t,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"skeletonsEnabled",{get:function(){return this._skeletonsEnabled},set:function(t){this._skeletonsEnabled!==t&&(this._skeletonsEnabled=t,this.markAllMaterialsAsDirty(8))},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"collisionCoordinator",{get:function(){return this._collisionCoordinator||(this._collisionCoordinator=Scene.CollisionCoordinatorFactory(),this._collisionCoordinator.init(this)),this._collisionCoordinator},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"frustumPlanes",{get:function(){return this._frustumPlanes},enumerable:!1,configurable:!0}),Scene.prototype._registerTransientComponents=function(){if(this._transientComponents.length>0){for(var t=0,n=this._transientComponents;t<n.length;t++){var u=n[t];u.register()}this._transientComponents=[]}},Scene.prototype._addComponent=function(t){this._components.push(t),this._transientComponents.push(t);var n=t;n.addFromContainer&&n.serialize&&this._serializableComponents.push(n)},Scene.prototype._getComponent=function(t){for(var n=0,u=this._components;n<u.length;n++){var c=u[n];if(c.name===t)return c}return null},Scene.prototype.getClassName=function(){return"Scene"},Scene.prototype._getDefaultMeshCandidates=function(){return this._defaultMeshCandidates.data=this.meshes,this._defaultMeshCandidates.length=this.meshes.length,this._defaultMeshCandidates},Scene.prototype._getDefaultSubMeshCandidates=function(t){return this._defaultSubMeshCandidates.data=t.subMeshes,this._defaultSubMeshCandidates.length=t.subMeshes.length,this._defaultSubMeshCandidates},Scene.prototype.setDefaultCandidateProviders=function(){this.getActiveMeshCandidates=this._getDefaultMeshCandidates.bind(this),this.getActiveSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this),this.getIntersectingSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this),this.getCollidingSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this)},Object.defineProperty(Scene.prototype,"meshUnderPointer",{get:function(){return this._inputManager.meshUnderPointer},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"pointerX",{get:function(){return this._inputManager.pointerX},set:function(t){this._inputManager.pointerX=t},enumerable:!1,configurable:!0}),Object.defineProperty(Scene.prototype,"pointerY",{get:function(){return this._inputManager.pointerY},set:function(t){this._inputManager.pointerY=t},enumerable:!1,configurable:!0}),Scene.prototype.getCachedMaterial=function(){return this._cachedMaterial},Scene.prototype.getCachedEffect=function(){return this._cachedEffect},Scene.prototype.getCachedVisibility=function(){return this._cachedVisibility},Scene.prototype.isCachedMaterialInvalid=function(t,n,u){return void 0===u&&(u=1),this._cachedEffect!==n||this._cachedMaterial!==t||this._cachedVisibility!==u},Scene.prototype.getEngine=function(){return this._engine},Scene.prototype.getTotalVertices=function(){return this._totalVertices.current},Object.defineProperty(Scene.prototype,"totalVerticesPerfCounter",{get:function(){return this._totalVertices},enumerable:!1,configurable:!0}),Scene.prototype.getActiveIndices=function(){return this._activeIndices.current},Object.defineProperty(Scene.prototype,"totalActiveIndicesPerfCounter",{get:function(){return this._activeIndices},enumerable:!1,configurable:!0}),Scene.prototype.getActiveParticles=function(){return this._activeParticles.current},Object.defineProperty(Scene.prototype,"activeParticlesPerfCounter",{get:function(){return this._activeParticles},enumerable:!1,configurable:!0}),Scene.prototype.getActiveBones=function(){return this._activeBones.current},Object.defineProperty(Scene.prototype,"activeBonesPerfCounter",{get:function(){return this._activeBones},enumerable:!1,configurable:!0}),Scene.prototype.getActiveMeshes=function(){return this._activeMeshes},Scene.prototype.getAnimationRatio=function(){return void 0!==this._animationRatio?this._animationRatio:1},Scene.prototype.getRenderId=function(){return this._renderId},Scene.prototype.getFrameId=function(){return this._frameId},Scene.prototype.incrementRenderId=function(){this._renderId++},Scene.prototype._createUbo=function(){this._sceneUbo=new X["UniformBuffer"](this._engine,void 0,!0),this._sceneUbo.addUniform("viewProjection",16),this._sceneUbo.addUniform("view",16)},Scene.prototype.simulatePointerMove=function(t,n){return this._inputManager.simulatePointerMove(t,n),this},Scene.prototype.simulatePointerDown=function(t,n){return this._inputManager.simulatePointerDown(t,n),this},Scene.prototype.simulatePointerUp=function(t,n,u){return this._inputManager.simulatePointerUp(t,n,u),this},Scene.prototype.isPointerCaptured=function(t){return void 0===t&&(t=0),this._inputManager.isPointerCaptured(t)},Scene.prototype.attachControl=function(t,n,u){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===u&&(u=!0),this._inputManager.attachControl(t,n,u)},Scene.prototype.detachControl=function(){this._inputManager.detachControl()},Scene.prototype.isReady=function(){if(this._isDisposed)return!1;var t,n=this.getEngine();if(!n.areAllEffectsReady())return!1;if(this._pendingData.length>0)return!1;for(t=0;t<this.meshes.length;t++){var u=this.meshes[t];if(u.isEnabled()&&(u.subMeshes&&0!==u.subMeshes.length)){if(!u.isReady(!0))return!1;for(var c=u.hasThinInstances||"InstancedMesh"===u.getClassName()||"InstancedLinesMesh"===u.getClassName()||n.getCaps().instancedArrays&&u.instances.length>0,l=0,d=this._isReadyForMeshStage;l<d.length;l++){var h=d[l];if(!h.action(u,c))return!1}}}for(t=0;t<this.geometries.length;t++){var p=this.geometries[t];if(2===p.delayLoadState)return!1}if(this.activeCameras&&this.activeCameras.length>0)for(var m=0,_=this.activeCameras;m<_.length;m++){var g=_[m];if(!g.isReady(!0))return!1}else if(this.activeCamera&&!this.activeCamera.isReady(!0))return!1;for(var b=0,v=this.particleSystems;b<v.length;b++){var U=v[b];if(!U.isReady())return!1}return!0},Scene.prototype.resetCachedMaterial=function(){this._cachedMaterial=null,this._cachedEffect=null,this._cachedVisibility=null},Scene.prototype.registerBeforeRender=function(t){this.onBeforeRenderObservable.add(t)},Scene.prototype.unregisterBeforeRender=function(t){this.onBeforeRenderObservable.removeCallback(t)},Scene.prototype.registerAfterRender=function(t){this.onAfterRenderObservable.add(t)},Scene.prototype.unregisterAfterRender=function(t){this.onAfterRenderObservable.removeCallback(t)},Scene.prototype._executeOnceBeforeRender=function(t){var n=this,execFunc=function(){t(),setTimeout((function(){n.unregisterBeforeRender(execFunc)}))};this.registerBeforeRender(execFunc)},Scene.prototype.executeOnceBeforeRender=function(t,n){var u=this;void 0!==n?setTimeout((function(){u._executeOnceBeforeRender(t)}),n):this._executeOnceBeforeRender(t)},Scene.prototype._addPendingData=function(t){this._pendingData.push(t)},Scene.prototype._removePendingData=function(t){var n=this.isLoading,u=this._pendingData.indexOf(t);-1!==u&&this._pendingData.splice(u,1),n&&!this.isLoading&&this.onDataLoadedObservable.notifyObservers(this)},Scene.prototype.getWaitingItemsCount=function(){return this._pendingData.length},Object.defineProperty(Scene.prototype,"isLoading",{get:function(){return this._pendingData.length>0},enumerable:!1,configurable:!0}),Scene.prototype.executeWhenReady=function(t){var n=this;this.onReadyObservable.add(t),-1===this._executeWhenReadyTimeoutId&&(this._executeWhenReadyTimeoutId=setTimeout((function(){n._checkIsReady()}),150))},Scene.prototype.whenReadyAsync=function(){var t=this;return new Promise((function(n){t.executeWhenReady((function(){n()}))}))},Scene.prototype._checkIsReady=function(){var t=this;return this._registerTransientComponents(),this.isReady()?(this.onReadyObservable.notifyObservers(this),this.onReadyObservable.clear(),void(this._executeWhenReadyTimeoutId=-1)):this._isDisposed?(this.onReadyObservable.clear(),void(this._executeWhenReadyTimeoutId=-1)):void(this._executeWhenReadyTimeoutId=setTimeout((function(){t._checkIsReady()}),150))},Object.defineProperty(Scene.prototype,"animatables",{get:function(){return this._activeAnimatables},enumerable:!1,configurable:!0}),Scene.prototype.resetLastAnimationTimeFrame=function(){this._animationTimeLast=d["PrecisionDate"].Now},Scene.prototype.getViewMatrix=function(){return this._viewMatrix},Scene.prototype.getProjectionMatrix=function(){return this._projectionMatrix},Scene.prototype.getTransformMatrix=function(){return this._transformMatrix},Scene.prototype.setTransformMatrix=function(t,n,u,c){this._viewUpdateFlag===t.updateFlag&&this._projectionUpdateFlag===n.updateFlag||(this._viewUpdateFlag=t.updateFlag,this._projectionUpdateFlag=n.updateFlag,this._viewMatrix=t,this._projectionMatrix=n,this._viewMatrix.multiplyToRef(this._projectionMatrix,this._transformMatrix),this._frustumPlanes?se["Frustum"].GetPlanesToRef(this._transformMatrix,this._frustumPlanes):this._frustumPlanes=se["Frustum"].GetPlanes(this._transformMatrix),this._multiviewSceneUbo&&this._multiviewSceneUbo.useUbo?this._updateMultiviewUbo(u,c):this._sceneUbo.useUbo&&(this._sceneUbo.updateMatrix("viewProjection",this._transformMatrix),this._sceneUbo.updateMatrix("view",this._viewMatrix),this._sceneUbo.update()))},Scene.prototype.getSceneUniformBuffer=function(){return this._multiviewSceneUbo?this._multiviewSceneUbo:this._sceneUbo},Scene.prototype.getUniqueId=function(){return ae["UniqueIdGenerator"].UniqueId},Scene.prototype.addMesh=function(t,n){var u=this;void 0===n&&(n=!1),this._blockEntityCollection||(this.meshes.push(t),t._resyncLightSources(),t.parent||t._addToSceneRootNodes(),this.onNewMeshAddedObservable.notifyObservers(t),n&&t.getChildMeshes().forEach((function(t){u.addMesh(t)})))},Scene.prototype.removeMesh=function(t,n){var u=this;void 0===n&&(n=!1);var c=this.meshes.indexOf(t);return-1!==c&&(this.meshes[c]=this.meshes[this.meshes.length-1],this.meshes.pop(),t.parent||t._removeFromSceneRootNodes()),this.onMeshRemovedObservable.notifyObservers(t),n&&t.getChildMeshes().forEach((function(t){u.removeMesh(t)})),c},Scene.prototype.addTransformNode=function(t){this._blockEntityCollection||(t._indexInSceneTransformNodesArray=this.transformNodes.length,this.transformNodes.push(t),t.parent||t._addToSceneRootNodes(),this.onNewTransformNodeAddedObservable.notifyObservers(t))},Scene.prototype.removeTransformNode=function(t){var n=t._indexInSceneTransformNodesArray;if(-1!==n){if(n!==this.transformNodes.length-1){var u=this.transformNodes[this.transformNodes.length-1];this.transformNodes[n]=u,u._indexInSceneTransformNodesArray=n}t._indexInSceneTransformNodesArray=-1,this.transformNodes.pop(),t.parent||t._removeFromSceneRootNodes()}return this.onTransformNodeRemovedObservable.notifyObservers(t),n},Scene.prototype.removeSkeleton=function(t){var n=this.skeletons.indexOf(t);return-1!==n&&(this.skeletons.splice(n,1),this.onSkeletonRemovedObservable.notifyObservers(t)),n},Scene.prototype.removeMorphTargetManager=function(t){var n=this.morphTargetManagers.indexOf(t);return-1!==n&&this.morphTargetManagers.splice(n,1),n},Scene.prototype.removeLight=function(t){var n=this.lights.indexOf(t);if(-1!==n){for(var u=0,c=this.meshes;u<c.length;u++){var l=c[u];l._removeLightSource(t,!1)}this.lights.splice(n,1),this.sortLightsByPriority(),t.parent||t._removeFromSceneRootNodes()}return this.onLightRemovedObservable.notifyObservers(t),n},Scene.prototype.removeCamera=function(t){var n=this.cameras.indexOf(t);if(-1!==n&&(this.cameras.splice(n,1),t.parent||t._removeFromSceneRootNodes()),this.activeCameras){var u=this.activeCameras.indexOf(t);-1!==u&&this.activeCameras.splice(u,1)}return this.activeCamera===t&&(this.cameras.length>0?this.activeCamera=this.cameras[0]:this.activeCamera=null),this.onCameraRemovedObservable.notifyObservers(t),n},Scene.prototype.removeParticleSystem=function(t){var n=this.particleSystems.indexOf(t);return-1!==n&&this.particleSystems.splice(n,1),n},Scene.prototype.removeAnimation=function(t){var n=this.animations.indexOf(t);return-1!==n&&this.animations.splice(n,1),n},Scene.prototype.stopAnimation=function(t,n,u){},Scene.prototype.removeAnimationGroup=function(t){var n=this.animationGroups.indexOf(t);return-1!==n&&this.animationGroups.splice(n,1),n},Scene.prototype.removeMultiMaterial=function(t){var n=this.multiMaterials.indexOf(t);return-1!==n&&this.multiMaterials.splice(n,1),this.onMultiMaterialRemovedObservable.notifyObservers(t),n},Scene.prototype.removeMaterial=function(t){var n=t._indexInSceneMaterialArray;if(-1!==n&&n<this.materials.length){if(n!==this.materials.length-1){var u=this.materials[this.materials.length-1];this.materials[n]=u,u._indexInSceneMaterialArray=n}t._indexInSceneMaterialArray=-1,this.materials.pop()}return this.onMaterialRemovedObservable.notifyObservers(t),n},Scene.prototype.removeActionManager=function(t){var n=this.actionManagers.indexOf(t);return-1!==n&&this.actionManagers.splice(n,1),n},Scene.prototype.removeTexture=function(t){var n=this.textures.indexOf(t);return-1!==n&&this.textures.splice(n,1),this.onTextureRemovedObservable.notifyObservers(t),n},Scene.prototype.addLight=function(t){if(!this._blockEntityCollection){this.lights.push(t),this.sortLightsByPriority(),t.parent||t._addToSceneRootNodes();for(var n=0,u=this.meshes;n<u.length;n++){var c=u[n];-1===c.lightSources.indexOf(t)&&(c.lightSources.push(t),c._resyncLightSources())}this.onNewLightAddedObservable.notifyObservers(t)}},Scene.prototype.sortLightsByPriority=function(){this.requireLightSorting&&this.lights.sort(q["Light"].CompareLightsPriority)},Scene.prototype.addCamera=function(t){this._blockEntityCollection||(this.cameras.push(t),this.onNewCameraAddedObservable.notifyObservers(t),t.parent||t._addToSceneRootNodes())},Scene.prototype.addSkeleton=function(t){this._blockEntityCollection||(this.skeletons.push(t),this.onNewSkeletonAddedObservable.notifyObservers(t))},Scene.prototype.addParticleSystem=function(t){this._blockEntityCollection||this.particleSystems.push(t)},Scene.prototype.addAnimation=function(t){this._blockEntityCollection||this.animations.push(t)},Scene.prototype.addAnimationGroup=function(t){this._blockEntityCollection||this.animationGroups.push(t)},Scene.prototype.addMultiMaterial=function(t){this._blockEntityCollection||(this.multiMaterials.push(t),this.onNewMultiMaterialAddedObservable.notifyObservers(t))},Scene.prototype.addMaterial=function(t){this._blockEntityCollection||(t._indexInSceneMaterialArray=this.materials.length,this.materials.push(t),this.onNewMaterialAddedObservable.notifyObservers(t))},Scene.prototype.addMorphTargetManager=function(t){this._blockEntityCollection||this.morphTargetManagers.push(t)},Scene.prototype.addGeometry=function(t){this._blockEntityCollection||(this.geometriesByUniqueId&&(this.geometriesByUniqueId[t.uniqueId]=this.geometries.length),this.geometries.push(t))},Scene.prototype.addActionManager=function(t){this.actionManagers.push(t)},Scene.prototype.addTexture=function(t){this._blockEntityCollection||(this.textures.push(t),this.onNewTextureAddedObservable.notifyObservers(t))},Scene.prototype.switchActiveCamera=function(t,n){void 0===n&&(n=!0);var u=this._engine.getInputElement();u&&(this.activeCamera&&this.activeCamera.detachControl(),this.activeCamera=t,n&&t.attachControl())},Scene.prototype.setActiveCameraByID=function(t){var n=this.getCameraByID(t);return n?(this.activeCamera=n,n):null},Scene.prototype.setActiveCameraByName=function(t){var n=this.getCameraByName(t);return n?(this.activeCamera=n,n):null},Scene.prototype.getAnimationGroupByName=function(t){for(var n=0;n<this.animationGroups.length;n++)if(this.animationGroups[n].name===t)return this.animationGroups[n];return null},Scene.prototype.getMaterialByUniqueID=function(t){for(var n=0;n<this.materials.length;n++)if(this.materials[n].uniqueId===t)return this.materials[n];return null},Scene.prototype.getMaterialByID=function(t){for(var n=0;n<this.materials.length;n++)if(this.materials[n].id===t)return this.materials[n];return null},Scene.prototype.getLastMaterialByID=function(t){for(var n=this.materials.length-1;n>=0;n--)if(this.materials[n].id===t)return this.materials[n];return null},Scene.prototype.getMaterialByName=function(t){for(var n=0;n<this.materials.length;n++)if(this.materials[n].name===t)return this.materials[n];return null},Scene.prototype.getTextureByUniqueID=function(t){for(var n=0;n<this.textures.length;n++)if(this.textures[n].uniqueId===t)return this.textures[n];return null},Scene.prototype.getCameraByID=function(t){for(var n=0;n<this.cameras.length;n++)if(this.cameras[n].id===t)return this.cameras[n];return null},Scene.prototype.getCameraByUniqueID=function(t){for(var n=0;n<this.cameras.length;n++)if(this.cameras[n].uniqueId===t)return this.cameras[n];return null},Scene.prototype.getCameraByName=function(t){for(var n=0;n<this.cameras.length;n++)if(this.cameras[n].name===t)return this.cameras[n];return null},Scene.prototype.getBoneByID=function(t){for(var n=0;n<this.skeletons.length;n++)for(var u=this.skeletons[n],c=0;c<u.bones.length;c++)if(u.bones[c].id===t)return u.bones[c];return null},Scene.prototype.getBoneByName=function(t){for(var n=0;n<this.skeletons.length;n++)for(var u=this.skeletons[n],c=0;c<u.bones.length;c++)if(u.bones[c].name===t)return u.bones[c];return null},Scene.prototype.getLightByName=function(t){for(var n=0;n<this.lights.length;n++)if(this.lights[n].name===t)return this.lights[n];return null},Scene.prototype.getLightByID=function(t){for(var n=0;n<this.lights.length;n++)if(this.lights[n].id===t)return this.lights[n];return null},Scene.prototype.getLightByUniqueID=function(t){for(var n=0;n<this.lights.length;n++)if(this.lights[n].uniqueId===t)return this.lights[n];return null},Scene.prototype.getParticleSystemByID=function(t){for(var n=0;n<this.particleSystems.length;n++)if(this.particleSystems[n].id===t)return this.particleSystems[n];return null},Scene.prototype.getGeometryByID=function(t){for(var n=0;n<this.geometries.length;n++)if(this.geometries[n].id===t)return this.geometries[n];return null},Scene.prototype._getGeometryByUniqueID=function(t){if(this.geometriesByUniqueId){var n=this.geometriesByUniqueId[t];if(void 0!==n)return this.geometries[n]}else for(var u=0;u<this.geometries.length;u++)if(this.geometries[u].uniqueId===t)return this.geometries[u];return null},Scene.prototype.pushGeometry=function(t,n){return!(!n&&this._getGeometryByUniqueID(t.uniqueId))&&(this.addGeometry(t),this.onNewGeometryAddedObservable.notifyObservers(t),!0)},Scene.prototype.removeGeometry=function(t){var n;if(this.geometriesByUniqueId){if(n=this.geometriesByUniqueId[t.uniqueId],void 0===n)return!1}else if(n=this.geometries.indexOf(t),n<0)return!1;if(n!==this.geometries.length-1){var u=this.geometries[this.geometries.length-1];u&&(this.geometries[n]=u,this.geometriesByUniqueId&&(this.geometriesByUniqueId[u.uniqueId]=n,this.geometriesByUniqueId[t.uniqueId]=void 0))}return this.geometries.pop(),this.onGeometryRemovedObservable.notifyObservers(t),!0},Scene.prototype.getGeometries=function(){return this.geometries},Scene.prototype.getMeshByID=function(t){for(var n=0;n<this.meshes.length;n++)if(this.meshes[n].id===t)return this.meshes[n];return null},Scene.prototype.getMeshesByID=function(t){return this.meshes.filter((function(n){return n.id===t}))},Scene.prototype.getTransformNodeByID=function(t){for(var n=0;n<this.transformNodes.length;n++)if(this.transformNodes[n].id===t)return this.transformNodes[n];return null},Scene.prototype.getTransformNodeByUniqueID=function(t){for(var n=0;n<this.transformNodes.length;n++)if(this.transformNodes[n].uniqueId===t)return this.transformNodes[n];return null},Scene.prototype.getTransformNodesByID=function(t){return this.transformNodes.filter((function(n){return n.id===t}))},Scene.prototype.getMeshByUniqueID=function(t){for(var n=0;n<this.meshes.length;n++)if(this.meshes[n].uniqueId===t)return this.meshes[n];return null},Scene.prototype.getLastMeshByID=function(t){for(var n=this.meshes.length-1;n>=0;n--)if(this.meshes[n].id===t)return this.meshes[n];return null},Scene.prototype.getLastEntryByID=function(t){var n;for(n=this.meshes.length-1;n>=0;n--)if(this.meshes[n].id===t)return this.meshes[n];for(n=this.transformNodes.length-1;n>=0;n--)if(this.transformNodes[n].id===t)return this.transformNodes[n];for(n=this.cameras.length-1;n>=0;n--)if(this.cameras[n].id===t)return this.cameras[n];for(n=this.lights.length-1;n>=0;n--)if(this.lights[n].id===t)return this.lights[n];return null},Scene.prototype.getNodeByID=function(t){var n=this.getMeshByID(t);if(n)return n;var u=this.getTransformNodeByID(t);if(u)return u;var c=this.getLightByID(t);if(c)return c;var l=this.getCameraByID(t);if(l)return l;var d=this.getBoneByID(t);return d||null},Scene.prototype.getNodeByName=function(t){var n=this.getMeshByName(t);if(n)return n;var u=this.getTransformNodeByName(t);if(u)return u;var c=this.getLightByName(t);if(c)return c;var l=this.getCameraByName(t);if(l)return l;var d=this.getBoneByName(t);return d||null},Scene.prototype.getMeshByName=function(t){for(var n=0;n<this.meshes.length;n++)if(this.meshes[n].name===t)return this.meshes[n];return null},Scene.prototype.getTransformNodeByName=function(t){for(var n=0;n<this.transformNodes.length;n++)if(this.transformNodes[n].name===t)return this.transformNodes[n];return null},Scene.prototype.getLastSkeletonByID=function(t){for(var n=this.skeletons.length-1;n>=0;n--)if(this.skeletons[n].id===t)return this.skeletons[n];return null},Scene.prototype.getSkeletonByUniqueId=function(t){for(var n=0;n<this.skeletons.length;n++)if(this.skeletons[n].uniqueId===t)return this.skeletons[n];return null},Scene.prototype.getSkeletonById=function(t){for(var n=0;n<this.skeletons.length;n++)if(this.skeletons[n].id===t)return this.skeletons[n];return null},Scene.prototype.getSkeletonByName=function(t){for(var n=0;n<this.skeletons.length;n++)if(this.skeletons[n].name===t)return this.skeletons[n];return null},Scene.prototype.getMorphTargetManagerById=function(t){for(var n=0;n<this.morphTargetManagers.length;n++)if(this.morphTargetManagers[n].uniqueId===t)return this.morphTargetManagers[n];return null},Scene.prototype.getMorphTargetById=function(t){for(var n=0;n<this.morphTargetManagers.length;++n)for(var u=this.morphTargetManagers[n],c=0;c<u.numTargets;++c){var l=u.getTarget(c);if(l.id===t)return l}return null},Scene.prototype.getMorphTargetByName=function(t){for(var n=0;n<this.morphTargetManagers.length;++n)for(var u=this.morphTargetManagers[n],c=0;c<u.numTargets;++c){var l=u.getTarget(c);if(l.name===t)return l}return null},Scene.prototype.getPostProcessByName=function(t){for(var n=0;n<this.postProcesses.length;++n){var u=this.postProcesses[n];if(u.name===t)return u}return null},Scene.prototype.isActiveMesh=function(t){return-1!==this._activeMeshes.indexOf(t)},Object.defineProperty(Scene.prototype,"uid",{get:function(){return this._uid||(this._uid=l["Tools"].RandomId()),this._uid},enumerable:!1,configurable:!0}),Scene.prototype.addExternalData=function(t,n){return this._externalData||(this._externalData=new m["StringDictionary"]),this._externalData.add(t,n)},Scene.prototype.getExternalData=function(t){return this._externalData?this._externalData.get(t):null},Scene.prototype.getOrAddExternalDataWithFactory=function(t,n){return this._externalData||(this._externalData=new m["StringDictionary"]),this._externalData.getOrAddWithFactory(t,n)},Scene.prototype.removeExternalData=function(t){return this._externalData.remove(t)},Scene.prototype._evaluateSubMesh=function(t,n,u){if(u.hasInstances||u.isAnInstance||this.dispatchAllSubMeshesOfActiveMeshes||this._skipFrustumClipping||n.alwaysSelectAsActiveMesh||1===n.subMeshes.length||t.isInFrustum(this._frustumPlanes)){for(var c=0,l=this._evaluateSubMeshStage;c<l.length;c++){var d=l[c];d.action(n,t)}var h=t.getMaterial();null!==h&&void 0!==h&&(h.hasRenderTargetTextures&&null!=h.getRenderTargetTextures&&-1===this._processedMaterials.indexOf(h)&&(this._processedMaterials.push(h),this._renderTargets.concatWithNoDuplicate(h.getRenderTargetTextures())),this._renderingManager.dispatch(t,n,h))}},Scene.prototype.freeProcessedMaterials=function(){this._processedMaterials.dispose()},Object.defineProperty(Scene.prototype,"blockfreeActiveMeshesAndRenderingGroups",{get:function(){return this._preventFreeActiveMeshesAndRenderingGroups},set:function(t){this._preventFreeActiveMeshesAndRenderingGroups!==t&&(t&&(this.freeActiveMeshes(),this.freeRenderingGroups()),this._preventFreeActiveMeshesAndRenderingGroups=t)},enumerable:!1,configurable:!0}),Scene.prototype.freeActiveMeshes=function(){if(!this.blockfreeActiveMeshesAndRenderingGroups&&(this._activeMeshes.dispose(),this.activeCamera&&this.activeCamera._activeMeshes&&this.activeCamera._activeMeshes.dispose(),this.activeCameras))for(var t=0;t<this.activeCameras.length;t++){var n=this.activeCameras[t];n&&n._activeMeshes&&n._activeMeshes.dispose()}},Scene.prototype.freeRenderingGroups=function(){if(!this.blockfreeActiveMeshesAndRenderingGroups&&(this._renderingManager&&this._renderingManager.freeRenderingGroups(),this.textures))for(var t=0;t<this.textures.length;t++){var n=this.textures[t];n&&n.renderList&&n.freeRenderingGroups()}},Scene.prototype._isInIntermediateRendering=function(){return this._intermediateRendering},Scene.prototype.freezeActiveMeshes=function(t,n,u){var c=this;return void 0===t&&(t=!1),this.executeWhenReady((function(){if(c.activeCamera){c._frustumPlanes||c.setTransformMatrix(c.activeCamera.getViewMatrix(),c.activeCamera.getProjectionMatrix()),c._evaluateActiveMeshes(),c._activeMeshesFrozen=!0,c._skipEvaluateActiveMeshesCompletely=t;for(var l=0;l<c._activeMeshes.length;l++)c._activeMeshes.data[l]._freeze();n&&n()}else u&&u("No active camera found")})),this},Scene.prototype.unfreezeActiveMeshes=function(){for(var t=0;t<this.meshes.length;t++){var n=this.meshes[t];n._internalAbstractMeshDataInfo&&(n._internalAbstractMeshDataInfo._isActive=!1)}for(t=0;t<this._activeMeshes.length;t++)this._activeMeshes.data[t]._unFreeze();return this._activeMeshesFrozen=!1,this},Scene.prototype._evaluateActiveMeshes=function(){if(this._activeMeshesFrozen&&this._activeMeshes.length){if(!this._skipEvaluateActiveMeshesCompletely)for(var t=this._activeMeshes.length,n=0;n<t;n++){var u=this._activeMeshes.data[n];u.computeWorldMatrix()}if(this._activeParticleSystems){var c=this._activeParticleSystems.length;for(n=0;n<c;n++)this._activeParticleSystems.data[n].animate()}}else if(this.activeCamera){this.onBeforeActiveMeshesEvaluationObservable.notifyObservers(this),this.activeCamera._activeMeshes.reset(),this._activeMeshes.reset(),this._renderingManager.reset(),this._processedMaterials.reset(),this._activeParticleSystems.reset(),this._activeSkeletons.reset(),this._softwareSkinnedMeshes.reset();for(var l=0,d=this._beforeEvaluateActiveMeshStage;l<d.length;l++){var h=d[l];h.action()}var p=this.getActiveMeshCandidates(),m=p.length;for(n=0;n<m;n++){u=p.data[n];if(u._internalAbstractMeshDataInfo._currentLODIsUpToDate=!1,!u.isBlocked&&(this._totalVertices.addCount(u.getTotalVertices(),!1),u.isReady()&&u.isEnabled()&&0!==u.scaling.lengthSquared())){u.computeWorldMatrix(),u.actionManager&&u.actionManager.hasSpecificTriggers2(12,13)&&this._meshesForIntersections.pushNoDuplicate(u);var _=this.customLODSelector?this.customLODSelector(u,this.activeCamera):u.getLOD(this.activeCamera);if(u._internalAbstractMeshDataInfo._currentLOD=_,u._internalAbstractMeshDataInfo._currentLODIsUpToDate=!0,void 0!==_&&null!==_&&(_!==u&&_.billboardMode!==b["TransformNode"].BILLBOARDMODE_NONE&&_.computeWorldMatrix(),u._preActivate(),u.isVisible&&u.visibility>0&&0!==(u.layerMask&this.activeCamera.layerMask)&&(this._skipFrustumClipping||u.alwaysSelectAsActiveMesh||u.isInFrustum(this._frustumPlanes)))){this._activeMeshes.push(u),this.activeCamera._activeMeshes.push(u),_!==u&&_._activate(this._renderId,!1);for(var g=0,v=this._preActiveMeshStage;g<v.length;g++){h=v[g];h.action(u)}u._activate(this._renderId,!1)&&(u.isAnInstance?u._internalAbstractMeshDataInfo._actAsRegularMesh&&(_=u):_._internalAbstractMeshDataInfo._onlyForInstances=!1,_._internalAbstractMeshDataInfo._isActive=!0,this._activeMesh(u,_)),u._postActivate()}}}if(this.onAfterActiveMeshesEvaluationObservable.notifyObservers(this),this.particlesEnabled){this.onBeforeParticlesRenderingObservable.notifyObservers(this);for(var U=0;U<this.particleSystems.length;U++){var G=this.particleSystems[U];if(G.isStarted()&&G.emitter){var W=G.emitter;W.position&&!W.isEnabled()||(this._activeParticleSystems.push(G),G.animate(),this._renderingManager.dispatchParticles(G))}}this.onAfterParticlesRenderingObservable.notifyObservers(this)}}},Scene.prototype._activeMesh=function(t,n){if(this._skeletonsEnabled&&null!==n.skeleton&&void 0!==n.skeleton&&(this._activeSkeletons.pushNoDuplicate(n.skeleton)&&n.skeleton.prepare(),n.computeBonesUsingShaders||this._softwareSkinnedMeshes.pushNoDuplicate(n)),void 0!==n&&null!==n&&void 0!==n.subMeshes&&null!==n.subMeshes&&n.subMeshes.length>0)for(var u=this.getActiveSubMeshCandidates(n),c=u.length,l=0;l<c;l++){var d=u.data[l];this._evaluateSubMesh(d,n,t)}},Scene.prototype.updateTransformMatrix=function(t){this.activeCamera&&this.setTransformMatrix(this.activeCamera.getViewMatrix(),this.activeCamera.getProjectionMatrix(t))},Scene.prototype._bindFrameBuffer=function(){if(this.activeCamera&&this.activeCamera._multiviewTexture)this.activeCamera._multiviewTexture._bindFrameBuffer();else if(this.activeCamera&&this.activeCamera.outputRenderTarget){var t=this.getEngine().getCaps().multiview&&this.activeCamera.outputRenderTarget&&this.activeCamera.outputRenderTarget.getViewCount()>1;if(t)this.activeCamera.outputRenderTarget._bindFrameBuffer();else{var n=this.activeCamera.outputRenderTarget.getInternalTexture();n?this.getEngine().bindFramebuffer(n):ee["Logger"].Error("Camera contains invalid customDefaultRenderTarget")}}else this.getEngine().restoreDefaultFramebuffer()},Scene.prototype._renderForCamera=function(t,n){if(!t||!t._skipRendering){var u=this._engine;if(this._activeCamera=t,!this.activeCamera)throw new Error("Active camera not set");u.setViewport(this.activeCamera.viewport),this.resetCachedMaterial(),this._renderId++;var c=this.getEngine().getCaps().multiview&&t.outputRenderTarget&&t.outputRenderTarget.getViewCount()>1;c?this.setTransformMatrix(t._rigCameras[0].getViewMatrix(),t._rigCameras[0].getProjectionMatrix(),t._rigCameras[1].getViewMatrix(),t._rigCameras[1].getProjectionMatrix()):this.updateTransformMatrix(),this.onBeforeCameraRenderObservable.notifyObservers(this.activeCamera),this._evaluateActiveMeshes();for(var d=0;d<this._softwareSkinnedMeshes.length;d++){var h=this._softwareSkinnedMeshes.data[d];h.applySkeleton(h.skeleton)}this.onBeforeRenderTargetsRenderObservable.notifyObservers(this),t.customRenderTargets&&t.customRenderTargets.length>0&&this._renderTargets.concatWithNoDuplicate(t.customRenderTargets),n&&n.customRenderTargets&&n.customRenderTargets.length>0&&this._renderTargets.concatWithNoDuplicate(n.customRenderTargets);for(var p=0,m=this._gatherActiveCameraRenderTargetsStage;p<m.length;p++){var _=m[p];_.action(this._renderTargets)}var g=!1;if(this.renderTargetsEnabled){if(this._intermediateRendering=!0,this._renderTargets.length>0){l["Tools"].StartPerformanceCounter("Render targets",this._renderTargets.length>0);for(var b=0;b<this._renderTargets.length;b++){var v=this._renderTargets.data[b];if(v._shouldRender()){this._renderId++;var U=v.activeCamera&&v.activeCamera!==this.activeCamera;v.render(U,this.dumpNextRenderTargets),g=!0}}l["Tools"].EndPerformanceCounter("Render targets",this._renderTargets.length>0),this._renderId++}for(var G=0,W=this._cameraDrawRenderTargetStage;G<W.length;G++){_=W[G];g=_.action(this.activeCamera)||g}this._intermediateRendering=!1,this.activeCamera&&this.activeCamera.outputRenderTarget&&(g=!0)}g&&!this.prePass&&this._bindFrameBuffer(),this.onAfterRenderTargetsRenderObservable.notifyObservers(this),!this.postProcessManager||t._multiviewTexture||this.prePass||this.postProcessManager._prepareFrame();for(var X=0,q=this._beforeCameraDrawStage;X<q.length;X++){_=q[X];_.action(this.activeCamera)}this.onBeforeDrawPhaseObservable.notifyObservers(this),this._renderingManager.render(null,null,!0,!0),this.onAfterDrawPhaseObservable.notifyObservers(this);for(var K=0,Y=this._afterCameraDrawStage;K<Y.length;K++){_=Y[K];_.action(this.activeCamera)}if(this.postProcessManager&&!t._multiviewTexture){var Q=t.outputRenderTarget?t.outputRenderTarget.getInternalTexture():void 0;this.postProcessManager._finalizeFrame(t.isIntermediate,Q)}this._renderTargets.reset(),this.onAfterCameraRenderObservable.notifyObservers(this.activeCamera)}},Scene.prototype._processSubCameras=function(t){if(t.cameraRigMode===U["Camera"].RIG_MODE_NONE||t.outputRenderTarget&&t.outputRenderTarget.getViewCount()>1&&this.getEngine().getCaps().multiview)return this._renderForCamera(t),void this.onAfterRenderCameraObservable.notifyObservers(t);if(t._useMultiviewToSingleView)this._renderMultiviewToSingleView(t);else for(var n=0;n<t._rigCameras.length;n++)this._renderForCamera(t._rigCameras[n],t);this._activeCamera=t,this.setTransformMatrix(this._activeCamera.getViewMatrix(),this._activeCamera.getProjectionMatrix()),this.onAfterRenderCameraObservable.notifyObservers(t)},Scene.prototype._checkIntersections=function(){for(var t=0;t<this._meshesForIntersections.length;t++){var n=this._meshesForIntersections.data[t];if(n.actionManager)for(var u=0;n.actionManager&&u<n.actionManager.actions.length;u++){var c=n.actionManager.actions[u];if(12===c.trigger||13===c.trigger){var l=c.getTriggerParameter(),d=l instanceof v["AbstractMesh"]?l:l.mesh,h=d.intersectsMesh(n,l.usePreciseIntersection),p=n._intersectionsInProgress.indexOf(d);h&&-1===p?12===c.trigger?(c._executeCurrent(Y["ActionEvent"].CreateNew(n,void 0,d)),n._intersectionsInProgress.push(d)):13===c.trigger&&n._intersectionsInProgress.push(d):!h&&p>-1&&(13===c.trigger&&c._executeCurrent(Y["ActionEvent"].CreateNew(n,void 0,d)),n.actionManager.hasSpecificTrigger(13,(function(t){var n=t instanceof v["AbstractMesh"]?t:t.mesh;return d===n}))&&13!==c.trigger||n._intersectionsInProgress.splice(p,1))}}}},Scene.prototype._advancePhysicsEngineStep=function(t){},Scene.prototype._animate=function(){},Scene.prototype.animate=function(){if(this._engine.isDeterministicLockStep()){var t=Math.max(Scene.MinDeltaTime,Math.min(this._engine.getDeltaTime(),Scene.MaxDeltaTime))+this._timeAccumulator,n=this._engine.getTimeStep(),u=1e3/n/1e3,c=0,l=this._engine.getLockstepMaxSteps(),d=Math.floor(t/n);d=Math.min(d,l);while(t>0&&c<d)this.onBeforeStepObservable.notifyObservers(this),this._animationRatio=n*u,this._animate(),this.onAfterAnimationsObservable.notifyObservers(this),this.physicsEnabled&&this._advancePhysicsEngineStep(n),this.onAfterStepObservable.notifyObservers(this),this._currentStepId++,c++,t-=n;this._timeAccumulator=t<0?0:t}else{t=this.useConstantAnimationDeltaTime?16:Math.max(Scene.MinDeltaTime,Math.min(this._engine.getDeltaTime(),Scene.MaxDeltaTime));this._animationRatio=.06*t,this._animate(),this.onAfterAnimationsObservable.notifyObservers(this),this.physicsEnabled&&this._advancePhysicsEngineStep(t)}},Scene.prototype.render=function(t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!1),!this.isDisposed){this.onReadyObservable.hasObservers()&&-1===this._executeWhenReadyTimeoutId&&this._checkIsReady(),this._frameId++,this._registerTransientComponents(),this._activeParticles.fetchNewFrame(),this._totalVertices.fetchNewFrame(),this._activeIndices.fetchNewFrame(),this._activeBones.fetchNewFrame(),this._meshesForIntersections.reset(),this.resetCachedMaterial(),this.onBeforeAnimationsObservable.notifyObservers(this),this.actionManager&&this.actionManager.processTrigger(11),n||this.animate();for(var u=0,c=this._beforeCameraUpdateStage;u<c.length;u++){var d=c[u];d.action()}if(t)if(this.activeCameras&&this.activeCameras.length>0)for(var h=0;h<this.activeCameras.length;h++){var p=this.activeCameras[h];if(p.update(),p.cameraRigMode!==U["Camera"].RIG_MODE_NONE)for(var m=0;m<p._rigCameras.length;m++)p._rigCameras[m].update()}else if(this.activeCamera&&(this.activeCamera.update(),this.activeCamera.cameraRigMode!==U["Camera"].RIG_MODE_NONE))for(m=0;m<this.activeCamera._rigCameras.length;m++)this.activeCamera._rigCameras[m].update();this.onBeforeRenderObservable.notifyObservers(this),this.onBeforeRenderTargetsRenderObservable.notifyObservers(this);var _=this.getEngine(),g=this.activeCamera;if(this.renderTargetsEnabled){l["Tools"].StartPerformanceCounter("Custom render targets",this.customRenderTargets.length>0),this._intermediateRendering=!0;for(var b=0;b<this.customRenderTargets.length;b++){var v=this.customRenderTargets[b];if(v._shouldRender()){if(this._renderId++,this.activeCamera=v.activeCamera||this.activeCamera,!this.activeCamera)throw new Error("Active camera not set");_.setViewport(this.activeCamera.viewport),this.updateTransformMatrix(),v.render(g!==this.activeCamera,this.dumpNextRenderTargets)}}l["Tools"].EndPerformanceCounter("Custom render targets",this.customRenderTargets.length>0),this._intermediateRendering=!1,this._renderId++}this.activeCamera=g,this._activeCamera&&this._activeCamera.cameraRigMode!==U["Camera"].RIG_MODE_CUSTOM&&!this.prePass&&this._bindFrameBuffer(),this.onAfterRenderTargetsRenderObservable.notifyObservers(this);for(var G=0,W=this._beforeClearStage;G<W.length;G++){d=W[G];d.action()}!this.autoClearDepthAndStencil&&!this.autoClear||this.prePass||this._engine.clear(this.clearColor,this.autoClear||this.forceWireframe||this.forcePointsCloud,this.autoClearDepthAndStencil,this.autoClearDepthAndStencil);for(var X=0,q=this._gatherRenderTargetsStage;X<q.length;X++){d=q[X];d.action(this._renderTargets)}if(this.activeCameras&&this.activeCameras.length>0)for(h=0;h<this.activeCameras.length;h++)h>0&&this._engine.clear(null,!1,!0,!0),this._processSubCameras(this.activeCameras[h]);else{if(!this.activeCamera)throw new Error("No camera defined");this._processSubCameras(this.activeCamera)}this._checkIntersections();for(var K=0,Y=this._afterRenderStage;K<Y.length;K++){d=Y[K];d.action()}if(this.afterRender&&this.afterRender(),this.onAfterRenderObservable.notifyObservers(this),this._toBeDisposed.length){for(m=0;m<this._toBeDisposed.length;m++){var Q=this._toBeDisposed[m];Q&&Q.dispose()}this._toBeDisposed=[]}this.dumpNextRenderTargets&&(this.dumpNextRenderTargets=!1),this._activeBones.addCount(0,!0),this._activeIndices.addCount(0,!0),this._activeParticles.addCount(0,!0)}},Scene.prototype.freezeMaterials=function(){for(var t=0;t<this.materials.length;t++)this.materials[t].freeze()},Scene.prototype.unfreezeMaterials=function(){for(var t=0;t<this.materials.length;t++)this.materials[t].unfreeze()},Scene.prototype.dispose=function(){this.beforeRender=null,this.afterRender=null,te["EngineStore"]._LastCreatedScene===this&&(te["EngineStore"]._LastCreatedScene=null),this.skeletons=[],this.morphTargetManagers=[],this._transientComponents=[],this._isReadyForMeshStage.clear(),this._beforeEvaluateActiveMeshStage.clear(),this._evaluateSubMeshStage.clear(),this._preActiveMeshStage.clear(),this._cameraDrawRenderTargetStage.clear(),this._beforeCameraDrawStage.clear(),this._beforeRenderTargetDrawStage.clear(),this._beforeRenderingGroupDrawStage.clear(),this._beforeRenderingMeshStage.clear(),this._afterRenderingMeshStage.clear(),this._afterRenderingGroupDrawStage.clear(),this._afterCameraDrawStage.clear(),this._afterRenderTargetDrawStage.clear(),this._afterRenderStage.clear(),this._beforeCameraUpdateStage.clear(),this._beforeClearStage.clear(),this._gatherRenderTargetsStage.clear(),this._gatherActiveCameraRenderTargetsStage.clear(),this._pointerMoveStage.clear(),this._pointerDownStage.clear(),this._pointerUpStage.clear();for(var t=0,n=this._components;t<n.length;t++){var u=n[t];u.dispose()}this.importedMeshesFiles=new Array,this.stopAllAnimations&&this.stopAllAnimations(),this.resetCachedMaterial(),this.activeCamera&&(this.activeCamera._activeMeshes.dispose(),this.activeCamera=null),this._activeMeshes.dispose(),this._renderingManager.dispose(),this._processedMaterials.dispose(),this._activeParticleSystems.dispose(),this._activeSkeletons.dispose(),this._softwareSkinnedMeshes.dispose(),this._renderTargets.dispose(),this._registeredForLateAnimationBindings.dispose(),this._meshesForIntersections.dispose(),this._toBeDisposed=[];for(var c=0,l=this._activeRequests;c<l.length;c++){var d=l[c];d.abort()}this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),this.onBeforeRenderObservable.clear(),this.onAfterRenderObservable.clear(),this.onBeforeRenderTargetsRenderObservable.clear(),this.onAfterRenderTargetsRenderObservable.clear(),this.onAfterStepObservable.clear(),this.onBeforeStepObservable.clear(),this.onBeforeActiveMeshesEvaluationObservable.clear(),this.onAfterActiveMeshesEvaluationObservable.clear(),this.onBeforeParticlesRenderingObservable.clear(),this.onAfterParticlesRenderingObservable.clear(),this.onBeforeDrawPhaseObservable.clear(),this.onAfterDrawPhaseObservable.clear(),this.onBeforeAnimationsObservable.clear(),this.onAfterAnimationsObservable.clear(),this.onDataLoadedObservable.clear(),this.onBeforeRenderingGroupObservable.clear(),this.onAfterRenderingGroupObservable.clear(),this.onMeshImportedObservable.clear(),this.onBeforeCameraRenderObservable.clear(),this.onAfterCameraRenderObservable.clear(),this.onReadyObservable.clear(),this.onNewCameraAddedObservable.clear(),this.onCameraRemovedObservable.clear(),this.onNewLightAddedObservable.clear(),this.onLightRemovedObservable.clear(),this.onNewGeometryAddedObservable.clear(),this.onGeometryRemovedObservable.clear(),this.onNewTransformNodeAddedObservable.clear(),this.onTransformNodeRemovedObservable.clear(),this.onNewMeshAddedObservable.clear(),this.onMeshRemovedObservable.clear(),this.onNewSkeletonAddedObservable.clear(),this.onSkeletonRemovedObservable.clear(),this.onNewMaterialAddedObservable.clear(),this.onNewMultiMaterialAddedObservable.clear(),this.onMaterialRemovedObservable.clear(),this.onMultiMaterialRemovedObservable.clear(),this.onNewTextureAddedObservable.clear(),this.onTextureRemovedObservable.clear(),this.onPrePointerObservable.clear(),this.onPointerObservable.clear(),this.onPreKeyboardObservable.clear(),this.onKeyboardObservable.clear(),this.onActiveCameraChanged.clear(),this.detachControl();var h,p=this._engine.getInputElement();if(p)for(h=0;h<this.cameras.length;h++)this.cameras[h].detachControl();while(this.animationGroups.length)this.animationGroups[0].dispose();while(this.lights.length)this.lights[0].dispose();while(this.meshes.length)this.meshes[0].dispose(!0);while(this.transformNodes.length)this.transformNodes[0].dispose(!0);while(this.cameras.length)this.cameras[0].dispose();this._defaultMaterial&&this._defaultMaterial.dispose();while(this.multiMaterials.length)this.multiMaterials[0].dispose();while(this.materials.length)this.materials[0].dispose();while(this.particleSystems.length)this.particleSystems[0].dispose();while(this.postProcesses.length)this.postProcesses[0].dispose();while(this.textures.length)this.textures[0].dispose();this._sceneUbo.dispose(),this._multiviewSceneUbo&&this._multiviewSceneUbo.dispose(),this.postProcessManager.dispose(),h=this._engine.scenes.indexOf(this),h>-1&&this._engine.scenes.splice(h,1),this._engine.wipeCaches(!0),this._isDisposed=!0},Object.defineProperty(Scene.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!1,configurable:!0}),Scene.prototype.clearCachedVertexData=function(){for(var t=0;t<this.meshes.length;t++){var n=this.meshes[t],u=n.geometry;if(u)for(var c in u._indices=[],u._vertexBuffers)u._vertexBuffers.hasOwnProperty(c)&&(u._vertexBuffers[c]._buffer._data=null)}},Scene.prototype.cleanCachedTextureBuffer=function(){for(var t=0,n=this.textures;t<n.length;t++){var u=n[t],c=u._buffer;c&&(u._buffer=null)}},Scene.prototype.getWorldExtends=function(t){var n=new g["Vector3"](Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),u=new g["Vector3"](-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);return t=t||function(){return!0},this.meshes.filter(t).forEach((function(t){if(t.computeWorldMatrix(!0),t.subMeshes&&0!==t.subMeshes.length&&!t.infiniteDistance){var c=t.getBoundingInfo(),l=c.boundingBox.minimumWorld,d=c.boundingBox.maximumWorld;g["Vector3"].CheckExtends(l,n,u),g["Vector3"].CheckExtends(d,n,u)}})),{min:n,max:u}},Scene.prototype.createPickingRay=function(t,n,u,c,l){throw void 0===l&&(l=!1),re["_DevTools"].WarnImport("Ray")},Scene.prototype.createPickingRayToRef=function(t,n,u,c,l,d){throw void 0===d&&(d=!1),re["_DevTools"].WarnImport("Ray")},Scene.prototype.createPickingRayInCameraSpace=function(t,n,u){throw re["_DevTools"].WarnImport("Ray")},Scene.prototype.createPickingRayInCameraSpaceToRef=function(t,n,u,c){throw re["_DevTools"].WarnImport("Ray")},Scene.prototype.pick=function(t,n,u,c,l,d){var h=new K["PickingInfo"];return h._pickingUnavailable=!0,h},Scene.prototype.pickWithBoundingInfo=function(t,n,u,c,l){var d=new K["PickingInfo"];return d._pickingUnavailable=!0,d},Scene.prototype.pickWithRay=function(t,n,u,c){throw re["_DevTools"].WarnImport("Ray")},Scene.prototype.multiPick=function(t,n,u,c,l){throw re["_DevTools"].WarnImport("Ray")},Scene.prototype.multiPickWithRay=function(t,n,u){throw re["_DevTools"].WarnImport("Ray")},Scene.prototype.setPointerOverMesh=function(t,n){this._inputManager.setPointerOverMesh(t,n)},Scene.prototype.getPointerOverMesh=function(){return this._inputManager.getPointerOverMesh()},Scene.prototype._rebuildGeometries=function(){for(var t=0,n=this.geometries;t<n.length;t++){var u=n[t];u._rebuild()}for(var c=0,l=this.meshes;c<l.length;c++){var d=l[c];d._rebuild()}this.postProcessManager&&this.postProcessManager._rebuild();for(var h=0,p=this._components;h<p.length;h++){var m=p[h];m.rebuild()}for(var _=0,g=this.particleSystems;_<g.length;_++){var b=g[_];b.rebuild()}},Scene.prototype._rebuildTextures=function(){for(var t=0,n=this.textures;t<n.length;t++){var u=n[t];u._rebuild()}this.markAllMaterialsAsDirty(1)},Scene.prototype._getByTags=function(t,n,u){if(void 0===n)return t;var c=[];for(var l in u=u||function(t){},t){var d=t[l];_["Tags"]&&_["Tags"].MatchesQuery(d,n)&&(c.push(d),u(d))}return c},Scene.prototype.getMeshesByTags=function(t,n){return this._getByTags(this.meshes,t,n)},Scene.prototype.getCamerasByTags=function(t,n){return this._getByTags(this.cameras,t,n)},Scene.prototype.getLightsByTags=function(t,n){return this._getByTags(this.lights,t,n)},Scene.prototype.getMaterialByTags=function(t,n){return this._getByTags(this.materials,t,n).concat(this._getByTags(this.multiMaterials,t,n))},Scene.prototype.getTransformNodesByTags=function(t,n){return this._getByTags(this.transformNodes,t,n)},Scene.prototype.setRenderingOrder=function(t,n,u,c){void 0===n&&(n=null),void 0===u&&(u=null),void 0===c&&(c=null),this._renderingManager.setRenderingOrder(t,n,u,c)},Scene.prototype.setRenderingAutoClearDepthStencil=function(t,n,u,c){void 0===u&&(u=!0),void 0===c&&(c=!0),this._renderingManager.setRenderingAutoClearDepthStencil(t,n,u,c)},Scene.prototype.getAutoClearDepthStencilSetup=function(t){return this._renderingManager.getAutoClearDepthStencilSetup(t)},Object.defineProperty(Scene.prototype,"blockMaterialDirtyMechanism",{get:function(){return this._blockMaterialDirtyMechanism},set:function(t){this._blockMaterialDirtyMechanism!==t&&(this._blockMaterialDirtyMechanism=t,t||this.markAllMaterialsAsDirty(63))},enumerable:!1,configurable:!0}),Scene.prototype.markAllMaterialsAsDirty=function(t,n){if(!this._blockMaterialDirtyMechanism)for(var u=0,c=this.materials;u<c.length;u++){var l=c[u];n&&!n(l)||l.markAsDirty(t)}},Scene.prototype._loadFile=function(t,n,u,c,l,d){var h=this,p=ue["FileTools"].LoadFile(t,n,u,c?this.offlineProvider:void 0,l,d);return this._activeRequests.push(p),p.onCompleteObservable.add((function(t){h._activeRequests.splice(h._activeRequests.indexOf(t),1)})),p},Scene.prototype._loadFileAsync=function(t,n,u,c){var l=this;return new Promise((function(d,h){l._loadFile(t,(function(t){d(t)}),n,u,c,(function(t,n){h(n)}))}))},Scene.prototype._requestFile=function(t,n,u,c,l,d,h){var p=this,m=ue["FileTools"].RequestFile(t,n,u,c?this.offlineProvider:void 0,l,d,h);return this._activeRequests.push(m),m.onCompleteObservable.add((function(t){p._activeRequests.splice(p._activeRequests.indexOf(t),1)})),m},Scene.prototype._requestFileAsync=function(t,n,u,c,l){var d=this;return new Promise((function(h,p){d._requestFile(t,(function(t){h(t)}),n,u,c,(function(t){p(t)}),l)}))},Scene.prototype._readFile=function(t,n,u,c,l){var d=this,h=ue["FileTools"].ReadFile(t,n,u,c,l);return this._activeRequests.push(h),h.onCompleteObservable.add((function(t){d._activeRequests.splice(d._activeRequests.indexOf(t),1)})),h},Scene.prototype._readFileAsync=function(t,n,u){var c=this;return new Promise((function(l,d){c._readFile(t,(function(t){l(t)}),n,u,(function(t){d(t)}))}))},Scene.FOGMODE_NONE=0,Scene.FOGMODE_EXP=1,Scene.FOGMODE_EXP2=2,Scene.FOGMODE_LINEAR=3,Scene.MinDeltaTime=1,Scene.MaxDeltaTime=1e3,Scene}(G["AbstractScene"])},"./node_modules/@babylonjs/core/sceneComponent.js":function(t,n,u){"use strict";u.r(n),u.d(n,"SceneComponentConstants",(function(){return l})),u.d(n,"Stage",(function(){return d}));var c=u("./node_modules/tslib/tslib.es6.js"),l=function(){function SceneComponentConstants(){}return SceneComponentConstants.NAME_EFFECTLAYER="EffectLayer",SceneComponentConstants.NAME_LAYER="Layer",SceneComponentConstants.NAME_LENSFLARESYSTEM="LensFlareSystem",SceneComponentConstants.NAME_BOUNDINGBOXRENDERER="BoundingBoxRenderer",SceneComponentConstants.NAME_PARTICLESYSTEM="ParticleSystem",SceneComponentConstants.NAME_GAMEPAD="Gamepad",SceneComponentConstants.NAME_SIMPLIFICATIONQUEUE="SimplificationQueue",SceneComponentConstants.NAME_GEOMETRYBUFFERRENDERER="GeometryBufferRenderer",SceneComponentConstants.NAME_PREPASSRENDERER="PrePassRenderer",SceneComponentConstants.NAME_DEPTHRENDERER="DepthRenderer",SceneComponentConstants.NAME_POSTPROCESSRENDERPIPELINEMANAGER="PostProcessRenderPipelineManager",SceneComponentConstants.NAME_SPRITE="Sprite",SceneComponentConstants.NAME_SUBSURFACE="SubSurface",SceneComponentConstants.NAME_OUTLINERENDERER="Outline",SceneComponentConstants.NAME_PROCEDURALTEXTURE="ProceduralTexture",SceneComponentConstants.NAME_SHADOWGENERATOR="ShadowGenerator",SceneComponentConstants.NAME_OCTREE="Octree",SceneComponentConstants.NAME_PHYSICSENGINE="PhysicsEngine",SceneComponentConstants.NAME_AUDIO="Audio",SceneComponentConstants.STEP_ISREADYFORMESH_EFFECTLAYER=0,SceneComponentConstants.STEP_BEFOREEVALUATEACTIVEMESH_BOUNDINGBOXRENDERER=0,SceneComponentConstants.STEP_EVALUATESUBMESH_BOUNDINGBOXRENDERER=0,SceneComponentConstants.STEP_PREACTIVEMESH_BOUNDINGBOXRENDERER=0,SceneComponentConstants.STEP_CAMERADRAWRENDERTARGET_EFFECTLAYER=1,SceneComponentConstants.STEP_BEFORECAMERADRAW_EFFECTLAYER=0,SceneComponentConstants.STEP_BEFORECAMERADRAW_LAYER=1,SceneComponentConstants.STEP_BEFORECAMERADRAW_PREPASS=2,SceneComponentConstants.STEP_BEFORERENDERTARGETDRAW_LAYER=0,SceneComponentConstants.STEP_BEFORERENDERINGMESH_PREPASS=0,SceneComponentConstants.STEP_BEFORERENDERINGMESH_OUTLINE=1,SceneComponentConstants.STEP_AFTERRENDERINGMESH_PREPASS=0,SceneComponentConstants.STEP_AFTERRENDERINGMESH_OUTLINE=1,SceneComponentConstants.STEP_AFTERRENDERINGGROUPDRAW_EFFECTLAYER_DRAW=0,SceneComponentConstants.STEP_AFTERRENDERINGGROUPDRAW_BOUNDINGBOXRENDERER=1,SceneComponentConstants.STEP_BEFORECAMERAUPDATE_SIMPLIFICATIONQUEUE=0,SceneComponentConstants.STEP_BEFORECAMERAUPDATE_GAMEPAD=1,SceneComponentConstants.STEP_BEFORECLEAR_PROCEDURALTEXTURE=0,SceneComponentConstants.STEP_AFTERRENDERTARGETDRAW_LAYER=0,SceneComponentConstants.STEP_AFTERCAMERADRAW_EFFECTLAYER=0,SceneComponentConstants.STEP_AFTERCAMERADRAW_LENSFLARESYSTEM=1,SceneComponentConstants.STEP_AFTERCAMERADRAW_EFFECTLAYER_DRAW=2,SceneComponentConstants.STEP_AFTERCAMERADRAW_LAYER=3,SceneComponentConstants.STEP_AFTERCAMERADRAW_PREPASS=4,SceneComponentConstants.STEP_AFTERRENDER_AUDIO=0,SceneComponentConstants.STEP_GATHERRENDERTARGETS_DEPTHRENDERER=0,SceneComponentConstants.STEP_GATHERRENDERTARGETS_GEOMETRYBUFFERRENDERER=1,SceneComponentConstants.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR=2,SceneComponentConstants.STEP_GATHERRENDERTARGETS_POSTPROCESSRENDERPIPELINEMANAGER=3,SceneComponentConstants.STEP_GATHERACTIVECAMERARENDERTARGETS_DEPTHRENDERER=0,SceneComponentConstants.STEP_BEFORECLEARSTAGE_PREPASS=0,SceneComponentConstants.STEP_POINTERMOVE_SPRITE=0,SceneComponentConstants.STEP_POINTERDOWN_SPRITE=0,SceneComponentConstants.STEP_POINTERUP_SPRITE=0,SceneComponentConstants}(),d=function(t){function Stage(n){return t.apply(this,n)||this}return Object(c["__extends"])(Stage,t),Stage.Create=function(){return Object.create(Stage.prototype)},Stage.prototype.registerStep=function(t,n,u){for(var c=0,l=Number.MAX_VALUE;c<this.length;c++){var d=this[c];if(l=d.index,t<l)break}this.splice(c,0,{index:t,component:n,action:u.bind(n)})},Stage.prototype.clear=function(){this.length=0},Stage}(Array)},"./node_modules/@babylonjs/materials/grid/grid.fragment.js":function(t,n,u){"use strict";u.r(n),u.d(n,"gridPixelShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogFragmentDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogFragment.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/imageProcessingCompatibility.js"),"gridPixelShader"),d="#extension GL_OES_standard_derivatives : enable\n#define SQRT2 1.41421356\n#define PI 3.14159\nprecision highp float;\nuniform vec3 mainColor;\nuniform vec3 lineColor;\nuniform vec4 gridControl;\nuniform vec3 gridOffset;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\n#include<fogFragmentDeclaration>\n\n#ifdef OPACITY\nvarying vec2 vOpacityUV;\nuniform sampler2D opacitySampler;\nuniform vec2 vOpacityInfos;\n#endif\nfloat getVisibility(float position) {\n\nfloat majorGridFrequency=gridControl.y;\nif (floor(position+0.5) == floor(position/majorGridFrequency+0.5)*majorGridFrequency)\n{\nreturn 1.0;\n}\nreturn gridControl.z;\n}\nfloat getAnisotropicAttenuation(float differentialLength) {\nconst float maxNumberOfLines=10.0;\nreturn clamp(1.0/(differentialLength+1.0)-1.0/maxNumberOfLines,0.0,1.0);\n}\nfloat isPointOnLine(float position,float differentialLength) {\nfloat fractionPartOfPosition=position-floor(position+0.5);\nfractionPartOfPosition/=differentialLength;\nfractionPartOfPosition=clamp(fractionPartOfPosition,-1.,1.);\nfloat result=0.5+0.5*cos(fractionPartOfPosition*PI);\nreturn result;\n}\nfloat contributionOnAxis(float position) {\nfloat differentialLength=length(vec2(dFdx(position),dFdy(position)));\ndifferentialLength*=SQRT2;\n\nfloat result=isPointOnLine(position,differentialLength);\n\nfloat visibility=getVisibility(position);\nresult*=visibility;\n\nfloat anisotropicAttenuation=getAnisotropicAttenuation(differentialLength);\nresult*=anisotropicAttenuation;\nreturn result;\n}\nfloat normalImpactOnAxis(float x) {\nfloat normalImpact=clamp(1.0-3.0*abs(x*x*x),0.0,1.0);\nreturn normalImpact;\n}\nvoid main(void) {\n\nfloat gridRatio=gridControl.x;\nvec3 gridPos=(vPosition+gridOffset.xyz)/gridRatio;\n\nfloat x=contributionOnAxis(gridPos.x);\nfloat y=contributionOnAxis(gridPos.y);\nfloat z=contributionOnAxis(gridPos.z);\n\nvec3 normal=normalize(vNormal);\nx*=normalImpactOnAxis(normal.x);\ny*=normalImpactOnAxis(normal.y);\nz*=normalImpactOnAxis(normal.z);\n\nfloat grid=clamp(x+y+z,0.,1.);\n\nvec3 color=mix(mainColor,lineColor,grid);\n#ifdef FOG\n#include<fogFragment>\n#endif\nfloat opacity=1.0;\n#ifdef TRANSPARENT\nopacity=clamp(grid,0.08,gridControl.w*grid);\n#endif\n#ifdef OPACITY\nopacity*=texture2D(opacitySampler,vOpacityUV).a;\n#endif\n\ngl_FragColor=vec4(color.rgb,opacity);\n#ifdef TRANSPARENT\n#ifdef PREMULTIPLYALPHA\ngl_FragColor.rgb*=opacity;\n#endif\n#else\n#endif\n#include<imageProcessingCompatibility>\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/materials/grid/grid.vertex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"gridVertexShader",(function(){return h}));var c=u("./node_modules/@babylonjs/core/Materials/effect.js"),l=(u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogVertexDeclaration.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/instancesVertex.js"),u("./node_modules/@babylonjs/core/Shaders/ShadersInclude/fogVertex.js"),"gridVertexShader"),d="precision highp float;\n\nattribute vec3 position;\nattribute vec3 normal;\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#include<instancesDeclaration>\n\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\n#include<fogVertexDeclaration>\n#ifdef OPACITY\nvarying vec2 vOpacityUV;\nuniform mat4 opacityMatrix;\nuniform vec2 vOpacityInfos;\n#endif\nvoid main(void) {\n#include<instancesVertex>\nvec4 worldPos=finalWorld*vec4(position,1.0);\n#include<fogVertex>\nvec4 cameraSpacePosition=view*worldPos;\ngl_Position=projection*cameraSpacePosition;\n#ifdef OPACITY\n#ifndef UV1\nvec2 uv=vec2(0.,0.);\n#endif\n#ifndef UV2\nvec2 uv2=vec2(0.,0.);\n#endif\nif (vOpacityInfos.x == 0.)\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv,1.0,0.0));\n}\nelse\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\nvPosition=position;\nvNormal=normal;\n}";c["Effect"].ShadersStore[l]=d;var h={name:l,shader:d}},"./node_modules/@babylonjs/materials/grid/gridMaterial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"GridMaterial",(function(){return G}));var c=u("./node_modules/tslib/tslib.es6.js"),l=u("./node_modules/@babylonjs/core/Misc/decorators.js"),d=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),h=u("./node_modules/@babylonjs/core/Maths/math.color.js"),p=u("./node_modules/@babylonjs/core/Materials/materialDefines.js"),m=u("./node_modules/@babylonjs/core/Materials/materialHelper.js"),_=u("./node_modules/@babylonjs/core/Materials/pushMaterial.js"),g=u("./node_modules/@babylonjs/core/Materials/materialFlags.js"),b=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),v=u("./node_modules/@babylonjs/core/Misc/typeStore.js"),U=(u("./node_modules/@babylonjs/materials/grid/grid.fragment.js"),u("./node_modules/@babylonjs/materials/grid/grid.vertex.js"),function(t){function GridMaterialDefines(){var n=t.call(this)||this;return n.OPACITY=!1,n.TRANSPARENT=!1,n.FOG=!1,n.PREMULTIPLYALPHA=!1,n.UV1=!1,n.UV2=!1,n.INSTANCES=!1,n.THIN_INSTANCES=!1,n.IMAGEPROCESSINGPOSTPROCESS=!1,n.rebuild(),n}return Object(c["__extends"])(GridMaterialDefines,t),GridMaterialDefines}(p["MaterialDefines"])),G=function(t){function GridMaterial(n,u){var c=t.call(this,n,u)||this;return c.mainColor=h["Color3"].Black(),c.lineColor=h["Color3"].Teal(),c.gridRatio=1,c.gridOffset=d["Vector3"].Zero(),c.majorUnitFrequency=10,c.minorUnitVisibility=.33,c.opacity=1,c.preMultiplyAlpha=!1,c._gridControl=new d["Vector4"](c.gridRatio,c.majorUnitFrequency,c.minorUnitVisibility,c.opacity),c}return Object(c["__extends"])(GridMaterial,t),GridMaterial.prototype.needAlphaBlending=function(){return this.opacity<1||this._opacityTexture&&this._opacityTexture.isReady()},GridMaterial.prototype.needAlphaBlendingForMesh=function(t){return this.needAlphaBlending()},GridMaterial.prototype.isReadyForSubMesh=function(t,n,u){if(this.isFrozen&&n.effect&&n.effect._wasPreviouslyReady)return!0;n._materialDefines||(n._materialDefines=new U);var c=n._materialDefines,l=this.getScene();if(this._isReadyForSubMesh(n))return!0;if(c.TRANSPARENT!==this.opacity<1&&(c.TRANSPARENT=!c.TRANSPARENT,c.markAsUnprocessed()),c.PREMULTIPLYALPHA!=this.preMultiplyAlpha&&(c.PREMULTIPLYALPHA=!c.PREMULTIPLYALPHA,c.markAsUnprocessed()),c._areTexturesDirty&&(c._needUVs=!1,l.texturesEnabled&&this._opacityTexture&&g["MaterialFlags"].OpacityTextureEnabled)){if(!this._opacityTexture.isReady())return!1;c._needUVs=!0,c.OPACITY=!0}if(m["MaterialHelper"].PrepareDefinesForMisc(t,l,!1,!1,this.fogEnabled,!1,c),m["MaterialHelper"].PrepareDefinesForFrameBoundValues(l,l.getEngine(),c,!!u),c.isDirty){c.markAsProcessed(),l.resetCachedMaterial(),m["MaterialHelper"].PrepareDefinesForAttributes(t,c,!1,!1);var d=[b["VertexBuffer"].PositionKind,b["VertexBuffer"].NormalKind];c.UV1&&d.push(b["VertexBuffer"].UVKind),c.UV2&&d.push(b["VertexBuffer"].UV2Kind),c.IMAGEPROCESSINGPOSTPROCESS=l.imageProcessingConfiguration.applyByPostProcess,m["MaterialHelper"].PrepareAttributesForInstances(d,c);var h=c.toString();n.setEffect(l.getEngine().createEffect("grid",d,["projection","mainColor","lineColor","gridControl","gridOffset","vFogInfos","vFogColor","world","view","opacityMatrix","vOpacityInfos"],["opacitySampler"],h,void 0,this.onCompiled,this.onError),c)}return!(!n.effect||!n.effect.isReady())&&(c._renderId=l.getRenderId(),n.effect._wasPreviouslyReady=!0,!0)},GridMaterial.prototype.bindForSubMesh=function(t,n,u){var c=this.getScene(),l=u._materialDefines;if(l){var d=u.effect;d&&(this._activeEffect=d,l.INSTANCES&&!l.THIN_INSTANCE||this.bindOnlyWorldMatrix(t),this._activeEffect.setMatrix("view",c.getViewMatrix()),this._activeEffect.setMatrix("projection",c.getProjectionMatrix()),this._mustRebind(c,d)&&(this._activeEffect.setColor3("mainColor",this.mainColor),this._activeEffect.setColor3("lineColor",this.lineColor),this._activeEffect.setVector3("gridOffset",this.gridOffset),this._gridControl.x=this.gridRatio,this._gridControl.y=Math.round(this.majorUnitFrequency),this._gridControl.z=this.minorUnitVisibility,this._gridControl.w=this.opacity,this._activeEffect.setVector4("gridControl",this._gridControl),this._opacityTexture&&g["MaterialFlags"].OpacityTextureEnabled&&(this._activeEffect.setTexture("opacitySampler",this._opacityTexture),this._activeEffect.setFloat2("vOpacityInfos",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),this._activeEffect.setMatrix("opacityMatrix",this._opacityTexture.getTextureMatrix()))),m["MaterialHelper"].BindFogParameters(c,n,this._activeEffect),this._afterBind(n,this._activeEffect))}},GridMaterial.prototype.dispose=function(n){t.prototype.dispose.call(this,n)},GridMaterial.prototype.clone=function(t){var n=this;return l["SerializationHelper"].Clone((function(){return new GridMaterial(t,n.getScene())}),this)},GridMaterial.prototype.serialize=function(){var t=l["SerializationHelper"].Serialize(this);return t.customType="BABYLON.GridMaterial",t},GridMaterial.prototype.getClassName=function(){return"GridMaterial"},GridMaterial.Parse=function(t,n,u){return l["SerializationHelper"].Parse((function(){return new GridMaterial(t.name,n)}),t,n,u)},Object(c["__decorate"])([Object(l["serializeAsColor3"])()],GridMaterial.prototype,"mainColor",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])()],GridMaterial.prototype,"lineColor",void 0),Object(c["__decorate"])([Object(l["serialize"])()],GridMaterial.prototype,"gridRatio",void 0),Object(c["__decorate"])([Object(l["serializeAsColor3"])()],GridMaterial.prototype,"gridOffset",void 0),Object(c["__decorate"])([Object(l["serialize"])()],GridMaterial.prototype,"majorUnitFrequency",void 0),Object(c["__decorate"])([Object(l["serialize"])()],GridMaterial.prototype,"minorUnitVisibility",void 0),Object(c["__decorate"])([Object(l["serialize"])()],GridMaterial.prototype,"opacity",void 0),Object(c["__decorate"])([Object(l["serialize"])()],GridMaterial.prototype,"preMultiplyAlpha",void 0),Object(c["__decorate"])([Object(l["serializeAsTexture"])("opacityTexture")],GridMaterial.prototype,"_opacityTexture",void 0),Object(c["__decorate"])([Object(l["expandToProperty"])("_markAllSubMeshesAsTexturesDirty")],GridMaterial.prototype,"opacityTexture",void 0),GridMaterial}(_["PushMaterial"]);v["_TypeStore"].RegisteredTypes["BABYLON.GridMaterial"]=G},"./node_modules/@sindarius/gcodeviewer/dist/sindarius-gcodeviewer.es.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Axes",(function(){return Se})),u.d(n,"BuildObjects",(function(){return Te})),u.d(n,"ColorMode",(function(){return be})),u.d(n,"RenderMode",(function(){return ge})),u.d(n,"Tool",(function(){return ee})),u.d(n,"ToolType",(function(){return te})),u.d(n,"default",(function(){return Ce}));var c=u("./node_modules/@babylonjs/core/Engines/engine.js"),l=u("./node_modules/@babylonjs/core/scene.js"),d=u("./node_modules/@babylonjs/core/Maths/math.plane.js"),h=u("./node_modules/@babylonjs/core/Maths/math.color.js"),p=u("./node_modules/@babylonjs/core/Maths/math.vector.js"),m=u("./node_modules/@babylonjs/core/Maths/math.axis.js"),_=u("./node_modules/@babylonjs/core/Meshes/meshBuilder.js"),g=u("./node_modules/@babylonjs/core/Meshes/transformNode.js"),b=(u("./node_modules/@babylonjs/core/Rendering/edgesRenderer.js"),u("./node_modules/@babylonjs/core/Cameras/arcRotateCamera.js")),v=u("./node_modules/@babylonjs/core/Lights/pointLight.js"),U=u("./node_modules/@babylonjs/core/Particles/pointsCloudSystem.js"),G=u("./node_modules/@babylonjs/core/Meshes/mesh.js"),W=(u("./node_modules/@babylonjs/core/Meshes/thinInstanceMesh.js"),u("./node_modules/@babylonjs/core/Materials/standardMaterial.js")),X=u("./node_modules/@babylonjs/core/Meshes/buffer.js"),q=u("./node_modules/@babylonjs/core/Layers/highlightLayer.js"),K=u("./node_modules/@babylonjs/materials/grid/gridMaterial.js"),Y=u("./node_modules/d3/src/index.js"),Q=u("./node_modules/@babylonjs/core/Materials/Textures/texture.js"),Z=u("./node_modules/@babylonjs/core/Events/pointerEvents.js"),$=u("./node_modules/@babylonjs/core/Materials/Textures/dynamicTexture.js");function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t=>typeof t:t=>t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t,k(t)}function A(t,n,u,c,l,d,h){try{var p=t[d](h),m=p.value}catch(t){return void u(t)}p.done?n(m):Promise.resolve(m).then(c,l)}function P(t){return function(){var n=this,u=arguments;return new Promise((c,l)=>{var d=t.apply(n,u);function o(t){A(d,c,l,o,a,"next",t)}function a(t){A(d,c,l,o,a,"throw",t)}o(void 0)})}}function S(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function F(t,n){for(var u=0;u<n.length;u++){var c=n[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function I(t,n,u){return n&&F(t.prototype,n),u&&F(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),n&&L(t,n)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function L(t,n){return L=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},L(t,n)}function B(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function O(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],()=>{})),!0}catch(t){return!1}}();return function(){var u,c=T(t);if(n){var l=T(this).constructor;u=Reflect.construct(c,arguments,l)}else u=c.apply(this,arguments);return B(this,u)}}function E(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var u=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=u){var c,l,d=[],h=!0,p=!1;try{for(u=u.call(t);!(h=(c=u.next()).done)&&(d.push(c.value),!n||d.length!==n);h=!0);}catch(t){p=!0,l=t}finally{try{h||null==u.return||u.return()}finally{if(p)throw l}}return d}}(t,n)||H(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,n){if(t){if("string"==typeof t)return j(t,n);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?j(t,n):void 0}}function j(t,n){(null==n||n>t.length)&&(n=t.length);for(var u=0,c=new Array(n);u<n;u++)c[u]=t[u];return c}function z(t,n,u){var c=Number(t.substring(1)),l=c||0;return u?l+n:l}function N(t,n,u,c){for(var l=n.x,d=n.z,h=n.y,p=l,m=d,_=h,g=0,b=0,v=0,U=t.some(t=>t.includes("G2")),G=0;G<t.length;G++){var W=t[G];switch(W[0]){case"X":p=z(W,p,u);break;case"Y":m=z(W,m,u);break;case"Z":_=z(W,_,u);break;case"I":g=z(W,g,!1);break;case"J":b=z(W,b,!1);break;case"R":v=z(W,v,!1)}}if(v){var X=p-l,q=m-d,K=Math.pow(X,2)+Math.pow(q,2),Y=Math.pow(v,2)-K/4;if(0==K||Y<0)return{position:{x:p,y:_,z:m},points:[]};var Q=Math.sqrt(Y/K);(U&&v<0||!U&&v>0)&&(Q=-Q),g=X/2+q*Q,b=q/2-X*Q}else if(0==g&&0==b)return{position:{x:p,y:m,z:_},points:[]};var Z,$=l==g&&d==m,J=l+g,ee=d+b,te=Math.sqrt(g*g+b*b),re=Math.atan2(-b,-g),ne=Math.atan2(m-ee,p-J);$?Z=2*Math.PI:(Z=U?re-ne:ne-re)<0&&(Z+=2*Math.PI);var ie=te*Z/c+.8;ie<1&&(ie=1);var oe=Z/ie;oe*=U?-1:1;for(var se=new Array,ae=(h-_)/ie,ue=l,ce=d,le=h,de=re,he=0;he<ie-1;he++)de+=oe,ue=J+te*Math.cos(de),ce=ee+te*Math.sin(de),le+=ae,se.push({x:ue,y:le,z:ce});return se.push({x:p,y:_,z:m}),{position:{x:p,y:_,z:m},points:se}}function V(){return new Promise(t=>setTimeout(t)).then(()=>Date.now())}var J=function(){function e(){S(this,e),this.tool=0,this.start,this.end,this.extruding=!1,this.gcodeLineNumber=0,this.color,this.feedRate=0,this.layerHeight=0}return I(e,[{key:"length",value:function(){return this.distanceVector(this.start,this.end)}},{key:"renderLine",value:function(t){var n=[this.start,this.end],u=G["Mesh"].CreateLines("lines",n,t);u.enableEdgesRendering(),u.edgesWidth=10,u.edgesColor=new h["Color4"](1,1,0,1)}},{key:"renderLineV2",value:function(){var t=_["MeshBuilder"].CreateTube("tube",{path:[this.start,this.end],radius:.2,tesselation:4,sideOrientation:G["Mesh"].FRONTSIDE,updatable:!1});return t.doNotSyncBoundingInfo=!0,t}},{key:"distanceVector",value:function(t,n){var u=t.x-n.x,c=t.y-n.y,l=t.z-n.z;return Math.sqrt(u*u+c*c+l*l)}},{key:"renderLineV3",value:function(t,n){var u=this.distanceVector(this.start,this.end),c=Math.atan2(this.end.z-this.start.z,this.end.x-this.start.x);t.scaling.x=u,t.scaling.y=this.layerHeight,t.scaling.z=2*this.layerHeight,t.rotation.y=-c,t.position.x=this.start.x+u/2*Math.cos(c),t.position.y=this.start.y,t.position.z=this.start.z+u/2*Math.sin(c),t.color=this.color,t.materialIndex=n?1:0,t.props={gcodeLineNumber:this.gcodeLineNumber,originalColor:this.color}}},{key:"renderLinev4",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===this.layerHeight&&(this.layerHeight=this.start.y);var u={},c=this.distanceVector(this.start,this.end),l=Math.atan2(this.end.z-this.start.z,this.end.x-this.start.x),d=c+n;return u.matrix=p["Matrix"].Compose(new p["Vector3"](d,this.layerHeight,t),p["Quaternion"].FromEulerAngles(0,-l,0),new p["Vector3"](this.start.x+d/2*Math.cos(l),this.start.y,this.start.z+d/2*Math.sin(l))),u.color=this.color,u.props={gcodeLineNumber:this.gcodeLineNumber,originalColor:this.color},u}},{key:"renderParticle",value:function(t){t.position.x=this.start.x,t.position.y=this.start.y,t.position.z=this.start.z,t.color=this.color}},{key:"getPoints",value:function(){return{points:[this.start,this.end],colors:[this.color,this.color]}}},{key:"getColor",value:function(){return this.extruding?new h["Color4"](1,1,1,1):new h["Color4"](1,0,0,1)}},{key:"getVoxelSegments",value:function(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3?arguments[3]:void 0,l=new Array,d=this.distanceVector(this.start,this.end);if(!(d<.1)){var h=Math.round(100*(d/(t/2)-1))/100,m=Math.atan2(this.end.z-this.start.z,this.end.x-this.start.x);c&&(this.start.y-=t/2,this.end.y-=t/2);var _=this.start.clone(),g=0;l.push(_.clone());var b=t/2*Math.cos(m),v=t/2*Math.sin(m),U=0;for(0!==h&&(U=(this.end.y-this.start.y)/h);g<h;){if(_.x+=b,_.y+=U,_.z+=v,l.push(_.clone()),u>t)for(var G=_.x-u;G<=_.x+u;G+=t)for(var W=_.z-u;W<_.z+u;W+=t)l.push(new p["Vector3"](G,_.y,W));g++}if(l.push(this.end.clone()),this.layerHeight>n&&c){for(var X=[],q=0;q<l.length;q++)for(var K=l[q],Y=1;Y<Math.ceil(this.layerHeight/n);Y++)X.push(new p["Vector3"](K.x,K.y-Y*n,K.z));l.push.apply(l,X)}return l}}}]),e}(),ee=function(){function e(){S(this,e),this.name="",this.color=new h["Color4"](0,0,1,1),this.diameter=.4,this.toolType=te.Extruder}return I(e,[{key:"colorString",get:function(){return this.color.toHexString()},set:function(t){this.color=h["Color4"].FromHexString(t+"FF")}},{key:"isAdditive",value:function(){return this.toolType===te.Extruder}},{key:"getDiameter",value:function(){return this.diameter}},{key:"toJson",value:function(){return JSON.stringify(this)}}],[{key:"fromJson",value:function(t){var n;n="object"===k(t)?t:JSON.parse(t);var u=new e;return u.name=n.name,u.color=new h["Color4"](n.color.r,n.color.g,n.color.b,n.color.a),u.diameter=parseFloat(n.diameter),u.toolType=n.toolType,u}}]),e}(),te={Extruder:"Extruder",Endmill:"Endmill"};new Array;var re,ne,ie,oe=function(){function e(t,n,u,c,l){S(this,e),this.scene=t,this.specularColor=n,this.loadingProgressCallback=u,this.renderFuncs=c,this.solidMat,this.transparentMat,this.previousFilePosition=0,this.currentFilePosition=0,this.tools=l,this.scrubDistance=3e4,this.progressColor=new h["Color4"](0,1,0,1),this.isLoading=!0,this.vertexAlpha=!1,this.forceRedraw=!1,this.material=null}return I(e,[{key:"updateFilePosition",value:function(t){this.previousFilePosition=this.currentFilePosition,this.currentFilePosition=t}},{key:"updateLiveTrackingShowSolid",value:function(t){this.liveTrackingShowSolid=t}}]),e}(),se=function(t){R(r,oe);var n=O(r);function r(t,u,c,l,d,m){var _;return S(this,r),(_=n.call(this,t,u,c,l,d)).meshIndex=null!=m?m:0,_.lostInSpace=p["Matrix"].Identity().setTranslation(new p["Vector3"](1e4,1e4,1e4)),_.additiveColor=new h["Color4"](0,1,0,.8),_}return I(r,[{key:"buildBox",value:function(){if(this.solidMat)try{this.solidMat.dispose(),this.solidMat=null}catch(t){console.warn("nothing to dispose")}if(this.transparentMat)try{this.transparentMat.dispose(),this.transparentMat=null}catch(t){console.warn("nothing to dispose")}var t=_["MeshBuilder"].CreateBox("box",{width:1,height:1,depth:1,sideOrientation:G["Mesh"].FRONTSIDE},this.scene);return this.material=new W["StandardMaterial"]("mat",this.scene),this.material.specularColor=this.specularColor,t.material=this.material,this.vertexAlpha&&(t.hasVertexAlpha=!0,t.material.forceDepthWrite=!0,t.material.alpha=.99),t}},{key:"render",value:function(t){for(var n=this,u=new Array,c=new Array,l=this.vertexAlpha?.05:0,d=0;d<t.length;d++){var h=t[d],p=this.tools[h.tool];if(h.extruding){var m=h.renderLinev4(p.getDiameter(),.1),_={};_.matrix=m.matrix,_.color=m.color,u.push(_),c.push(m.props.gcodeLineNumber)}}for(var g=new Float32Array(16*u.length),b=new Float32Array(4*u.length),v=new Array,U=0;U<u.length;U++){var G=u[U];G.matrix.copyToArray(g,16*U),G.color.toArray(b,4*U),b[4*U+3]=l,v.push(!1)}var W=this.buildBox();W.thinInstanceSetBuffer("matrix",g,16),W.thinInstanceSetBuffer("color",b,4),W.thinInstanceRefreshBoundingInfo(),W.alphaIndex=this.meshIndex,W.renderingGroupId=2;var f=function(){for(var t=Y,d=Y,h=0;h<u.length;h++){var p=4*h;Y?c[h]<n.currentFilePosition?(u[h].color.toArray(b,p),u[h].matrix.copyToArray(g,16*h),b[p+3]=1,v[h]=!0):(0==l?n.lostInSpace.copyToArray(g,16*h):u[h].matrix.copyToArray(g,16*h),b[p+3]=l,v[h]=!1):v[h]||(c[h]<n.currentFilePosition&&b[p+3]<.5?(n.progressColor.toArray(b,p),b[p+3]=.9,t=!0,u[h].matrix.copyToArray(g,16*h),d=!0):(b[p+3]>.5&&b[p+3]<1&&(b[p+3]+=.02),b[p+3]>=1&&!v[h]&&(u[h].color.toArray(b,p),b[p+3]=1,v[h]=!0,t=!0)))}t&&W.thinInstanceBufferUpdated("color"),d&&(W.thinInstanceBufferUpdated("matrix"),W.thinInstanceRefreshBoundingInfo())};if(0!=t.length){var X=t[0].gcodeLineNumber,q=t.slice(-1)[0].gcodeLineNumber,K=0,Y=!1,Q=Date.now(),C=function(){if(!(n.isLoading||Date.now()-Q<200)){if(Q=Date.now(),Math.abs(K-n.currentFilePosition)>n.scrubDistance||n.forceRedraw){Y=!0,n.forceRedraw=!1,K=0;for(var t=0;t<v.length;t++)v[t]=!1;f()}else n.currentFilePosition>=X-3e4&&n.currentFilePosition<=q+3e4&&(Y=!1,f());K=n.currentFilePosition}};this.renderFuncs.push(C),this.scene.registerBeforeRender(C)}}}]),r}(),ae=function(t){R(r,oe);var n=O(r);function r(t,u,c,l,d,m){var _;return S(this,r),(_=n.call(this,t,u,c,l,d)).meshIndex=null!=m?m:0,_.lostInSpace=p["Matrix"].Identity().setTranslation(new p["Vector3"](1e4,1e4,1e4)),_.additiveColor=new h["Color4"](0,1,0,.8),_}return I(r,[{key:"buildCylinder",value:function(){if(this.solidMat)try{this.solidMat.dispose(),this.solidMat=null}catch(t){console.warn("nothing to dispose")}if(this.transparentMat)try{this.transparentMat.dispose(),this.transparentMat=null}catch(t){console.warn("nothing to dispose")}var t=_["MeshBuilder"].CreateCylinder("box",{height:1,diameter:1});return t.locallyTranslate(new p["Vector3"](0,0,0)),t.rotate(new p["Vector3"](0,0,1),Math.PI/2,m["Space"].WORLD),t.bakeCurrentTransformIntoVertices(),this.material=new W["StandardMaterial"]("mat",this.scene),this.material.specularColor=this.specularColor,t.material=this.material,this.vertexAlpha&&(t.hasVertexAlpha=!0,t.material.forceDepthWrite=!0,t.material.alpha=.99),t}},{key:"render",value:function(t){for(var n=this,u=new Array,c=new Array,l=this.vertexAlpha?.05:0,d=0;d<t.length;d++){var h=t[d],p=this.tools[h.tool];if(h.extruding){var m=h.renderLinev4(p.getDiameter(),.1),_={};_.matrix=m.matrix,_.color=m.color,u.push(_),c.push(m.props.gcodeLineNumber)}}for(var g=new Float32Array(16*u.length),b=new Float32Array(4*u.length),v=new Array,U=0;U<u.length;U++){var G=u[U];G.matrix.copyToArray(g,16*U),G.color.toArray(b,4*U),b[4*U+3]=l,v.push(!1)}var W=this.buildCylinder();W.thinInstanceSetBuffer("matrix",g,16),W.thinInstanceSetBuffer("color",b,4),W.thinInstanceRefreshBoundingInfo(),W.alphaIndex=this.meshIndex,W.renderingGroupId=2;var f=function(){for(var t=Y,d=Y,h=0;h<u.length;h++){var p=4*h;Y?c[h]<n.currentFilePosition?(u[h].color.toArray(b,p),u[h].matrix.copyToArray(g,16*h),b[p+3]=1,v[h]=!0):(0==l?n.lostInSpace.copyToArray(g,16*h):u[h].matrix.copyToArray(g,16*h),b[p+3]=l,v[h]=!1):v[h]||(c[h]<n.currentFilePosition&&b[p+3]<.5?(n.progressColor.toArray(b,p),b[p+3]=.9,t=!0,u[h].matrix.copyToArray(g,16*h),d=!0):(b[p+3]>.5&&b[p+3]<1&&(b[p+3]+=.02),b[p+3]>=1&&!v[h]&&(u[h].color.toArray(b,p),b[p+3]=1,v[h]=!0,t=!0)))}t&&W.thinInstanceBufferUpdated("color"),d&&(W.thinInstanceBufferUpdated("matrix"),W.thinInstanceRefreshBoundingInfo())};if(0!=t.length){var X=t[0].gcodeLineNumber,q=t.slice(-1)[0].gcodeLineNumber,K=0,Y=!1,Q=Date.now(),C=function(){if(!(n.isLoading||Date.now()-Q<200)){if(Q=Date.now(),Math.abs(K-n.currentFilePosition)>n.scrubDistance||n.forceRedraw){Y=!0,n.forceRedraw=!1,K=0;for(var t=0;t<v.length;t++)v[t]=!1;f()}else n.currentFilePosition>=X-3e4&&n.currentFilePosition<=q+3e4&&(Y=!1,f());K=n.currentFilePosition}};this.renderFuncs.push(C),this.scene.registerBeforeRender(C)}}}]),r}(),ue=I((function e(t,n){S(this,e),this.filePosition=t,this.add=n,this.complete=!1})),ce=function(t){R(s,oe);var n,u=O(s);function s(t,n,c,l,d,m,_){var g;return S(this,s),(g=u.call(this,t,n,c,l,d)).voxelWidth=parseFloat(m),g.voxelHeight=parseFloat(_),g.solidMat,g.transparentMat,g.hasSubtractive=!1,g.lostInSpace=p["Matrix"].Identity().setTranslation(new p["Vector3"](1e4,1e4,1e4)),g.clearColor=new h["Color4"](1,0,0,0),g.additiveColor=new h["Color4"](0,1,0,.8),g.subtractiveColor=new h["Color4"](1,0,0,.8),g}return I(s,[{key:"buildBox",value:function(){if(this.solidMat)try{this.solidMat.dispose(),this.solidMat=null}catch(t){}if(this.transparentMat)try{this.transparentMat.dispose(),this.transparentMat=null}catch(t){}var t=_["MeshBuilder"].CreateBox("box",{width:this.voxelWidth,height:this.voxelHeight,depth:this.voxelWidth},this.scene);return t.hasVertexAlpha=!0,t.updateFacetData=!0,this.material=new W["StandardMaterial"]("mat",this.scene),this.material.needDepthPrePass=!0,this.material.forceDepthWrite=!0,this.material.backFaceCulling=!1,t.material=this.material,t}},{key:"render",value:(n=P(regeneratorRuntime.mark((function e(t){var n,u,c,l,d,h,m,_,g,b,v,U,G,W,X,q,K,Y,Q,Z,$,J=this;return regeneratorRuntime.wrap((function(ee){for(;;)switch(ee.prev=ee.next){case 0:for(this.isLoading=!0,n=parseInt(300/this.voxelWidth)+1,u=n,c=parseInt(300/this.voxelHeight)+1,l=new Array(u),d=0;d<=c;d++)l[d]=new Object;h=0,m=new Date,_=0;case 10:if(!(_<t.length)){ee.next=60;break}if(g=t[_],b=this.tools[g.tool],g.extruding){ee.next=15;break}return ee.abrupt("continue",57);case 15:if(void 0!==(v=g.getVoxelSegments(this.voxelWidth,this.voxelHeight,b.getDiameter()/2,b.isAdditive()))&&0!==v.length){ee.next=18;break}return ee.abrupt("continue",57);case 18:U=new ue(g.gcodeLineNumber,b.isAdditive()),G=0;case 20:if(!(G<v.length)){ee.next=51;break}if(W=v[G],X=Math.floor(W.x/this.voxelWidth),q=Math.floor(W.y/this.voxelHeight),K=Math.floor(W.z/this.voxelWidth),q<0&&(q=0),q!=h&&b.isAdditive()&&(h=q),"Extruder"!==b.toolType){ee.next=32;break}try{Y=l[q][X][K]}catch(ee){Y=null}if(Y)Y.voxelEvents.push(U);else try{l[q].hasOwnProperty(X)||(l[q][X]={}),l[q][X][K]={color:g.color,voxelEvents:[U]}}catch(ee){console.log(ee),console.log("".concat(X,"  ").concat(q," ").concat(K))}ee.next=48;break;case 32:this.hasSubtractive=!0,Q=q;case 34:if(!(Q<=h+1)){ee.next=48;break}ee.prev=35,l[Q][X][K]?l[Q][X][K].voxelEvents.push(U):(l[Q].hasOwnProperty(X)||(l[Q][X]={}),l[Q][X][K]={color:g.color,voxelEvents:[U]}),ee.next=45;break;case 39:if(ee.prev=39,ee.t0=ee.catch(35),!(Q<0)){ee.next=43;break}return ee.abrupt("continue",45);case 43:l[Q].hasOwnProperty(X)||(l[Q][X]={}),l[Q][X][K]={color:g.color,voxelEvents:[U]};case 45:Q++,ee.next=34;break;case 48:G++,ee.next=20;break;case 51:if(t[_]=null,!(_%1e4==0||new Date-m>5e3)){ee.next=57;break}return m=new Date,this.loadingProgressCallback(_/t.length,"Generating Voxel Map..."),ee.next=57,V();case 57:_++,ee.next=10;break;case 60:this.loadingProgressCallback(_/t.length,"Rendering Voxel..."),Z=regeneratorRuntime.mark((function e(t){var n,u,c,d,_,g,b,v,U,G,W,X,q,K,Y,Q,Z,$,ee,te,re,ne,ie,oe,se,ae,ue,ce,le;return regeneratorRuntime.wrap(de=>{for(;;)switch(de.prev=de.next){case 0:if(n=[],void 0!==l[t]){de.next=3;break}return de.abrupt("return","continue");case 3:for(u=999999999999,c=-999999999999,d=[],_=0,g=Object.entries(l[t]);_<g.length;_++)for(b=E(g[_],2),v=b[0],U=b[1],G=0,W=Object.entries(U);G<W.length;G++)q=E(W[G],2),K=q[0],(Y=q[1]).voxelEvents[0].filePosition<u&&(u=Y.voxelEvents[0].filePosition),Y.voxelEvents.slice()[0].filePosition>c&&(c=Y.voxelEvents[0].filePosition),(X=d).push.apply(X,D(Y.voxelEvents.map(t=>t.filePosition))),Y.color.a=1,(Q={matrix:p["Matrix"].Identity(),color:Y.color.clone(),voxelEvents:Y.voxelEvents,lastDrawnCount:0}).matrix.setTranslation(new p["Vector3"](v*J.voxelWidth,t*J.voxelHeight,K*J.voxelWidth)),n.push(Q);for(Z=0,d=d.sort((t,n)=>t-n),d=D(new Set(d)),n.length,l[t]=null,($=J.buildBox()).alphaIndex=t,$.renderingGroupId=1,ee=new Float32Array(16*n.length),te=new Float32Array(4*n.length),re=0;re<n.length;re++){ne=n[re];try{ne&&(ne.matrix.copyToArray(ee,16*re),ne.color.toArray(te,4*re),J.hasSubtractive||delete ne.matrix)}catch(de){console.log(de)}}if($.thinInstanceSetBuffer("matrix",ee,16),$.thinInstanceSetBuffer("color",te,4),$.thinInstanceRefreshBoundingInfo(),ie=()=>{for(var t=!1,u=!1,c=0;c<n.length;c++){var l=n[c];ae&&(J.clearColor.toArray(te,4*c),J.hasSubtractive&&J.lostInSpace.copyToArray(ee,16*c));var d=l.voxelEvents.filter(t=>t.filePosition<J.currentFilePosition).slice(-1)[0];null!=d&&(d.add?(d.filePosition>oe&&d.filePosition<=J.currentFilePosition&&(l.lastDrawnCount=0,J.hasSubtractive&&l.matrix.copyToArray(ee,16*c)),ae&&(l.lastDrawnCount=s.drawDelay),l.lastDrawnCount<s.drawDelay?(J.additiveColor.toArray(te,4*c),l.lastDrawnCount++):(l.color.toArray(te,4*c),J.hasSubtractive&&l.matrix.copyToArray(ee,16*c))):(d.filePosition>=oe&&d.filePosition<=J.currentFilePosition&&(l.lastDrawnCount=0),ae&&(l.lastDrawnCount=s.drawDelay),l.lastDrawnCount<s.drawDelay?(J.subtractiveColor.toArray(te,4*c),l.lastDrawnCount++):(t=!0,J.clearColor.toArray(te,4*c),J.hasSubtractive&&J.lostInSpace.copyToArray(ee,16*c),u=!0)))}$.thinInstanceBufferUpdated("color"),t&&$.thinInstanceRefreshBoundingInfo(),u&&($.thinInstanceRefreshBoundingInfo(),$.thinInstanceBufferUpdated("matrix"))},oe=0,se=!0,ae=!1,ue=Number.MAX_VALUE,ce=Date.now(),le=()=>{if(!(J.isLoading||Date.now()-ce<200)){if(ce=Date.now(),Math.abs(oe-J.currentFilePosition)>J.scrubDistance||se||J.forceRedraw){Z=0,ae=!0,J.forceRedraw=!1;for(var t=0;t<n.length;t++)n[t].voxelEvents.forEach(t=>t.complete=!1);ie(),se=!1}else if(Z<d.length-1&&d[Z]<J.currentFilePosition){ae=!1,ue=0,ie();for(var u=Z;u<d.length&&(Z=u,!(d[u]>J.currentFilePosition));u++);}else ue<10&&(ue++,ie());oe=J.currentFilePosition}},J.loadingProgressCallback&&J.loadingProgressCallback(t/h,"Rendering Voxels..."),J.renderFuncs.push(le),J.scene.registerBeforeRender(le),!(new Date-m>1e3)){de.next=36;break}return m=new Date,de.next=36,V();case 36:case"end":return de.stop()}},e)})),$=0;case 64:if(!($<h)){ee.next=72;break}return ee.delegateYield(Z($),"t1",66);case 66:if("continue"!==ee.t1){ee.next=69;break}return ee.abrupt("continue",69);case 69:$++,ee.next=64;break;case 72:this.isLoading=!1,this.loadingProgressCallback(1),l=null;case 75:case"end":return ee.stop()}}),e,this,[[35,39]])}))),function(t){return n.apply(this,arguments)})}]),s}();ie=5,(ne="drawDelay")in(re=ce)?Object.defineProperty(re,ne,{value:ie,enumerable:!0,configurable:!0,writable:!0}):re[ne]=ie;var le=function(t){R(r,oe);var n=O(r);function r(t,u,c,l,d,p){var m;return S(this,r),(m=n.call(this,t,u,c,l,d)).meshIndex=null!=p?p:0,m.additiveColor=new h["Color4"](0,1,0,.8),m.travels=!1,m}return I(r,[{key:"render",value:function(t){var n=this,u=new Array;this.renderMode="Line Rendering";for(var c=[],l=[],d=[],h=[],p=this.vertexAlpha?.25:0,m=0;m<t.length;m++){var g=t[m],b=this.tools[g.tool];u.push(g.gcodeLineNumber);var v=g.getPoints(this.scene);c.push(v.points),l.push(v.colors),d.push(b.isAdditive()&&!this.travels),h.push(!1)}var U=_["MeshBuilder"].CreateLineSystem(this.travels?"travels":"lineMesh",{lines:c,colors:l,updatable:!0},this.scene);c=null,U.isVisible=!0,U.isPickable=!1,U.markVerticesDataAsUpdatable(X["VertexBuffer"].ColorKind),this.material=new W["StandardMaterial"]("m",this.scene),U.material=this.material,U.material.backFaceCulling=!1,U.material.forceDepthWrite=!0,U.material.specularColor=this.specularColor,U.alphaIndex=this.meshIndex,U.renderingGroupId=2;var G=u[0],q=u.slice(-1)[0],K=0,Y=!1,Q=0,w=function(){var t=U.getVerticesData(X["VertexBuffer"].ColorKind);if(t){var c=-1,m=-1;if(Y){for(var _=0;_<u.length;_++){var g=8*_;n.travels?(t[g+3]=0,t[g+7]=0,h[_]=u[_]<n.currentFilePosition):u[_]<n.currentFilePosition?(l[_][0].toArray(t,g),l[_][1].toArray(t,g+4),t[g+3]=d[_]?1:0,t[g+7]=d[_]?1:0,h[_]=!0):(t[g+3]=d[_]?p:0,t[g+7]=d[_]?p:0,h[_]=!1)}Q=0,U.updateVerticesData(X["VertexBuffer"].ColorKind,t,!0)}for(var b=Q;b<u.length;b++)u[b]<=n.currentFilePosition&&(c=b),u[b]<=n.currentFilePosition+n.lookAheadLength&&(m=b);for(var v=h.findIndex(t=>0==t);v<c;v++){var G=8*v;if(d[v]){if(h[v])continue;t[G+3]<=.5?(t[G]=n.progressColor.r,t[G+1]=n.progressColor.g,t[G+2]=n.progressColor.b,t[G+3]=.9,t[G+4]=n.progressColor.r,t[G+5]=n.progressColor.g,t[G+6]=n.progressColor.b,t[G+7]=.9):t[G+3]<1?(t[G+3]+=.02,t[G+7]+=.02):t[G+3]>=1&&(t[G]=l[v][0].r,t[G+1]=l[v][0].g,t[G+2]=l[v][0].b,t[G+3]=1,t[G+4]=l[v][1].r,t[G+5]=l[v][1].g,t[G+6]=l[v][1].b,t[G+7]=1,h[v]=!0)}else{if(h[v])continue;0===t[G+3]?(t[G]=1,t[G+1]=0,t[G+2]=0,t[G+3]=.9,t[G+4]=1,t[G+5]=0,t[G+6]=0,t[G+7]=.9):t[G+3]<1?(t[G+3]+=.02,t[G+7]+=.02):(t[G+3]=1e-4,t[G+7]=1e-4,h[v]=!0)}Q=v}for(var W=c;W<m;W++){var q=8*W;t[q+3]=1,t[q+7]=1}U.updateVerticesData(X["VertexBuffer"].ColorKind,t,!0)}else console.log("Error")},Z=Date.now(),M=function(){if(!(n.isLoading||Date.now()-Z<200)){if(Z=Date.now(),Math.abs(K-n.currentFilePosition)>n.scrubDistance||n.forceRedraw){n.forceRedraw=!1,Y=!0;for(var t=0;t<h.length;t++)h[t]=!1;Q=0,K=0,w()}else n.currentFilePosition>=G-3e4&&n.currentFilePosition<=q+3e4&&(Y=!1,w());K=n.currentFilePosition}};this.renderFuncs.push(M),this.scene.registerBeforeRender(M)}}]),r}(),de=function(){function e(){S(this,e),this.feature=null,this.perimeter=!0,this.support=!1,this.missingFeatures=[]}return I(e,[{key:"isTypeComment",value:function(t){}},{key:"getFeatureColor",value:function(t){}},{key:"isPerimeter",value:function(){return this.perimeter}},{key:"isSupport",value:function(){return this.support}},{key:"reportMissingFeature",value:function(t){this.missingFeatures.includes(t)||(console.error("Missing feature ".concat(t)),this.missingFeatures.push(t))}}]),e}(),he=function(t){R(r,de);var n=O(r);function r(){var t;return S(this,r),(t=n.call(this)).featureList={Perimeter:{color:new h["Color4"](1,.9,.3,1),perimeter:!0,support:!1},"External perimeter":{color:new h["Color4"](1,.5,.2,1),perimeter:!0,support:!1},"Internal infill":{color:new h["Color4"](.59,.19,.16,1),perimeter:!1,support:!1},"Solid infill":{color:new h["Color4"](.59,.19,.8,1),perimeter:!0,support:!1},"Top solid infill":{color:new h["Color4"](.95,.25,.25,1),perimeter:!0,support:!1},"Bridge infill":{color:new h["Color4"](.3,.5,.73,1),perimeter:!1,support:!1},"Gap fill":{color:new h["Color4"](1,1,1,1),perimeter:!1,support:!1},Skirt:{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!1},"Skirt/Brim":{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!1},"Supported material":{color:new h["Color4"](0,1,0,1),perimeter:!1,support:!0},"Supported material interface":{color:new h["Color4"](0,.5,0,1),perimeter:!1,support:!0},Custom:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1},Unknown:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1},"Support material":{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!0},"Support material interface":{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!0},"Overhang perimeter":{color:new h["Color4"](.5,.5,.5,1),perimeter:!0,support:!1},"Wipe tower":{color:new h["Color4"](.5,.5,.5,1),perimeter:!0,support:!1}},t}return I(r,[{key:"isTypeComment",value:function(t){return!!t.trim().startsWith(";TYPE:")&&(this.feature=t.substring(6).trim(),!0)}},{key:"getFeatureColor",value:function(){if(Object.prototype.hasOwnProperty.call(this.featureList,this.feature))try{return this.featureList[this.feature].color}catch(t){this.reportMissingFeature(this.feature)}return this.featureList.Unknown.color}},{key:"isPerimeter",value:function(){try{return this.featureList[this.feature].perimeter}catch(t){return this.reportMissingFeature(this.feature),!0}}},{key:"isSupport",value:function(){try{return this.featureList[this.feature].support}catch(t){return this.reportMissingFeature(this.feature),!1}}}]),r}(),fe=function(t){R(r,de);var n=O(r);function r(){var t;return S(this,r),(t=n.call(this)).featureList={SKIN:{color:new h["Color4"](1,.9,.3,1),perimeter:!0,support:!1},"WALL-OUTER":{color:new h["Color4"](1,.5,.2,1),perimeter:!0,support:!1},"WALL-INNER":{color:new h["Color4"](.59,.19,.16,1),perimeter:!1,support:!1},FILL:{color:new h["Color4"](.95,.25,.25,1),perimeter:!1,support:!1},SKIRT:{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!1},SUPPORT:{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!0},CUSTOM:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1},UNKNOWN:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1}},t}return I(r,[{key:"isTypeComment",value:function(t){return!!t.trim().startsWith(";TYPE:")&&(this.feature=t.substring(6).trim(),!0)}},{key:"getFeatureColor",value:function(){if(Object.prototype.hasOwnProperty.call(this.featureList,this.feature))try{return this.featureList[this.feature].color}catch(t){this.reportMissingFeature(this.feature)}return this.featureList.UNKNOWN}},{key:"isPerimeter",value:function(){try{return this.featureList[this.feature].perimeter}catch(t){return this.reportMissingFeature(this.feature),!0}}},{key:"isSupport",value:function(){try{return this.featureList[this.feature].support}catch(t){return this.reportMissingFeature(this.feature),!1}}}]),r}(),pe=function(t){R(r,de);var n=O(r);function r(){var t;return S(this,r),(t=n.call(this)).featureList={Perimeter:{color:new h["Color4"](1,.9,.3,1),perimeter:!0,support:!1},"External perimeter":{color:new h["Color4"](1,.5,.2,1),perimeter:!0,support:!1},"Internal infill":{color:new h["Color4"](.59,.19,.16,1),perimeter:!1,support:!1},"Solid infill":{color:new h["Color4"](.59,.19,.8,1),perimeter:!0,support:!1},"Top solid infill":{color:new h["Color4"](.95,.25,.25,1),perimeter:!0,support:!1},"Bridge infill":{color:new h["Color4"](.3,.5,.73,1),perimeter:!1,support:!1},"Gap fill":{color:new h["Color4"](1,1,1,1),perimeter:!1,support:!1},Skirt:{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!1},"Skirt/Brim":{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!1},"Supported material":{color:new h["Color4"](0,1,0,1),perimeter:!1,support:!0},"Supported material interface":{color:new h["Color4"](0,.5,0,1),perimeter:!1,support:!0},Custom:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1},Unknown:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1},"Support material":{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!0},"Support material interface":{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!0},"Overhang perimeter":{color:new h["Color4"](.5,.5,.5,1),perimeter:!0,support:!1},"Wipe tower":{color:new h["Color4"](.5,.5,.5,1),perimeter:!0,support:!1}},t}return I(r,[{key:"isTypeComment",value:function(t){return!!t.trim().startsWith(";TYPE:")&&(this.feature=t.substring(6).trim(),!0)}},{key:"getFeatureColor",value:function(){if(Object.prototype.hasOwnProperty.call(this.featureList,this.feature))try{return this.featureList[this.feature].color}catch(t){this.reportMissingFeature(this.feature)}return this.featureList.Unknown.color}},{key:"isPerimeter",value:function(){try{return this.featureList[this.feature].perimeter}catch(t){return this.reportMissingFeature(this.feature),!0}}},{key:"isSupport",value:function(){try{return this.featureList[this.feature].support}catch(t){return this.reportMissingFeature(this.feature),!1}}}]),r}(),me=function(t){R(r,de);var n=O(r);function r(){var t;return S(this,r),(t=n.call(this)).featureList={"WALL-OUTER":{color:new h["Color4"](.47,.18,.18,1),perimeter:!0,support:!1},"WALL-INNER":{color:new h["Color4"](0,.55,0,1),perimeter:!1,support:!1},FILL:{color:new h["Color4"](.9,.2,.2,1),perimeter:!1,support:!1},"SOLID-FILL":{color:new h["Color4"](.95,.25,.25,1),perimeter:!1,support:!1},BRIDGE:{color:new h["Color4"](.9,.15,.195,1),perimeter:!1,support:!1},SKIRT:{color:new h["Color4"](.31,.12,.33,1),perimeter:!1,support:!1},SUPPORT:{color:new h["Color4"](0,.53,.43,1),perimeter:!1,support:!0},"DENSE-SUPPORT":{color:new h["Color4"](0,.28,.55,1),perimeter:!1,support:!0},RAFT:{color:new h["Color4"](.59,.49,.2,1),perimeter:!1,support:!1},CUSTOM:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1},UNKNOWN:{color:new h["Color4"](.5,.5,.5,1),perimeter:!1,support:!1}},t}return I(r,[{key:"isTypeComment",value:function(t){return!!t.trim().startsWith(";TYPE:")&&(this.feature=t.substring(6).trim(),!0)}},{key:"getFeatureColor",value:function(){if(Object.prototype.hasOwnProperty.call(this.featureList,this.feature))try{return this.featureList[this.feature].color}catch(t){this.reportMissingFeature(this.feature)}return this.featureList.UNKNOWN.color}},{key:"isPerimeter",value:function(){try{return this.featureList[this.feature].perimeter}catch(t){return this.reportMissingFeature(this.feature),!0}}},{key:"isSupport",value:function(){try{return this.featureList[this.feature].support}catch(t){return this.reportMissingFeature(this.feature),!1}}}]),r}(),_e=function(){function e(){S(this,e)}return I(e,null,[{key:"getSlicer",value:function(t){if(!t)return null;var n=t.substring(0,1e4);return n.includes("; generated by PrusaSlicer")?new he:n.includes(";Generated with Cura_SteamEngine")?new fe:n.includes("; generated by SuperSlicer")?new pe:n.includes("Sliced by ideaMaker")?new me:null}}]),e}(),ge={Block:1,Line:2,Point:3,Max:4,Voxel:5},be={Color:0,Feed:1,Feature:2},ve=function(){function e(){S(this,e),this.currentPosition=new p["Vector3"](0,0,0),this.currentColor=new h["Color4"](.25,.25,.25,1),this.currentTool=0,this.renderVersion=ge.Line,this.absolute=!0,this.lines=[],this.travels=[],this.sps,this.maxHeight=0,this.minHeight=0,this.lineCount=0,this.renderMode="",this.extruderCount=10,this.layerDictionary={},this.previousLayerHeight=0,this.currentLayerHeight=0,this.liveTracking=!1,this.liveTrackingShowSolid="true"===localStorage.getItem("showSolid"),this.materialTransparency=.3,this.gcodeLineIndex=[],this.gcodeFilePosition=0,this.refreshTime=200,this.timeStamp,this.lineLengthTolerance=.05,this.tools=new Array;for(var t=["#00FFFF","#FF00FF","#FFFF00","#000000","#FFFFFF"],n=0;n<5;n++){var u=new ee;u.color=h["Color4"].FromHexString(t[n]),u.diameter=.4,this.tools.push(u)}this.progressColor=new h["Color4"](0,1,0,1),this.lineMeshIndex=0,this.scene,this.renderFuncs=new Array,this.meshBreakPoint=2e4,this.feedRateTrimming=!1,this.currentFeedRate=0,this.feedValues=0,this.numChanges=0,this.avgFeed=0,this.maxFeedRate=0,this.minFeedRate=Number.MAX_VALUE,this.underspeedPercent=1,this.colorMode=Number.parseInt(localStorage.getItem("processorColorMode")),this.colorMode||this.setColorMode(be.Color),this.minColorRate=Number.parseInt(localStorage.getItem("minColorRate")),this.minColorRate||(this.minColorRate=1200,localStorage.setItem("minColorRate",this.minColorRate)),this.maxColorRate=Number.parseInt(localStorage.getItem("maxColorRate")),this.maxColorRate||(this.maxColorRate=3600,localStorage.setItem("maxColorRate",this.maxColorRate)),this.minFeedColorString=localStorage.getItem("minFeedColor"),this.minFeedColorString||(this.minFeedColorString="#0000FF"),this.minFeedColor=h["Color4"].FromHexString(this.minFeedColorString.padEnd(9,"F")),this.maxFeedColorString=localStorage.getItem("maxFeedColor"),this.maxFeedColorString||(this.maxFeedColorString="#FF0000"),this.maxFeedColor=h["Color4"].FromHexString(this.maxFeedColorString.padEnd(9,"F")),this.everyNthRow=0,this.currentRowIdx=-1,this.currentZ=0,this.renderTravels=!0,this.vertexAlpha=!1,this.forceWireMode="true"===localStorage.getItem("forceWireMode"),this.spreadLines=!1,this.spreadLineAmount=10,this.debug=!1,this.specularColor=new h["Color3"](0,0,0),this.lookAheadLength=500,this.cancelLoad=!1,this.loadingProgressCallback,this.hasSpindle=!1,this.voxelWidth=1,this.voxelHeight=1,this.forceVoxels=!1,this.renderInstances=new Array,this.meshIndex=0,this.highQualityExtrusion=!1,this.perimeterOnly=!1,this.lastUpdate=Date.now(),this.g1AsExtrusion=!1}var t,n,u,c,l;return I(e,[{key:"doUpdate",value:function(){this.lastUpdate=Date.now()}},{key:"setProgressColor",value:function(t){var n=this;this.progressColor=h["Color4"].FromHexString(t.padEnd(9,"F")),this.renderInstances.forEach(t=>t.progressColor=n.progressColor)}},{key:"getMaxHeight",value:function(){return this.maxHeight+1}},{key:"getMinHeight",value:function(){return this.minHeight}},{key:"setRenderQualitySettings",value:function(t,n){if(this.forceVoxels)return this.renderVersion=ge.Voxel,void(this.meshBreakPoint=Number.MAX_VALUE);void 0===n&&(n=1);var u=0,c=this.forceWireMode?2:1,l=2;switch(this.refreshTime=5e3,this.everyNthRow=1,this.renderTravels=!0,n){case 1:c=2,this.refreshTime=3e4,u=25e3,l=50,this.renderTravels=!1;break;case 2:c=2,this.refreshTime=3e4,u=5e5,l=10,this.renderTravels=!1;break;case 3:u=1e6,l=3;break;case 4:u=15e6,l=2;break;case 5:u=25e6;break;default:return this.renderVersion=ge.Block,void(this.everyNthRow=1)}for(var d=c;d<4;d++){var h=void 0;switch(d){case 1:h=24;break;case 2:h=2;break;case 3:h=1}for(var p=this.everyNthRow;p<=l;p++)if(this.debug&&console.log("Mode: "+d+"  NRow: "+p+"   vertexcount: "+t*h/p),t*h/p<u)return this.renderVersion=d,void(this.everyNthRow=p)}}},{key:"initVariables",value:function(){this.currentPosition=new p["Vector3"](0,0,0),this.cancelLoad=!1,this.absolute=!0,this.currentZ=0,this.currentRowIdx=-1,this.gcodeLineIndex=[],this.lineMeshIndex=0,this.lastExtrudedZHeight=0,this.previousLayerHeight=0,this.currentLayerHeight=0,this.minFeedRate=Number.MAX_VALUE,this.maxFeedRate=0,this.hasSpindle=!1,this.currentColor=new h["Color4"](1,1,1,1),this.slicer=null,this.skip=!1,this.isSupport=!1,this.currentTool=0}},{key:"processGcodeFile",value:(l=P(regeneratorRuntime.mark((function e(t,n,u){var c,l,d,h;return regeneratorRuntime.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(this.initVariables(),this.slicer=_e.getSlicer(t),this.meshIndex=0,this.currentTool=0,null==n&&(n=4),t&&0!==t.length){p.next=7;break}return p.abrupt("return");case 7:l=t.split("\n"),"function"==typeof u&&u(),this.lineCount=l.length,this.debug&&console.info("Line Count : ".concat(this.lineCount)),this.setRenderQualitySettings(this.lineCount,n),0==this.tools.length&&this.tools.push(new ee),this.currentColor=null!==(c=this.tools[0].color)&&void 0!==c?c:(new ee).color,l.reverse(),d=0,this.timeStamp=Date.now();case 17:if(!l.length){p.next=34;break}if(!this.cancelLoad){p.next=21;break}return this.cancelLoad=!1,p.abrupt("return");case 21:if(h=l.pop(),d+=h.length+1,h.trim(),this.perimeterOnly&&this.slicer&&this.slicer.isTypeComment(h)&&this.slicer.isPerimeter()&&(this.currentColor=this.slicer.getFeatureColor()),h.startsWith(";")?this.slicer&&this.slicer.isTypeComment(h)&&(this.isSupport=this.slicer.isSupport(),this.colorMode===be.Feature&&(this.currentColor=this.slicer.getFeatureColor())):this.processLine(h,d),!(Date.now()-this.timeStamp>10)){p.next=31;break}return this.loadingProgressCallback&&this.loadingProgressCallback(d/t.length,"Loading File..."),p.next=30,V();case 30:this.timeStamp=p.sent;case 31:this.doUpdate(),p.next=17;break;case 34:if(!this.renderTravels){p.next=37;break}return p.next=37,this.createTravelLines(this.scene);case 37:this.loadingProgressCallback&&this.loadingProgressCallback(1),t={};case 39:case"end":return p.stop()}}),e,this)}))),function(t,n,u){return l.apply(this,arguments)})},{key:"loadingComplete",value:function(){this.renderInstances.forEach(t=>t.isLoading=!1)}},{key:"processLine",value:(c=P(regeneratorRuntime.mark((function e(t,n){var u,c,l,d,m,_,g,b,v,U,G,W,X,q,K,Y,Q,Z,$,ee,te,re,ne,ie,oe,se,ae,ue,ce,le=this;return regeneratorRuntime.wrap((function(de){for(;;)switch(de.prev=de.next){case 0:if((u=t.indexOf(";"))>-1&&(t=t.substring(0,u-1).trim()),t=t.toUpperCase(),null==(l=t.match(/[GM]+[0-9.]+/))){de.next=99;break}l=l.filter(t=>t.startsWith("G")||t.startsWith("M")),de.t0=l[0],de.next="G0"===de.t0||"G1"===de.t0?9:"G2"===de.t0||"G3"===de.t0?53:"G28"===de.t0?62:"G90"===de.t0?65:"G91"===de.t0?67:"G92"===de.t0?69:"S"===de.t0?70:"M3"===de.t0||"M4"===de.t0?72:"M567"===de.t0?77:"M600"===de.t0?95:97;break;case 9:c=t.split(/(?=[GXYZEFUV])/),(_=new J).tool=this.currentTool,_.gcodeLineNumber=n,_.start=this.currentPosition.clone(),_.layerHeight=this.currentLayerHeight-this.previousLayerHeight,"G1"==l[0].toUpperCase()&&(null===(d=!(null!==(m=this.tools[this.currentTool])&&void 0!==m&&m.isAdditive()))||void 0===d||d||this.g1AsExtrusion)&&(_.extruding=!0,_.color=null!==(g=null===(b=this.tools[this.currentTool])||void 0===b?void 0:b.color.clone())&&void 0!==g?g:this.tools[0].color.clone(),this.maxHeight=this.currentPosition.y),v=1;case 17:if(!(v<c.length)){de.next=40;break}U=c[v],de.t1=U[0],de.next="X"===de.t1?22:"Y"===de.t1?24:"Z"===de.t1?26:"E"===de.t1?30:"F"===de.t1?32:37;break;case 22:return this.currentPosition.x=this.absolute?Number(U.substring(1)):this.currentPosition.x+Number(U.substring(1)),de.abrupt("break",37);case 24:return this.currentPosition.z=this.absolute?Number(U.substring(1)):this.currentPosition.z+Number(U.substring(1)),de.abrupt("break",37);case 26:return this.currentPosition.y=this.absolute?Number(U.substring(1)):this.currentPosition.y+Number(U.substring(1)),this.currentPosition.y<this.minHeight&&(this.minHeight=this.currentPosition.y),this.spreadLines&&(this.currentPosition.y*=this.spreadLineAmount),de.abrupt("break",37);case 30:return Number(U.substring(1))>0&&(_.extruding=!0,this.maxHeight=this.currentPosition.y),de.abrupt("break",37);case 32:return this.currentFeedRate=Number(U.substring(1)),this.currentFeedRate>this.maxFeedRate&&(this.maxFeedRate=this.currentFeedRate),this.currentFeedRate<this.minFeedRate&&(this.minFeedRate=this.currentFeedRate),this.colorMode===be.Feed&&(G=(this.currentFeedRate-this.minColorRate)/(this.maxColorRate-this.minColorRate),this.currentColor=G>=1?this.maxFeedColor:G<=0?this.minFeedColor:h["Color4"].Lerp(this.minFeedColor,this.maxFeedColor,G)),de.abrupt("break",37);case 37:v++,de.next=17;break;case 40:if(!_.extruding||!this.skip){de.next=42;break}return de.abrupt("return");case 42:if(_.end=this.currentPosition.clone(),this.debug,this.feedRateTrimming&&(this.feedValues+=this.currentFeedRate,this.numChanges++,this.avgFeed=this.feedValues/this.numChanges*this.underspeedPercent),!(this.everyNthRow>1&&_.extruding)){de.next=49;break}if(this.currentPosition.y>this.currentZ&&(this.currentRowIdx++,this.currentRowIdx%3==0&&this.currentRowIdx++,this.currentZ=this.currentPosition.y),!(this.currentRowIdx%this.everyNthRow==0&&this.currentRowIdx>2)){de.next=49;break}return de.abrupt("return");case 49:return W=this.hasSpindle&&"G1"===l[0],X=_.length()>=this.lineLengthTolerance,W||X&&_.extruding?(null==this.currentColor&&(this.currentColor=new h["Color4"](1,1,1,1)),_.color=this.currentColor.clone(),this.lines.push(_),this.currentPosition.y>this.currentLayerHeight&&!this.isSupport&&(this.previousLayerHeight=this.currentLayerHeight,this.currentLayerHeight=this.currentPosition.y)):this.renderTravels&&!_.extruding&&(_.color=new h["Color4"](1,0,0,1),this.travels.push(_)),de.abrupt("break",97);case 53:return c=t.split(/(?=[GXYZIJFRE])/),q=t.indexOf("E")>0,K=c.filter(t=>"G2"===t),Y=N(c,this.currentPosition,!this.absolute,1),Q=this.currentPosition.clone(),Y.points.forEach((t,u)=>{var c=new J;c.tool=le.currentTool,c.gcodeLineNumber=n,c.layerHeight=le.currentLayerHeight-le.previousLayerHeight,c.start=Q.clone(),c.end=new p["Vector3"](t.x,t.y,t.z),c.color=le.currentColor.clone(),c.extruding=q,le.debug&&(c.color=K?new h["Color4"](0,1,1,1):new h["Color4"](1,1,0,1),0==u&&(c.color=new h["Color4"](0,1,0,1))),Q=c.end.clone(),le.debug&&console.log(c),le.lines.push(c)}),this.currentPosition=new p["Vector3"](Q.x,Q.y,Q.z),this.currentPosition.y>this.currentLayerHeight&&!this.isSupport&&(this.previousLayerHeight=this.currentLayerHeight,this.currentLayerHeight=this.currentPosition.y),de.abrupt("break",97);case 62:return 1==(c=t.split(/(?=[GXYZ])/)).length?this.currentPosition=new p["Vector3"](0,0,0):(c.some(t=>"X"===t.trim())&&(this.currentPosition.x=0),c.some(t=>"Y"===t.trim())&&(this.currentPosition.z=0),c.some(t=>"Z"===t.trim())&&(this.currentPosition.y=0)),de.abrupt("break",97);case 65:return this.absolute=!0,de.abrupt("break",97);case 67:return this.absolute=!1,de.abrupt("break",97);case 69:return de.abrupt("break",97);case 70:return this.hasSpindle=!0,de.abrupt("break",97);case 72:return Z=t.split(/(?=[SM])/),($=($=Z.filter(t=>t.startsWith("S")))[0]?Number($[0].substring(1)):0)>0&&(this.hasSpindle=!0),de.abrupt("break",97);case 77:if(ee=t.split(/(?=[PE])/),this.colorMode!==be.Feed){de.next=80;break}return de.abrupt("break",97);case 80:te=1;case 81:if(!(te<ee.length)){de.next=92;break}re=ee[te],ne=[1,1,1],de.t2=re[0],de.next="E"===de.t2?87:89;break;case 87:return this.extruderPercentage=re.substring(1).split(":"),de.abrupt("break",89);case 89:te++,de.next=81;break;case 92:for(ie=0;ie<this.extruderPercentage.length;ie++)ne[0]-=(1-this.tools[ie].color.r)*this.extruderPercentage[ie],ne[1]-=(1-this.tools[ie].color.g)*this.extruderPercentage[ie],ne[2]-=(1-this.tools[ie].color.b)*this.extruderPercentage[ie];return this.currentColor=new h["Color4"](ne[0],ne[1],ne[2],.1),de.abrupt("break",97);case 95:try{this.currentTool++,this.currentTool>=this.tools.length&&(this.currentTool=0),this.colorMode!==be.Feed&&(this.currentColor=this.tools[this.currentTool].color.clone())}catch(de){console.log(de)}return de.abrupt("break",97);case 97:de.next=101;break;case 99:t.startsWith("T")&&(oe=Number.parseInt(t.substring(1)),isNaN(oe)||(this.currentPosition.z+=10,this.currentTool=oe,this.currentTool>=this.tools.length?this.currentTool=this.currentTool%this.tools.length:ce<0&&(this.currentTool=0,ce=0),this.colorMode!==be.Feed&&(ce=Number(t.substring(1))%this.extruderCount,this.currentColor=null!==(se=null===(ae=this.tools[ce])||void 0===ae||null===(ue=ae.color)||void 0===ue?void 0:ue.clone())&&void 0!==se?se:new h["Color3"](1,0,0)))),this.debug&&console.log(t);case 101:if(!(this.lines.length>=this.meshBreakPoint)){de.next=108;break}return de.next=104,this.createMesh(this.scene);case 104:return de.next=106,V();case 106:this.doUpdate(),this.meshIndex++;case 108:case"end":return de.stop()}}),e,this)}))),function(t,n){return c.apply(this,arguments)})},{key:"renderPointMode",value:function(t){var n=this.lineMeshIndex;this.gcodeLineIndex.push(new Array),this.sps=new U["PointsCloudSystem"]("pcs"+n,1,t);var u=this.lines;this.sps.addPoints(this.lines.length,(function(t,n,c){u[c].renderParticle(t)})),this.sps.buildMeshAsync().then(t=>{t.material.pointSize=2})}},{key:"createMesh",value:(u=P(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return this.renderVersion===ge.Line||this.renderVersion===ge.Point?n=new le(t,this.specularColor,this.loadingProgressCallback,this.renderFuncs,this.tools,this.meshIndex):this.renderVersion===ge.Block?n=this.highQualityExtrusion?new ae(t,this.specularColor,this.loadingProgressCallback,this.renderFuncs,this.tools,this.meshIndex):new se(t,this.specularColor,this.loadingProgressCallback,this.renderFuncs,this.tools,this.meshIndex):this.renderVersion===ge.Voxel&&(n=new ce(t,this.specularColor,this.loadingProgressCallback,this.renderFuncs,this.tools,this.voxelWidth,this.voxelHeight)),n.progressColor=this.progressColor,n.vertexAlpha=this.vertexAlpha,this.renderInstances.push(n),u.next=6,n.render(this.lines);case 6:this.lines=[],this.scene.render();case 8:case"end":return u.stop()}}),e,this)}))),function(t){return u.apply(this,arguments)})},{key:"chunk",value:function(t,n){for(var u=[],c=0,l=t.length;c<l;c+=n)u.push(t.slice(c,c+n));return u}},{key:"createTravelLines",value:(n=P(regeneratorRuntime.mark((function e(t){var n,u,c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:n=this.chunk(this.travels,2e4),u=0;case 2:if(!(u<n.length)){l.next=12;break}return(c=new le(t,this.specularColor,this.loadingProgressCallback,this.renderFuncs,this.tools,this.meshIndex)).travels=!0,c.meshIndex=this.meshIndex+1e3,l.next=8,c.render(n[u]);case 8:this.renderInstances.push(c);case 9:u++,l.next=2;break;case 12:this.travels=[];case 13:case"end":return l.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})},{key:"updateFilePosition",value:function(t){this.renderInstances.forEach(n=>n.updateFilePosition(t)),this.doUpdate()}},{key:"doFinalPass",value:function(){var t=this;this.liveTracking=!0,this.gcodeFilePosition=Number.MAX_VALUE,setTimeout(()=>{t.liveTracking=!1},this.refreshTime+200)}},{key:"updateMesh",value:function(){1===this.renderVersion?console.log("Version 1"):2===this.renderVersion&&console.log("Version 2")}},{key:"unregisterEvents",value:function(){for(var t=0;t<this.renderFuncs.length;t++)this.scene.unregisterBeforeRender(this.renderFuncs[t]),delete this.renderFuncs[t];this.renderFuncs=[];for(var n=0;n<this.renderInstances.length;n++)delete this.renderInstances[n];this.renderInstances=[]}},{key:"setLiveTracking",value:function(t){this.liveTracking=t}},{key:"setColorMode",value:function(t){t||(this.colorMode=be.Color),localStorage.setItem("processorColorMode",t),this.colorMode=t}},{key:"updateMinFeedColor",value:function(t){localStorage.setItem("minFeedColor",t),this.minFeedColorString=t,this.minFeedColor=h["Color4"].FromHexString(t.padEnd(9,"F"))}},{key:"updateMaxFeedColor",value:function(t){localStorage.setItem("maxFeedColor",t),this.maxFeedColorString=t,this.maxFeedColor=h["Color4"].FromHexString(t.padEnd(9,"F"))}},{key:"updateColorRate",value:function(t,n){localStorage.setItem("minColorRate",t),localStorage.setItem("maxColorRate",n),this.minColorRate=t,this.maxColorRate=n}},{key:"updateForceWireMode",value:function(t){this.forceWireMode=t,localStorage.setItem("forceWireMode",t)}},{key:"setLiveTrackingShowSolid",value:function(t){this.liveTrackingShowSolid=t,localStorage.setItem("showSolid",t)}},{key:"setAlpha",value:function(t){this.vertexAlpha=t}},{key:"resetTools",value:function(){this.tools=new Array}},{key:"addTool",value:function(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:te.Extruder,c=new ee;c.color=h["Color4"].FromHexString(t.padEnd(9,"F")),c.diameter=n,c.toolType=u,this.tools.push(c)}},{key:"updateTool",value:function(t,n,u){u<this.tools.length&&(this.tools[u].color=h["Color4"].FromHexString(t.padEnd(9,"F")),this.tools[u].diameter=n)}},{key:"forceRedraw",value:function(){for(var t=0;t<this.renderInstances.length;t++)this.renderInstances[t].forceRedraw=!0;this.doUpdate()}},{key:"useHighQualityExtrusion",value:function(t){this.highQualityExtrusion=t}},{key:"setVoxelMode",value:function(t){this.forceVoxels=t}},{key:"useSpecularColor",value:function(t){var n=t?new h["Color3"](.4,.4,.4):new h["Color3"](0,0,0);this.specularColor=n,this.renderInstances.forEach(t=>t.material.specularColor=n),this.scene&&this.scene.render(!0,!0)}},{key:"g1AsExtrusion",value:function(t){this.g1AsExtrusion=t}},{key:"cancel",value:(t=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cancelLoad=!0,t.next=3,this.pauseProcessing();case 3:case"end":return t.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),ye=0,xe=1,Me=function(){function e(t){S(this,e),this.buildVolume={x:{min:0,max:100},y:{min:0,max:100},z:{min:0,max:100}};var n=localStorage.getItem("buildVolume");null!==n&&(this.buildVolume=JSON.parse(n)),this.renderMode=Number.parseInt(localStorage.getItem("renderBedMode")),this.renderMode||(this.renderMode=ye),this.bedMesh,this.isDelta=!1,this.scene=t,this.registerClipIgnore=()=>{},this.bedLineColor="#0000FF",this.getBedColor()||this.setBedColor("#0000FF"),this.planeMaterial=this.buildGridMaterial(),this.boxMaterial=new W["StandardMaterial"]("bedBoxMaterial",this.scene),this.boxMaterial.alpha=0,this.debug=!1}return I(e,[{key:"setRenderMode",value:function(t){this.renderMode=t,localStorage.setItem("renderBedMode",this.renderMode),this.bedMesh&&(this.scene.removeMesh(this.bedMesh),this.bedMesh.dispose(!1,!0)),this.buildBed(),this.scene.render()}},{key:"buildBed",value:function(){if(!this.debug){if(this.bedMesh&&this.bedMesh.isDisposed()&&(this.bedMesh=null),this.bedMesh)return this.bedMesh;switch(this.renderMode){case ye:this.buildFlatBed();break;case xe:this.buildBox()}return this.bedMesh}}},{key:"setDelta",value:function(t){this.isDelta=t,this.setRenderMode(this.renderMode)}},{key:"buildFlatBed",value:function(){var t=this.getCenter(),n=this.getSize();if(this.isDelta){var u=Math.abs(this.buildVolume.x.max-this.buildVolume.x.min)/2;this.bedMesh=_["MeshBuilder"].CreateDisc("BuildPlate",{radius:u},this.scene),this.bedMesh.rotationQuaternion=new p["Quaternion"].RotationAxis(new p["Vector3"](1,0,0),Math.PI/2),this.bedMesh.material=this.planeMaterial}else{var c=n.x,l=n.y;this.bedMesh=_["MeshBuilder"].CreatePlane("BuildPlate",{width:c,height:l},this.scene),this.bedMesh.material=this.planeMaterial,this.bedMesh.rotationQuaternion=new p["Quaternion"].RotationAxis(new p["Vector3"](1,0,0),Math.PI/2),this.bedMesh.translate(new p["Vector3"](t.x,0,t.y),1,m["Space"].WORLD)}this.registerClipIgnore(this.bedMesh)}},{key:"getCenter",value:function(){return{x:(this.buildVolume.x.max+this.buildVolume.x.min)/2,y:(this.buildVolume.y.max+this.buildVolume.y.min)/2,z:(this.buildVolume.z.max+this.buildVolume.z.min)/2}}},{key:"getSize",value:function(){return{x:Math.abs(this.buildVolume.x.max-this.buildVolume.x.min),y:Math.abs(this.buildVolume.y.max-this.buildVolume.y.min),z:Math.abs(this.buildVolume.z.max-this.buildVolume.z.min)}}},{key:"buildBox",value:function(){var t=this,n=this.getSize(),u=this.getCenter();if(this.isDelta)this.bedMesh=_["MeshBuilder"].CreateCylinder("bed",{diameterTop:n.x,diameterBottom:n.x,height:n.z},this.scene),this.bedMesh.position.x=u.x,this.bedMesh.position.y=u.z,this.bedMesh.position.z=u.x,this.bedMesh.alpha=0,this.bedMesh.diffuseColor=new h["Color4"](0,0,0,0),this.bedMesh.isPickable=!1,this.bedMesh.enableEdgesRendering(void 0,!0),this.bedMesh.renderingGroupId=2,this.scene.setRenderingAutoClearDepthStencil(2,!1,!1,!1),new q["HighlightLayer"]("hl",this.scene,{isStroke:!0,blurTextureSizeRatio:3}).addMesh(this.bedMesh,this.getBedColor4()),this.bedMesh.onBeforeRenderObservable.add(()=>{t.scene.getEngine().setColorWrite(!1)}),this.bedMesh.onAfterRenderObservable.add(()=>{t.scene.getEngine().setColorWrite(!0)}),this.registerClipIgnore(this.bedMesh);else{this.bedMesh=_["MeshBuilder"].CreateBox("bed",{width:n.x,depth:n.y,height:n.z},this.scene);var c=this.getCenter();this.bedMesh.position.x=c.x-this.buildVolume.x.min,this.bedMesh.position.y=c.z-this.buildVolume.z.min,this.bedMesh.position.z=c.y-this.buildVolume.y.min,this.bedMesh.diffuseColor=new h["Color4"](0,0,0,0),this.bedMesh.enableEdgesRendering(),this.bedMesh.edgesWidth=100,this.bedMesh.material=this.boxMaterial,this.bedMesh.isPickable=!1,this.bedMesh.edgesColor=this.getBedColor4(),this.registerClipIgnore(this.bedMesh)}}},{key:"setVisibility",value:function(t){this.bedMesh&&this.bedMesh.setEnabled(t)}},{key:"commitBedSize",value:function(){localStorage.setItem("buildVolume",JSON.stringify(this.buildVolume)),this.setRenderMode(this.renderMode)}},{key:"buildGridMaterial",value:function(){var t=new K["GridMaterial"]("bedMaterial",this.scene);return t.mainColor=new h["Color4"](0,0,0,0),t.lineColor=h["Color3"].FromHexString(this.getBedColor()),t.gridRatio=5,t.opacity=.8,t.majorUnitFrequency=10,t.minorUnitVisibility=.6,t.gridOffset=new p["Vector3"](0,0,0),t}},{key:"getBedColor",value:function(){return localStorage.getItem("bedLineColor")}},{key:"setBedColor",value:function(t){localStorage.setItem("bedLineColor",t),this.planeMaterial&&(this.planeMaterial=this.buildGridMaterial(),this.dispose(),this.buildBed(),this.scene.render())}},{key:"getBedColor4",value:function(){return h["Color4"].FromHexString(this.getBedColor().padEnd(9,"F"))}},{key:"dispose",value:function(){this.bedMesh.dispose(!1,!0)}}]),e}(),Te=function(){function e(t){S(this,e),this.scene=t,this.checkerBoard="iVBORw0KGgoAAAANSUhEUgAAAQEAAAEBCAIAAAD3joeqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALnSURBVHhe7dZBEYQwFAVBWBtogAv+IhIEsZd4yGG6L/lPwFRl31jqPM/neeZghd98oUoD1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjTAHUaoE4D1GmAOg1QpwHqNECdBqjb7/ueJyscxzHGmIMV9u/75skK7/te1zUHK/gLUacB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA9RpgDoNUKcB6jRAnQao0wB1GqBOA7Rt2x+drw1hSNi5LQAAAABJRU5ErkJggg==",this.xmark="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPQAAADPCAMAAAD1TAyiAAAAkFBMVEX39/eZAAD8//+TAACWAACRAAD4+vr5/PyaAAD39fX18vLy6enr29v18PDm0dG1Y2PewMDYtbWuUFDkzc2jLy+iKSnLlpbRpKS/enrIjo6hJCTbu7u8dHSxWFi4a2vEh4eoOzudEhKdEBDPn5+pQUHq2dmsSUmnODjUqqqhJye0YGCeGRnIk5OrTEy6b2+fHh7/wUBWAAAIiElEQVR4nO2d2ULbOhRF4yNFijNAQiCBMoShhBTo7f//3bUc2kLIIOnsI6ut90v7hLS8ZCVWZJ1Op02bNm3atGnTps0fGGOsizGm6Z4kiiHqDMeT+Wo1vxwPS6IGwI2lqt3qqlf/WPH2DZnpYqnVz3SL5cXUpuWumnucL66Xp1WW14v5UUlWsDlDw0VPaV28i9aqWAyTYRsqJ8fVRdfrXlT/VP9/nvTFOkDDY/UB+Be4uhmSUKMbXRgsis990EqfD0Q6YMvz7cjrZs9Ledm2v7MLVQdG+EFO07udyC7q5UhaNk2KPV3QxSW6A/TQ3Yfs0n0QpTblsTrQgRvsRyhdHWiwln0lSG0Hp3tHWi37dASkpkMX+Y36WIzaDvVBZjeZD2HUXp5r6nMhajPw64C+R7mmC09mMeqK2cNzTX2HoaaJN7MQtRn0PJkr6q+ITy4zCGAWmc2st2dYB2gZ0GIhMJvZR3/PdQcu2a7tKkg0nrqatwM70Otz2yx7gU2Cqe1jcPuaO6/QLFQ0ljrcs2t/wJvBTXiTSGr7GMHMVW0uI0TjqKM8u+ZHnFbpOK5VDHWcZ9f6ijWBxzVaU7MXr2I9V+N7ybjk5ihudNfUJ8wHPZrGMlfUjPFt5/HQheZRc5gLNY5vmv5jNMyjpinjehf6Nf6mpu8c6Io6+r5mea5afo6/qc0Lp2WGa57nKreMmYzXcrRrpucqvXjmzsHVwMPUEa7Znqt2m4SOoeZ7Lopuo9CFvg38GYDGbM88aP4ld9SdEGoIc6HimeOesTYT5JrGgNFVJR6aviJUF/rJ2zXGc1F8Y3w5iX3I2oi3a5RnfR3/OW0fMNC+rlGeC71gfCPjf2D+7IXPbAZjLtSE8UBdgkx7ucYx81bJ6BpHfdrf3xGKXJraljPOuk3sGtm26LO9s1nQr0eHmprx1vvDl713d+V0DzVdYubtOsw1YHrFXf/K9c4RThMgM+dpuk4fdlMXe1wj7+dK9BFzTZI4y2SfssM11DPrm8lb7OG9HiEd2uYa67lQ/D0YZgjt0RbXWM+FmiF+oF5B+6RfNqZWCv4xeP/f5yyPvevVObZXdx+oaQ69pkXB/MnyV7+usdTvXWMnSjdzo3ZLWjD1b9doz2qM2xBgT2So0Z670P2hMq7hnsF7YiVc5+25pvbbH+qbajbL3bML3YBd++++9IqaSmzRBFOHbAP0iAwznhoZKeacqeWY86WWZM6VWpY5T2ppZrf5JjdqeWb4kyY7WvyFsJra9z2WJNGwZ8kD1Bm5TsWck2vcmoEHdSau03muqbNwndJzTZ2B67Se86BO7bmmvgCv3YZmmJ456B3Mv4a5YdcNMTfpWjfG3KDrBpkbc90oc0OuG2ZuwLVuntnrNBAo8/2geWZHndB1xZzHeWAJXWfDnNB1RszJXGfFnMj1xm6V5pPAtdaZMeN3Unxmzs2zC3gP3CfmL8gjqGARpd6zg7jZCFLrL5kyC1Jn69kF+U7Ce+Z8PbuIuM7as4uA68w9u9AEu2uoKJ6yZ+4Yc4Zl1qs0p88yYvpPaNMqd2pTQl/5WEf4GFZuTAn37AJ5LUMqIp5dMnYt5NlF5Upt+kKeXbp5jnCxsb1Olq7N6Ickc5auTf+LLHOGrsU9u2TmOoFnF/WaEXUSzzX1RTbUiTzX1Lm4Tua5ps7DdVLmTKjNwKeEwN9F7X+cPo666fvaDO5TMzfuOqSEAJKacQgVgLkBzzW1VMEPH+ZGPDdK3ZjnBqltc54bo7bD5J9VjVPHH7P+51JXnptPYuoMPLskpc7Cs4u6SUadiWcXwWJsm8xNo75LItfRJUFkksQ1HWXFnMR1dswJXGfILO46S2Zh15ky1+WL/jlmV75IiJoYNZXEo05E9l0hymN86Cb2cVzENU3BR6bNRi9garhrQOmXD+nOCL3cpNGu8Z4Jv0kF/Mkl4Nn9WTP6hqVG/gpgJTyvqbGuu2PYCDfg5+d32yjQrgvU2y2mDzy4v9jY9Ai+rzXqtgbWpXDZ2C5jRmfIP9/lHl3/xow9f/vTRmasa1Ydz9+BlioouvNPncK6ZlcpcKFz6OjbtmHdjDAlquog7urAkvIHssVz3UgJpOaVJK5Dr0DRWz3X1B0cNauC0jr2HtWZnZ5rapxr/vjGVcza47luCOeaU8izDi1ww27/Szc46i63+AjdYjriccw6jJpTh7lOH1ag7fAx6yhq9cCbyWC3tNdx+qZzC6keytxwZUGvi3oep286iK/5mvmrtcV8SnuXTTB0wm+QC42ZvEPKJli+azY04ot3WHkMvuscoEPLY7Af37kTGQC6G1zih+tazXkfWfx7OqasEbNUFffLiZ0xoeNKOfEK+XSZx/1YZkm+2PJVLNcvzG+hzG9k8SW76Dm6Yf6jZcmB5pQpi6fmLyJwCqzzSrNFU6s+k5kzfWtmOTqKK9AFWBiMv6k1uyRIHDViCZheIpkBJUFiRjigUG3V8CxukEHKoES4hqz1d0YxN7UClX4Jdq2vMEVbIw44xpW7CS3adM+eutcpg5lRnl3CCn50p6Af5W1otXdsWaOQ0hfAoyLoJui2Rpdy8neNfaUj6K1w+JHjvq6xm4HNwB9aomwCLXxuMPSrO/bRc4QJHS3vc+Qu/vVi67f/V/eEjtOn8YEzCLREoVo79Dj5QP8QO6LY9vcuK6jlQGKbux08HRpiail47KOhy7tdHVB6RTItG7P/o0OrC6GW32JpdaY+Dzet7mcduXoNNL7fja1u5SstWju90kr/vtG0Vur6siPasDUPxVZsrV6kBtjHGLJHDzdf77RL7/Z6Ni7l26Vy/qQ2prTqai8nJllBEGOJyr5LSWTTnB1r6XH2vVBK1RdbqW7veT6gHGqgiKa61J3H8fzi9fX1YjIedFJd7sZjjF3H/CPAbdq0adOmTZs2bbD5H8lJpKRvNiuNAAAAAElFTkSuQmCC",this.buildObjectMeshes=new Array,this.labels=new Array,this.labelSVGS=new Array,this.baseMaterial,this.highlightMaterial,this.cancelledMaterial,this.cancelledHighlightMaterial,this.showCancelObjects=!1,this.objectCallback,this.renderFailedCallback,this.labelCallback,this.registerClipIgnore,this.getMaxHeight,this.alphaLevel=.5,this.observableControls=null,this.showLabel=localStorage.getItem("showObjectLabels"),null===this.showLabel?this.showLabel=!0:this.showLabel=JSON.parse(this.showLabel),this.rebuildMaterials()}return I(e,[{key:"setBuildMaterial",value:function(t,n,u){u||(u=this.alphaLevel);var c=new W["StandardMaterial"](t,this.scene);return c.diffuseColor=n,c.specularColor=new h["Color3"](0,0,0),c.alpha=u,c.needAlphaTesting=()=>!0,c.separateCullingPass=!0,c.backFaceCulling=!0,c}},{key:"rebuildMaterials",value:function(){this.baseMaterial=this.setBuildMaterial("BuildObjectBaseMaterial",new h["Color4"](.1,.5,.1),.25),this.highlightMaterial=this.setBuildMaterial("BuildObjectHighlightMateria",new h["Color3"](.8,.8,.8)),this.cancelledMaterial=this.setBuildMaterial("BuildObjectHighlightMateria",new h["Color3"](1,0,0),.4),this.cancelledHighlightMaterial=this.setBuildMaterial("BuildObjectHighlightMateria",new h["Color3"](1,1,0),.6);var t=new Q["Texture"].CreateFromBase64String(this.xmark,"checkerboard",this.scene);this.cancelledMaterial.diffuseTexture=t,this.cancelledHighlightMaterial.diffuseTexture=t}},{key:"loadObjectBoundaries",value:function(t){if(this.rebuildMaterials(),this.buildObjectMeshes.length>0){for(var n=0;n<this.buildObjectMeshes.length;n++)this.buildObjectMeshes[n].dispose();this.labelSVGS.forEach(t=>window.URL.revokeObjectURL(t)),this.buildObjectMeshes=new Array,this.labels=new Array}if(t)for(var u=0;u<t.length;u++){var c=t[u],l=_["MeshBuilder"].CreateTiledBox("OBJECTMESH:"+c.name,{pattern:G["Mesh"].CAP_ALL,alignVertical:G["Mesh"].TOP,alignHorizontal:G["Mesh"].LEFT,tileHeight:4,tileWidth:4,width:Math.abs(c.x[1]-c.x[0]),height:this.getMaxHeight()+10,depth:Math.abs(c.y[1]-c.y[0]),sideOrientation:G["Mesh"].FRONTSIDE},this.scene);l.position.x=(c.x[1]+c.x[0])/2,l.position.y=this.getMaxHeight()/2-4,l.position.z=(c.y[1]+c.y[0])/2,l.alphaIndex=5e6,c.index=u,l.metadata=c,l.enablePointerMoveEvents=!0,l.renderingGroupId=3,this.setObjectTexture(l),l.setEnabled(this.showCancelObjects),this.registerClipIgnore(l),this.buildObjectMeshes.push(l);var d=this.makeTextPlane(c.name,c.cancelled?"yellow":"white",20);d.position=new p["Vector3"](0,this.getMaxHeight()/2+10,0),d.isPickable=!1,d.metadata=c,d.parent=l,d.setEnabled(this.showLabel),this.labels.push(d)}}},{key:"makeTextPlane",value:function(t,n,u){var c=Y["create"]("svg").attr("width",800).attr("height",200).attr("fill","none");c.append("text").attr("x",400).attr("y",100).attr("font-family","Verdana").attr("font-size","50px").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill","black").attr("stroke",n).attr("stroke-width",2).attr("text-rendering","optimizeLegibility").text(t);var l=c.attr("title","test2").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node(),d=(new XMLSerializer).serializeToString(l),p=new Blob(['<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+d],{type:"image/svg+xml"}),m=window.URL.createObjectURL(p);this.labelSVGS.push(m);var g=_["MeshBuilder"].CreatePlane("TextPlane",{width:u,height:8},this.scene);return g.material=new W["StandardMaterial"]("TextPlaneMaterial",this.scene),g.material.backFaceCulling=!1,g.material.specularColor=new h["Color3"](0,0,0),g.material.diffuseTexture=new Q["Texture"](m,this.scene),g.material.diffuseTexture.hasAlpha=!0,g.billboardMode=7,this.registerClipIgnore(g),g}},{key:"buildObservables",value:function(){var t=this;if(!this.observableControls){var n=0,u=!1,c=0;this.observableControls=this.scene.onPointerObservable.add(l=>{var d=l.pickInfo;switch(l.type){case Z["PointerEventTypes"].POINTERDOWN:u=!0,c=Date.now();break;case Z["PointerEventTypes"].POINTERUP:if(u=!1,Date.now()-c>200)return;t.handleClick(d);break;case Z["PointerEventTypes"].POINTERMOVE:if(u||Date.now()-n<100)return;n=Date.now(),t.handlePointerMove(d)}})}}},{key:"clearObservables",value:function(){this.observableControls&&(this.scene.onPointerObservable.remove(this.observableControls),this.observableControls=null)}},{key:"showObjectSelection",value:function(t){this.showCancelObjects=t,this.buildObjectMeshes.forEach(n=>n.setEnabled(t)),t?this.buildObservables():this.clearObservables()}},{key:"setObjectTexture",value:function(t){t.metadata.cancelled?(t.material=this.cancelledMaterial,t.enableEdgesRendering(),t.edgesWidth=15,t.edgesColor=new h["Color4"](1,0,0,1)):(t.material=this.baseMaterial,t.enableEdgesRendering(),t.edgesWidth=15,t.edgesColor=new h["Color4"](0,1,0,1))}},{key:"handleClick",value:function(t){this.showCancelObjects&&t.hit&&t.pickedMesh&&t.pickedMesh.name.includes("OBJECTMESH")&&this.objectCallback&&this.objectCallback(t.pickedMesh.metadata)}},{key:"handlePointerMove",value:function(t){var n=this;this.showCancelObjects&&(this.buildObjectMeshes.forEach(t=>n.setObjectTexture(t)),t.hit&&t.pickedMesh&&t.pickedMesh.name.includes("OBJECTMESH")?(t.pickedMesh.material=t.pickedMesh.metadata.cancelled?this.cancelledHighlightMaterial:this.highlightMaterial,this.labelCallback&&this.labelCallback(t.pickedMesh.metadata.name)):this.labelCallback&&this.labelCallback(""))}},{key:"showLabels",value:function(t){localStorage.setItem("showObjectLabels",t),this.showLabel=t,this.labels.forEach(n=>n.setEnabled(t))}}]),e}(),Se=function(){function e(t){S(this,e),this.visible=localStorage.getItem("axesVisible"),null===this.visible?this.visible=!0:this.visible=JSON.parse(this.visible),this.scene=t,this.registerClipIgnore=()=>{},this.axesMesh,this.axesMeshPosition,this.size=50,this.debug=!1}return I(e,[{key:"show",value:function(t){localStorage.setItem("axesVisible",t),this.axesMesh&&this.axesMesh.setEnabled(t),this.scene.render()}},{key:"makeTextPlane",value:function(t,n,u){var c=new $["DynamicTexture"]("DynamicTexture",50,this.scene,!0);c.hasAlpha=!0,c.drawText(t,5,40,"bold 36px Arial",n,"transparent",!0);var l=G["Mesh"].CreatePlane("TextPlane",u,this.scene,!0);return l.material=new W["StandardMaterial"]("TextPlaneMaterial",this.scene),l.material.backFaceCulling=!1,l.material.specularColor=new h["Color3"](0,0,0),l.material.diffuseTexture=c,l}},{key:"resize",value:function(t){this.size=t,this.axesMesh.dispose(!1,!0),this.render()}},{key:"render",value:function(t){var n=this;if(!this.debug)if(!this.axesMesh||this.axesMesh.isDisposed()){this.axesMesh=new G["Mesh"]("axis"),this.registerClipIgnore(this.axesMesh);var u=G["Mesh"].CreateLines("axisX",[p["Vector3"].Zero(),new p["Vector3"](this.size,0,0),new p["Vector3"](.95*this.size,.05*this.size,0),new p["Vector3"](this.size,0,0),new p["Vector3"](.95*this.size,-.05*this.size,0)],this.scene);u.color=new h["Color3"](1,0,0),u.parent=this.axesMesh;var c=this.makeTextPlane("X","red",this.size/10);c.position=new p["Vector3"](.9*this.size,.05*this.size,0),c.parent=this.axesMesh;var l=G["Mesh"].CreateLines("axisZ",[p["Vector3"].Zero(),new p["Vector3"](0,0,this.size),new p["Vector3"](0,-.05*this.size,.95*this.size),new p["Vector3"](0,0,this.size),new p["Vector3"](0,.05*this.size,.95*this.size)],this.scene);l.color=new h["Color3"](0,1,0),l.parent=this.axesMesh;var d=this.makeTextPlane("Y","green",this.size/10);d.position=new p["Vector3"](0,.05*this.size,.9*this.size),d.parent=this.axesMesh;var m=G["Mesh"].CreateLines("axisY",[p["Vector3"].Zero(),new p["Vector3"](0,this.size,0),new p["Vector3"](-.05*this.size,.95*this.size,0),new p["Vector3"](0,this.size,0),new p["Vector3"](.05*this.size,.95*this.size,0)],this.scene);m.color=new h["Color3"](0,0,1),m.parent=this.axesMesh;var _=this.makeTextPlane("Z","blue",this.size/10);_.position=new p["Vector3"](0,.9*this.size,-.05*this.size),_.parent=this.axesMesh,this.axesMesh.setEnabled(this.visible),this.axesMesh.getChildren().forEach(t=>n.registerClipIgnore(t)),t&&(this.axesMesh.position=t)}else t&&(this.axesMesh.position=t)}},{key:"dispose",value:function(){this.axesMesh&&this.axesMesh.dispose(!1,!0)}}]),e}(),Ce=function(){function i(t){S(this,i),this.lastLoadKey="lastLoadFailed",this.fileData,this.fileSize=0,this.gcodeProcessor=new ve,this.maxHeight=0,this.minHeight=0,this.sceneBackgroundColor="#000000",this.canvas=t,this.scene={},this.loading=!1,this.toolVisible=!1,this.toolCursor,this.toolCursorMesh,this.toolCursorVisible=!0,this.travelVisible=!1,this.debug=!1,this.zTopClipValue,this.zBottomClipValue,this.cancelHitTimer=0,this.pause=!1,this.cameraInertia="true"===localStorage.getItem("cameraInertia"),this.bed,this.buildObjects,this.axes,this.renderQuality=Number(localStorage.getItem("renderQuality")),void 0!==this.renderQuality&&null!==this.renderQuality||(this.renderQuality=1),this.renderTimeout=1e3}var t,n;return I(i,[{key:"getMaxHeight",value:function(){return this.maxHeight}},{key:"getMinHeight",value:function(){return this.minHeight}},{key:"setCameraType",value:function(t){this.scene.activeCamera=t?this.orbitCamera:this.flyCamera}},{key:"setZClipPlane",value:function(t,n){this.zTopClipValue=-t,this.zBottomClipValue=n,n>t&&(this.zTopClipValue=n+1),this.scene.clipPlane=new d["Plane"](0,1,0,this.zTopClipValue),this.scene.clipPlane2=new d["Plane"](0,-1,0,this.zBottomClipValue),this.scene.render()}},{key:"isArcRotateCameraStopped",value:function(t){return 0===t.inertialAlphaOffset&&0===t.inertialBetaOffset&&0===t.inertialRadiusOffset&&0===t.inertialPanningX&&0===t.inertialPanningY}},{key:"init",value:function(){var t=this;console.info("GCode Viewer - Sindarius - ".concat("2.1.17"," ")),this.engine=new c["Engine"](this.canvas,!0,{doNotHandleContextLost:!0}),this.engine.enableOfflineSupport=!1,this.scene=new l["Scene"](this.engine),this.debug,this.scene.clearColor=h["Color3"].FromHexString(this.getBackgroundColor()),this.bed=new Me(this.scene),this.bed.registerClipIgnore=n=>{t.registerClipIgnore(n)};var n=this.bed.getCenter();this.orbitCamera=new b["ArcRotateCamera"]("Camera",Math.PI/2,2.356194,250,new p["Vector3"](n.x,-2,n.y),this.scene),this.orbitCamera.attachControl(!1),this.orbitCamera.invertRotation=!1,this.orbitCamera.attachControl(this.canvas,!1),this.orbitCamera.maxZ=1e5,this.orbitCamera.lowerRadiusLimit=10,this.updateCameraInertiaProperties();var u=new v["PointLight"]("light2",new p["Vector3"](0,1,-1),this.scene);u.diffuse=new h["Color3"](1,1,1),u.specular=new h["Color3"](1,1,1),this.engine.runRenderLoop(()=>{t.pause||Date.now()-t.gcodeProcessor.lastUpdate>t.renderTimeout&&t.isArcRotateCameraStopped(t.orbitCamera)||(t.scene.render(!0,!0),u.position=t.scene.cameras[0].position)}),this.buildObjects=new Te(this.scene),this.buildObjects.getMaxHeight=()=>t.gcodeProcessor.getMaxHeight(),this.buildObjects.registerClipIgnore=n=>{t.registerClipIgnore(n)},this.bed.buildBed(),this.axes=new Se(this.scene),this.axes.registerClipIgnore=n=>{t.registerClipIgnore(n)},this.axes.render(),this.resetCamera()}},{key:"resize",value:function(){this.engine.resize(),this.scene.render(!0,!0)}},{key:"refreshUI",value:function(){setTimeout(()=>{},0)}},{key:"resetCamera",value:function(){var t=this.bed.getCenter(),n=this.bed.getSize();this.scene.activeCamera.alpha=Math.PI/2,this.scene.activeCamera.beta=2.356194,this.bed.isDelta?(this.scene.activeCamera.radius=t.x,this.scene.activeCamera.target=new p["Vector3"](t.x,-2,t.y),this.scene.activeCamera.position=new p["Vector3"](-n.x,n.z,-n.x)):(this.scene.activeCamera.radius=250,this.scene.activeCamera.target=new p["Vector3"](t.x,-2,t.y),this.scene.activeCamera.position=new p["Vector3"](-n.x/2,n.z,-n.y/2)),this.scene.render(!0,!0)}},{key:"lastLoadFailed",value:function(){return!!localStorage&&"true"===localStorage.getItem(this.lastLoadKey)}},{key:"setLoadFlag",value:function(){localStorage&&localStorage.setItem(this.lastLoadKey,"true")}},{key:"clearLoadFlag",value:function(){localStorage&&(localStorage.setItem(this.lastLoadKey,""),localStorage.removeItem(this.lastLoadKey))}},{key:"processFile",value:(n=P(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.clearScene(),this.refreshUI(),t?(this.fileData=t,this.fileSize=t.length):(this.fileData=0,this.fileSize=0),this.gcodeProcessor.setProgressColor(this.getProgressColor()),this.gcodeProcessor.scene=this.scene,this.lastLoadFailed()&&(console.error("Last rendering failed dropping to SBC quality"),this.updateRenderQuality(1),this.clearLoadFlag()),this.setLoadFlag(),n.next=9,this.gcodeProcessor.processGcodeFile(t,this.renderQuality);case 9:return this.clearLoadFlag(),n.next=12,this.gcodeProcessor.createMesh(this.scene);case 12:this.gcodeProcessor.loadingComplete(),this.maxHeight=this.gcodeProcessor.getMaxHeight(),this.minHeight=this.gcodeProcessor.getMinHeight(),this.toggleTravels(this.travelVisible),this.setCursorVisiblity(this.toolCursorVisible);case 17:case"end":return n.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})},{key:"toggleTravels",value:function(t){var n,u=function(t,n){var u="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!u){if(Array.isArray(t)||(u=H(t))||n&&t&&"number"==typeof t.length){u&&(t=u);var c=0,s=()=>{};return{s:s,n:()=>c>=t.length?{done:!0}:{done:!1,value:t[c++]},e:t=>{throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,d=!0,h=!1;return{s:()=>{u=u.call(t)},n:()=>{var t=u.next();return d=t.done,t},e:t=>{h=!0,l=t},f:()=>{try{d||null==u.return||u.return()}finally{if(h)throw l}}}}(this.scene.meshes);try{for(u.s();!(n=u.n()).done;){var c=n.value;"travels"===c.name&&(c.isVisible=t)}}catch(t){u.e(t)}finally{u.f()}this.travelVisible=t,this.scene.render(!0,!0)}},{key:"getProgressColor",value:function(){var t=localStorage.getItem("progressColor");return null===t&&(t="#FFFFFF"),t}},{key:"setProgressColor",value:function(t){localStorage.setItem("progressColor",t),this.gcodeProcessor.setProgressColor(t)}},{key:"getBackgroundColor",value:function(){var t=localStorage.getItem("sceneBackgroundColor");return null===t&&(t="#000000"),t}},{key:"setBackgroundColor",value:function(t){null!==this.scene&&void 0!==this.scene&&(t.length>7&&(t=t.substring(0,7)),this.scene.clearColor=h["Color3"].FromHexString(t),this.scene.render()),localStorage.setItem("sceneBackgroundColor",t)}},{key:"clearScene",value:function(t){this.fileData&&t&&(this.fileData=""),this.gcodeProcessor.unregisterEvents();for(var n=this.scene.meshes.length-1;n>=0;n--){var u=this.scene.meshes[n];u&&this.debug&&console.log("Disposing ".concat(u.name)),this.scene.removeMesh(u),u&&"function"==typeof u.dispose&&u.dispose(!1,!0)}for(var c=this.scene.materials.length-1;c>=0;c--){var l=this.scene.materials[c];"solidMaterial"===l.name&&(l&&this.debug&&console.log("Disposing ".concat(l.name)),this.scene.removeMaterial(l),l&&"function"==typeof l.dispose&&l.dispose(!1,!0))}this.toolCursor&&(this.toolCursor.dispose(!1,!0),this.toolCursor=void 0),this.buildtoolCursor(),this.bed.buildBed(),this.axes.render()}},{key:"reload",value:(t=P(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearScene(),t.next=3,this.processFile(this.fileData);case 3:case"end":return t.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getRenderMode",value:function(){return this.gcodeProcessor.renderMode}},{key:"setCursorVisiblity",value:function(t){void 0!==this.scene&&(void 0===this.toolCursor&&this.buildtoolCursor(),this.toolCursorMesh.isVisible=t,this.toolCursorVisible=t,this.scene.render())}},{key:"updateToolPosition",value:function(t){var n=0,u=0,c=0;this.buildtoolCursor();for(var l=0;l<t.length;l++){switch(t[l].axes){case"X":n=t[l].position;break;case"Y":u=t[l].position;break;case"Z":c=t[l].position*(this.gcodeProcessor.spreadLines?this.gcodeProcessor.spreadLineAmount:1)}this.toolCursor.setAbsolutePosition(new p["Vector3"](n,c,u)),this.toolCursorMesh.isVisible&&this.scene.render()}}},{key:"buildtoolCursor",value:function(){void 0===this.toolCursor&&(this.toolCursor=new g["TransformNode"]("toolCursorContainer"),this.toolCursorMesh=_["MeshBuilder"].CreateCylinder("toolCursorMesh",{diameterTop:0,diameterBottom:1},this.scene),this.toolCursorMesh.parent=this.toolCursor,this.toolCursorMesh.position=new p["Vector3"](0,3,0),this.toolCursorMesh.rotate(m["Axis"].X,Math.PI,m["Space"].LOCAL),this.toolCursorMesh.scaling=new p["Vector3"](3,3,3),this.toolCursorMesh.isVisible=this.toolCursorVisible,this.toolCursorMesh.renderingGroupId=2,this.registerClipIgnore(this.toolCursorMesh))}},{key:"updateRenderQuality",value:function(t){this.renderQuality=t,localStorage&&localStorage.setItem("renderQuality",t)}},{key:"registerClipIgnore",value:function(t){var n=this;null!=t&&(t.onBeforeRenderObservable.add(()=>{n.scene.clipPlane=null,n.scene.clipPlane2=null}),t.onAfterRenderObservable.add(()=>{n.scene.clipPlane=new d["Plane"](0,1,0,n.zTopClipValue),n.scene.clipPlane2=new d["Plane"](0,-1,0,n.zBottomClipValue)}))}},{key:"updateCameraInertiaProperties",value:function(){this.cameraInertia?(this.orbitCamera.speed=2,this.orbitCamera.inertia=.9,this.orbitCamera.panningInertia=.9,this.orbitCamera.inputs.attached.keyboard.angularSpeed=.005,this.orbitCamera.inputs.attached.keyboard.zoomingSensibility=2,this.orbitCamera.inputs.attached.keyboard.panningSensibility=2,this.orbitCamera.angularSensibilityX=1e3,this.orbitCamera.angularSensibilityY=1e3,this.orbitCamera.panningSensibility=10,this.orbitCamera.wheelPrecision=1):(this.orbitCamera.speed=500,this.orbitCamera.inertia=0,this.orbitCamera.panningInertia=0,this.orbitCamera.inputs.attached.keyboard.angularSpeed=.05,this.orbitCamera.inputs.attached.keyboard.zoomingSensibility=.5,this.orbitCamera.inputs.attached.keyboard.panningSensibility=.5,this.orbitCamera.angularSensibilityX=200,this.orbitCamera.angularSensibilityY=200,this.orbitCamera.panningSensibility=2,this.orbitCamera.wheelPrecision=.25)}},{key:"setCameraInertia",value:function(t){this.cameraInertia=t,localStorage.setItem("cameraInertia",t),this.updateCameraInertiaProperties()}},{key:"forceRender",value:function(){this.scene&&this.scene.render(!0,!0)}}]),i}()},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);u("./node_modules/core-js/modules/es.string.starts-with.js"),u("./node_modules/core-js/modules/es.string.pad-end.js");n["default"]={props:["editcolor"],data:function data(){return{internalTextColor:"#000000",color:"#000000",menu:!1}},computed:{backgroundColorStyle:function backgroundColorStyle(){return{minWidth:"220px",backgroundColor:this.color}},swatchStyle:function swatchStyle(){var t=this.color,n=this.menu;return{backgroundColor:t,cursor:"pointer",height:"30px",width:"30px",borderRadius:n?"50%":"4px",transition:"border-radius 200ms ease-in-out"}}},mounted:function mounted(){this.color=this.editcolor,this.internalTextColor=this.editcolor},methods:{updateValue:function updateValue(t){this.color=t,t.startsWith("#")||(this.color="#"+t),this.color=this.color.toUpperCase().padEnd(7,"0").substring(0,7),this.internalTextColor=this.color,this.$emit("updatecolor",this.color)}},watch:{editcolor:{handler:function handler(t){this.color=t,this.internalTextColor=t}}}}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=(u("./node_modules/core-js/modules/es.array.filter.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.function.name.js"),u("./node_modules/vuex/dist/vuex.esm.js"));n["default"]={data:function data(){return{}},computed:Object(c["default"])(Object(c["default"])({},Object(l["mapState"])("machine/model",["file","move","heat","tools"])),{},{visibleAxes:function visibleAxes(){return this.move.axes.filter((function(t){return t.visible}))}}),methods:{displayAxisPosition:function displayAxisPosition(t){var n=t.userPosition;return"Z"===t.letter?this.$displayZ(n,!1):this.$display(n,1)},getHeaterInfo:function getHeaterInfo(t){return this.heat.heaters[t]},getToolLabel:function getToolLabel(t,n){return void 0===n?"":""===t.name?"Tool "+n:t.name},getBedLabel:function getBedLabel(t){return this.heat.bedHeaters.length<=2?"Bed":"Bed "+t},getChamberLabel:function getChamberLabel(t){return this.heat.chamberHeaters.length<=2?"Chamber":"Chamber "+t}}}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);var c,l=u("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),d=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),h=(u("./node_modules/regenerator-runtime/runtime.js"),u("./node_modules/core-js/modules/es.function.name.js"),u("./node_modules/core-js/modules/es.string.includes.js"),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/@sindarius/gcodeviewer/dist/sindarius-gcodeviewer.es.js")),p=u("./node_modules/vuex/dist/vuex.esm.js"),m=u("./src/utils/path.js"),_=u("./src/store/machine/modelEnums.js"),g=u("./src/store/index.js");n["default"]={data:function data(){return{drawer:!1,backgroundColor:"#000000FF",progressColor:"#FFFFFFFF",viewerHeight:"400px",testValue:"Test",loading:!1,testData:"",showCursor:!1,showTravelLines:!1,selectedFile:"",nthRow:1,renderQuality:1,debugVisible:!1,maxHeight:0,minHeight:0,sliderHeight:0,sliderBottomHeight:0,forceWireMode:!1,vertexAlpha:!1,showObjectSelection:!1,objectDialogData:{showDialog:!1,info:{}},hoverLabel:"",bedRenderMode:0,showAxes:!0,showObjectLabels:!0,fullscreen:!1,bedColor:"",colorMode:0,minColorRate:20,maxColorRate:60,maxFileFeedRate:0,minFeedColor:"#0000FF",maxFeedColor:"#FF0000",cameraInertia:!0,loadingProgress:0,loadingMessage:"",showOverlay:!0,scrubPosition:0,scrubFileSize:0,scrubPlaying:!1,scrubInterval:null,colorDebounce:null,scrubSpeed:1,g1AsExtrusion:!1,resizeDebounce:null}},computed:Object(d["default"])(Object(d["default"])(Object(d["default"])({},Object(p["mapState"])("machine/model",["job","move","state"])),Object(p["mapState"])("machine/cache",{pluginCache:function pluginCache(t){return t.plugins.GCodeViewer}})),{},{isJobRunning:function isJobRunning(t){return Object(_["isPrinting"])(t.state.status)},visualizingCurrentJob:function visualizingCurrentJob(t){try{return t.job.file.fileName===this.selectedFile&&this.isJobRunning}catch(n){return!1}},filePosition:function filePosition(t){return t.job.filePosition},fileSize:function fileSize(t){return t.job.file.size},kinematicsName:function kinematicsName(t){return t.move.kinematics.name},isDelta:function isDelta(){return this.kinematicsName===_["KinematicsName"].delta||this.kinematicsName===_["KinematicsName"].rotaryDelta},canCancelObject:function canCancelObject(){try{var t,n;return!(!this.isJobRunning||(null===(t=this.job.build)||void 0===t||null===(n=t.objects)||void 0===n?void 0:n.length)<=0)&&this.visualizingCurrentJob}catch(u){return!1}},jobSelectionLabel:function jobSelectionLabel(){var t=this.$t("plugins.gcodeViewer.showObjectSelection.caption");return this.canCancelObject&&this.job.build.objects&&(t+=" ("+this.job.build.objects.length+")"),t},toolColors:{get:function get(){return this.pluginCache.toolColors},set:function set(t){Object(g["setPluginData"])("GCodeViewer",g["PluginDataType"].machineCache,"toolColors",t)}},useHQRendering:{get:function get(){return this.pluginCache.useHQRendering},set:function set(t){Object(g["setPluginData"])("GCodeViewer",g["PluginDataType"].machineCache,"useHQRendering",t)}},specular:{get:function get(){return this.pluginCache.useSpecular},set:function set(t){Object(g["setPluginData"])("GCodeViewer",g["PluginDataType"].machineCache,"useSpecular",t)}}}),mounted:function mounted(){var t=this;if(c=new h["default"](this.$refs.viewerCanvas),c.init(),c.buildObjects.objectCallback=this.objectSelectionCallback,c.buildObjects.labelCallback=function(n){t.showObjectSelection?t.hoverLabel=n:t.hoverLabel=""},this.showObjectLabels=c.buildObjects.showLabel,this.move.axes){for(var n in this.move.axes){var u=this.move.axes[n];if("XYZ".includes(u.letter)){var d=u.letter.toLowerCase();c.bed.buildVolume[d].min=u.min,c.bed.buildVolume[d].max=u.max}}c.bed.commitBedSize()}this.cameraInertia=c.cameraInertia,c.bed.setDelta(this.isDelta),this.bedRenderMode=c.bed.renderMode,this.bedColor=c.bed.getBedColor(),this.showAxes=c.axes.visible,c.gcodeProcessor.useSpecularColor(this.specular),this.colorMode=c.gcodeProcessor.colorMode,this.minFeedColor=c.gcodeProcessor.minFeedColorString,this.maxFeedColor=c.gcodeProcessor.maxFeedColorString,this.minColorRate=c.gcodeProcessor.minColorRate/60,this.maxColorRate=c.gcodeProcessor.maxColorRate/60,this.forceWireMode=c.gcodeProcessor.forceWireMode,this.showCursor="true"===localStorage.getItem("showCursor"),this.g1AsExtrusion=c.gcodeProcessor.g1AsExtrusion,c.lastLoadFailed()&&(this.renderQuality=1,c.updateRenderQuality(1),this.$makeNotification("warning","GCode Viewer",this.$t("plugins.gcodeViewer.renderFailed"),5e3),c.clearLoadFlag()),c.setCursorVisiblity(this.showCursor),this.renderQuality=c.renderQuality,this.backgroundColor=c.getBackgroundColor(),this.progressColor=c.getProgressColor(),c.gcodeProcessor.useHighQualityExtrusion(this.useHQRendering),c.gcodeProcessor.loadingProgressCallback=function(n,u){t.loadingProgress=Math.ceil(100*n),t.loadingMessage=null!==u&&void 0!==u?u:""},this.viewModelEvent=function(){var n=Object(l["default"])(regeneratorRuntime.mark((function _callee(n){var u;return regeneratorRuntime.wrap((function _callee$(l){while(1)switch(l.prev=l.next){case 0:return t.selectedFile=n,l.prev=1,l.next=4,t.machineDownload({filename:m["default"].combine(n),type:"text"});case 4:return u=l.sent,t.loading=!0,t.preLoadSettings(),l.next=9,c.processFile(u);case 9:c.gcodeProcessor.setLiveTracking(t.visualizingCurrentJob),t.setGCodeValues();case 11:return l.prev=11,t.loading=!1,l.finish(11);case 14:case"end":return l.stop()}}),_callee,null,[[1,,11,14]])})));return function(t){return n.apply(this,arguments)}}(),this.$root.$on("view-3d-model",this.viewModelEvent),this.$nextTick((function(){c.gcodeProcessor.resetTools();for(var n=0;n<t.toolColors.length;n++)c.gcodeProcessor.addTool(t.toolColors[n],.4)})),window.addEventListener("keyup",(function(n){var u=n.key||n.keyCode;"Escape"!==u&&"Esc"!==u&&27!==u||(t.fullscreen=!1)})),window.addEventListener("resize",(function(){t.$nextTick((function(){t.resize()}))}))},beforeDestroy:function beforeDestroy(){this.$root.$off("view-3d-model",this.viewModelEvent)},methods:Object(d["default"])(Object(d["default"])({},Object(p["mapActions"])("machine",{machineDownload:"download",sendCode:"sendCode"})),{},{updateColor:function updateColor(t,n){var u=this;this.toolColors[t]=n,c.gcodeProcessor.updateTool(n,.4,t),this.colorDebounce&&clearTimeout(this.colorDebounce),this.colorDebounce=setTimeout((function(){Object(g["setPluginData"])("GCodeViewer",g["PluginDataType"].machineCache,"toolColors",u.toolColors)}),1e3)},updateBackground:function updateBackground(t){this.backgroundColor=t,c.setBackgroundColor(this.backgroundColor)},updateProgressColor:function updateProgressColor(t){this.progressColor=t,c.setProgressColor(t)},updateMinFeedColor:function updateMinFeedColor(t){c.gcodeProcessor.updateMinFeedColor(t)},updateMaxFeedColor:function updateMaxFeedColor(t){c.gcodeProcessor.updateMaxFeedColor(t)},updateBedColor:function updateBedColor(t){this.bedColor=t,c.bed.setBedColor(t)},resize:function resize(){var t=this;this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout((function(){var n=getComputedStyle(document.getElementsByClassName("v-toolbar__content")[0]),u=getComputedStyle(document.getElementById("global-container")),l=getComputedStyle(t.$refs.primarycontainer),d=parseInt(n.height)+parseInt(n.paddingTop)+parseInt(n.paddingBottom),h=t.$vuetify.breakpoint.smAndDown?0:parseInt(u.height)+parseInt(u.paddingTop)+parseInt(u.paddingBottom),p=window.innerHeight-d-h-parseInt(l.marginTop);t.$refs.primarycontainer.style.height=(p>=300?p:300)+"px",c&&c.resize()}),500)},reset:function reset(){c&&c.resetCamera()},loadRunningJob:function loadRunningJob(){var t=this;return Object(l["default"])(regeneratorRuntime.mark((function _callee2(){var n;return regeneratorRuntime.wrap((function _callee2$(u){while(1)switch(u.prev=u.next){case 0:return t.selectedFile!=t.job.file.fileName&&(t.selectedFile="",c.gcodeProcessor.setLiveTracking(!1),c.clearScene(!0)),t.selectedFile=t.job.file.fileName,u.prev=2,u.next=5,t.machineDownload({filename:t.job.file.fileName,type:"text"});case 5:return n=u.sent,t.loading=!0,c.gcodeProcessor.setLiveTracking(!0),c.gcodeProcessor.updateForceWireMode(t.forceWireMode),c.gcodeProcessor.useHighQualityExtrusion(t.useHQRendering),t.preLoadSettings(),u.next=13,c.processFile(n);case 13:t.setGCodeValues(),c.buildObjects.loadObjectBoundaries(t.job.build.objects);case 15:return u.prev=15,c.gcodeProcessor.updateFilePosition(0),c.gcodeProcessor.forceRedraw(),t.loading=!1,u.finish(15);case 20:case"end":return u.stop()}}),_callee2,null,[[2,,15,20]])})))()},resetExtruderColors:function resetExtruderColors(){this.toolColors=["#00FFFF","#FF00FF","#FFFF00","#000000","#FFFFFF"]},reloadviewer:function reloadviewer(){var t=this;return Object(l["default"])(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(n){while(1)switch(n.prev=n.next){case 0:if(!t.loading){n.next=2;break}return n.abrupt("return");case 2:return t.loading=!0,t.preLoadSettings(),n.next=6,c.reload();case 6:t.loading=!1,c.setCursorVisiblity(t.showCursor),c.toggleTravels(t.showTravelLines),t.maxHeight=c.getMaxHeight(),t.minHeight=c.getMinHeight(),t.sliderHeight=t.maxHeight,t.maxFileFeedRate=c.gcodeProcessor.maxFeedRate,t.scrubFileSize=c.fileSize,c.gcodeProcessor.forceRedraw(),c.gcodeProcessor.updateFilePosition(t.scrubPosition);try{c.buildObjects.loadObjectBoundaries(t.job.build.objects)}catch(u){}case 17:case"end":return n.stop()}}),_callee3)})))()},clearScene:function clearScene(){this.selectedFile="",c.clearScene(!0)},objectSelectionCallback:function objectSelectionCallback(t){this.objectDialogData.showDialog=!0,this.objectDialogData.info=t},objectDialogCancelObject:function objectDialogCancelObject(){var t=this;return Object(l["default"])(regeneratorRuntime.mark((function _callee4(){var n;return regeneratorRuntime.wrap((function _callee4$(u){while(1)switch(u.prev=u.next){case 0:return t.objectDialogData.showDialog=!1,n=t.objectDialogData.info.cancelled?"U":"P",u.next=4,t.sendCode("M486 ".concat(n).concat(t.objectDialogData.info.index));case 4:t.objectDialogData.info={};case 5:case"end":return u.stop()}}),_callee4)})))()},chooseFile:function chooseFile(){this.isBusy||this.$refs.fileInput.click()},setGCodeValues:function setGCodeValues(){this.maxHeight=c.getMaxHeight(),this.minHeight=c.getMinHeight(),this.sliderHeight=this.maxHeight,this.loading=!1,this.maxFileFeedRate=c.gcodeProcessor.maxFeedRate,this.sliderBottomHeight=this.minHeight<0?this.minHeight:0},preLoadSettings:function preLoadSettings(){c.gcodeProcessor.updateForceWireMode(this.forceWireMode),c.gcodeProcessor.setLiveTracking(this.visualizingCurrentJob),c.gcodeProcessor.useHighQualityExtrusion(this.useHQRendering),this.g1AsExtrusion&&(this.renderQuality=5,c.updateRenderQuality(5),c.gcodeProcessor.g1AsExtrusion=!0,c.gcodeProcessor.updateForceWireMode(!0))},fileSelected:function fileSelected(t){var n=this;return Object(l["default"])(regeneratorRuntime.mark((function _callee6(){var u;return regeneratorRuntime.wrap((function _callee6$(d){while(1)switch(d.prev=d.next){case 0:u=new FileReader,u.addEventListener("load",function(){var t=Object(l["default"])(regeneratorRuntime.mark((function _callee5(t){var u;return regeneratorRuntime.wrap((function _callee5$(l){while(1)switch(l.prev=l.next){case 0:return n.preLoadSettings(),u=t.target.result,l.next=4,c.processFile(u);case 4:n.scrubFileSize=c.fileSize,n.setGCodeValues();case 6:case"end":return l.stop()}}),_callee5)})));return function(n){return t.apply(this,arguments)}}()),n.loading=!0,u.readAsText(t.target.files[0]),t.target.value="";case 5:case"end":return d.stop()}}),_callee6)})))()},toggleFullScreen:function toggleFullScreen(){this.fullscreen=!this.fullscreen,this.$nextTick((function(){c.resize()}))},displayMaxFileFeedRate:function displayMaxFileFeedRate(){if(this.maxFileFeedRate>0)return"(".concat(this.maxFileFeedRate/60,")")},cancelLoad:function cancelLoad(){c.gcodeProcessor.cancelLoad=!0},scrollIntoView:function scrollIntoView(t){setTimeout((function(){t.target.scrollIntoView(!0)}),250)},fastForward:function fastForward(){this.scrubPlaying=!1,this.scrubPosition=this.scrubFileSize}}),activated:function activated(){c.pause=!1,this.resize()},deactivated:function deactivated(){c.pause=!0},watch:{move:{handler:function handler(t){var n=t.axes.map((function(t){return{axes:t.letter,position:t.userPosition}}));c.updateToolPosition(n)},deep:!0},showCursor:function showCursor(t){c.setCursorVisiblity(t),localStorage.setItem("showCursor",t)},showTravelLines:function showTravelLines(t){c.toggleTravels(t)},visualizingCurrentJob:function visualizingCurrentJob(t){0==t&&c.gcodeProcessor.doFinalPass()},filePosition:function filePosition(t){this.visualizingCurrentJob&&c.gcodeProcessor.updateFilePosition(t)},scrubPosition:function scrubPosition(t){this.visualizingCurrentJob||c.gcodeProcessor.updateFilePosition(t)},scrubPlaying:function scrubPlaying(t){var n=this;t?(c.gcodeProcessor.updateFilePosition(this.scrubPosition-3e4),this.scrubInterval=setInterval((function(){n.scrubPlaying&&(n.scrubPosition+=100*n.scrubSpeed,c.gcodeProcessor.updateFilePosition(n.scrubPosition))}),200)):(this.scrubInterval&&clearInterval(this.scrubInterval),this.scrubInterval=null)},nthRow:function nthRow(t){c.gcodeProcessor.everyNthRow=t},renderQuality:function renderQuality(t){c.renderQuality!==t&&(c.updateRenderQuality(t),this.loading||this.reloadviewer())},sliderHeight:function sliderHeight(t){this.sliderBottomHeight>t&&(this.sliderBottomHeight=t-1),c.setZClipPlane(t+1,this.sliderBottomHeight)},sliderBottomHeight:function sliderBottomHeight(t){this.sliderHeight<t&&(this.sliderHeight=t+1),c.setZClipPlane(this.sliderHeight,t-1)},vertexAlpha:function vertexAlpha(t){c.gcodeProcessor.setAlpha(t),this.reloadviewer()},"job.build.objects":{deep:!0,handler:function handler(t){c&&c.buildObjects&&c.buildObjects.loadObjectBoundaries(t)}},showObjectSelection:function showObjectSelection(t){this.canCancelObject?(c.buildObjects.loadObjectBoundaries(this.job.build.objects),c.buildObjects.showObjectSelection(t)):(this.showObjectSelection=!1,this.hoverLabel="")},isJobRunning:function isJobRunning(t){t||(c.gcodeProcessor.setLiveTracking(!1),c.gcodeProcessor.doFinalPass())},selectedFile:function selectedFile(){this.showObjectSelection=!1,c.gcodeProcessor.updateFilePosition(0)},bedRenderMode:function bedRenderMode(t){c.bed.setRenderMode(t)},isDelta:function isDelta(t){c.bed.setDelta(t),c.resetCamera()},showAxes:function showAxes(t){c.axes.show(t)},showObjectLabels:function showObjectLabels(t){c.buildObjects.showLabels(t)},forceWireMode:function forceWireMode(t){c.gcodeProcessor.updateForceWireMode(t),this.reloadviewer()},useHQRendering:function useHQRendering(t){c.gcodeProcessor.useHighQualityExtrusion(t)},colorMode:function(){var t=Object(l["default"])(regeneratorRuntime.mark((function _callee7(t){return regeneratorRuntime.wrap((function _callee7$(n){while(1)switch(n.prev=n.next){case 0:return c.gcodeProcessor.setColorMode(t),n.next=3,this.reloadviewer();case 3:case"end":return n.stop()}}),_callee7,this)})));function colorMode(n){return t.apply(this,arguments)}return colorMode}(),minColorRate:function minColorRate(t){c.gcodeProcessor.updateColorRate(60*t,60*this.maxColorRate)},maxColorRate:function maxColorRate(t){c.gcodeProcessor.updateColorRate(60*this.minColorRate,60*t)},cameraInertia:function cameraInertia(t){c.setCameraInertia(t)},$route:function $route(){this.resize()},loading:function loading(t){t||(this.loadingProgress=0)},specular:function specular(t){c.gcodeProcessor.useSpecularColor(t)},g1AsExtrusion:function(){var t=Object(l["default"])(regeneratorRuntime.mark((function _callee8(t){return regeneratorRuntime.wrap((function _callee8$(n){while(1)switch(n.prev=n.next){case 0:return c.gcodeProcessor.g1AsExtrusion=t,n.next=3,this.reloadviewer();case 3:case"end":return n.stop()}}),_callee8,this)})));function g1AsExtrusion(n){return t.apply(this,arguments)}return g1AsExtrusion}()}}},"./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);u("./node_modules/core-js/modules/es.number.constructor.js");var c=u("./src/plugins/GCodeViewer/Gauge/gauge.js");n["default"]={props:{label:String,max:Number,curval:Number,settemp:Number,state:String},data:function data(){return{gauge:Object}},mounted:function mounted(){var t=this;this.gauge=new c["default"](this.$refs.gaugeContainer),this.gauge.max=this.max,this.gauge.setTemperature=this.settemp,this.updateGauge(),setTimeout((function(){t.updateGauge()}),200)},beforeDestroy:function beforeDestroy(){},watch:{max:function max(t){this.gauge.max=t,this.updateGauge()},curval:function curval(){this.updateGauge()},state:function state(){this.updateGauge()},settemp:function settemp(t){this.gauge.setTemperature=t,this.updateGauge()}},methods:{getTitle:function getTitle(){return""},updateGauge:function updateGauge(){this.gauge.update(this.curval),this.gauge.updateState(this.state)}}}},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=template&id=15422c22&scoped=true&':function(t,n,u){"use strict";u.r(n),u.d(n,"render",(function(){return render})),u.d(n,"staticRenderFns",(function(){return c}));var render=function(){var t=this,n=t.$createElement,u=t._self._c||n;return u("v-row",{attrs:{justify:"center",align:"center"}},[u("v-col",{staticClass:"shrink",style:[t.backgroundColorStyle]},[u("v-text-field",{staticClass:"ma-0 pa-0",attrs:{"hide-details":"",solo:""},on:{blur:function(n){return t.updateValue(t.internalTextColor)},keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.updateValue(t.internalTextColor)}},scopedSlots:t._u([{key:"append",fn:function(){return[u("v-menu",{attrs:{top:"","nudge-bottom":"105","nudge-left":"16","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(n){var c=n.on;return[u("div",t._g({style:t.swatchStyle},c))]}}]),model:{value:t.menu,callback:function(n){t.menu=n},expression:"menu"}},[u("v-card",[u("v-card-text",{staticClass:"pa-0"},[u("v-color-picker",{staticClass:"index-placement",attrs:{flat:""},on:{input:function(n){return t.updateValue(t.color)}},model:{value:t.color,callback:function(n){t.color=n},expression:"color"}})],1)],1)],1)]},proxy:!0}]),model:{value:t.internalTextColor,callback:function(n){t.internalTextColor=n},expression:"internalTextColor"}})],1)],1)},c=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=template&id=5ea0f4d4&scoped=true&':function(t,n,u){"use strict";u.r(n),u.d(n,"render",(function(){return render})),u.d(n,"staticRenderFns",(function(){return c}));var render=function(){var t=this,n=t.$createElement,u=t._self._c||n;return u("div",{staticClass:"container"},[u("div",{staticClass:"axes-container"},[u("v-card",{staticClass:"axes"},[u("v-card-text",[u("strong",[t._v("Tool Position")]),u("v-row",{attrs:{"no-gutters":""}},t._l(t.visibleAxes,(function(n,c){return u("v-col",{key:c,staticClass:"d-flex flex-column align-center"},[u("strong",[t._v(" "+t._s(n.letter)+" ")]),u("span",[t._v(" "+t._s(t.displayAxisPosition(n,c))+" ")])])})),1)],1)],1)],1),u("div",{staticClass:"heater-container"},[u("v-card",{directives:[{name:"show",rawName:"v-show",value:t.heat.heaters.length>0,expression:"heat.heaters.length > 0"}]},[u("v-card-text",[u("strong",[t._v("Temperatures")]),t._l(t.tools,(function(n,c){return t._l(n.heaters,(function(l,d){return u("v-row",{key:"Tool "+10*c+d,attrs:{dense:"",align:"center",justify:"center"}},[l>=0?[u("v-col",{attrs:{cols:"12",data:t.heater=t.getHeaterInfo(l)}},[t.heater?[u("gcodeviewer-gauge",{staticClass:"gauges",attrs:{max:t.heater.max,min:0,curval:t.heater.current,settemp:n.active[0],label:t.getToolLabel(n,c),"tool-type":"t","tool-number":n.number,state:t.heater.state}})]:t._e()],2)]:t._e()],2)}))})),t._l(t.heat.bedHeaters,(function(n,c){return u("v-row",{key:"heater"+c,attrs:{dense:"",align:"center",justify:"center"}},[n>=0?[u("v-col",{attrs:{cols:"12",data:t.heater=t.getHeaterInfo(n)}},[t.heater?[u("gcodeviewer-gauge",{staticClass:"gauges",attrs:{max:120,curval:t.heater.current,settemp:t.heater.active,label:t.getBedLabel(c),"tool-type":"b","tool-number":c,state:t.heater.state}})]:t._e()],2)]:t._e()],2)})),t._l(t.heat.chamberHeaters,(function(n,c){return u("v-row",{key:c,attrs:{dense:"",align:"center",justify:"center"}},[n>=0?[u("v-col",{attrs:{cols:"12",data:t.heater=t.getHeaterInfo(n)}},[t.heater?[u("gcodeviewer-gauge",{staticClass:"gauges",attrs:{max:120,curval:t.heater.current,settemp:t.heater.active,label:t.getChamberLabel(c),"tool-type":"c","tool-number":c,state:t.heater.state}})]:t._e()],2)]:t._e()],2)}))],2)],1)],1)])},c=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=template&id=2c5083ec&scoped=true&':function(t,n,u){"use strict";u.r(n),u.d(n,"render",(function(){return render})),u.d(n,"staticRenderFns",(function(){return c}));var render=function(){var t=this,n=t.$createElement,u=t._self._c||n;return u("div",{directives:[{name:"resize",rawName:"v-resize",value:t.resize,expression:"resize"}],ref:"primarycontainer",staticClass:"primary-container mt-2"},[u("div",{staticClass:"viewer-box",class:{"full-screen":t.fullscreen}},[u("div",{directives:[{name:"show",rawName:"v-show",value:t.fullscreen,expression:"fullscreen"}],staticClass:"emergency-button-placement"},[u("code-btn",{attrs:{code:"M112\nM999",log:!1,title:t.$t("button.emergencyStop.title"),color:"error"}},[u("v-icon",[t._v("mdi-flash")])],1)],1),u("canvas",{ref:"viewerCanvas",staticClass:"babylon-canvas",attrs:{title:t.hoverLabel}}),u("fs-overlay",{directives:[{name:"show",rawName:"v-show",value:t.fullscreen&&t.showOverlay,expression:"fullscreen && showOverlay"}]}),u("div",{staticClass:"loading-progress"},[u("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"disable-transition",attrs:{value:t.loadingProgress,height:"15",rounded:""}},[t._v(t._s(t.loadingProgress)+"% "+t._s(t.loadingMessage))])],1),u("div",{staticClass:"button-container",class:{"button-container-drawer":t.drawer}},[u("v-btn",{staticClass:"full-screen-icon mb-2",attrs:{title:t.$t("plugins.gcodeViewer.fullscreen"),color:"secondary",small:""},on:{click:t.toggleFullScreen}},[u("v-icon",[t._v(t._s(t.fullscreen?"mdi-window-restore":"mdi-window-maximize"))])],1),u("br"),u("v-btn",{staticClass:"toggle-menu-button-close mb-10",attrs:{title:t.$t("plugins.gcodeViewer.showConfiguration"),color:"secondary",small:""},on:{click:function(n){t.drawer=!t.drawer}}},[u("v-icon",[t._v("mdi-cog")])],1),u("br"),u("v-btn",{directives:[{name:"show",rawName:"v-show",value:!(!t.isJobRunning||t.loading||t.visualizingCurrentJob),expression:"!(!isJobRunning || loading || visualizingCurrentJob)"}],staticClass:"toggle-menu-button-close mb-10",attrs:{title:t.$t("plugins.gcodeViewer.loadCurrentJob.title"),color:"secondary",small:""},on:{click:t.loadRunningJob}},[u("v-icon",[t._v("mdi-printer-3d")])],1),u("br"),u("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"toggle-menu-button-close",attrs:{title:t.$t("plugins.gcodeViewer.cancelLoad"),color:"warning",small:""},on:{click:t.cancelLoad}},[u("v-icon",{attrs:{color:"red"}},[t._v("mdi-cancel")])],1)],1),u("v-navigation-drawer",{attrs:{permanent:t.drawer,absolute:"",width:"350px"},model:{value:t.drawer,callback:function(n){t.drawer=n},expression:"drawer"}},[u("v-card",[u("v-btn",{attrs:{title:t.$t("plugins.gcodeViewer.resetCamera.title"),block:"",color:"primary"},on:{click:t.reset}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-camera")]),t._v(" "+t._s(t.$t("plugins.gcodeViewer.resetCamera.caption"))+" ")],1),u("v-btn",{staticClass:"mt-2",attrs:{disabled:t.loading,title:t.$t("plugins.gcodeViewer.reloadView.title"),block:"",color:"primary"},on:{click:t.reloadviewer}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-reload-alert")]),t._v(" "+t._s(t.$t("plugins.gcodeViewer.reloadView.caption"))+" ")],1),u("v-btn",{staticClass:"mt-2",attrs:{disabled:!t.isJobRunning||t.loading||t.visualizingCurrentJob,title:t.$t("plugins.gcodeViewer.loadCurrentJob.title"),block:"",color:"secondary"},on:{click:t.loadRunningJob}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-printer-3d")]),t._v(" "+t._s(t.$t("plugins.gcodeViewer.loadCurrentJob.caption"))+" ")],1),u("v-btn",{staticClass:"mt-2",attrs:{disabled:t.loading,title:t.$t("plugins.gcodeViewer.unloadGCode.title"),block:"",color:"primary"},on:{click:t.clearScene}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-video-3d-off")]),t._v(" "+t._s(t.$t("plugins.gcodeViewer.unloadGCode.caption"))+" ")],1),u("v-btn",{staticClass:"mt-2",attrs:{disabled:t.loading,title:t.$t("plugins.gcodeViewer.loadLocalGCode.title"),block:"",color:"primary"},on:{click:t.chooseFile}},[u("v-icon",[t._v("mdi-file")]),t._v(" "+t._s(t.$t("plugins.gcodeViewer.loadLocalGCode.caption"))+" ")],1),u("input",{ref:"fileInput",attrs:{accept:".g,.gcode,.gc,.gco,.nc,.ngc,.tap",hidden:"",multiple:"",type:"file"},on:{change:t.fileSelected}}),u("v-switch",{staticClass:"mt-4",attrs:{disabled:!t.canCancelObject,label:t.jobSelectionLabel,title:t.$t("plugins.gcodeViewer.showObjectSelection.title")},model:{value:t.showObjectSelection,callback:function(n){t.showObjectSelection=n},expression:"showObjectSelection"}}),u("v-switch",{attrs:{label:t.$t("plugins.gcodeViewer.showCursor")},model:{value:t.showCursor,callback:function(n){t.showCursor=n},expression:"showCursor"}}),u("v-switch",{attrs:{label:t.$t("plugins.gcodeViewer.showTravels")},model:{value:t.showTravelLines,callback:function(n){t.showTravelLines=n},expression:"showTravelLines"}})],1),u("v-expansion-panels",[u("v-expansion-panel",{on:{click:t.scrollIntoView}},[u("v-expansion-panel-header",{attrs:{title:t.$t("plugins.gcodeViewer.renderQuality.title")}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-checkerboard")]),u("strong",[t._v(t._s(t.$t("plugins.gcodeViewer.renderQuality.caption")))])],1),u("v-expansion-panel-content",{attrs:{eager:""}},[u("v-btn-toggle",{staticClass:"btn-toggle d-flex",attrs:{block:"",exclusive:""},model:{value:t.renderQuality,callback:function(n){t.renderQuality=n},expression:"renderQuality"}},[u("v-btn",{attrs:{disabled:t.loading,value:1,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.sbc")))]),u("v-btn",{attrs:{disabled:t.loading,value:2,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.low")))]),u("v-btn",{attrs:{disabled:t.loading,value:3,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.medium")))]),u("v-btn",{attrs:{disabled:t.loading,value:4,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.high")))]),u("v-btn",{attrs:{disabled:t.loading,value:5,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.ultra")))]),u("v-btn",{attrs:{disabled:t.loading,value:6,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.max")))])],1),u("v-checkbox",{staticClass:"mt-4",attrs:{label:t.$t("plugins.gcodeViewer.useHQRendering")},model:{value:t.useHQRendering,callback:function(n){t.useHQRendering=n},expression:"useHQRendering"}}),u("v-checkbox",{attrs:{label:t.$t("plugins.gcodeViewer.forceLineRendering")},model:{value:t.forceWireMode,callback:function(n){t.forceWireMode=n},expression:"forceWireMode"}}),u("v-checkbox",{attrs:{label:t.$t("plugins.gcodeViewer.transparency")},model:{value:t.vertexAlpha,callback:function(n){t.vertexAlpha=n},expression:"vertexAlpha"}}),u("v-checkbox",{attrs:{label:t.$t("plugins.gcodeViewer.useSpecular")},model:{value:t.specular,callback:function(n){t.specular=n},expression:"specular"}})],1)],1),u("v-expansion-panel",{on:{click:t.scrollIntoView}},[u("v-expansion-panel-header",{attrs:{title:t.$t("plugins.gcodeViewer.extruders.title")}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-printer-3d-nozzle")]),u("strong",[t._v(t._s(t.$t("plugins.gcodeViewer.extruders.caption")))])],1),u("v-expansion-panel-content",[u("v-btn",{staticClass:"mb-2",attrs:{disabled:t.loading,title:t.$t("plugins.gcodeViewer.reloadView.title"),block:"",color:"primary"},on:{click:t.reloadviewer}},[t._v(t._s(t.$t("plugins.gcodeViewer.reloadView.caption")))]),t._l(t.toolColors,(function(n,c){return u("v-card",{key:c},[u("v-card-title",[u("h3",[t._v(t._s(t.$t("plugins.gcodeViewer.tool",[c])))])]),u("v-card-text",[u("gcodeviewer-color-picker",{attrs:{editcolor:n},on:{updatecolor:function(n){t.updateColor(c,n)}}})],1)],1)})),u("v-card",[u("v-btn",{staticClass:"mt-4",attrs:{block:"",color:"warning"},on:{click:t.resetExtruderColors}},[t._v(t._s(t.$tc("plugins.gcodeViewer.resetColor",t.toolColors.length)))])],1)],2)],1),u("v-expansion-panel",{on:{click:t.scrollIntoView}},[u("v-expansion-panel-header",{attrs:{title:t.$t("plugins.gcodeViewer.renderMode.title")}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-palette")]),u("strong",[t._v(t._s(t.$tc("plugins.gcodeViewer.renderMode.caption",2)))])],1),u("v-expansion-panel-content",[u("v-card",[u("h4",[t._v(t._s(t.$tc("plugins.gcodeViewer.renderMode".caption,2)))]),u("v-btn-toggle",{staticClass:"btn-toggle d-flex",attrs:{block:"",exclusive:""},model:{value:t.colorMode,callback:function(n){t.colorMode=n},expression:"colorMode"}},[u("v-btn",{attrs:{disabled:t.loading,value:0,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.color")))]),u("v-btn",{attrs:{disabled:t.loading,value:1,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.feedrate")))]),u("v-btn",{attrs:{disabled:t.loading,value:2,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.feature")))])],1),u("v-checkbox",{staticClass:"mt-3",attrs:{label:t.$t("plugins.gcodeViewer.g1AsExtrusion")},model:{value:t.g1AsExtrusion,callback:function(n){t.g1AsExtrusion=n},expression:"g1AsExtrusion"}}),u("h4",[t._v(t._s(t.$t("plugins.gcodeViewer.minFeedrate")))]),u("v-slider",{attrs:{max:500,min:5,"thumb-label":""},model:{value:t.minColorRate,callback:function(n){t.minColorRate=n},expression:"minColorRate"}}),u("h4",[t._v(t._s(t.$t("plugins.gcodeViewer.maxFeedrate")))]),u("v-slider",{attrs:{max:500,min:5,"thumb-label":""},model:{value:t.maxColorRate,callback:function(n){t.maxColorRate=n},expression:"maxColorRate"}})],1),u("v-card",[u("v-card-title",[u("h4",[t._v(t._s(t.$t("plugins.gcodeViewer.minFeedrateColor")))])]),u("v-card-text",[u("gcodeviewer-color-picker",{attrs:{editcolor:t.minFeedColor},on:{updatecolor:function(n){return t.updateMinFeedColor(n)}}})],1)],1),u("v-card",[u("v-card-title",[u("h4",[t._v(t._s(t.$t("plugins.gcodeViewer.maxFeedrateColor")))])]),u("v-card-text",[u("gcodeviewer-color-picker",{attrs:{editcolor:t.maxFeedColor},on:{updatecolor:function(n){return t.updateMaxFeedColor(n)}}})],1)],1),u("v-btn",{staticClass:"mb-2",attrs:{disabled:t.loading,title:t.$t("plugins.gcodeViewer.reloadView.title"),block:"",color:"primary"},on:{click:t.reloadviewer}},[t._v(t._s(t.$t("plugins.gcodeViewer.reloadView.caption")))])],1)],1),u("v-expansion-panel",{on:{click:t.scrollIntoView}},[u("v-expansion-panel-header",{attrs:{title:t.$t("plugins.gcodeViewer.progress.title")}},[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-progress-clock")]),u("strong",[t._v(t._s(t.$t("plugins.gcodeViewer.progress.caption")))])],1),u("v-expansion-panel-content",[u("v-card",[u("div",[t._v(t._s(t.$t("plugins.gcodeViewer.topClipping")))]),u("v-slider",{attrs:{max:t.maxHeight,min:t.minHeight,step:"0.1","thumb-label":"","thumb-size":"24"},model:{value:t.sliderHeight,callback:function(n){t.sliderHeight=n},expression:"sliderHeight"}}),u("div",[t._v(t._s(t.$t("plugins.gcodeViewer.bottomClipping")))]),u("v-slider",{attrs:{max:t.maxHeight,min:t.minHeight,step:"0.1","thumb-label":"","thumb-size":"24"},model:{value:t.sliderBottomHeight,callback:function(n){t.sliderBottomHeight=n},expression:"sliderBottomHeight"}})],1),u("v-card",[u("v-card-title",[t._v(t._s(t.$t("plugins.gcodeViewer.progressColor")))]),u("v-card-text",[u("gcodeviewer-color-picker",{attrs:{editcolor:t.progressColor},on:{updatecolor:function(n){return t.updateProgressColor(n)}}})],1)],1)],1)],1),u("v-expansion-panel",{on:{click:t.scrollIntoView}},[u("v-expansion-panel-header",[u("v-icon",{staticClass:"mr-2"},[t._v("mdi-cog")]),u("strong",[t._v(t._s(t.$t("plugins.gcodeViewer.settings")))])],1),u("v-expansion-panel-content",[u("v-card",[u("v-card-title",[t._v(t._s(t.$t("plugins.gcodeViewer.background")))]),u("v-card-text",[u("gcodeviewer-color-picker",{attrs:{editcolor:t.backgroundColor},on:{updatecolor:function(n){return t.updateBackground(n)}}})],1)],1),u("v-card",[u("v-card-title",[t._v(t._s(t.$t("plugins.gcodeViewer.bedRenderMode")))]),u("v-card-text",[u("v-btn-toggle",{staticClass:"d-flex flex-column",model:{value:t.bedRenderMode,callback:function(n){t.bedRenderMode=n},expression:"bedRenderMode"}},[u("v-btn",{attrs:{value:0,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.bed")))]),u("v-btn",{attrs:{value:1,block:""}},[t._v(t._s(t.$t("plugins.gcodeViewer.volume")))])],1),u("br"),u("gcodeviewer-color-picker",{attrs:{editcolor:t.bedColor},on:{updatecolor:function(n){return t.updateBedColor(n)}}})],1)],1),u("v-card",[u("v-card-text",[u("v-checkbox",{attrs:{label:t.$t("plugins.gcodeViewer.showFSOverlay")},model:{value:t.showOverlay,callback:function(n){t.showOverlay=n},expression:"showOverlay"}}),u("v-checkbox",{attrs:{label:t.$t("plugins.gcodeViewer.showAxes")},model:{value:t.showAxes,callback:function(n){t.showAxes=n},expression:"showAxes"}}),u("v-checkbox",{attrs:{label:t.$t("plugins.gcodeViewer.showObjectLabels")},model:{value:t.showObjectLabels,callback:function(n){t.showObjectLabels=n},expression:"showObjectLabels"}}),u("v-switch",{attrs:{label:t.$t("plugins.gcodeViewer.cameraInertia")},model:{value:t.cameraInertia,callback:function(n){t.cameraInertia=n},expression:"cameraInertia"}})],1)],1)],1)],1)],1)],1),u("div",{directives:[{name:"show",rawName:"v-show",value:!t.visualizingCurrentJob&&t.scrubFileSize>0,expression:"!visualizingCurrentJob && scrubFileSize > 0"}],class:[{"button-container-drawer":t.drawer},t.$vuetify.breakpoint.mdAndDown?"scrubber-sm":"scrubber"]},[u("v-row",{staticClass:"scrubber-row"},[u("v-col",{attrs:{cols:"9",md:"6"}},[u("v-slider",{attrs:{hint:t.scrubPosition+"/"+t.scrubFileSize,max:t.scrubFileSize,dense:"",min:"0","persistent-hint":""},model:{value:t.scrubPosition,callback:function(n){t.scrubPosition=n},expression:"scrubPosition "}})],1),u("v-col",{attrs:{cols:"3"}},[u("v-row",{attrs:{dense:""}},[u("v-col",{attrs:{cols:"12"}},[u("v-btn",{on:{click:function(n){t.scrubPlaying=!t.scrubPlaying}}},[t.scrubPlaying?u("v-icon",[t._v("mdi-stop")]):u("v-icon",[t._v("mdi-play")])],1),u("v-btn",{on:{click:t.fastForward}},[u("v-icon",[t._v("mdi-fast-forward")])],1)],1)],1)],1),u("v-col",{attrs:{cols:"12",md:"2"}},[u("v-btn-toggle",{attrs:{dense:"",mandatory:"",rounded:""},model:{value:t.scrubSpeed,callback:function(n){t.scrubSpeed=n},expression:"scrubSpeed"}},[u("v-btn",{attrs:{value:1}},[t._v("1x")]),u("v-btn",{attrs:{value:2}},[t._v("2x")]),u("v-btn",{attrs:{value:5}},[t._v("5x")]),u("v-btn",{attrs:{value:10}},[t._v("10x")]),u("v-btn",{attrs:{value:20}},[t._v("20x")])],1)],1)],1)],1)],1),u("v-dialog",{attrs:{"max-width":"300"},model:{value:t.objectDialogData.showDialog,callback:function(n){t.$set(t.objectDialogData,"showDialog",n)},expression:"objectDialogData.showDialog"}},[u("v-card",[u("v-card-title",{staticClass:"headline"},[u("v-icon",{staticClass:"mr-2"},[t._v(t._s(t.objectDialogData.info.cancelled?"mdi-reload":"mdi-cancel"))]),t._v(" "+t._s(t.objectDialogData.info.cancelled?"Resume":"Cancel")+" Object ")],1),u("v-card-text",[t._v(t._s(t.objectDialogData.info.name))]),u("v-card-actions",[u("v-row",{attrs:{"no-gutters":""}},[u("v-col",{attrs:{cols:"6"}},[u("v-btn",{attrs:{block:"",color:"primary"},on:{click:t.objectDialogCancelObject}},[t._v("Ok")])],1),u("v-col",{attrs:{cols:"6"}},[u("v-btn",{attrs:{block:"",color:"error"},on:{click:function(n){t.objectDialogData.showDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)],1)},c=[]},'./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=template&id=5cf0cf54&scoped=true&':function(t,n,u){"use strict";u.r(n),u.d(n,"render",(function(){return render})),u.d(n,"staticRenderFns",(function(){return c}));var render=function(){var t=this,n=t.$createElement,u=t._self._c||n;return u("div",[u("div",{staticClass:"center-label"},[t._v(t._s(t.label))]),u("div",{ref:"gaugeContainer",staticClass:"gaugeContainer",attrs:{title:t.getTitle()}})])},c=[]},"./node_modules/core-js/internals/string-pad-webkit-bug.js":function(t,n,u){var c=u("./node_modules/core-js/internals/engine-user-agent.js");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(c)},"./node_modules/core-js/internals/string-pad.js":function(t,n,u){var c=u("./node_modules/core-js/internals/function-uncurry-this.js"),l=u("./node_modules/core-js/internals/to-length.js"),d=u("./node_modules/core-js/internals/to-string.js"),h=u("./node_modules/core-js/internals/string-repeat.js"),p=u("./node_modules/core-js/internals/require-object-coercible.js"),m=c(h),_=c("".slice),g=Math.ceil,createMethod=function(t){return function(n,u,c){var h,b,v=d(p(n)),U=l(u),G=v.length,W=void 0===c?" ":d(c);return U<=G||""==W?v:(h=U-G,b=m(W,g(h/W.length)),b.length>h&&(b=_(b,0,h)),t?v+b:b+v)}};t.exports={start:createMethod(!1),end:createMethod(!0)}},"./node_modules/core-js/modules/es.string.pad-end.js":function(t,n,u){"use strict";var c=u("./node_modules/core-js/internals/export.js"),l=u("./node_modules/core-js/internals/string-pad.js").end,d=u("./node_modules/core-js/internals/string-pad-webkit-bug.js");c({target:"String",proto:!0,forced:d},{padEnd:function padEnd(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/d3-array/src/array.js":function(t,n,u){"use strict";u.r(n),u.d(n,"slice",(function(){return l})),u.d(n,"map",(function(){return d}));var c=Array.prototype,l=c.slice,d=c.map},"./node_modules/d3-array/src/ascending.js":function(t,n,u){"use strict";function ascending(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}u.r(n),u.d(n,"default",(function(){return ascending}))},"./node_modules/d3-array/src/bin.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return bin}));var c=u("./node_modules/d3-array/src/array.js"),l=u("./node_modules/d3-array/src/bisect.js"),d=u("./node_modules/d3-array/src/constant.js"),h=u("./node_modules/d3-array/src/extent.js"),p=u("./node_modules/d3-array/src/identity.js"),m=u("./node_modules/d3-array/src/nice.js"),_=u("./node_modules/d3-array/src/ticks.js"),g=u("./node_modules/d3-array/src/threshold/sturges.js");function bin(){var t=p["default"],n=h["default"],u=g["default"];function histogram(c){Array.isArray(c)||(c=Array.from(c));var d,p,g=c.length,b=new Array(g);for(d=0;d<g;++d)b[d]=t(c[d],d,c);var v=n(b),U=v[0],G=v[1],W=u(b,U,G);if(!Array.isArray(W)){const t=G,u=+W;if(n===h["default"]&&([U,G]=Object(m["default"])(U,G,u)),W=Object(_["default"])(U,G,u),W[W.length-1]>=G)if(t>=G&&n===h["default"]){const t=Object(_["tickIncrement"])(U,G,u);isFinite(t)&&(t>0?G=(Math.floor(G/t)+1)*t:t<0&&(G=(Math.ceil(G*-t)+1)/-t))}else W.pop()}var X=W.length;while(W[0]<=U)W.shift(),--X;while(W[X-1]>G)W.pop(),--X;var q,K=new Array(X+1);for(d=0;d<=X;++d)q=K[d]=[],q.x0=d>0?W[d-1]:U,q.x1=d<X?W[d]:G;for(d=0;d<g;++d)p=b[d],null!=p&&U<=p&&p<=G&&K[Object(l["default"])(W,p,0,X)].push(c[d]);return K}return histogram.value=function(n){return arguments.length?(t="function"===typeof n?n:Object(d["default"])(n),histogram):t},histogram.domain=function(t){return arguments.length?(n="function"===typeof t?t:Object(d["default"])([t[0],t[1]]),histogram):n},histogram.thresholds=function(t){return arguments.length?(u="function"===typeof t?t:Array.isArray(t)?Object(d["default"])(c["slice"].call(t)):Object(d["default"])(t),histogram):u},histogram}},"./node_modules/d3-array/src/bisect.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bisectRight",(function(){return p})),u.d(n,"bisectLeft",(function(){return m})),u.d(n,"bisectCenter",(function(){return _}));var c=u("./node_modules/d3-array/src/ascending.js"),l=u("./node_modules/d3-array/src/bisector.js"),d=u("./node_modules/d3-array/src/number.js");const h=Object(l["default"])(c["default"]),p=h.right,m=h.left,_=Object(l["default"])(d["default"]).center;n["default"]=p},"./node_modules/d3-array/src/bisector.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return bisector}));var c=u("./node_modules/d3-array/src/ascending.js");function bisector(t){let n=t,u=t,l=t;function left(t,n,c=0,d=t.length){if(c<d){if(0!==u(n,n))return d;do{const u=c+d>>>1;l(t[u],n)<0?c=u+1:d=u}while(c<d)}return c}function right(t,n,c=0,d=t.length){if(c<d){if(0!==u(n,n))return d;do{const u=c+d>>>1;l(t[u],n)<=0?c=u+1:d=u}while(c<d)}return c}function center(t,u,c=0,l=t.length){const d=left(t,u,c,l-1);return d>c&&n(t[d-1],u)>-n(t[d],u)?d-1:d}return 2!==t.length&&(n=(n,u)=>t(n)-u,u=c["default"],l=(n,u)=>Object(c["default"])(t(n),u)),{left:left,center:center,right:right}}},"./node_modules/d3-array/src/constant.js":function(t,n,u){"use strict";function constant(t){return()=>t}u.r(n),u.d(n,"default",(function(){return constant}))},"./node_modules/d3-array/src/count.js":function(t,n,u){"use strict";function count(t,n){let u=0;if(void 0===n)for(let c of t)null!=c&&(c=+c)>=c&&++u;else{let c=-1;for(let l of t)null!=(l=n(l,++c,t))&&(l=+l)>=l&&++u}return u}u.r(n),u.d(n,"default",(function(){return count}))},"./node_modules/d3-array/src/cross.js":function(t,n,u){"use strict";function length(t){return 0|t.length}function empty(t){return!(t>0)}function arrayify(t){return"object"!==typeof t||"length"in t?t:Array.from(t)}function reducer(t){return n=>t(...n)}function cross(...t){const n="function"===typeof t[t.length-1]&&reducer(t.pop());t=t.map(arrayify);const u=t.map(length),c=t.length-1,l=new Array(c+1).fill(0),d=[];if(c<0||u.some(empty))return d;while(1){d.push(l.map((n,u)=>t[u][n]));let h=c;while(++l[h]===u[h]){if(0===h)return n?d.map(n):d;l[h--]=0}}}u.r(n),u.d(n,"default",(function(){return cross}))},"./node_modules/d3-array/src/cumsum.js":function(t,n,u){"use strict";function cumsum(t,n){var u=0,c=0;return Float64Array.from(t,void 0===n?t=>u+=+t||0:l=>u+=+n(l,c++,t)||0)}u.r(n),u.d(n,"default",(function(){return cumsum}))},"./node_modules/d3-array/src/descending.js":function(t,n,u){"use strict";function descending(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}u.r(n),u.d(n,"default",(function(){return descending}))},"./node_modules/d3-array/src/deviation.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return deviation}));var c=u("./node_modules/d3-array/src/variance.js");function deviation(t,n){const u=Object(c["default"])(t,n);return u?Math.sqrt(u):u}},"./node_modules/d3-array/src/difference.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return difference}));var c=u("./node_modules/internmap/src/index.js");function difference(t,...n){t=new c["InternSet"](t);for(const u of n)for(const n of u)t.delete(n);return t}},"./node_modules/d3-array/src/disjoint.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return disjoint}));var c=u("./node_modules/internmap/src/index.js");function disjoint(t,n){const u=n[Symbol.iterator](),l=new c["InternSet"];for(const c of t){if(l.has(c))return!1;let t,n;while(({value:t,done:n}=u.next())){if(n)break;if(Object.is(c,t))return!1;l.add(t)}}return!0}},"./node_modules/d3-array/src/every.js":function(t,n,u){"use strict";function every(t,n){if("function"!==typeof n)throw new TypeError("test is not a function");let u=-1;for(const c of t)if(!n(c,++u,t))return!1;return!0}u.r(n),u.d(n,"default",(function(){return every}))},"./node_modules/d3-array/src/extent.js":function(t,n,u){"use strict";function extent(t,n){let u,c;if(void 0===n)for(const l of t)null!=l&&(void 0===u?l>=l&&(u=c=l):(u>l&&(u=l),c<l&&(c=l)));else{let l=-1;for(let d of t)null!=(d=n(d,++l,t))&&(void 0===u?d>=d&&(u=c=d):(u>d&&(u=d),c<d&&(c=d)))}return[u,c]}u.r(n),u.d(n,"default",(function(){return extent}))},"./node_modules/d3-array/src/filter.js":function(t,n,u){"use strict";function filter(t,n){if("function"!==typeof n)throw new TypeError("test is not a function");const u=[];let c=-1;for(const l of t)n(l,++c,t)&&u.push(l);return u}u.r(n),u.d(n,"default",(function(){return filter}))},"./node_modules/d3-array/src/fsum.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Adder",(function(){return Adder})),u.d(n,"fsum",(function(){return fsum})),u.d(n,"fcumsum",(function(){return fcumsum}));class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let u=0;for(let c=0;c<this._n&&c<32;c++){const l=n[c],d=t+l,h=Math.abs(t)<Math.abs(l)?t-(d-l):l-(d-t);h&&(n[u++]=h),t=d}return n[u]=t,this._n=u+1,this}valueOf(){const t=this._partials;let n,u,c,l=this._n,d=0;if(l>0){d=t[--l];while(l>0)if(n=d,u=t[--l],d=n+u,c=u-(d-n),c)break;l>0&&(c<0&&t[l-1]<0||c>0&&t[l-1]>0)&&(u=2*c,n=d+u,u==n-d&&(d=n))}return d}}function fsum(t,n){const u=new Adder;if(void 0===n)for(let c of t)(c=+c)&&u.add(c);else{let c=-1;for(let l of t)(l=+n(l,++c,t))&&u.add(l)}return+u}function fcumsum(t,n){const u=new Adder;let c=-1;return Float64Array.from(t,void 0===n?t=>u.add(+t||0):l=>u.add(+n(l,++c,t)||0))}},"./node_modules/d3-array/src/greatest.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return greatest}));var c=u("./node_modules/d3-array/src/ascending.js");function greatest(t,n=c["default"]){let u,l=!1;if(1===n.length){let d;for(const h of t){const t=n(h);(l?Object(c["default"])(t,d)>0:0===Object(c["default"])(t,t))&&(u=h,d=t,l=!0)}}else for(const c of t)(l?n(c,u)>0:0===n(c,c))&&(u=c,l=!0);return u}},"./node_modules/d3-array/src/greatestIndex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return greatestIndex}));var c=u("./node_modules/d3-array/src/ascending.js"),l=u("./node_modules/d3-array/src/maxIndex.js");function greatestIndex(t,n=c["default"]){if(1===n.length)return Object(l["default"])(t,n);let u,d=-1,h=-1;for(const c of t)++h,(d<0?0===n(c,c):n(c,u)>0)&&(u=c,d=h);return d}},"./node_modules/d3-array/src/group.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return group})),u.d(n,"groups",(function(){return groups})),u.d(n,"flatGroup",(function(){return flatGroup})),u.d(n,"flatRollup",(function(){return flatRollup})),u.d(n,"rollup",(function(){return rollup})),u.d(n,"rollups",(function(){return rollups})),u.d(n,"index",(function(){return index})),u.d(n,"indexes",(function(){return indexes}));var c=u("./node_modules/internmap/src/index.js"),l=u("./node_modules/d3-array/src/identity.js");function group(t,...n){return nest(t,l["default"],l["default"],n)}function groups(t,...n){return nest(t,Array.from,l["default"],n)}function flatten(t,n){for(let u=1,c=n.length;u<c;++u)t=t.flatMap(t=>t.pop().map(([n,u])=>[...t,n,u]));return t}function flatGroup(t,...n){return flatten(groups(t,...n),n)}function flatRollup(t,n,...u){return flatten(rollups(t,n,...u),u)}function rollup(t,n,...u){return nest(t,l["default"],n,u)}function rollups(t,n,...u){return nest(t,Array.from,n,u)}function index(t,...n){return nest(t,l["default"],unique,n)}function indexes(t,...n){return nest(t,Array.from,unique,n)}function unique(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function nest(t,n,u,l){return function regroup(t,d){if(d>=l.length)return u(t);const h=new c["InternMap"],p=l[d++];let m=-1;for(const n of t){const u=p(n,++m,t),c=h.get(u);c?c.push(n):h.set(u,[n])}for(const[n,u]of h)h.set(n,regroup(u,d));return n(h)}(t,0)}},"./node_modules/d3-array/src/groupSort.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return groupSort}));var c=u("./node_modules/d3-array/src/ascending.js"),l=u("./node_modules/d3-array/src/group.js"),d=u("./node_modules/d3-array/src/sort.js");function groupSort(t,n,u){return(2!==n.length?Object(d["default"])(Object(l["rollup"])(t,n,u),([t,n],[u,l])=>Object(c["default"])(n,l)||Object(c["default"])(t,u)):Object(d["default"])(Object(l["default"])(t,u),([t,u],[l,d])=>n(u,d)||Object(c["default"])(t,l))).map(([t])=>t)}},"./node_modules/d3-array/src/identity.js":function(t,n,u){"use strict";function identity(t){return t}u.r(n),u.d(n,"default",(function(){return identity}))},"./node_modules/d3-array/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-array/src/bisect.js");u.d(n,"bisect",(function(){return c["default"]})),u.d(n,"bisectRight",(function(){return c["bisectRight"]})),u.d(n,"bisectLeft",(function(){return c["bisectLeft"]})),u.d(n,"bisectCenter",(function(){return c["bisectCenter"]}));var l=u("./node_modules/d3-array/src/ascending.js");u.d(n,"ascending",(function(){return l["default"]}));var d=u("./node_modules/d3-array/src/bisector.js");u.d(n,"bisector",(function(){return d["default"]}));var h=u("./node_modules/d3-array/src/count.js");u.d(n,"count",(function(){return h["default"]}));var p=u("./node_modules/d3-array/src/cross.js");u.d(n,"cross",(function(){return p["default"]}));var m=u("./node_modules/d3-array/src/cumsum.js");u.d(n,"cumsum",(function(){return m["default"]}));var _=u("./node_modules/d3-array/src/descending.js");u.d(n,"descending",(function(){return _["default"]}));var g=u("./node_modules/d3-array/src/deviation.js");u.d(n,"deviation",(function(){return g["default"]}));var b=u("./node_modules/d3-array/src/extent.js");u.d(n,"extent",(function(){return b["default"]}));var v=u("./node_modules/d3-array/src/fsum.js");u.d(n,"Adder",(function(){return v["Adder"]})),u.d(n,"fsum",(function(){return v["fsum"]})),u.d(n,"fcumsum",(function(){return v["fcumsum"]}));var U=u("./node_modules/d3-array/src/group.js");u.d(n,"group",(function(){return U["default"]})),u.d(n,"flatGroup",(function(){return U["flatGroup"]})),u.d(n,"flatRollup",(function(){return U["flatRollup"]})),u.d(n,"groups",(function(){return U["groups"]})),u.d(n,"index",(function(){return U["index"]})),u.d(n,"indexes",(function(){return U["indexes"]})),u.d(n,"rollup",(function(){return U["rollup"]})),u.d(n,"rollups",(function(){return U["rollups"]}));var G=u("./node_modules/d3-array/src/groupSort.js");u.d(n,"groupSort",(function(){return G["default"]}));var W=u("./node_modules/d3-array/src/bin.js");u.d(n,"bin",(function(){return W["default"]})),u.d(n,"histogram",(function(){return W["default"]}));var X=u("./node_modules/d3-array/src/threshold/freedmanDiaconis.js");u.d(n,"thresholdFreedmanDiaconis",(function(){return X["default"]}));var q=u("./node_modules/d3-array/src/threshold/scott.js");u.d(n,"thresholdScott",(function(){return q["default"]}));var K=u("./node_modules/d3-array/src/threshold/sturges.js");u.d(n,"thresholdSturges",(function(){return K["default"]}));var Y=u("./node_modules/d3-array/src/max.js");u.d(n,"max",(function(){return Y["default"]}));var Q=u("./node_modules/d3-array/src/maxIndex.js");u.d(n,"maxIndex",(function(){return Q["default"]}));var Z=u("./node_modules/d3-array/src/mean.js");u.d(n,"mean",(function(){return Z["default"]}));var $=u("./node_modules/d3-array/src/median.js");u.d(n,"median",(function(){return $["default"]}));var J=u("./node_modules/d3-array/src/merge.js");u.d(n,"merge",(function(){return J["default"]}));var ee=u("./node_modules/d3-array/src/min.js");u.d(n,"min",(function(){return ee["default"]}));var te=u("./node_modules/d3-array/src/minIndex.js");u.d(n,"minIndex",(function(){return te["default"]}));var re=u("./node_modules/d3-array/src/mode.js");u.d(n,"mode",(function(){return re["default"]}));var ne=u("./node_modules/d3-array/src/nice.js");u.d(n,"nice",(function(){return ne["default"]}));var ie=u("./node_modules/d3-array/src/pairs.js");u.d(n,"pairs",(function(){return ie["default"]}));var oe=u("./node_modules/d3-array/src/permute.js");u.d(n,"permute",(function(){return oe["default"]}));var se=u("./node_modules/d3-array/src/quantile.js");u.d(n,"quantile",(function(){return se["default"]})),u.d(n,"quantileSorted",(function(){return se["quantileSorted"]}));var ae=u("./node_modules/d3-array/src/quickselect.js");u.d(n,"quickselect",(function(){return ae["default"]}));var ue=u("./node_modules/d3-array/src/range.js");u.d(n,"range",(function(){return ue["default"]}));var ce=u("./node_modules/d3-array/src/rank.js");u.d(n,"rank",(function(){return ce["default"]}));var le=u("./node_modules/d3-array/src/least.js");u.d(n,"least",(function(){return le["default"]}));var de=u("./node_modules/d3-array/src/leastIndex.js");u.d(n,"leastIndex",(function(){return de["default"]}));var he=u("./node_modules/d3-array/src/greatest.js");u.d(n,"greatest",(function(){return he["default"]}));var fe=u("./node_modules/d3-array/src/greatestIndex.js");u.d(n,"greatestIndex",(function(){return fe["default"]}));var pe=u("./node_modules/d3-array/src/scan.js");u.d(n,"scan",(function(){return pe["default"]}));var me=u("./node_modules/d3-array/src/shuffle.js");u.d(n,"shuffle",(function(){return me["default"]})),u.d(n,"shuffler",(function(){return me["shuffler"]}));var _e=u("./node_modules/d3-array/src/sum.js");u.d(n,"sum",(function(){return _e["default"]}));var ge=u("./node_modules/d3-array/src/ticks.js");u.d(n,"ticks",(function(){return ge["default"]})),u.d(n,"tickIncrement",(function(){return ge["tickIncrement"]})),u.d(n,"tickStep",(function(){return ge["tickStep"]}));var be=u("./node_modules/d3-array/src/transpose.js");u.d(n,"transpose",(function(){return be["default"]}));var ve=u("./node_modules/d3-array/src/variance.js");u.d(n,"variance",(function(){return ve["default"]}));var ye=u("./node_modules/d3-array/src/zip.js");u.d(n,"zip",(function(){return ye["default"]}));var xe=u("./node_modules/d3-array/src/every.js");u.d(n,"every",(function(){return xe["default"]}));var Me=u("./node_modules/d3-array/src/some.js");u.d(n,"some",(function(){return Me["default"]}));var Te=u("./node_modules/d3-array/src/filter.js");u.d(n,"filter",(function(){return Te["default"]}));var Se=u("./node_modules/d3-array/src/map.js");u.d(n,"map",(function(){return Se["default"]}));var Ce=u("./node_modules/d3-array/src/reduce.js");u.d(n,"reduce",(function(){return Ce["default"]}));var Ee=u("./node_modules/d3-array/src/reverse.js");u.d(n,"reverse",(function(){return Ee["default"]}));var Oe=u("./node_modules/d3-array/src/sort.js");u.d(n,"sort",(function(){return Oe["default"]}));var Pe=u("./node_modules/d3-array/src/difference.js");u.d(n,"difference",(function(){return Pe["default"]}));var je=u("./node_modules/d3-array/src/disjoint.js");u.d(n,"disjoint",(function(){return je["default"]}));var Ae=u("./node_modules/d3-array/src/intersection.js");u.d(n,"intersection",(function(){return Ae["default"]}));var Re=u("./node_modules/d3-array/src/subset.js");u.d(n,"subset",(function(){return Re["default"]}));var Ie=u("./node_modules/d3-array/src/superset.js");u.d(n,"superset",(function(){return Ie["default"]}));var we=u("./node_modules/d3-array/src/union.js");u.d(n,"union",(function(){return we["default"]}));var De=u("./node_modules/internmap/src/index.js");u.d(n,"InternMap",(function(){return De["InternMap"]})),u.d(n,"InternSet",(function(){return De["InternSet"]}))},"./node_modules/d3-array/src/intersection.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return intersection}));var c=u("./node_modules/internmap/src/index.js");function intersection(t,...n){t=new c["InternSet"](t),n=n.map(set);e:for(const u of t)for(const c of n)if(!c.has(u)){t.delete(u);continue e}return t}function set(t){return t instanceof c["InternSet"]?t:new c["InternSet"](t)}},"./node_modules/d3-array/src/least.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return least}));var c=u("./node_modules/d3-array/src/ascending.js");function least(t,n=c["default"]){let u,l=!1;if(1===n.length){let d;for(const h of t){const t=n(h);(l?Object(c["default"])(t,d)<0:0===Object(c["default"])(t,t))&&(u=h,d=t,l=!0)}}else for(const c of t)(l?n(c,u)<0:0===n(c,c))&&(u=c,l=!0);return u}},"./node_modules/d3-array/src/leastIndex.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return leastIndex}));var c=u("./node_modules/d3-array/src/ascending.js"),l=u("./node_modules/d3-array/src/minIndex.js");function leastIndex(t,n=c["default"]){if(1===n.length)return Object(l["default"])(t,n);let u,d=-1,h=-1;for(const c of t)++h,(d<0?0===n(c,c):n(c,u)<0)&&(u=c,d=h);return d}},"./node_modules/d3-array/src/map.js":function(t,n,u){"use strict";function map(t,n){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof n)throw new TypeError("mapper is not a function");return Array.from(t,(u,c)=>n(u,c,t))}u.r(n),u.d(n,"default",(function(){return map}))},"./node_modules/d3-array/src/max.js":function(t,n,u){"use strict";function max(t,n){let u;if(void 0===n)for(const c of t)null!=c&&(u<c||void 0===u&&c>=c)&&(u=c);else{let c=-1;for(let l of t)null!=(l=n(l,++c,t))&&(u<l||void 0===u&&l>=l)&&(u=l)}return u}u.r(n),u.d(n,"default",(function(){return max}))},"./node_modules/d3-array/src/maxIndex.js":function(t,n,u){"use strict";function maxIndex(t,n){let u,c=-1,l=-1;if(void 0===n)for(const d of t)++l,null!=d&&(u<d||void 0===u&&d>=d)&&(u=d,c=l);else for(let d of t)null!=(d=n(d,++l,t))&&(u<d||void 0===u&&d>=d)&&(u=d,c=l);return c}u.r(n),u.d(n,"default",(function(){return maxIndex}))},"./node_modules/d3-array/src/mean.js":function(t,n,u){"use strict";function mean(t,n){let u=0,c=0;if(void 0===n)for(let l of t)null!=l&&(l=+l)>=l&&(++u,c+=l);else{let l=-1;for(let d of t)null!=(d=n(d,++l,t))&&(d=+d)>=d&&(++u,c+=d)}if(u)return c/u}u.r(n),u.d(n,"default",(function(){return mean}))},"./node_modules/d3-array/src/median.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return median}));var c=u("./node_modules/d3-array/src/quantile.js");function median(t,n){return Object(c["default"])(t,.5,n)}},"./node_modules/d3-array/src/merge.js":function(t,n,u){"use strict";function*flatten(t){for(const n of t)yield*n}function merge(t){return Array.from(flatten(t))}u.r(n),u.d(n,"default",(function(){return merge}))},"./node_modules/d3-array/src/min.js":function(t,n,u){"use strict";function min(t,n){let u;if(void 0===n)for(const c of t)null!=c&&(u>c||void 0===u&&c>=c)&&(u=c);else{let c=-1;for(let l of t)null!=(l=n(l,++c,t))&&(u>l||void 0===u&&l>=l)&&(u=l)}return u}u.r(n),u.d(n,"default",(function(){return min}))},"./node_modules/d3-array/src/minIndex.js":function(t,n,u){"use strict";function minIndex(t,n){let u,c=-1,l=-1;if(void 0===n)for(const d of t)++l,null!=d&&(u>d||void 0===u&&d>=d)&&(u=d,c=l);else for(let d of t)null!=(d=n(d,++l,t))&&(u>d||void 0===u&&d>=d)&&(u=d,c=l);return c}u.r(n),u.d(n,"default",(function(){return minIndex}))},"./node_modules/d3-array/src/mode.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return mode}));var c=u("./node_modules/internmap/src/index.js");function mode(t,n){const u=new c["InternMap"];if(void 0===n)for(let c of t)null!=c&&c>=c&&u.set(c,(u.get(c)||0)+1);else{let c=-1;for(let l of t)null!=(l=n(l,++c,t))&&l>=l&&u.set(l,(u.get(l)||0)+1)}let l,d=0;for(const[c,h]of u)h>d&&(d=h,l=c);return l}},"./node_modules/d3-array/src/nice.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return nice}));var c=u("./node_modules/d3-array/src/ticks.js");function nice(t,n,u){let l;while(1){const d=Object(c["tickIncrement"])(t,n,u);if(d===l||0===d||!isFinite(d))return[t,n];d>0?(t=Math.floor(t/d)*d,n=Math.ceil(n/d)*d):d<0&&(t=Math.ceil(t*d)/d,n=Math.floor(n*d)/d),l=d}}},"./node_modules/d3-array/src/number.js":function(t,n,u){"use strict";function number(t){return null===t?NaN:+t}function*numbers(t,n){if(void 0===n)for(let u of t)null!=u&&(u=+u)>=u&&(yield u);else{let u=-1;for(let c of t)null!=(c=n(c,++u,t))&&(c=+c)>=c&&(yield c)}}u.r(n),u.d(n,"default",(function(){return number})),u.d(n,"numbers",(function(){return numbers}))},"./node_modules/d3-array/src/pairs.js":function(t,n,u){"use strict";function pairs(t,n=pair){const u=[];let c,l=!1;for(const d of t)l&&u.push(n(c,d)),c=d,l=!0;return u}function pair(t,n){return[t,n]}u.r(n),u.d(n,"default",(function(){return pairs})),u.d(n,"pair",(function(){return pair}))},"./node_modules/d3-array/src/permute.js":function(t,n,u){"use strict";function permute(t,n){return Array.from(n,n=>t[n])}u.r(n),u.d(n,"default",(function(){return permute}))},"./node_modules/d3-array/src/quantile.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return quantile})),u.d(n,"quantileSorted",(function(){return quantileSorted}));var c=u("./node_modules/d3-array/src/max.js"),l=u("./node_modules/d3-array/src/min.js"),d=u("./node_modules/d3-array/src/quickselect.js"),h=u("./node_modules/d3-array/src/number.js");function quantile(t,n,u){if(t=Float64Array.from(Object(h["numbers"])(t,u)),p=t.length){if((n=+n)<=0||p<2)return Object(l["default"])(t);if(n>=1)return Object(c["default"])(t);var p,m=(p-1)*n,_=Math.floor(m),g=Object(c["default"])(Object(d["default"])(t,_).subarray(0,_+1)),b=Object(l["default"])(t.subarray(_+1));return g+(b-g)*(m-_)}}function quantileSorted(t,n,u=h["default"]){if(c=t.length){if((n=+n)<=0||c<2)return+u(t[0],0,t);if(n>=1)return+u(t[c-1],c-1,t);var c,l=(c-1)*n,d=Math.floor(l),p=+u(t[d],d,t),m=+u(t[d+1],d+1,t);return p+(m-p)*(l-d)}}},"./node_modules/d3-array/src/quickselect.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return quickselect}));var c=u("./node_modules/d3-array/src/sort.js");function quickselect(t,n,u=0,l=t.length-1,d){d=void 0===d?c["ascendingDefined"]:Object(c["compareDefined"])(d);while(l>u){if(l-u>600){const c=l-u+1,h=n-u+1,p=Math.log(c),m=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*m*(c-m)/c)*(h-c/2<0?-1:1),g=Math.max(u,Math.floor(n-h*m/c+_)),b=Math.min(l,Math.floor(n+(c-h)*m/c+_));quickselect(t,n,g,b,d)}const c=t[n];let h=u,p=l;swap(t,u,n),d(t[l],c)>0&&swap(t,u,l);while(h<p){swap(t,h,p),++h,--p;while(d(t[h],c)<0)++h;while(d(t[p],c)>0)--p}0===d(t[u],c)?swap(t,u,p):(++p,swap(t,p,l)),p<=n&&(u=p+1),n<=p&&(l=p-1)}return t}function swap(t,n,u){const c=t[n];t[n]=t[u],t[u]=c}},"./node_modules/d3-array/src/range.js":function(t,n,u){"use strict";function range(t,n,u){t=+t,n=+n,u=(l=arguments.length)<2?(n=t,t=0,1):l<3?1:+u;var c=-1,l=0|Math.max(0,Math.ceil((n-t)/u)),d=new Array(l);while(++c<l)d[c]=t+c*u;return d}u.r(n),u.d(n,"default",(function(){return range}))},"./node_modules/d3-array/src/rank.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return rank}));var c=u("./node_modules/d3-array/src/ascending.js"),l=u("./node_modules/d3-array/src/sort.js");function rank(t,n=c["default"]){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");let u=Array.from(t);const d=new Float64Array(u.length);2!==n.length&&(u=u.map(n),n=c["default"]);const compareIndex=(t,c)=>n(u[t],u[c]);let h,p;return Uint32Array.from(u,(t,n)=>n).sort(n===c["default"]?(t,n)=>Object(l["ascendingDefined"])(u[t],u[n]):Object(l["compareDefined"])(compareIndex)).forEach((t,n)=>{const u=compareIndex(t,void 0===h?t:h);u>=0?((void 0===h||u>0)&&(h=t,p=n),d[t]=p):d[t]=NaN}),d}},"./node_modules/d3-array/src/reduce.js":function(t,n,u){"use strict";function reduce(t,n,u){if("function"!==typeof n)throw new TypeError("reducer is not a function");const c=t[Symbol.iterator]();let l,d,h=-1;if(arguments.length<3){if(({done:l,value:u}=c.next()),l)return;++h}while(({done:l,value:d}=c.next()),!l)u=n(u,d,++h,t);return u}u.r(n),u.d(n,"default",(function(){return reduce}))},"./node_modules/d3-array/src/reverse.js":function(t,n,u){"use strict";function reverse(t){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}u.r(n),u.d(n,"default",(function(){return reverse}))},"./node_modules/d3-array/src/scan.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return scan}));var c=u("./node_modules/d3-array/src/leastIndex.js");function scan(t,n){const u=Object(c["default"])(t,n);return u<0?void 0:u}},"./node_modules/d3-array/src/shuffle.js":function(t,n,u){"use strict";function shuffler(t){return function shuffle(n,u=0,c=n.length){let l=c-(u=+u);while(l){const c=t()*l--|0,d=n[l+u];n[l+u]=n[c+u],n[c+u]=d}return n}}u.r(n),u.d(n,"shuffler",(function(){return shuffler})),n["default"]=shuffler(Math.random)},"./node_modules/d3-array/src/some.js":function(t,n,u){"use strict";function some(t,n){if("function"!==typeof n)throw new TypeError("test is not a function");let u=-1;for(const c of t)if(n(c,++u,t))return!0;return!1}u.r(n),u.d(n,"default",(function(){return some}))},"./node_modules/d3-array/src/sort.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return sort})),u.d(n,"compareDefined",(function(){return compareDefined})),u.d(n,"ascendingDefined",(function(){return ascendingDefined}));var c=u("./node_modules/d3-array/src/ascending.js"),l=u("./node_modules/d3-array/src/permute.js");function sort(t,...n){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[u]=n;if(u&&2!==u.length||n.length>1){const c=Uint32Array.from(t,(t,n)=>n);return n.length>1?(n=n.map(n=>t.map(n)),c.sort((t,u)=>{for(const c of n){const n=ascendingDefined(c[t],c[u]);if(n)return n}})):(u=t.map(u),c.sort((t,n)=>ascendingDefined(u[t],u[n]))),Object(l["default"])(t,c)}return t.sort(compareDefined(u))}function compareDefined(t=c["default"]){if(t===c["default"])return ascendingDefined;if("function"!==typeof t)throw new TypeError("compare is not a function");return(n,u)=>{const c=t(n,u);return c||0===c?c:(0===t(u,u))-(0===t(n,n))}}function ascendingDefined(t,n){return(null==t||!(t>=t))-(null==n||!(n>=n))||(t<n?-1:t>n?1:0)}},"./node_modules/d3-array/src/subset.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return subset}));var c=u("./node_modules/d3-array/src/superset.js");function subset(t,n){return Object(c["default"])(n,t)}},"./node_modules/d3-array/src/sum.js":function(t,n,u){"use strict";function sum(t,n){let u=0;if(void 0===n)for(let c of t)(c=+c)&&(u+=c);else{let c=-1;for(let l of t)(l=+n(l,++c,t))&&(u+=l)}return u}u.r(n),u.d(n,"default",(function(){return sum}))},"./node_modules/d3-array/src/superset.js":function(t,n,u){"use strict";function superset(t,n){const u=t[Symbol.iterator](),c=new Set;for(const l of n){const t=intern(l);if(c.has(t))continue;let n,d;while(({value:n,done:d}=u.next())){if(d)return!1;const u=intern(n);if(c.add(u),Object.is(t,u))break}}return!0}function intern(t){return null!==t&&"object"===typeof t?t.valueOf():t}u.r(n),u.d(n,"default",(function(){return superset}))},"./node_modules/d3-array/src/threshold/freedmanDiaconis.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return thresholdFreedmanDiaconis}));var c=u("./node_modules/d3-array/src/count.js"),l=u("./node_modules/d3-array/src/quantile.js");function thresholdFreedmanDiaconis(t,n,u){return Math.ceil((u-n)/(2*(Object(l["default"])(t,.75)-Object(l["default"])(t,.25))*Math.pow(Object(c["default"])(t),-1/3)))}},"./node_modules/d3-array/src/threshold/scott.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return thresholdScott}));var c=u("./node_modules/d3-array/src/count.js"),l=u("./node_modules/d3-array/src/deviation.js");function thresholdScott(t,n,u){return Math.ceil((u-n)/(3.5*Object(l["default"])(t)*Math.pow(Object(c["default"])(t),-1/3)))}},"./node_modules/d3-array/src/threshold/sturges.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return thresholdSturges}));var c=u("./node_modules/d3-array/src/count.js");function thresholdSturges(t){return Math.ceil(Math.log(Object(c["default"])(t))/Math.LN2)+1}},"./node_modules/d3-array/src/ticks.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return ticks})),u.d(n,"tickIncrement",(function(){return tickIncrement})),u.d(n,"tickStep",(function(){return tickStep}));var c=Math.sqrt(50),l=Math.sqrt(10),d=Math.sqrt(2);function ticks(t,n,u){var c,l,d,h,p=-1;if(n=+n,t=+t,u=+u,t===n&&u>0)return[t];if((c=n<t)&&(l=t,t=n,n=l),0===(h=tickIncrement(t,n,u))||!isFinite(h))return[];if(h>0){let u=Math.round(t/h),c=Math.round(n/h);u*h<t&&++u,c*h>n&&--c,d=new Array(l=c-u+1);while(++p<l)d[p]=(u+p)*h}else{h=-h;let u=Math.round(t*h),c=Math.round(n*h);u/h<t&&++u,c/h>n&&--c,d=new Array(l=c-u+1);while(++p<l)d[p]=(u+p)/h}return c&&d.reverse(),d}function tickIncrement(t,n,u){var h=(n-t)/Math.max(0,u),p=Math.floor(Math.log(h)/Math.LN10),m=h/Math.pow(10,p);return p>=0?(m>=c?10:m>=l?5:m>=d?2:1)*Math.pow(10,p):-Math.pow(10,-p)/(m>=c?10:m>=l?5:m>=d?2:1)}function tickStep(t,n,u){var h=Math.abs(n-t)/Math.max(0,u),p=Math.pow(10,Math.floor(Math.log(h)/Math.LN10)),m=h/p;return m>=c?p*=10:m>=l?p*=5:m>=d&&(p*=2),n<t?-p:p}},"./node_modules/d3-array/src/transpose.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return transpose}));var c=u("./node_modules/d3-array/src/min.js");function transpose(t){if(!(d=t.length))return[];for(var n=-1,u=Object(c["default"])(t,length),l=new Array(u);++n<u;)for(var d,h=-1,p=l[n]=new Array(d);++h<d;)p[h]=t[h][n];return l}function length(t){return t.length}},"./node_modules/d3-array/src/union.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return union}));var c=u("./node_modules/internmap/src/index.js");function union(...t){const n=new c["InternSet"];for(const u of t)for(const t of u)n.add(t);return n}},"./node_modules/d3-array/src/variance.js":function(t,n,u){"use strict";function variance(t,n){let u,c=0,l=0,d=0;if(void 0===n)for(let h of t)null!=h&&(h=+h)>=h&&(u=h-l,l+=u/++c,d+=u*(h-l));else{let h=-1;for(let p of t)null!=(p=n(p,++h,t))&&(p=+p)>=p&&(u=p-l,l+=u/++c,d+=u*(p-l))}if(c>1)return d/(c-1)}u.r(n),u.d(n,"default",(function(){return variance}))},"./node_modules/d3-array/src/zip.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return zip}));var c=u("./node_modules/d3-array/src/transpose.js");function zip(){return Object(c["default"])(arguments)}},"./node_modules/d3-axis/src/axis.js":function(t,n,u){"use strict";u.r(n),u.d(n,"axisTop",(function(){return axisTop})),u.d(n,"axisRight",(function(){return axisRight})),u.d(n,"axisBottom",(function(){return axisBottom})),u.d(n,"axisLeft",(function(){return axisLeft}));var c=u("./node_modules/d3-axis/src/identity.js"),l=1,d=2,h=3,p=4,m=1e-6;function translateX(t){return"translate("+t+",0)"}function translateY(t){return"translate(0,"+t+")"}function number(t){return n=>+t(n)}function center(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),u=>+t(u)+n}function entering(){return!this.__axis}function axis(t,n){var u=[],_=null,g=null,b=6,v=6,U=3,G="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,W=t===l||t===p?-1:1,X=t===p||t===d?"x":"y",q=t===l||t===h?translateX:translateY;function axis(K){var Y=null==_?n.ticks?n.ticks.apply(n,u):n.domain():_,Q=null==g?n.tickFormat?n.tickFormat.apply(n,u):c["default"]:g,Z=Math.max(b,0)+U,$=n.range(),J=+$[0]+G,ee=+$[$.length-1]+G,te=(n.bandwidth?center:number)(n.copy(),G),re=K.selection?K.selection():K,ne=re.selectAll(".domain").data([null]),ie=re.selectAll(".tick").data(Y,n).order(),oe=ie.exit(),se=ie.enter().append("g").attr("class","tick"),ae=ie.select("line"),ue=ie.select("text");ne=ne.merge(ne.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ie=ie.merge(se),ae=ae.merge(se.append("line").attr("stroke","currentColor").attr(X+"2",W*b)),ue=ue.merge(se.append("text").attr("fill","currentColor").attr(X,W*Z).attr("dy",t===l?"0em":t===h?"0.71em":"0.32em")),K!==re&&(ne=ne.transition(K),ie=ie.transition(K),ae=ae.transition(K),ue=ue.transition(K),oe=oe.transition(K).attr("opacity",m).attr("transform",(function(t){return isFinite(t=te(t))?q(t+G):this.getAttribute("transform")})),se.attr("opacity",m).attr("transform",(function(t){var n=this.parentNode.__axis;return q((n&&isFinite(n=n(t))?n:te(t))+G)}))),oe.remove(),ne.attr("d",t===p||t===d?v?"M"+W*v+","+J+"H"+G+"V"+ee+"H"+W*v:"M"+G+","+J+"V"+ee:v?"M"+J+","+W*v+"V"+G+"H"+ee+"V"+W*v:"M"+J+","+G+"H"+ee),ie.attr("opacity",1).attr("transform",(function(t){return q(te(t)+G)})),ae.attr(X+"2",W*b),ue.attr(X,W*Z).text(Q),re.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===d?"start":t===p?"end":"middle"),re.each((function(){this.__axis=te}))}return axis.scale=function(t){return arguments.length?(n=t,axis):n},axis.ticks=function(){return u=Array.from(arguments),axis},axis.tickArguments=function(t){return arguments.length?(u=null==t?[]:Array.from(t),axis):u.slice()},axis.tickValues=function(t){return arguments.length?(_=null==t?null:Array.from(t),axis):_&&_.slice()},axis.tickFormat=function(t){return arguments.length?(g=t,axis):g},axis.tickSize=function(t){return arguments.length?(b=v=+t,axis):b},axis.tickSizeInner=function(t){return arguments.length?(b=+t,axis):b},axis.tickSizeOuter=function(t){return arguments.length?(v=+t,axis):v},axis.tickPadding=function(t){return arguments.length?(U=+t,axis):U},axis.offset=function(t){return arguments.length?(G=+t,axis):G},axis}function axisTop(t){return axis(l,t)}function axisRight(t){return axis(d,t)}function axisBottom(t){return axis(h,t)}function axisLeft(t){return axis(p,t)}},"./node_modules/d3-axis/src/identity.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return t}},"./node_modules/d3-axis/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-axis/src/axis.js");u.d(n,"axisTop",(function(){return c["axisTop"]})),u.d(n,"axisRight",(function(){return c["axisRight"]})),u.d(n,"axisBottom",(function(){return c["axisBottom"]})),u.d(n,"axisLeft",(function(){return c["axisLeft"]}))},"./node_modules/d3-brush/src/brush.js":function(t,n,u){"use strict";u.r(n),u.d(n,"brushSelection",(function(){return brushSelection})),u.d(n,"brushX",(function(){return brushX})),u.d(n,"brushY",(function(){return brushY}));var c=u("./node_modules/d3-dispatch/src/dispatch.js"),l=u("./node_modules/d3-drag/src/nodrag.js"),d=u("./node_modules/d3-interpolate/src/value.js"),h=u("./node_modules/d3-selection/src/select.js"),p=u("./node_modules/d3-selection/src/pointer.js"),m=u("./node_modules/d3-transition/src/index.js"),_=u("./node_modules/d3-brush/src/constant.js"),g=u("./node_modules/d3-brush/src/event.js"),b=u("./node_modules/d3-brush/src/noevent.js"),v={name:"drag"},U={name:"space"},G={name:"handle"},W={name:"center"};const{abs:X,max:q,min:K}=Math;function number1(t){return[+t[0],+t[1]]}function number2(t){return[number1(t[0]),number1(t[1])]}var Y={name:"x",handles:["w","e"].map(type),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Q={name:"y",handles:["n","s"].map(type),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Z={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type),input:function(t){return null==t?null:number2(t)},output:function(t){return t}},$={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},J={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ee={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},te={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},re={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultExtent(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function empty(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function brushSelection(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function brushX(){return brush(Y)}function brushY(){return brush(Q)}function brush(t){var n,u=defaultExtent,Z=defaultFilter,ne=defaultTouchable,ie=!0,oe=Object(c["default"])("start","brush","end"),se=6;function brush(n){var u=n.property("__brush",initialize).selectAll(".overlay").data([type("overlay")]);u.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",$.overlay).merge(u).each((function(){var t=local(this).extent;Object(h["default"])(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",$.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var c=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));c.exit().remove(),c.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return $[t.type]})),n.each(redraw).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",started).filter(ne).on("touchstart.brush",started).on("touchmove.brush",touchmoved).on("touchend.brush touchcancel.brush",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function redraw(){var t=Object(h["default"])(this),n=local(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-se/2:n[0][0]-se/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-se/2:n[0][1]-se/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+se:se})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+se:se}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(t,n,u){var c=t.__brush.emitter;return!c||u&&c.clean?new Emitter(t,n,u):c}function Emitter(t,n,u){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=u}function started(u){if((!n||u.touches)&&Z.apply(this,arguments)){var c,d,_,g,ne,oe,se,ae,ue,ce,le,de=this,he=u.target.__data__.type,fe="selection"===(ie&&u.metaKey?he="overlay":he)?v:ie&&u.altKey?W:G,pe=t===Q?null:te[he],me=t===Y?null:re[he],_e=local(de),ge=_e.extent,be=_e.selection,ve=ge[0][0],ye=ge[0][1],xe=ge[1][0],Me=ge[1][1],Te=0,Se=0,Ce=pe&&me&&ie&&u.shiftKey,Ee=Array.from(u.touches||[u],t=>{const n=t.identifier;return t=Object(p["default"])(t,de),t.point0=t.slice(),t.identifier=n,t});Object(m["interrupt"])(de);var Oe=emitter(de,arguments,!0).beforestart();if("overlay"===he){be&&(ue=!0);const n=[Ee[0],Ee[1]||Ee[0]];_e.selection=be=[[c=t===Q?ve:K(n[0][0],n[1][0]),_=t===Y?ye:K(n[0][1],n[1][1])],[ne=t===Q?xe:q(n[0][0],n[1][0]),se=t===Y?Me:q(n[0][1],n[1][1])]],Ee.length>1&&move(u)}else c=be[0][0],_=be[0][1],ne=be[1][0],se=be[1][1];d=c,g=_,oe=ne,ae=se;var Pe=Object(h["default"])(de).attr("pointer-events","none"),je=Pe.selectAll(".overlay").attr("cursor",$[he]);if(u.touches)Oe.moved=moved,Oe.ended=ended;else{var Ae=Object(h["default"])(u.view).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);ie&&Ae.on("keydown.brush",keydowned,!0).on("keyup.brush",keyupped,!0),Object(l["default"])(u.view)}redraw.call(de),Oe.start(u,fe.name)}function moved(t){for(const n of t.changedTouches||[t])for(const t of Ee)t.identifier===n.identifier&&(t.cur=Object(p["default"])(n,de));if(Ce&&!ce&&!le&&1===Ee.length){const t=Ee[0];X(t.cur[0]-t[0])>X(t.cur[1]-t[1])?le=!0:ce=!0}for(const n of Ee)n.cur&&(n[0]=n.cur[0],n[1]=n.cur[1]);ue=!0,Object(b["default"])(t),move(t)}function move(t){const n=Ee[0],u=n.point0;var l;switch(Te=n[0]-u[0],Se=n[1]-u[1],fe){case U:case v:pe&&(Te=q(ve-c,K(xe-ne,Te)),d=c+Te,oe=ne+Te),me&&(Se=q(ye-_,K(Me-se,Se)),g=_+Se,ae=se+Se);break;case G:Ee[1]?(pe&&(d=q(ve,K(xe,Ee[0][0])),oe=q(ve,K(xe,Ee[1][0])),pe=1),me&&(g=q(ye,K(Me,Ee[0][1])),ae=q(ye,K(Me,Ee[1][1])),me=1)):(pe<0?(Te=q(ve-c,K(xe-c,Te)),d=c+Te,oe=ne):pe>0&&(Te=q(ve-ne,K(xe-ne,Te)),d=c,oe=ne+Te),me<0?(Se=q(ye-_,K(Me-_,Se)),g=_+Se,ae=se):me>0&&(Se=q(ye-se,K(Me-se,Se)),g=_,ae=se+Se));break;case W:pe&&(d=q(ve,K(xe,c-Te*pe)),oe=q(ve,K(xe,ne+Te*pe))),me&&(g=q(ye,K(Me,_-Se*me)),ae=q(ye,K(Me,se+Se*me)));break}oe<d&&(pe*=-1,l=c,c=ne,ne=l,l=d,d=oe,oe=l,he in J&&je.attr("cursor",$[he=J[he]])),ae<g&&(me*=-1,l=_,_=se,se=l,l=g,g=ae,ae=l,he in ee&&je.attr("cursor",$[he=ee[he]])),_e.selection&&(be=_e.selection),ce&&(d=be[0][0],oe=be[1][0]),le&&(g=be[0][1],ae=be[1][1]),be[0][0]===d&&be[0][1]===g&&be[1][0]===oe&&be[1][1]===ae||(_e.selection=[[d,g],[oe,ae]],redraw.call(de),Oe.brush(t,fe.name))}function ended(t){if(Object(b["nopropagation"])(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Object(l["yesdrag"])(t.view,ue),Ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Pe.attr("pointer-events","all"),je.attr("cursor",$.overlay),_e.selection&&(be=_e.selection),empty(be)&&(_e.selection=null,redraw.call(de)),Oe.end(t,fe.name)}function keydowned(t){switch(t.keyCode){case 16:Ce=pe&&me;break;case 18:fe===G&&(pe&&(ne=oe-Te*pe,c=d+Te*pe),me&&(se=ae-Se*me,_=g+Se*me),fe=W,move(t));break;case 32:fe!==G&&fe!==W||(pe<0?ne=oe-Te:pe>0&&(c=d-Te),me<0?se=ae-Se:me>0&&(_=g-Se),fe=U,je.attr("cursor",$.selection),move(t));break;default:return}Object(b["default"])(t)}function keyupped(t){switch(t.keyCode){case 16:Ce&&(ce=le=Ce=!1,move(t));break;case 18:fe===W&&(pe<0?ne=oe:pe>0&&(c=d),me<0?se=ae:me>0&&(_=g),fe=G,move(t));break;case 32:fe===U&&(t.altKey?(pe&&(ne=oe-Te*pe,c=d+Te*pe),me&&(se=ae-Se*me,_=g+Se*me),fe=W):(pe<0?ne=oe:pe>0&&(c=d),me<0?se=ae:me>0&&(_=g),fe=G),je.attr("cursor",$[he]),move(t));break;default:return}Object(b["default"])(t)}}function touchmoved(t){emitter(this,arguments).moved(t)}function touchended(t){emitter(this,arguments).ended(t)}function initialize(){var n=this.__brush||{selection:null};return n.extent=number2(u.apply(this,arguments)),n.dim=t,n}return brush.move=function(n,u,c){n.tween?n.on("start.brush",(function(t){emitter(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){emitter(this,arguments).end(t)})).tween("brush",(function(){var n=this,c=n.__brush,l=emitter(n,arguments),h=c.selection,p=t.input("function"===typeof u?u.apply(this,arguments):u,c.extent),m=Object(d["default"])(h,p);function tween(t){c.selection=1===t&&null===p?null:m(t),redraw.call(n),l.brush()}return null!==h&&null!==p?tween:tween(1)})):n.each((function(){var n=this,l=arguments,d=n.__brush,h=t.input("function"===typeof u?u.apply(n,l):u,d.extent),p=emitter(n,l).beforestart();Object(m["interrupt"])(n),d.selection=null===h?null:h,redraw.call(n),p.start(c).brush(c).end(c)}))},brush.clear=function(t,n){brush.move(t,null,n)},Emitter.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0===--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,u,c){var l=Object(h["default"])(this.that).datum();oe.call(n,this.that,new g["default"](n,{sourceEvent:u,target:brush,selection:t.output(this.state.selection),mode:c,dispatch:oe}),l)}},brush.extent=function(t){return arguments.length?(u="function"===typeof t?t:Object(_["default"])(number2(t)),brush):u},brush.filter=function(t){return arguments.length?(Z="function"===typeof t?t:Object(_["default"])(!!t),brush):Z},brush.touchable=function(t){return arguments.length?(ne="function"===typeof t?t:Object(_["default"])(!!t),brush):ne},brush.handleSize=function(t){return arguments.length?(se=+t,brush):se},brush.keyModifiers=function(t){return arguments.length?(ie=!!t,brush):ie},brush.on=function(){var t=oe.on.apply(oe,arguments);return t===oe?brush:t},brush}n["default"]=function(){return brush(Z)}},"./node_modules/d3-brush/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=t=>()=>t},"./node_modules/d3-brush/src/event.js":function(t,n,u){"use strict";function BrushEvent(t,{sourceEvent:n,target:u,selection:c,mode:l,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},selection:{value:c,enumerable:!0,configurable:!0},mode:{value:l,enumerable:!0,configurable:!0},_:{value:d}})}u.r(n),u.d(n,"default",(function(){return BrushEvent}))},"./node_modules/d3-brush/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-brush/src/brush.js");u.d(n,"brush",(function(){return c["default"]})),u.d(n,"brushX",(function(){return c["brushX"]})),u.d(n,"brushY",(function(){return c["brushY"]})),u.d(n,"brushSelection",(function(){return c["brushSelection"]}))},"./node_modules/d3-brush/src/noevent.js":function(t,n,u){"use strict";function nopropagation(t){t.stopImmediatePropagation()}u.r(n),u.d(n,"nopropagation",(function(){return nopropagation})),n["default"]=function(t){t.preventDefault(),t.stopImmediatePropagation()}},"./node_modules/d3-chord/src/array.js":function(t,n,u){"use strict";u.r(n),u.d(n,"slice",(function(){return c}));var c=Array.prototype.slice},"./node_modules/d3-chord/src/chord.js":function(t,n,u){"use strict";u.r(n),u.d(n,"chordTranspose",(function(){return chordTranspose})),u.d(n,"chordDirected",(function(){return chordDirected}));var c=u("./node_modules/d3-chord/src/math.js");function range(t,n){return Array.from({length:n-t},(n,u)=>t+u)}function compareValue(t){return function(n,u){return t(n.source.value+n.target.value,u.source.value+u.target.value)}}function chordTranspose(){return chord(!1,!0)}function chordDirected(){return chord(!0,!1)}function chord(t,n){var u=0,l=null,d=null,h=null;function chord(p){var m,_=p.length,g=new Array(_),b=range(0,_),v=new Array(_*_),U=new Array(_),G=0;p=Float64Array.from({length:_*_},n?(t,n)=>p[n%_][n/_|0]:(t,n)=>p[n/_|0][n%_]);for(let n=0;n<_;++n){let u=0;for(let c=0;c<_;++c)u+=p[n*_+c]+t*p[c*_+n];G+=g[n]=u}G=Object(c["max"])(0,c["tau"]-u*_)/G,m=G?u:c["tau"]/_;{let n=0;l&&b.sort((t,n)=>l(g[t],g[n]));for(const u of b){const c=n;if(t){const t=range(1+~_,_).filter(t=>t<0?p[~t*_+u]:p[u*_+t]);d&&t.sort((t,n)=>d(t<0?-p[~t*_+u]:p[u*_+t],n<0?-p[~n*_+u]:p[u*_+n]));for(const c of t)if(c<0){const t=v[~c*_+u]||(v[~c*_+u]={source:null,target:null});t.target={index:u,startAngle:n,endAngle:n+=p[~c*_+u]*G,value:p[~c*_+u]}}else{const t=v[u*_+c]||(v[u*_+c]={source:null,target:null});t.source={index:u,startAngle:n,endAngle:n+=p[u*_+c]*G,value:p[u*_+c]}}U[u]={index:u,startAngle:c,endAngle:n,value:g[u]}}else{const t=range(0,_).filter(t=>p[u*_+t]||p[t*_+u]);d&&t.sort((t,n)=>d(p[u*_+t],p[u*_+n]));for(const c of t){let t;if(u<c?(t=v[u*_+c]||(v[u*_+c]={source:null,target:null}),t.source={index:u,startAngle:n,endAngle:n+=p[u*_+c]*G,value:p[u*_+c]}):(t=v[c*_+u]||(v[c*_+u]={source:null,target:null}),t.target={index:u,startAngle:n,endAngle:n+=p[u*_+c]*G,value:p[u*_+c]},u===c&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const n=t.source;t.source=t.target,t.target=n}}U[u]={index:u,startAngle:c,endAngle:n,value:g[u]}}n+=m}}return v=Object.values(v),v.groups=U,h?v.sort(h):v}return chord.padAngle=function(t){return arguments.length?(u=Object(c["max"])(0,t),chord):u},chord.sortGroups=function(t){return arguments.length?(l=t,chord):l},chord.sortSubgroups=function(t){return arguments.length?(d=t,chord):d},chord.sortChords=function(t){return arguments.length?(null==t?h=null:(h=compareValue(t))._=t,chord):h&&h._},chord}n["default"]=function(){return chord(!1,!1)}},"./node_modules/d3-chord/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return function(){return t}}},"./node_modules/d3-chord/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-chord/src/chord.js");u.d(n,"chord",(function(){return c["default"]})),u.d(n,"chordTranspose",(function(){return c["chordTranspose"]})),u.d(n,"chordDirected",(function(){return c["chordDirected"]}));var l=u("./node_modules/d3-chord/src/ribbon.js");u.d(n,"ribbon",(function(){return l["default"]})),u.d(n,"ribbonArrow",(function(){return l["ribbonArrow"]}))},"./node_modules/d3-chord/src/math.js":function(t,n,u){"use strict";u.r(n),u.d(n,"abs",(function(){return c})),u.d(n,"cos",(function(){return l})),u.d(n,"sin",(function(){return d})),u.d(n,"pi",(function(){return h})),u.d(n,"halfPi",(function(){return p})),u.d(n,"tau",(function(){return m})),u.d(n,"max",(function(){return _})),u.d(n,"epsilon",(function(){return g}));var c=Math.abs,l=Math.cos,d=Math.sin,h=Math.PI,p=h/2,m=2*h,_=Math.max,g=1e-12},"./node_modules/d3-chord/src/ribbon.js":function(t,n,u){"use strict";u.r(n),u.d(n,"ribbonArrow",(function(){return ribbonArrow}));var c=u("./node_modules/d3-path/src/path.js"),l=u("./node_modules/d3-chord/src/array.js"),d=u("./node_modules/d3-chord/src/constant.js"),h=u("./node_modules/d3-chord/src/math.js");function defaultSource(t){return t.source}function defaultTarget(t){return t.target}function defaultRadius(t){return t.radius}function defaultStartAngle(t){return t.startAngle}function defaultEndAngle(t){return t.endAngle}function defaultPadAngle(){return 0}function defaultArrowheadRadius(){return 10}function ribbon(t){var n=defaultSource,u=defaultTarget,p=defaultRadius,m=defaultRadius,_=defaultStartAngle,g=defaultEndAngle,b=defaultPadAngle,v=null;function ribbon(){var d,U=n.apply(this,arguments),G=u.apply(this,arguments),W=b.apply(this,arguments)/2,X=l["slice"].call(arguments),q=+p.apply(this,(X[0]=U,X)),K=_.apply(this,X)-h["halfPi"],Y=g.apply(this,X)-h["halfPi"],Q=+m.apply(this,(X[0]=G,X)),Z=_.apply(this,X)-h["halfPi"],$=g.apply(this,X)-h["halfPi"];if(v||(v=d=Object(c["default"])()),W>h["epsilon"]&&(Object(h["abs"])(Y-K)>2*W+h["epsilon"]?Y>K?(K+=W,Y-=W):(K-=W,Y+=W):K=Y=(K+Y)/2,Object(h["abs"])($-Z)>2*W+h["epsilon"]?$>Z?(Z+=W,$-=W):(Z-=W,$+=W):Z=$=(Z+$)/2),v.moveTo(q*Object(h["cos"])(K),q*Object(h["sin"])(K)),v.arc(0,0,q,K,Y),K!==Z||Y!==$)if(t){var J=+t.apply(this,arguments),ee=Q-J,te=(Z+$)/2;v.quadraticCurveTo(0,0,ee*Object(h["cos"])(Z),ee*Object(h["sin"])(Z)),v.lineTo(Q*Object(h["cos"])(te),Q*Object(h["sin"])(te)),v.lineTo(ee*Object(h["cos"])($),ee*Object(h["sin"])($))}else v.quadraticCurveTo(0,0,Q*Object(h["cos"])(Z),Q*Object(h["sin"])(Z)),v.arc(0,0,Q,Z,$);if(v.quadraticCurveTo(0,0,q*Object(h["cos"])(K),q*Object(h["sin"])(K)),v.closePath(),d)return v=null,d+""||null}return t&&(ribbon.headRadius=function(n){return arguments.length?(t="function"===typeof n?n:Object(d["default"])(+n),ribbon):t}),ribbon.radius=function(t){return arguments.length?(p=m="function"===typeof t?t:Object(d["default"])(+t),ribbon):p},ribbon.sourceRadius=function(t){return arguments.length?(p="function"===typeof t?t:Object(d["default"])(+t),ribbon):p},ribbon.targetRadius=function(t){return arguments.length?(m="function"===typeof t?t:Object(d["default"])(+t),ribbon):m},ribbon.startAngle=function(t){return arguments.length?(_="function"===typeof t?t:Object(d["default"])(+t),ribbon):_},ribbon.endAngle=function(t){return arguments.length?(g="function"===typeof t?t:Object(d["default"])(+t),ribbon):g},ribbon.padAngle=function(t){return arguments.length?(b="function"===typeof t?t:Object(d["default"])(+t),ribbon):b},ribbon.source=function(t){return arguments.length?(n=t,ribbon):n},ribbon.target=function(t){return arguments.length?(u=t,ribbon):u},ribbon.context=function(t){return arguments.length?(v=null==t?null:t,ribbon):v},ribbon}function ribbonArrow(){return ribbon(defaultArrowheadRadius)}n["default"]=function(){return ribbon()}},"./node_modules/d3-color/src/color.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Color",(function(){return Color})),u.d(n,"darker",(function(){return l})),u.d(n,"brighter",(function(){return d})),u.d(n,"default",(function(){return color})),u.d(n,"rgbConvert",(function(){return rgbConvert})),u.d(n,"rgb",(function(){return rgb})),u.d(n,"Rgb",(function(){return Rgb})),u.d(n,"hslConvert",(function(){return hslConvert})),u.d(n,"hsl",(function(){return hsl}));var c=u("./node_modules/d3-color/src/define.js");function Color(){}var l=.7,d=1/l,h="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",m="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_=/^#([0-9a-f]{3,8})$/,g=new RegExp("^rgb\\("+[h,h,h]+"\\)$"),b=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),v=new RegExp("^rgba\\("+[h,h,h,p]+"\\)$"),U=new RegExp("^rgba\\("+[m,m,m,p]+"\\)$"),G=new RegExp("^hsl\\("+[p,m,m]+"\\)$"),W=new RegExp("^hsla\\("+[p,m,m,p]+"\\)$"),X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var n,u;return t=(t+"").trim().toLowerCase(),(n=_.exec(t))?(u=n[1].length,n=parseInt(n[1],16),6===u?rgbn(n):3===u?new Rgb(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===u?rgba(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===u?rgba(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=g.exec(t))?new Rgb(n[1],n[2],n[3],1):(n=b.exec(t))?new Rgb(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=v.exec(t))?rgba(n[1],n[2],n[3],n[4]):(n=U.exec(t))?rgba(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=G.exec(t))?hsla(n[1],n[2]/100,n[3]/100,1):(n=W.exec(t))?hsla(n[1],n[2]/100,n[3]/100,n[4]):X.hasOwnProperty(t)?rgbn(X[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,n,u,c){return c<=0&&(t=n=u=NaN),new Rgb(t,n,u,c)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb(t,n,u,c){return 1===arguments.length?rgbConvert(t):new Rgb(t,n,u,null==c?1:c)}function Rgb(t,n,u,c){this.r=+t,this.g=+n,this.b=+u,this.opacity=+c}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function hex(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function hsla(t,n,u,c){return c<=0?t=n=u=NaN:u<=0||u>=1?t=n=NaN:n<=0&&(t=NaN),new Hsl(t,n,u,c)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var n=t.r/255,u=t.g/255,c=t.b/255,l=Math.min(n,u,c),d=Math.max(n,u,c),h=NaN,p=d-l,m=(d+l)/2;return p?(h=n===d?(u-c)/p+6*(u<c):u===d?(c-n)/p+2:(n-u)/p+4,p/=m<.5?d+l:2-d-l,h*=60):p=m>0&&m<1?0:h,new Hsl(h,p,m,t.opacity)}function hsl(t,n,u,c){return 1===arguments.length?hslConvert(t):new Hsl(t,n,u,null==c?1:c)}function Hsl(t,n,u,c){this.h=+t,this.s=+n,this.l=+u,this.opacity=+c}function hsl2rgb(t,n,u){return 255*(t<60?n+(u-n)*t/60:t<180?u:t<240?n+(u-n)*(240-t)/60:n)}Object(c["default"])(Color,color,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),Object(c["default"])(Rgb,rgb,Object(c["extend"])(Color,{brighter:function(t){return t=null==t?d:Math.pow(d,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?l:Math.pow(l,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),Object(c["default"])(Hsl,hsl,Object(c["extend"])(Color,{brighter:function(t){return t=null==t?d:Math.pow(d,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?l:Math.pow(l,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,u=this.l,c=u+(u<.5?u:1-u)*n,l=2*u-c;return new Rgb(hsl2rgb(t>=240?t-240:t+120,l,c),hsl2rgb(t,l,c),hsl2rgb(t<120?t+240:t-120,l,c),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},"./node_modules/d3-color/src/cubehelix.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return cubehelix})),u.d(n,"Cubehelix",(function(){return Cubehelix}));var c=u("./node_modules/d3-color/src/define.js"),l=u("./node_modules/d3-color/src/color.js"),d=u("./node_modules/d3-color/src/math.js"),h=-.14861,p=1.78277,m=-.29227,_=-.90649,g=1.97294,b=g*_,v=g*p,U=p*m-_*h;function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof l["Rgb"]||(t=Object(l["rgbConvert"])(t));var n=t.r/255,u=t.g/255,c=t.b/255,h=(U*c+b*n-v*u)/(U+b-v),p=c-h,G=(g*(u-h)-m*p)/_,W=Math.sqrt(G*G+p*p)/(g*h*(1-h)),X=W?Math.atan2(G,p)*d["degrees"]-120:NaN;return new Cubehelix(X<0?X+360:X,W,h,t.opacity)}function cubehelix(t,n,u,c){return 1===arguments.length?cubehelixConvert(t):new Cubehelix(t,n,u,null==c?1:c)}function Cubehelix(t,n,u,c){this.h=+t,this.s=+n,this.l=+u,this.opacity=+c}Object(c["default"])(Cubehelix,cubehelix,Object(c["extend"])(l["Color"],{brighter:function(t){return t=null==t?l["brighter"]:Math.pow(l["brighter"],t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?l["darker"]:Math.pow(l["darker"],t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*d["radians"],n=+this.l,u=isNaN(this.s)?0:this.s*n*(1-n),c=Math.cos(t),b=Math.sin(t);return new l["Rgb"](255*(n+u*(h*c+p*b)),255*(n+u*(m*c+_*b)),255*(n+u*(g*c)),this.opacity)}}))},"./node_modules/d3-color/src/define.js":function(t,n,u){"use strict";function extend(t,n){var u=Object.create(t.prototype);for(var c in n)u[c]=n[c];return u}u.r(n),u.d(n,"extend",(function(){return extend})),n["default"]=function(t,n,u){t.prototype=n.prototype=u,u.constructor=t}},"./node_modules/d3-color/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-color/src/color.js");u.d(n,"color",(function(){return c["default"]})),u.d(n,"rgb",(function(){return c["rgb"]})),u.d(n,"hsl",(function(){return c["hsl"]}));var l=u("./node_modules/d3-color/src/lab.js");u.d(n,"lab",(function(){return l["default"]})),u.d(n,"hcl",(function(){return l["hcl"]})),u.d(n,"lch",(function(){return l["lch"]})),u.d(n,"gray",(function(){return l["gray"]}));var d=u("./node_modules/d3-color/src/cubehelix.js");u.d(n,"cubehelix",(function(){return d["default"]}))},"./node_modules/d3-color/src/lab.js":function(t,n,u){"use strict";u.r(n),u.d(n,"gray",(function(){return gray})),u.d(n,"default",(function(){return lab})),u.d(n,"Lab",(function(){return Lab})),u.d(n,"lch",(function(){return lch})),u.d(n,"hcl",(function(){return hcl})),u.d(n,"Hcl",(function(){return Hcl}));var c=u("./node_modules/d3-color/src/define.js"),l=u("./node_modules/d3-color/src/color.js"),d=u("./node_modules/d3-color/src/math.js");const h=18,p=.96422,m=1,_=.82521,g=4/29,b=6/29,v=3*b*b,U=b*b*b;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof l["Rgb"]||(t=Object(l["rgbConvert"])(t));var n,u,c=rgb2lrgb(t.r),d=rgb2lrgb(t.g),h=rgb2lrgb(t.b),g=xyz2lab((.2225045*c+.7168786*d+.0606169*h)/m);return c===d&&d===h?n=u=g:(n=xyz2lab((.4360747*c+.3850649*d+.1430804*h)/p),u=xyz2lab((.0139322*c+.0971045*d+.7141733*h)/_)),new Lab(116*g-16,500*(n-g),200*(g-u),t.opacity)}function gray(t,n){return new Lab(t,0,0,null==n?1:n)}function lab(t,n,u,c){return 1===arguments.length?labConvert(t):new Lab(t,n,u,null==c?1:c)}function Lab(t,n,u,c){this.l=+t,this.a=+n,this.b=+u,this.opacity=+c}function xyz2lab(t){return t>U?Math.pow(t,1/3):t/v+g}function lab2xyz(t){return t>b?t*t*t:v*(t-g)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*d["degrees"];return new Hcl(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lch(t,n,u,c){return 1===arguments.length?hclConvert(t):new Hcl(u,n,t,null==c?1:c)}function hcl(t,n,u,c){return 1===arguments.length?hclConvert(t):new Hcl(t,n,u,null==c?1:c)}function Hcl(t,n,u,c){this.h=+t,this.c=+n,this.l=+u,this.opacity=+c}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var n=t.h*d["radians"];return new Lab(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Object(c["default"])(Lab,lab,Object(c["extend"])(l["Color"],{brighter:function(t){return new Lab(this.l+h*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-h*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,u=isNaN(this.b)?t:t-this.b/200;return n=p*lab2xyz(n),t=m*lab2xyz(t),u=_*lab2xyz(u),new l["Rgb"](lrgb2rgb(3.1338561*n-1.6168667*t-.4906146*u),lrgb2rgb(-.9787684*n+1.9161415*t+.033454*u),lrgb2rgb(.0719453*n-.2289914*t+1.4052427*u),this.opacity)}})),Object(c["default"])(Hcl,hcl,Object(c["extend"])(l["Color"],{brighter:function(t){return new Hcl(this.h,this.c,this.l+h*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-h*(null==t?1:t),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}))},"./node_modules/d3-color/src/math.js":function(t,n,u){"use strict";u.r(n),u.d(n,"radians",(function(){return c})),u.d(n,"degrees",(function(){return l}));const c=Math.PI/180,l=180/Math.PI},"./node_modules/d3-contour/src/area.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n=0,u=t.length,c=t[u-1][1]*t[0][0]-t[u-1][0]*t[0][1];while(++n<u)c+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return c}},"./node_modules/d3-contour/src/array.js":function(t,n,u){"use strict";u.r(n),u.d(n,"slice",(function(){return l}));var c=Array.prototype,l=c.slice},"./node_modules/d3-contour/src/ascending.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return t-n}},"./node_modules/d3-contour/src/blur.js":function(t,n,u){"use strict";function blurX(t,n,u){for(var c=t.width,l=t.height,d=1+(u<<1),h=0;h<l;++h)for(var p=0,m=0;p<c+u;++p)p<c&&(m+=t.data[p+h*c]),p>=u&&(p>=d&&(m-=t.data[p-d+h*c]),n.data[p-u+h*c]=m/Math.min(p+1,c-1+d-p,d))}function blurY(t,n,u){for(var c=t.width,l=t.height,d=1+(u<<1),h=0;h<c;++h)for(var p=0,m=0;p<l+u;++p)p<l&&(m+=t.data[h+p*c]),p>=u&&(p>=d&&(m-=t.data[h+(p-d)*c]),n.data[h+(p-u)*c]=m/Math.min(p+1,l-1+d-p,d))}u.r(n),u.d(n,"blurX",(function(){return blurX})),u.d(n,"blurY",(function(){return blurY}))},"./node_modules/d3-contour/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=t=>()=>t},"./node_modules/d3-contour/src/contains.js":function(t,n,u){"use strict";function ringContains(t,n){for(var u=n[0],c=n[1],l=-1,d=0,h=t.length,p=h-1;d<h;p=d++){var m=t[d],_=m[0],g=m[1],b=t[p],v=b[0],U=b[1];if(segmentContains(m,b,n))return 0;g>c!==U>c&&u<(v-_)*(c-g)/(U-g)+_&&(l=-l)}return l}function segmentContains(t,n,u){var c;return collinear(t,n,u)&&within(t[c=+(t[0]===n[0])],u[c],n[c])}function collinear(t,n,u){return(n[0]-t[0])*(u[1]-t[1])===(u[0]-t[0])*(n[1]-t[1])}function within(t,n,u){return t<=n&&n<=u||u<=n&&n<=t}u.r(n),n["default"]=function(t,n){var u,c=-1,l=n.length;while(++c<l)if(u=ringContains(t,n[c]))return u;return 0}},"./node_modules/d3-contour/src/contours.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-array/src/threshold/sturges.js"),l=u("./node_modules/d3-array/src/extent.js"),d=u("./node_modules/d3-array/src/ticks.js"),h=u("./node_modules/d3-contour/src/array.js"),p=u("./node_modules/d3-contour/src/ascending.js"),m=u("./node_modules/d3-contour/src/area.js"),_=u("./node_modules/d3-contour/src/constant.js"),g=u("./node_modules/d3-contour/src/contains.js"),b=u("./node_modules/d3-contour/src/noop.js"),v=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];n["default"]=function(){var t=1,n=1,u=c["default"],U=smoothLinear;function contours(t){var n=u(t);if(Array.isArray(n))n=n.slice().sort(p["default"]);else{const u=Object(l["default"])(t),c=Object(d["tickStep"])(u[0],u[1],n);n=Object(d["default"])(Math.floor(u[0]/c)*c,Math.floor(u[1]/c-1)*c,n)}return n.map(n=>contour(t,n))}function contour(t,n){var u=[],c=[];return isorings(t,n,(function(l){U(l,t,n),Object(m["default"])(l)>0?u.push([l]):c.push(l)})),c.forEach((function(t){for(var n,c=0,l=u.length;c<l;++c)if(-1!==Object(g["default"])((n=u[c])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:n,coordinates:u}}function isorings(u,c,l){var d,h,p,m,_,g,b=new Array,U=new Array;d=h=-1,m=u[0]>=c,v[m<<1].forEach(stitch);while(++d<t-1)p=m,m=u[d+1]>=c,v[p|m<<1].forEach(stitch);v[m<<0].forEach(stitch);while(++h<n-1){d=-1,m=u[h*t+t]>=c,_=u[h*t]>=c,v[m<<1|_<<2].forEach(stitch);while(++d<t-1)p=m,m=u[h*t+t+d+1]>=c,g=_,_=u[h*t+d+1]>=c,v[p|m<<1|_<<2|g<<3].forEach(stitch);v[m|_<<3].forEach(stitch)}d=-1,_=u[h*t]>=c,v[_<<2].forEach(stitch);while(++d<t-1)g=_,_=u[h*t+d+1]>=c,v[_<<2|g<<3].forEach(stitch);function stitch(t){var n,u,c=[t[0][0]+d,t[0][1]+h],p=[t[1][0]+d,t[1][1]+h],m=index(c),_=index(p);(n=U[m])?(u=b[_])?(delete U[n.end],delete b[u.start],n===u?(n.ring.push(p),l(n.ring)):b[n.start]=U[u.end]={start:n.start,end:u.end,ring:n.ring.concat(u.ring)}):(delete U[n.end],n.ring.push(p),U[n.end=_]=n):(n=b[_])?(u=U[m])?(delete b[n.start],delete U[u.end],n===u?(n.ring.push(p),l(n.ring)):b[u.start]=U[n.end]={start:u.start,end:n.end,ring:u.ring.concat(n.ring)}):(delete b[n.start],n.ring.unshift(c),b[n.start=m]=n):b[m]=U[_]={start:m,end:_,ring:[c,p]}}v[_<<3].forEach(stitch)}function index(n){return 2*n[0]+n[1]*(t+1)*4}function smoothLinear(u,c,l){u.forEach((function(u){var d,h=u[0],p=u[1],m=0|h,_=0|p,g=c[_*t+m];h>0&&h<t&&m===h&&(d=c[_*t+m-1],u[0]=h+(l-d)/(g-d)-.5),p>0&&p<n&&_===p&&(d=c[(_-1)*t+m],u[1]=p+(l-d)/(g-d)-.5)}))}return contours.contour=contour,contours.size=function(u){if(!arguments.length)return[t,n];var c=Math.floor(u[0]),l=Math.floor(u[1]);if(!(c>=0&&l>=0))throw new Error("invalid size");return t=c,n=l,contours},contours.thresholds=function(t){return arguments.length?(u="function"===typeof t?t:Array.isArray(t)?Object(_["default"])(h["slice"].call(t)):Object(_["default"])(t),contours):u},contours.smooth=function(t){return arguments.length?(U=t?smoothLinear:b["default"],contours):U===smoothLinear},contours}},"./node_modules/d3-contour/src/density.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-array/src/max.js"),l=u("./node_modules/d3-array/src/ticks.js"),d=u("./node_modules/d3-array/src/range.js"),h=u("./node_modules/d3-contour/src/array.js"),p=u("./node_modules/d3-contour/src/blur.js"),m=u("./node_modules/d3-contour/src/constant.js"),_=u("./node_modules/d3-contour/src/contours.js");function defaultX(t){return t[0]}function defaultY(t){return t[1]}function defaultWeight(){return 1}n["default"]=function(){var t=defaultX,n=defaultY,u=defaultWeight,g=960,b=500,v=20,U=2,G=3*v,W=g+2*G>>U,X=b+2*G>>U,q=Object(m["default"])(20);function density(h){var m=new Float32Array(W*X),g=new Float32Array(W*X),b=Math.pow(2,-U);h.forEach((function(c,l,d){var h=(t(c,l,d)+G)*b,p=(n(c,l,d)+G)*b,_=+u(c,l,d);if(h>=0&&h<W&&p>=0&&p<X){var g=Math.floor(h),v=Math.floor(p),U=h-g-.5,q=p-v-.5;m[g+v*W]+=(1-U)*(1-q)*_,m[g+1+v*W]+=U*(1-q)*_,m[g+1+(v+1)*W]+=U*q*_,m[g+(v+1)*W]+=(1-U)*q*_}})),Object(p["blurX"])({width:W,height:X,data:m},{width:W,height:X,data:g},v>>U),Object(p["blurY"])({width:W,height:X,data:g},{width:W,height:X,data:m},v>>U),Object(p["blurX"])({width:W,height:X,data:m},{width:W,height:X,data:g},v>>U),Object(p["blurY"])({width:W,height:X,data:g},{width:W,height:X,data:m},v>>U),Object(p["blurX"])({width:W,height:X,data:m},{width:W,height:X,data:g},v>>U),Object(p["blurY"])({width:W,height:X,data:g},{width:W,height:X,data:m},v>>U);var K=q(m);if(!Array.isArray(K)){var Y=Object(c["default"])(m);K=Object(l["tickStep"])(0,Y,K),K=Object(d["default"])(0,Math.floor(Y/K)*K,K),K.shift()}return Object(_["default"])().thresholds(K).size([W,X])(m).map(transform)}function transform(t){return t.value*=Math.pow(2,-2*U),t.coordinates.forEach(transformPolygon),t}function transformPolygon(t){t.forEach(transformRing)}function transformRing(t){t.forEach(transformPoint)}function transformPoint(t){t[0]=t[0]*Math.pow(2,U)-G,t[1]=t[1]*Math.pow(2,U)-G}function resize(){return G=3*v,W=g+2*G>>U,X=b+2*G>>U,density}return density.x=function(n){return arguments.length?(t="function"===typeof n?n:Object(m["default"])(+n),density):t},density.y=function(t){return arguments.length?(n="function"===typeof t?t:Object(m["default"])(+t),density):n},density.weight=function(t){return arguments.length?(u="function"===typeof t?t:Object(m["default"])(+t),density):u},density.size=function(t){if(!arguments.length)return[g,b];var n=+t[0],u=+t[1];if(!(n>=0&&u>=0))throw new Error("invalid size");return g=n,b=u,resize()},density.cellSize=function(t){if(!arguments.length)return 1<<U;if(!((t=+t)>=1))throw new Error("invalid cell size");return U=Math.floor(Math.log(t)/Math.LN2),resize()},density.thresholds=function(t){return arguments.length?(q="function"===typeof t?t:Array.isArray(t)?Object(m["default"])(h["slice"].call(t)):Object(m["default"])(t),density):q},density.bandwidth=function(t){if(!arguments.length)return Math.sqrt(v*(v+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return v=Math.round((Math.sqrt(4*t*t+1)-1)/2),resize()},density}},"./node_modules/d3-contour/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-contour/src/contours.js");u.d(n,"contours",(function(){return c["default"]}));var l=u("./node_modules/d3-contour/src/density.js");u.d(n,"contourDensity",(function(){return l["default"]}))},"./node_modules/d3-contour/src/noop.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){}},"./node_modules/d3-delaunay/src/delaunay.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return Delaunay}));var c=u("./node_modules/delaunator/index.js"),l=u("./node_modules/d3-delaunay/src/path.js"),d=u("./node_modules/d3-delaunay/src/polygon.js"),h=u("./node_modules/d3-delaunay/src/voronoi.js");const p=2*Math.PI,m=Math.pow;function pointX(t){return t[0]}function pointY(t){return t[1]}function collinear(t){const{triangles:n,coords:u}=t;for(let c=0;c<n.length;c+=3){const t=2*n[c],l=2*n[c+1],d=2*n[c+2],h=(u[d]-u[t])*(u[l+1]-u[t+1])-(u[l]-u[t])*(u[d+1]-u[t+1]);if(h>1e-10)return!1}return!0}function jitter(t,n,u){return[t+Math.sin(t+n)*u,n+Math.cos(t-n)*u]}class Delaunay{static from(t,n=pointX,u=pointY,c){return new Delaunay("length"in t?flatArray(t,n,u,c):Float64Array.from(flatIterable(t,n,u,c)))}constructor(t){this._delaunator=new c["default"](t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&collinear(t)){this.collinear=Int32Array.from({length:n.length/2},(t,n)=>n).sort((t,u)=>n[2*t]-n[2*u]||n[2*t+1]-n[2*u+1]);const t=this.collinear[0],u=this.collinear[this.collinear.length-1],l=[n[2*t],n[2*t+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(l[3]-l[1],l[2]-l[0]);for(let c=0,h=n.length/2;c<h;++c){const t=jitter(n[2*c],n[2*c+1],d);n[2*c]=t[0],n[2*c+1]=t[1]}this._delaunator=new c["default"](n)}else delete this.collinear;const u=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,d=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),p=this._hullIndex.fill(-1);for(let c=0,m=u.length;c<m;++c){const t=d[c%3===2?c-2:c+1];-1!==u[c]&&-1!==h[t]||(h[t]=c)}for(let c=0,m=l.length;c<m;++c)p[l[c]]=c;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],h[l[0]]=1,2===l.length&&(h[l[1]]=0,this.triangles[1]=l[1],this.triangles[2]=l[1]))}voronoi(t){return new h["default"](this,t)}*neighbors(t){const{inedges:n,hull:u,_hullIndex:c,halfedges:l,triangles:d,collinear:h}=this;if(h){const n=h.indexOf(t);return n>0&&(yield h[n-1]),void(n<h.length-1&&(yield h[n+1]))}const p=n[t];if(-1===p)return;let m=p,_=-1;do{if(yield _=d[m],m=m%3===2?m-2:m+1,d[m]!==t)return;if(m=l[m],-1===m){const n=u[(c[t]+1)%u.length];return void(n!==_&&(yield n))}}while(m!==p)}find(t,n,u=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const c=u;let l;while((l=this._step(u,t,n))>=0&&l!==u&&l!==c)u=l;return l}_step(t,n,u){const{inedges:c,hull:l,_hullIndex:d,halfedges:h,triangles:p,points:_}=this;if(-1===c[t]||!_.length)return(t+1)%(_.length>>1);let g=t,b=m(n-_[2*t],2)+m(u-_[2*t+1],2);const v=c[t];let U=v;do{let c=p[U];const v=m(n-_[2*c],2)+m(u-_[2*c+1],2);if(v<b&&(b=v,g=c),U=U%3===2?U-2:U+1,p[U]!==t)break;if(U=h[U],-1===U){if(U=l[(d[t]+1)%l.length],U!==c&&m(n-_[2*U],2)+m(u-_[2*U+1],2)<b)return U;break}}while(U!==v);return g}render(t){const n=null==t?t=new l["default"]:void 0,{points:u,halfedges:c,triangles:d}=this;for(let l=0,h=c.length;l<h;++l){const n=c[l];if(n<l)continue;const h=2*d[l],p=2*d[n];t.moveTo(u[h],u[h+1]),t.lineTo(u[p],u[p+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"===typeof t.moveTo||(n=t,t=null),n=void 0==n?2:+n;const u=null==t?t=new l["default"]:void 0,{points:c}=this;for(let l=0,d=c.length;l<d;l+=2){const u=c[l],d=c[l+1];t.moveTo(u+n,d),t.arc(u,d,n,0,p)}return u&&u.value()}renderHull(t){const n=null==t?t=new l["default"]:void 0,{hull:u,points:c}=this,d=2*u[0],h=u.length;t.moveTo(c[d],c[d+1]);for(let l=1;l<h;++l){const n=2*u[l];t.lineTo(c[n],c[n+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new d["default"];return this.renderHull(t),t.value()}renderTriangle(t,n){const u=null==n?n=new l["default"]:void 0,{points:c,triangles:d}=this,h=2*d[t*=3],p=2*d[t+1],m=2*d[t+2];return n.moveTo(c[h],c[h+1]),n.lineTo(c[p],c[p+1]),n.lineTo(c[m],c[m+1]),n.closePath(),u&&u.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,u=t.length/3;n<u;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new d["default"];return this.renderTriangle(t,n),n.value()}}function flatArray(t,n,u,c){const l=t.length,d=new Float64Array(2*l);for(let h=0;h<l;++h){const l=t[h];d[2*h]=n.call(c,l,h,t),d[2*h+1]=u.call(c,l,h,t)}return d}function*flatIterable(t,n,u,c){let l=0;for(const d of t)yield n.call(c,d,l,t),yield u.call(c,d,l,t),++l}},"./node_modules/d3-delaunay/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-delaunay/src/delaunay.js");u.d(n,"Delaunay",(function(){return c["default"]}));var l=u("./node_modules/d3-delaunay/src/voronoi.js");u.d(n,"Voronoi",(function(){return l["default"]}))},"./node_modules/d3-delaunay/src/path.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return Path}));const c=1e-6;class Path{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,u){t=+t,n=+n,u=+u;const l=t+u,d=n;if(u<0)throw new Error("negative radius");null===this._x1?this._+=`M${l},${d}`:(Math.abs(this._x1-l)>c||Math.abs(this._y1-d)>c)&&(this._+="L"+l+","+d),u&&(this._+=`A${u},${u},0,1,1,${t-u},${n}A${u},${u},0,1,1,${this._x1=l},${this._y1=d}`)}rect(t,n,u,c){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+u}v${+c}h${-u}Z`}value(){return this._||null}}},"./node_modules/d3-delaunay/src/polygon.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return Polygon}));class Polygon{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}},"./node_modules/d3-delaunay/src/voronoi.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return Voronoi}));var c=u("./node_modules/d3-delaunay/src/path.js"),l=u("./node_modules/d3-delaunay/src/polygon.js");class Voronoi{constructor(t,[n,u,c,l]=[0,0,960,500]){if(!((c=+c)>=(n=+n))||!((l=+l)>=(u=+u)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=c,this.xmin=n,this.ymax=l,this.ymin=u,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:u},vectors:c}=this,l=this.circumcenters=this._circumcenters.subarray(0,u.length/3*2);for(let v,U,G=0,W=0,X=u.length;G<X;G+=3,W+=2){const n=2*u[G],c=2*u[G+1],d=2*u[G+2],h=t[n],p=t[n+1],m=t[c],_=t[c+1],g=t[d],b=t[d+1],X=m-h,q=_-p,K=g-h,Y=b-p,Q=2*(X*Y-q*K);if(Math.abs(Q)<1e-9){let n=1e9;const c=2*u[0];n*=Math.sign((t[c]-h)*Y-(t[c+1]-p)*K),v=(h+g)/2-n*Y,U=(p+b)/2+n*K}else{const t=1/Q,n=X*X+q*q,u=K*K+Y*Y;v=h+(Y*n-q*u)*t,U=p+(X*u-K*n)*t}l[W]=v,l[W+1]=U}let d,h,p,m=n[n.length-1],_=4*m,g=t[2*m],b=t[2*m+1];c.fill(0);for(let v=0;v<n.length;++v)m=n[v],d=_,h=g,p=b,_=4*m,g=t[2*m],b=t[2*m+1],c[d+2]=c[_]=p-b,c[d+3]=c[_+1]=g-h}render(t){const n=null==t?t=new c["default"]:void 0,{delaunay:{halfedges:u,inedges:l,hull:d},circumcenters:h,vectors:p}=this;if(d.length<=1)return null;for(let c=0,g=u.length;c<g;++c){const n=u[c];if(n<c)continue;const l=2*Math.floor(c/3),d=2*Math.floor(n/3),p=h[l],m=h[l+1],_=h[d],g=h[d+1];this._renderSegment(p,m,_,g,t)}let m,_=d[d.length-1];for(let c=0;c<d.length;++c){m=_,_=d[c];const n=2*Math.floor(l[_]/3),u=h[n],g=h[n+1],b=4*m,v=this._project(u,g,p[b+2],p[b+3]);v&&this._renderSegment(u,g,v[0],v[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new c["default"]:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const u=null==n?n=new c["default"]:void 0,l=this._clip(t);if(null===l||!l.length)return;n.moveTo(l[0],l[1]);let d=l.length;while(l[0]===l[d-2]&&l[1]===l[d-1]&&d>1)d-=2;for(let c=2;c<d;c+=2)l[c]===l[c-2]&&l[c+1]===l[c-1]||n.lineTo(l[c],l[c+1]);return n.closePath(),u&&u.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,u=t.length/2;n<u;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new l["default"];return this.renderCell(t,n),n.value()}_renderSegment(t,n,u,c,l){let d;const h=this._regioncode(t,n),p=this._regioncode(u,c);0===h&&0===p?(l.moveTo(t,n),l.lineTo(u,c)):(d=this._clipSegment(t,n,u,c,h,p))&&(l.moveTo(d[0],d[1]),l.lineTo(d[2],d[3]))}contains(t,n,u){return n=+n,n===n&&(u=+u,u===u)&&this.delaunay._step(t,n,u)===t}*neighbors(t){const n=this._clip(t);if(n)for(const u of this.delaunay.neighbors(t)){const t=this._clip(u);if(t)e:for(let c=0,l=n.length;c<l;c+=2)for(let d=0,h=t.length;d<h;d+=2)if(n[c]==t[d]&&n[c+1]==t[d+1]&&n[(c+2)%l]==t[(d+h-2)%h]&&n[(c+3)%l]==t[(d+h-1)%h]){yield u;break e}}}_cell(t){const{circumcenters:n,delaunay:{inedges:u,halfedges:c,triangles:l}}=this,d=u[t];if(-1===d)return null;const h=[];let p=d;do{const u=Math.floor(p/3);if(h.push(n[2*u],n[2*u+1]),p=p%3===2?p-2:p+1,l[p]!==t)break;p=c[p]}while(p!==d&&-1!==p);return h}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:u}=this,c=4*t;return u[c]||u[c+1]?this._clipInfinite(t,n,u[c],u[c+1],u[c+2],u[c+3]):this._clipFinite(t,n)}_clipFinite(t,n){const u=n.length;let c,l,d,h,p=null,m=n[u-2],_=n[u-1],g=this._regioncode(m,_),b=0;for(let v=0;v<u;v+=2)if(c=m,l=_,m=n[v],_=n[v+1],d=g,g=this._regioncode(m,_),0===d&&0===g)h=b,b=0,p?p.push(m,_):p=[m,_];else{let n,u,v,U,G;if(0===d){if(null===(n=this._clipSegment(c,l,m,_,d,g)))continue;[u,v,U,G]=n}else{if(null===(n=this._clipSegment(m,_,c,l,g,d)))continue;[U,G,u,v]=n,h=b,b=this._edgecode(u,v),h&&b&&this._edge(t,h,b,p,p.length),p?p.push(u,v):p=[u,v]}h=b,b=this._edgecode(U,G),h&&b&&this._edge(t,h,b,p,p.length),p?p.push(U,G):p=[U,G]}if(p)h=b,b=this._edgecode(p[0],p[1]),h&&b&&this._edge(t,h,b,p,p.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return p}_clipSegment(t,n,u,c,l,d){while(1){if(0===l&&0===d)return[t,n,u,c];if(l&d)return null;let h,p,m=l||d;8&m?(h=t+(u-t)*(this.ymax-n)/(c-n),p=this.ymax):4&m?(h=t+(u-t)*(this.ymin-n)/(c-n),p=this.ymin):2&m?(p=n+(c-n)*(this.xmax-t)/(u-t),h=this.xmax):(p=n+(c-n)*(this.xmin-t)/(u-t),h=this.xmin),l?(t=h,n=p,l=this._regioncode(t,n)):(u=h,c=p,d=this._regioncode(u,c))}}_clipInfinite(t,n,u,c,l,d){let h,p=Array.from(n);if((h=this._project(p[0],p[1],u,c))&&p.unshift(h[0],h[1]),(h=this._project(p[p.length-2],p[p.length-1],l,d))&&p.push(h[0],h[1]),p=this._clipFinite(t,p))for(let m,_=0,g=p.length,b=this._edgecode(p[g-2],p[g-1]);_<g;_+=2)m=b,b=this._edgecode(p[_],p[_+1]),m&&b&&(_=this._edge(t,m,b,p,_),g=p.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(p=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return p}_edge(t,n,u,c,l){while(n!==u){let u,d;switch(n){case 5:n=4;continue;case 4:n=6,u=this.xmax,d=this.ymin;break;case 6:n=2;continue;case 2:n=10,u=this.xmax,d=this.ymax;break;case 10:n=8;continue;case 8:n=9,u=this.xmin,d=this.ymax;break;case 9:n=1;continue;case 1:n=5,u=this.xmin,d=this.ymin;break}c[l]===u&&c[l+1]===d||!this.contains(t,u,d)||(c.splice(l,0,u,d),l+=2)}if(c.length>4)for(let d=0;d<c.length;d+=2){const t=(d+2)%c.length,n=(d+4)%c.length;(c[d]===c[t]&&c[t]===c[n]||c[d+1]===c[t+1]&&c[t+1]===c[n+1])&&(c.splice(t,2),d-=2)}return l}_project(t,n,u,c){let l,d,h,p=1/0;if(c<0){if(n<=this.ymin)return null;(l=(this.ymin-n)/c)<p&&(h=this.ymin,d=t+(p=l)*u)}else if(c>0){if(n>=this.ymax)return null;(l=(this.ymax-n)/c)<p&&(h=this.ymax,d=t+(p=l)*u)}if(u>0){if(t>=this.xmax)return null;(l=(this.xmax-t)/u)<p&&(d=this.xmax,h=n+(p=l)*c)}else if(u<0){if(t<=this.xmin)return null;(l=(this.xmin-t)/u)<p&&(d=this.xmin,h=n+(p=l)*c)}return[d,h]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}},"./node_modules/d3-dispatch/src/dispatch.js":function(t,n,u){"use strict";u.r(n);var c={value:()=>{}};function dispatch(){for(var t,n=0,u=arguments.length,c={};n<u;++n){if(!(t=arguments[n]+"")||t in c||/[\s.]/.test(t))throw new Error("illegal type: "+t);c[t]=[]}return new Dispatch(c)}function Dispatch(t){this._=t}function parseTypenames(t,n){return t.trim().split(/^|\s+/).map((function(t){var u="",c=t.indexOf(".");if(c>=0&&(u=t.slice(c+1),t=t.slice(0,c)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:u}}))}function get(t,n){for(var u,c=0,l=t.length;c<l;++c)if((u=t[c]).name===n)return u.value}function set(t,n,u){for(var l=0,d=t.length;l<d;++l)if(t[l].name===n){t[l]=c,t=t.slice(0,l).concat(t.slice(l+1));break}return null!=u&&t.push({name:n,value:u}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,n){var u,c=this._,l=parseTypenames(t+"",c),d=-1,h=l.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++d<h)if(u=(t=l[d]).type)c[u]=set(c[u],t.name,n);else if(null==n)for(u in c)c[u]=set(c[u],t.name,null);return this}while(++d<h)if((u=(t=l[d]).type)&&(u=get(c[u],t.name)))return u},copy:function(){var t={},n=this._;for(var u in n)t[u]=n[u].slice();return new Dispatch(t)},call:function(t,n){if((u=arguments.length-2)>0)for(var u,c,l=new Array(u),d=0;d<u;++d)l[d]=arguments[d+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],d=0,u=c.length;d<u;++d)c[d].value.apply(n,l)},apply:function(t,n,u){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var c=this._[t],l=0,d=c.length;l<d;++l)c[l].value.apply(n,u)}},n["default"]=dispatch},"./node_modules/d3-dispatch/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-dispatch/src/dispatch.js");u.d(n,"dispatch",(function(){return c["default"]}))},"./node_modules/d3-drag/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=t=>()=>t},"./node_modules/d3-drag/src/drag.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-dispatch/src/dispatch.js"),l=u("./node_modules/d3-selection/src/select.js"),d=u("./node_modules/d3-selection/src/pointer.js"),h=u("./node_modules/d3-drag/src/nodrag.js"),p=u("./node_modules/d3-drag/src/noevent.js"),m=u("./node_modules/d3-drag/src/constant.js"),_=u("./node_modules/d3-drag/src/event.js");function defaultFilter(t){return!t.ctrlKey&&!t.button}function defaultContainer(){return this.parentNode}function defaultSubject(t,n){return null==n?{x:t.x,y:t.y}:n}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}n["default"]=function(){var t,n,u,g,b=defaultFilter,v=defaultContainer,U=defaultSubject,G=defaultTouchable,W={},X=Object(c["default"])("start","drag","end"),q=0,K=0;function drag(t){t.on("mousedown.drag",mousedowned).filter(G).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved,p["nonpassive"]).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(c,d){if(!g&&b.call(this,c,d)){var m=beforestart(this,v.call(this,c,d),c,d,"mouse");m&&(Object(l["default"])(c.view).on("mousemove.drag",mousemoved,p["nonpassivecapture"]).on("mouseup.drag",mouseupped,p["nonpassivecapture"]),Object(h["default"])(c.view),Object(p["nopropagation"])(c),u=!1,t=c.clientX,n=c.clientY,m("start",c))}}function mousemoved(c){if(Object(p["default"])(c),!u){var l=c.clientX-t,d=c.clientY-n;u=l*l+d*d>K}W.mouse("drag",c)}function mouseupped(t){Object(l["default"])(t.view).on("mousemove.drag mouseup.drag",null),Object(h["yesdrag"])(t.view,u),Object(p["default"])(t),W.mouse("end",t)}function touchstarted(t,n){if(b.call(this,t,n)){var u,c,l=t.changedTouches,d=v.call(this,t,n),h=l.length;for(u=0;u<h;++u)(c=beforestart(this,d,t,n,l[u].identifier,l[u]))&&(Object(p["nopropagation"])(t),c("start",t,l[u]))}}function touchmoved(t){var n,u,c=t.changedTouches,l=c.length;for(n=0;n<l;++n)(u=W[c[n].identifier])&&(Object(p["default"])(t),u("drag",t,c[n]))}function touchended(t){var n,u,c=t.changedTouches,l=c.length;for(g&&clearTimeout(g),g=setTimeout((function(){g=null}),500),n=0;n<l;++n)(u=W[c[n].identifier])&&(Object(p["nopropagation"])(t),u("end",t,c[n]))}function beforestart(t,n,u,c,l,h){var p,m,g,b=X.copy(),v=Object(d["default"])(h||u,n);if(null!=(g=U.call(t,new _["default"]("beforestart",{sourceEvent:u,target:drag,identifier:l,active:q,x:v[0],y:v[1],dx:0,dy:0,dispatch:b}),c)))return p=g.x-v[0]||0,m=g.y-v[1]||0,function gesture(u,h,U){var G,X=v;switch(u){case"start":W[l]=gesture,G=q++;break;case"end":delete W[l],--q;case"drag":v=Object(d["default"])(U||h,n),G=q;break}b.call(u,t,new _["default"](u,{sourceEvent:h,subject:g,target:drag,identifier:l,active:G,x:v[0]+p,y:v[1]+m,dx:v[0]-X[0],dy:v[1]-X[1],dispatch:b}),c)}}return drag.filter=function(t){return arguments.length?(b="function"===typeof t?t:Object(m["default"])(!!t),drag):b},drag.container=function(t){return arguments.length?(v="function"===typeof t?t:Object(m["default"])(t),drag):v},drag.subject=function(t){return arguments.length?(U="function"===typeof t?t:Object(m["default"])(t),drag):U},drag.touchable=function(t){return arguments.length?(G="function"===typeof t?t:Object(m["default"])(!!t),drag):G},drag.on=function(){var t=X.on.apply(X,arguments);return t===X?drag:t},drag.clickDistance=function(t){return arguments.length?(K=(t=+t)*t,drag):Math.sqrt(K)},drag}},"./node_modules/d3-drag/src/event.js":function(t,n,u){"use strict";function DragEvent(t,{sourceEvent:n,subject:u,target:c,identifier:l,active:d,x:h,y:p,dx:m,dy:_,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:u,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:d,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:g}})}u.r(n),u.d(n,"default",(function(){return DragEvent})),DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},"./node_modules/d3-drag/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-drag/src/drag.js");u.d(n,"drag",(function(){return c["default"]}));var l=u("./node_modules/d3-drag/src/nodrag.js");u.d(n,"dragDisable",(function(){return l["default"]})),u.d(n,"dragEnable",(function(){return l["yesdrag"]}))},"./node_modules/d3-drag/src/nodrag.js":function(t,n,u){"use strict";u.r(n),u.d(n,"yesdrag",(function(){return yesdrag}));var c=u("./node_modules/d3-selection/src/select.js"),l=u("./node_modules/d3-drag/src/noevent.js");function yesdrag(t,n){var u=t.document.documentElement,d=Object(c["default"])(t).on("dragstart.drag",null);n&&(d.on("click.drag",l["default"],l["nonpassivecapture"]),setTimeout((function(){d.on("click.drag",null)}),0)),"onselectstart"in u?d.on("selectstart.drag",null):(u.style.MozUserSelect=u.__noselect,delete u.__noselect)}n["default"]=function(t){var n=t.document.documentElement,u=Object(c["default"])(t).on("dragstart.drag",l["default"],l["nonpassivecapture"]);"onselectstart"in n?u.on("selectstart.drag",l["default"],l["nonpassivecapture"]):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}},"./node_modules/d3-drag/src/noevent.js":function(t,n,u){"use strict";u.r(n),u.d(n,"nonpassive",(function(){return c})),u.d(n,"nonpassivecapture",(function(){return l})),u.d(n,"nopropagation",(function(){return nopropagation}));const c={passive:!1},l={capture:!0,passive:!1};function nopropagation(t){t.stopImmediatePropagation()}n["default"]=function(t){t.preventDefault(),t.stopImmediatePropagation()}},"./node_modules/d3-dsv/src/autoType.js":function(t,n,u){"use strict";function autoType(t){for(var n in t){var u,l,d=t[n].trim();if(d)if("true"===d)d=!0;else if("false"===d)d=!1;else if("NaN"===d)d=NaN;else if(isNaN(u=+d)){if(!(l=d.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;c&&l[4]&&!l[7]&&(d=d.replace(/-/g,"/").replace(/T/," ")),d=new Date(d)}else d=u;else d=null;t[n]=d}return t}u.r(n),u.d(n,"default",(function(){return autoType}));const c=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours()},"./node_modules/d3-dsv/src/csv.js":function(t,n,u){"use strict";u.r(n),u.d(n,"csvParse",(function(){return d})),u.d(n,"csvParseRows",(function(){return h})),u.d(n,"csvFormat",(function(){return p})),u.d(n,"csvFormatBody",(function(){return m})),u.d(n,"csvFormatRows",(function(){return _})),u.d(n,"csvFormatRow",(function(){return g})),u.d(n,"csvFormatValue",(function(){return b}));var c=u("./node_modules/d3-dsv/src/dsv.js"),l=Object(c["default"])(","),d=l.parse,h=l.parseRows,p=l.format,m=l.formatBody,_=l.formatRows,g=l.formatRow,b=l.formatValue},"./node_modules/d3-dsv/src/dsv.js":function(t,n,u){"use strict";u.r(n);var c={},l={},d=34,h=10,p=13;function objectConverter(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function customConverter(t,n){var u=objectConverter(t);return function(c,l){return n(u(c),l,t)}}function inferColumns(t){var n=Object.create(null),u=[];return t.forEach((function(t){for(var c in t)c in n||u.push(n[c]=c)})),u}function pad(t,n){var u=t+"",c=u.length;return c<n?new Array(n-c+1).join(0)+u:u}function formatYear(t){return t<0?"-"+pad(-t,6):t>9999?"+"+pad(t,6):pad(t,4)}function formatDate(t){var n=t.getUTCHours(),u=t.getUTCMinutes(),c=t.getUTCSeconds(),l=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":formatYear(t.getUTCFullYear(),4)+"-"+pad(t.getUTCMonth()+1,2)+"-"+pad(t.getUTCDate(),2)+(l?"T"+pad(n,2)+":"+pad(u,2)+":"+pad(c,2)+"."+pad(l,3)+"Z":c?"T"+pad(n,2)+":"+pad(u,2)+":"+pad(c,2)+"Z":u||n?"T"+pad(n,2)+":"+pad(u,2)+"Z":"")}n["default"]=function(t){var n=new RegExp('["'+t+"\n\r]"),u=t.charCodeAt(0);function parse(t,n){var u,c,l=parseRows(t,(function(t,l){if(u)return u(t,l-1);c=t,u=n?customConverter(t,n):objectConverter(t)}));return l.columns=c||[],l}function parseRows(t,n){var m,_=[],g=t.length,b=0,v=0,U=g<=0,G=!1;function token(){if(U)return l;if(G)return G=!1,c;var n,m,_=b;if(t.charCodeAt(_)===d){while(b++<g&&t.charCodeAt(b)!==d||t.charCodeAt(++b)===d);return(n=b)>=g?U=!0:(m=t.charCodeAt(b++))===h?G=!0:m===p&&(G=!0,t.charCodeAt(b)===h&&++b),t.slice(_+1,n-1).replace(/""/g,'"')}while(b<g){if((m=t.charCodeAt(n=b++))===h)G=!0;else if(m===p)G=!0,t.charCodeAt(b)===h&&++b;else if(m!==u)continue;return t.slice(_,n)}return U=!0,t.slice(_,g)}t.charCodeAt(g-1)===h&&--g,t.charCodeAt(g-1)===p&&--g;while((m=token())!==l){var W=[];while(m!==c&&m!==l)W.push(m),m=token();n&&null==(W=n(W,v++))||_.push(W)}return _}function preformatBody(n,u){return n.map((function(n){return u.map((function(t){return formatValue(n[t])})).join(t)}))}function format(n,u){return null==u&&(u=inferColumns(n)),[u.map(formatValue).join(t)].concat(preformatBody(n,u)).join("\n")}function formatBody(t,n){return null==n&&(n=inferColumns(t)),preformatBody(t,n).join("\n")}function formatRows(t){return t.map(formatRow).join("\n")}function formatRow(n){return n.map(formatValue).join(t)}function formatValue(t){return null==t?"":t instanceof Date?formatDate(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:parse,parseRows:parseRows,format:format,formatBody:formatBody,formatRows:formatRows,formatRow:formatRow,formatValue:formatValue}}},"./node_modules/d3-dsv/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-dsv/src/dsv.js");u.d(n,"dsvFormat",(function(){return c["default"]}));var l=u("./node_modules/d3-dsv/src/csv.js");u.d(n,"csvParse",(function(){return l["csvParse"]})),u.d(n,"csvParseRows",(function(){return l["csvParseRows"]})),u.d(n,"csvFormat",(function(){return l["csvFormat"]})),u.d(n,"csvFormatBody",(function(){return l["csvFormatBody"]})),u.d(n,"csvFormatRows",(function(){return l["csvFormatRows"]})),u.d(n,"csvFormatRow",(function(){return l["csvFormatRow"]})),u.d(n,"csvFormatValue",(function(){return l["csvFormatValue"]}));var d=u("./node_modules/d3-dsv/src/tsv.js");u.d(n,"tsvParse",(function(){return d["tsvParse"]})),u.d(n,"tsvParseRows",(function(){return d["tsvParseRows"]})),u.d(n,"tsvFormat",(function(){return d["tsvFormat"]})),u.d(n,"tsvFormatBody",(function(){return d["tsvFormatBody"]})),u.d(n,"tsvFormatRows",(function(){return d["tsvFormatRows"]})),u.d(n,"tsvFormatRow",(function(){return d["tsvFormatRow"]})),u.d(n,"tsvFormatValue",(function(){return d["tsvFormatValue"]}));var h=u("./node_modules/d3-dsv/src/autoType.js");u.d(n,"autoType",(function(){return h["default"]}))},"./node_modules/d3-dsv/src/tsv.js":function(t,n,u){"use strict";u.r(n),u.d(n,"tsvParse",(function(){return d})),u.d(n,"tsvParseRows",(function(){return h})),u.d(n,"tsvFormat",(function(){return p})),u.d(n,"tsvFormatBody",(function(){return m})),u.d(n,"tsvFormatRows",(function(){return _})),u.d(n,"tsvFormatRow",(function(){return g})),u.d(n,"tsvFormatValue",(function(){return b}));var c=u("./node_modules/d3-dsv/src/dsv.js"),l=Object(c["default"])("\t"),d=l.parse,h=l.parseRows,p=l.format,m=l.formatBody,_=l.formatRows,g=l.formatRow,b=l.formatValue},"./node_modules/d3-ease/src/back.js":function(t,n,u){"use strict";u.r(n),u.d(n,"backIn",(function(){return l})),u.d(n,"backOut",(function(){return d})),u.d(n,"backInOut",(function(){return h}));var c=1.70158,l=function custom(t){function backIn(n){return(n=+n)*n*(t*(n-1)+n)}return t=+t,backIn.overshoot=custom,backIn}(c),d=function custom(t){function backOut(n){return--n*n*((n+1)*t+n)+1}return t=+t,backOut.overshoot=custom,backOut}(c),h=function custom(t){function backInOut(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return t=+t,backInOut.overshoot=custom,backInOut}(c)},"./node_modules/d3-ease/src/bounce.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bounceIn",(function(){return bounceIn})),u.d(n,"bounceOut",(function(){return bounceOut})),u.d(n,"bounceInOut",(function(){return bounceInOut}));var c=4/11,l=6/11,d=8/11,h=3/4,p=9/11,m=10/11,_=15/16,g=21/22,b=63/64,v=1/c/c;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<c?v*t*t:t<d?v*(t-=l)*t+h:t<m?v*(t-=p)*t+_:v*(t-=g)*t+b}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}},"./node_modules/d3-ease/src/circle.js":function(t,n,u){"use strict";function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}u.r(n),u.d(n,"circleIn",(function(){return circleIn})),u.d(n,"circleOut",(function(){return circleOut})),u.d(n,"circleInOut",(function(){return circleInOut}))},"./node_modules/d3-ease/src/cubic.js":function(t,n,u){"use strict";function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}u.r(n),u.d(n,"cubicIn",(function(){return cubicIn})),u.d(n,"cubicOut",(function(){return cubicOut})),u.d(n,"cubicInOut",(function(){return cubicInOut}))},"./node_modules/d3-ease/src/elastic.js":function(t,n,u){"use strict";u.r(n),u.d(n,"elasticIn",(function(){return p})),u.d(n,"elasticOut",(function(){return m})),u.d(n,"elasticInOut",(function(){return _}));var c=u("./node_modules/d3-ease/src/math.js"),l=2*Math.PI,d=1,h=.3,p=function custom(t,n){var u=Math.asin(1/(t=Math.max(1,t)))*(n/=l);function elasticIn(l){return t*Object(c["tpmt"])(- --l)*Math.sin((u-l)/n)}return elasticIn.amplitude=function(t){return custom(t,n*l)},elasticIn.period=function(n){return custom(t,n)},elasticIn}(d,h),m=function custom(t,n){var u=Math.asin(1/(t=Math.max(1,t)))*(n/=l);function elasticOut(l){return 1-t*Object(c["tpmt"])(l=+l)*Math.sin((l+u)/n)}return elasticOut.amplitude=function(t){return custom(t,n*l)},elasticOut.period=function(n){return custom(t,n)},elasticOut}(d,h),_=function custom(t,n){var u=Math.asin(1/(t=Math.max(1,t)))*(n/=l);function elasticInOut(l){return((l=2*l-1)<0?t*Object(c["tpmt"])(-l)*Math.sin((u-l)/n):2-t*Object(c["tpmt"])(l)*Math.sin((u+l)/n))/2}return elasticInOut.amplitude=function(t){return custom(t,n*l)},elasticInOut.period=function(n){return custom(t,n)},elasticInOut}(d,h)},"./node_modules/d3-ease/src/exp.js":function(t,n,u){"use strict";u.r(n),u.d(n,"expIn",(function(){return expIn})),u.d(n,"expOut",(function(){return expOut})),u.d(n,"expInOut",(function(){return expInOut}));var c=u("./node_modules/d3-ease/src/math.js");function expIn(t){return Object(c["tpmt"])(1-+t)}function expOut(t){return 1-Object(c["tpmt"])(t)}function expInOut(t){return((t*=2)<=1?Object(c["tpmt"])(1-t):2-Object(c["tpmt"])(t-1))/2}},"./node_modules/d3-ease/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-ease/src/linear.js");u.d(n,"easeLinear",(function(){return c["linear"]}));var l=u("./node_modules/d3-ease/src/quad.js");u.d(n,"easeQuad",(function(){return l["quadInOut"]})),u.d(n,"easeQuadIn",(function(){return l["quadIn"]})),u.d(n,"easeQuadOut",(function(){return l["quadOut"]})),u.d(n,"easeQuadInOut",(function(){return l["quadInOut"]}));var d=u("./node_modules/d3-ease/src/cubic.js");u.d(n,"easeCubic",(function(){return d["cubicInOut"]})),u.d(n,"easeCubicIn",(function(){return d["cubicIn"]})),u.d(n,"easeCubicOut",(function(){return d["cubicOut"]})),u.d(n,"easeCubicInOut",(function(){return d["cubicInOut"]}));var h=u("./node_modules/d3-ease/src/poly.js");u.d(n,"easePoly",(function(){return h["polyInOut"]})),u.d(n,"easePolyIn",(function(){return h["polyIn"]})),u.d(n,"easePolyOut",(function(){return h["polyOut"]})),u.d(n,"easePolyInOut",(function(){return h["polyInOut"]}));var p=u("./node_modules/d3-ease/src/sin.js");u.d(n,"easeSin",(function(){return p["sinInOut"]})),u.d(n,"easeSinIn",(function(){return p["sinIn"]})),u.d(n,"easeSinOut",(function(){return p["sinOut"]})),u.d(n,"easeSinInOut",(function(){return p["sinInOut"]}));var m=u("./node_modules/d3-ease/src/exp.js");u.d(n,"easeExp",(function(){return m["expInOut"]})),u.d(n,"easeExpIn",(function(){return m["expIn"]})),u.d(n,"easeExpOut",(function(){return m["expOut"]})),u.d(n,"easeExpInOut",(function(){return m["expInOut"]}));var _=u("./node_modules/d3-ease/src/circle.js");u.d(n,"easeCircle",(function(){return _["circleInOut"]})),u.d(n,"easeCircleIn",(function(){return _["circleIn"]})),u.d(n,"easeCircleOut",(function(){return _["circleOut"]})),u.d(n,"easeCircleInOut",(function(){return _["circleInOut"]}));var g=u("./node_modules/d3-ease/src/bounce.js");u.d(n,"easeBounce",(function(){return g["bounceOut"]})),u.d(n,"easeBounceIn",(function(){return g["bounceIn"]})),u.d(n,"easeBounceOut",(function(){return g["bounceOut"]})),u.d(n,"easeBounceInOut",(function(){return g["bounceInOut"]}));var b=u("./node_modules/d3-ease/src/back.js");u.d(n,"easeBack",(function(){return b["backInOut"]})),u.d(n,"easeBackIn",(function(){return b["backIn"]})),u.d(n,"easeBackOut",(function(){return b["backOut"]})),u.d(n,"easeBackInOut",(function(){return b["backInOut"]}));var v=u("./node_modules/d3-ease/src/elastic.js");u.d(n,"easeElastic",(function(){return v["elasticOut"]})),u.d(n,"easeElasticIn",(function(){return v["elasticIn"]})),u.d(n,"easeElasticOut",(function(){return v["elasticOut"]})),u.d(n,"easeElasticInOut",(function(){return v["elasticInOut"]}))},"./node_modules/d3-ease/src/linear.js":function(t,n,u){"use strict";u.r(n),u.d(n,"linear",(function(){return linear}));const linear=t=>+t},"./node_modules/d3-ease/src/math.js":function(t,n,u){"use strict";function tpmt(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}u.r(n),u.d(n,"tpmt",(function(){return tpmt}))},"./node_modules/d3-ease/src/poly.js":function(t,n,u){"use strict";u.r(n),u.d(n,"polyIn",(function(){return l})),u.d(n,"polyOut",(function(){return d})),u.d(n,"polyInOut",(function(){return h}));var c=3,l=function custom(t){function polyIn(n){return Math.pow(n,t)}return t=+t,polyIn.exponent=custom,polyIn}(c),d=function custom(t){function polyOut(n){return 1-Math.pow(1-n,t)}return t=+t,polyOut.exponent=custom,polyOut}(c),h=function custom(t){function polyInOut(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return t=+t,polyInOut.exponent=custom,polyInOut}(c)},"./node_modules/d3-ease/src/quad.js":function(t,n,u){"use strict";function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}u.r(n),u.d(n,"quadIn",(function(){return quadIn})),u.d(n,"quadOut",(function(){return quadOut})),u.d(n,"quadInOut",(function(){return quadInOut}))},"./node_modules/d3-ease/src/sin.js":function(t,n,u){"use strict";u.r(n),u.d(n,"sinIn",(function(){return sinIn})),u.d(n,"sinOut",(function(){return sinOut})),u.d(n,"sinInOut",(function(){return sinInOut}));var c=Math.PI,l=c/2;function sinIn(t){return 1===+t?1:1-Math.cos(t*l)}function sinOut(t){return Math.sin(t*l)}function sinInOut(t){return(1-Math.cos(c*t))/2}},"./node_modules/d3-fetch/src/blob.js":function(t,n,u){"use strict";function responseBlob(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}u.r(n),n["default"]=function(t,n){return fetch(t,n).then(responseBlob)}},"./node_modules/d3-fetch/src/buffer.js":function(t,n,u){"use strict";function responseArrayBuffer(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}u.r(n),n["default"]=function(t,n){return fetch(t,n).then(responseArrayBuffer)}},"./node_modules/d3-fetch/src/dsv.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return dsv})),u.d(n,"csv",(function(){return p})),u.d(n,"tsv",(function(){return m}));var c=u("./node_modules/d3-dsv/src/dsv.js"),l=u("./node_modules/d3-dsv/src/csv.js"),d=u("./node_modules/d3-dsv/src/tsv.js"),h=u("./node_modules/d3-fetch/src/text.js");function dsvParse(t){return function(n,u,c){return 2===arguments.length&&"function"===typeof u&&(c=u,u=void 0),Object(h["default"])(n,u).then((function(n){return t(n,c)}))}}function dsv(t,n,u,l){3===arguments.length&&"function"===typeof u&&(l=u,u=void 0);var d=Object(c["default"])(t);return Object(h["default"])(n,u).then((function(t){return d.parse(t,l)}))}var p=dsvParse(l["csvParse"]),m=dsvParse(d["tsvParse"])},"./node_modules/d3-fetch/src/image.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return new Promise((function(u,c){var l=new Image;for(var d in n)l[d]=n[d];l.onerror=c,l.onload=function(){u(l)},l.src=t}))}},"./node_modules/d3-fetch/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-fetch/src/blob.js");u.d(n,"blob",(function(){return c["default"]}));var l=u("./node_modules/d3-fetch/src/buffer.js");u.d(n,"buffer",(function(){return l["default"]}));var d=u("./node_modules/d3-fetch/src/dsv.js");u.d(n,"dsv",(function(){return d["default"]})),u.d(n,"csv",(function(){return d["csv"]})),u.d(n,"tsv",(function(){return d["tsv"]}));var h=u("./node_modules/d3-fetch/src/image.js");u.d(n,"image",(function(){return h["default"]}));var p=u("./node_modules/d3-fetch/src/json.js");u.d(n,"json",(function(){return p["default"]}));var m=u("./node_modules/d3-fetch/src/text.js");u.d(n,"text",(function(){return m["default"]}));var _=u("./node_modules/d3-fetch/src/xml.js");u.d(n,"xml",(function(){return _["default"]})),u.d(n,"html",(function(){return _["html"]})),u.d(n,"svg",(function(){return _["svg"]}))},"./node_modules/d3-fetch/src/json.js":function(t,n,u){"use strict";function responseJson(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}u.r(n),n["default"]=function(t,n){return fetch(t,n).then(responseJson)}},"./node_modules/d3-fetch/src/text.js":function(t,n,u){"use strict";function responseText(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}u.r(n),n["default"]=function(t,n){return fetch(t,n).then(responseText)}},"./node_modules/d3-fetch/src/xml.js":function(t,n,u){"use strict";u.r(n),u.d(n,"html",(function(){return l})),u.d(n,"svg",(function(){return d}));var c=u("./node_modules/d3-fetch/src/text.js");function parser(t){return(n,u)=>Object(c["default"])(n,u).then(n=>(new DOMParser).parseFromString(n,t))}n["default"]=parser("application/xml");var l=parser("text/html"),d=parser("image/svg+xml")},"./node_modules/d3-force/src/center.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){var u,c=1;function force(){var l,d,h=u.length,p=0,m=0;for(l=0;l<h;++l)d=u[l],p+=d.x,m+=d.y;for(p=(p/h-t)*c,m=(m/h-n)*c,l=0;l<h;++l)d=u[l],d.x-=p,d.y-=m}return null==t&&(t=0),null==n&&(n=0),force.initialize=function(t){u=t},force.x=function(n){return arguments.length?(t=+n,force):t},force.y=function(t){return arguments.length?(n=+t,force):n},force.strength=function(t){return arguments.length?(c=+t,force):c},force}},"./node_modules/d3-force/src/collide.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-quadtree/src/quadtree.js"),l=u("./node_modules/d3-force/src/constant.js"),d=u("./node_modules/d3-force/src/jiggle.js");function x(t){return t.x+t.vx}function y(t){return t.y+t.vy}n["default"]=function(t){var n,u,h,p=1,m=1;function force(){for(var t,l,_,g,b,v,U,G=n.length,W=0;W<m;++W)for(l=Object(c["default"])(n,x,y).visitAfter(prepare),t=0;t<G;++t)_=n[t],v=u[_.index],U=v*v,g=_.x+_.vx,b=_.y+_.vy,l.visit(apply);function apply(t,n,u,c,l){var m=t.data,G=t.r,W=v+G;if(!m)return n>g+W||c<g-W||u>b+W||l<b-W;if(m.index>_.index){var X=g-m.x-m.vx,q=b-m.y-m.vy,K=X*X+q*q;K<W*W&&(0===X&&(X=Object(d["default"])(h),K+=X*X),0===q&&(q=Object(d["default"])(h),K+=q*q),K=(W-(K=Math.sqrt(K)))/K*p,_.vx+=(X*=K)*(W=(G*=G)/(U+G)),_.vy+=(q*=K)*W,m.vx-=X*(W=1-W),m.vy-=q*W)}}}function prepare(t){if(t.data)return t.r=u[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function initialize(){if(n){var c,l,d=n.length;for(u=new Array(d),c=0;c<d;++c)l=n[c],u[l.index]=+t(l,c,n)}}return"function"!==typeof t&&(t=Object(l["default"])(null==t?1:+t)),force.initialize=function(t,u){n=t,h=u,initialize()},force.iterations=function(t){return arguments.length?(m=+t,force):m},force.strength=function(t){return arguments.length?(p=+t,force):p},force.radius=function(n){return arguments.length?(t="function"===typeof n?n:Object(l["default"])(+n),initialize(),force):t},force}},"./node_modules/d3-force/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return function(){return t}}},"./node_modules/d3-force/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-force/src/center.js");u.d(n,"forceCenter",(function(){return c["default"]}));var l=u("./node_modules/d3-force/src/collide.js");u.d(n,"forceCollide",(function(){return l["default"]}));var d=u("./node_modules/d3-force/src/link.js");u.d(n,"forceLink",(function(){return d["default"]}));var h=u("./node_modules/d3-force/src/manyBody.js");u.d(n,"forceManyBody",(function(){return h["default"]}));var p=u("./node_modules/d3-force/src/radial.js");u.d(n,"forceRadial",(function(){return p["default"]}));var m=u("./node_modules/d3-force/src/simulation.js");u.d(n,"forceSimulation",(function(){return m["default"]}));var _=u("./node_modules/d3-force/src/x.js");u.d(n,"forceX",(function(){return _["default"]}));var g=u("./node_modules/d3-force/src/y.js");u.d(n,"forceY",(function(){return g["default"]}))},"./node_modules/d3-force/src/jiggle.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return 1e-6*(t()-.5)}},"./node_modules/d3-force/src/lcg.js":function(t,n,u){"use strict";u.r(n);const c=1664525,l=1013904223,d=4294967296;n["default"]=function(){let t=1;return()=>(t=(c*t+l)%d)/d}},"./node_modules/d3-force/src/link.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-force/src/constant.js"),l=u("./node_modules/d3-force/src/jiggle.js");function index(t){return t.index}function find(t,n){var u=t.get(n);if(!u)throw new Error("node not found: "+n);return u}n["default"]=function(t){var n,u,d,h,p,m,_=index,g=defaultStrength,b=Object(c["default"])(30),v=1;function defaultStrength(t){return 1/Math.min(h[t.source.index],h[t.target.index])}function force(c){for(var d=0,h=t.length;d<v;++d)for(var _,g,b,U,G,W,X,q=0;q<h;++q)_=t[q],g=_.source,b=_.target,U=b.x+b.vx-g.x-g.vx||Object(l["default"])(m),G=b.y+b.vy-g.y-g.vy||Object(l["default"])(m),W=Math.sqrt(U*U+G*G),W=(W-u[q])/W*c*n[q],U*=W,G*=W,b.vx-=U*(X=p[q]),b.vy-=G*X,g.vx+=U*(X=1-X),g.vy+=G*X}function initialize(){if(d){var c,l,m=d.length,g=t.length,b=new Map(d.map((t,n)=>[_(t,n,d),t]));for(c=0,h=new Array(m);c<g;++c)l=t[c],l.index=c,"object"!==typeof l.source&&(l.source=find(b,l.source)),"object"!==typeof l.target&&(l.target=find(b,l.target)),h[l.source.index]=(h[l.source.index]||0)+1,h[l.target.index]=(h[l.target.index]||0)+1;for(c=0,p=new Array(g);c<g;++c)l=t[c],p[c]=h[l.source.index]/(h[l.source.index]+h[l.target.index]);n=new Array(g),initializeStrength(),u=new Array(g),initializeDistance()}}function initializeStrength(){if(d)for(var u=0,c=t.length;u<c;++u)n[u]=+g(t[u],u,t)}function initializeDistance(){if(d)for(var n=0,c=t.length;n<c;++n)u[n]=+b(t[n],n,t)}return null==t&&(t=[]),force.initialize=function(t,n){d=t,m=n,initialize()},force.links=function(n){return arguments.length?(t=n,initialize(),force):t},force.id=function(t){return arguments.length?(_=t,force):_},force.iterations=function(t){return arguments.length?(v=+t,force):v},force.strength=function(t){return arguments.length?(g="function"===typeof t?t:Object(c["default"])(+t),initializeStrength(),force):g},force.distance=function(t){return arguments.length?(b="function"===typeof t?t:Object(c["default"])(+t),initializeDistance(),force):b},force}},"./node_modules/d3-force/src/manyBody.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-quadtree/src/quadtree.js"),l=u("./node_modules/d3-force/src/constant.js"),d=u("./node_modules/d3-force/src/jiggle.js"),h=u("./node_modules/d3-force/src/simulation.js");n["default"]=function(){var t,n,u,p,m,_=Object(l["default"])(-30),g=1,b=1/0,v=.81;function force(u){var l,d=t.length,m=Object(c["default"])(t,h["x"],h["y"]).visitAfter(accumulate);for(p=u,l=0;l<d;++l)n=t[l],m.visit(apply)}function initialize(){if(t){var n,u,c=t.length;for(m=new Array(c),n=0;n<c;++n)u=t[n],m[u.index]=+_(u,n,t)}}function accumulate(t){var n,u,c,l,d,h=0,p=0;if(t.length){for(c=l=d=0;d<4;++d)(n=t[d])&&(u=Math.abs(n.value))&&(h+=n.value,p+=u,c+=u*n.x,l+=u*n.y);t.x=c/p,t.y=l/p}else{n=t,n.x=n.data.x,n.y=n.data.y;do{h+=m[n.data.index]}while(n=n.next)}t.value=h}function apply(t,c,l,h){if(!t.value)return!0;var _=t.x-n.x,U=t.y-n.y,G=h-c,W=_*_+U*U;if(G*G/v<W)return W<b&&(0===_&&(_=Object(d["default"])(u),W+=_*_),0===U&&(U=Object(d["default"])(u),W+=U*U),W<g&&(W=Math.sqrt(g*W)),n.vx+=_*t.value*p/W,n.vy+=U*t.value*p/W),!0;if(!(t.length||W>=b)){(t.data!==n||t.next)&&(0===_&&(_=Object(d["default"])(u),W+=_*_),0===U&&(U=Object(d["default"])(u),W+=U*U),W<g&&(W=Math.sqrt(g*W)));do{t.data!==n&&(G=m[t.data.index]*p/W,n.vx+=_*G,n.vy+=U*G)}while(t=t.next)}}return force.initialize=function(n,c){t=n,u=c,initialize()},force.strength=function(t){return arguments.length?(_="function"===typeof t?t:Object(l["default"])(+t),initialize(),force):_},force.distanceMin=function(t){return arguments.length?(g=t*t,force):Math.sqrt(g)},force.distanceMax=function(t){return arguments.length?(b=t*t,force):Math.sqrt(b)},force.theta=function(t){return arguments.length?(v=t*t,force):Math.sqrt(v)},force}},"./node_modules/d3-force/src/radial.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-force/src/constant.js");n["default"]=function(t,n,u){var l,d,h,p=Object(c["default"])(.1);function force(t){for(var c=0,p=l.length;c<p;++c){var m=l[c],_=m.x-n||1e-6,g=m.y-u||1e-6,b=Math.sqrt(_*_+g*g),v=(h[c]-b)*d[c]*t/b;m.vx+=_*v,m.vy+=g*v}}function initialize(){if(l){var n,u=l.length;for(d=new Array(u),h=new Array(u),n=0;n<u;++n)h[n]=+t(l[n],n,l),d[n]=isNaN(h[n])?0:+p(l[n],n,l)}}return"function"!==typeof t&&(t=Object(c["default"])(+t)),null==n&&(n=0),null==u&&(u=0),force.initialize=function(t){l=t,initialize()},force.strength=function(t){return arguments.length?(p="function"===typeof t?t:Object(c["default"])(+t),initialize(),force):p},force.radius=function(n){return arguments.length?(t="function"===typeof n?n:Object(c["default"])(+n),initialize(),force):t},force.x=function(t){return arguments.length?(n=+t,force):n},force.y=function(t){return arguments.length?(u=+t,force):u},force}},"./node_modules/d3-force/src/simulation.js":function(t,n,u){"use strict";u.r(n),u.d(n,"x",(function(){return x})),u.d(n,"y",(function(){return y}));var c=u("./node_modules/d3-dispatch/src/dispatch.js"),l=u("./node_modules/d3-timer/src/timer.js"),d=u("./node_modules/d3-force/src/lcg.js");function x(t){return t.x}function y(t){return t.y}var h=10,p=Math.PI*(3-Math.sqrt(5));n["default"]=function(t){var n,u=1,m=.001,_=1-Math.pow(m,1/300),g=0,b=.6,v=new Map,U=Object(l["timer"])(step),G=Object(c["default"])("tick","end"),W=Object(d["default"])();function step(){tick(),G.call("tick",n),u<m&&(U.stop(),G.call("end",n))}function tick(c){var l,d,h=t.length;void 0===c&&(c=1);for(var p=0;p<c;++p)for(u+=(g-u)*_,v.forEach((function(t){t(u)})),l=0;l<h;++l)d=t[l],null==d.fx?d.x+=d.vx*=b:(d.x=d.fx,d.vx=0),null==d.fy?d.y+=d.vy*=b:(d.y=d.fy,d.vy=0);return n}function initializeNodes(){for(var n,u=0,c=t.length;u<c;++u){if(n=t[u],n.index=u,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var l=h*Math.sqrt(.5+u),d=u*p;n.x=l*Math.cos(d),n.y=l*Math.sin(d)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function initializeForce(n){return n.initialize&&n.initialize(t,W),n}return null==t&&(t=[]),initializeNodes(),n={tick:tick,restart:function(){return U.restart(step),n},stop:function(){return U.stop(),n},nodes:function(u){return arguments.length?(t=u,initializeNodes(),v.forEach(initializeForce),n):t},alpha:function(t){return arguments.length?(u=+t,n):u},alphaMin:function(t){return arguments.length?(m=+t,n):m},alphaDecay:function(t){return arguments.length?(_=+t,n):+_},alphaTarget:function(t){return arguments.length?(g=+t,n):g},velocityDecay:function(t){return arguments.length?(b=1-t,n):1-b},randomSource:function(t){return arguments.length?(W=t,v.forEach(initializeForce),n):W},force:function(t,u){return arguments.length>1?(null==u?v.delete(t):v.set(t,initializeForce(u)),n):v.get(t)},find:function(n,u,c){var l,d,h,p,m,_=0,g=t.length;for(null==c?c=1/0:c*=c,_=0;_<g;++_)p=t[_],l=n-p.x,d=u-p.y,h=l*l+d*d,h<c&&(m=p,c=h);return m},on:function(t,u){return arguments.length>1?(G.on(t,u),n):G.on(t)}}}},"./node_modules/d3-force/src/x.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-force/src/constant.js");n["default"]=function(t){var n,u,l,d=Object(c["default"])(.1);function force(t){for(var c,d=0,h=n.length;d<h;++d)c=n[d],c.vx+=(l[d]-c.x)*u[d]*t}function initialize(){if(n){var c,h=n.length;for(u=new Array(h),l=new Array(h),c=0;c<h;++c)u[c]=isNaN(l[c]=+t(n[c],c,n))?0:+d(n[c],c,n)}}return"function"!==typeof t&&(t=Object(c["default"])(null==t?0:+t)),force.initialize=function(t){n=t,initialize()},force.strength=function(t){return arguments.length?(d="function"===typeof t?t:Object(c["default"])(+t),initialize(),force):d},force.x=function(n){return arguments.length?(t="function"===typeof n?n:Object(c["default"])(+n),initialize(),force):t},force}},"./node_modules/d3-force/src/y.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-force/src/constant.js");n["default"]=function(t){var n,u,l,d=Object(c["default"])(.1);function force(t){for(var c,d=0,h=n.length;d<h;++d)c=n[d],c.vy+=(l[d]-c.y)*u[d]*t}function initialize(){if(n){var c,h=n.length;for(u=new Array(h),l=new Array(h),c=0;c<h;++c)u[c]=isNaN(l[c]=+t(n[c],c,n))?0:+d(n[c],c,n)}}return"function"!==typeof t&&(t=Object(c["default"])(null==t?0:+t)),force.initialize=function(t){n=t,initialize()},force.strength=function(t){return arguments.length?(d="function"===typeof t?t:Object(c["default"])(+t),initialize(),force):d},force.y=function(n){return arguments.length?(t="function"===typeof n?n:Object(c["default"])(+n),initialize(),force):t},force}},"./node_modules/d3-format/src/defaultLocale.js":function(t,n,u){"use strict";u.r(n),u.d(n,"format",(function(){return l})),u.d(n,"formatPrefix",(function(){return d})),u.d(n,"default",(function(){return defaultLocale}));var c,l,d,h=u("./node_modules/d3-format/src/locale.js");function defaultLocale(t){return c=Object(h["default"])(t),l=c.format,d=c.formatPrefix,c}defaultLocale({thousands:",",grouping:[3],currency:["$",""]})},"./node_modules/d3-format/src/exponent.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/formatDecimal.js");n["default"]=function(t){return t=Object(c["formatDecimalParts"])(Math.abs(t)),t?t[1]:NaN}},"./node_modules/d3-format/src/formatDecimal.js":function(t,n,u){"use strict";function formatDecimalParts(t,n){if((u=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var u,c=t.slice(0,u);return[c.length>1?c[0]+c.slice(2):c,+t.slice(u+1)]}u.r(n),u.d(n,"formatDecimalParts",(function(){return formatDecimalParts})),n["default"]=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}},"./node_modules/d3-format/src/formatGroup.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return function(u,c){var l=u.length,d=[],h=0,p=t[0],m=0;while(l>0&&p>0){if(m+p+1>c&&(p=Math.max(1,c-m)),d.push(u.substring(l-=p,l+p)),(m+=p+1)>c)break;p=t[h=(h+1)%t.length]}return d.reverse().join(n)}}},"./node_modules/d3-format/src/formatNumerals.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}},"./node_modules/d3-format/src/formatPrefixAuto.js":function(t,n,u){"use strict";u.r(n),u.d(n,"prefixExponent",(function(){return c}));var c,l=u("./node_modules/d3-format/src/formatDecimal.js");n["default"]=function(t,n){var u=Object(l["formatDecimalParts"])(t,n);if(!u)return t+"";var d=u[0],h=u[1],p=h-(c=3*Math.max(-8,Math.min(8,Math.floor(h/3))))+1,m=d.length;return p===m?d:p>m?d+new Array(p-m+1).join("0"):p>0?d.slice(0,p)+"."+d.slice(p):"0."+new Array(1-p).join("0")+Object(l["formatDecimalParts"])(t,Math.max(0,n+p-1))[0]}},"./node_modules/d3-format/src/formatRounded.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/formatDecimal.js");n["default"]=function(t,n){var u=Object(c["formatDecimalParts"])(t,n);if(!u)return t+"";var l=u[0],d=u[1];return d<0?"0."+new Array(-d).join("0")+l:l.length>d+1?l.slice(0,d+1)+"."+l.slice(d+1):l+new Array(d-l.length+2).join("0")}},"./node_modules/d3-format/src/formatSpecifier.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return formatSpecifier})),u.d(n,"FormatSpecifier",(function(){return FormatSpecifier}));var c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(n=c.exec(t)))throw new Error("invalid format: "+t);var n;return new FormatSpecifier({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function FormatSpecifier(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},"./node_modules/d3-format/src/formatTrim.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){e:for(var n,u=t.length,c=1,l=-1;c<u;++c)switch(t[c]){case".":l=n=c;break;case"0":0===l&&(l=c),n=c;break;default:if(!+t[c])break e;l>0&&(l=0);break}return l>0?t.slice(0,l)+t.slice(n+1):t}},"./node_modules/d3-format/src/formatTypes.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/formatDecimal.js"),l=u("./node_modules/d3-format/src/formatPrefixAuto.js"),d=u("./node_modules/d3-format/src/formatRounded.js");n["default"]={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:c["default"],e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Object(d["default"])(100*t,n),r:d["default"],s:l["default"],X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)}},"./node_modules/d3-format/src/identity.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return t}},"./node_modules/d3-format/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/defaultLocale.js");u.d(n,"formatDefaultLocale",(function(){return c["default"]})),u.d(n,"format",(function(){return c["format"]})),u.d(n,"formatPrefix",(function(){return c["formatPrefix"]}));var l=u("./node_modules/d3-format/src/locale.js");u.d(n,"formatLocale",(function(){return l["default"]}));var d=u("./node_modules/d3-format/src/formatSpecifier.js");u.d(n,"formatSpecifier",(function(){return d["default"]})),u.d(n,"FormatSpecifier",(function(){return d["FormatSpecifier"]}));var h=u("./node_modules/d3-format/src/precisionFixed.js");u.d(n,"precisionFixed",(function(){return h["default"]}));var p=u("./node_modules/d3-format/src/precisionPrefix.js");u.d(n,"precisionPrefix",(function(){return p["default"]}));var m=u("./node_modules/d3-format/src/precisionRound.js");u.d(n,"precisionRound",(function(){return m["default"]}))},"./node_modules/d3-format/src/locale.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/exponent.js"),l=u("./node_modules/d3-format/src/formatGroup.js"),d=u("./node_modules/d3-format/src/formatNumerals.js"),h=u("./node_modules/d3-format/src/formatSpecifier.js"),p=u("./node_modules/d3-format/src/formatTrim.js"),m=u("./node_modules/d3-format/src/formatTypes.js"),_=u("./node_modules/d3-format/src/formatPrefixAuto.js"),g=u("./node_modules/d3-format/src/identity.js"),b=Array.prototype.map,v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];n["default"]=function(t){var n=void 0===t.grouping||void 0===t.thousands?g["default"]:Object(l["default"])(b.call(t.grouping,Number),t.thousands+""),u=void 0===t.currency?"":t.currency[0]+"",U=void 0===t.currency?"":t.currency[1]+"",G=void 0===t.decimal?".":t.decimal+"",W=void 0===t.numerals?g["default"]:Object(d["default"])(b.call(t.numerals,String)),X=void 0===t.percent?"%":t.percent+"",q=void 0===t.minus?"−":t.minus+"",K=void 0===t.nan?"NaN":t.nan+"";function newFormat(t){t=Object(h["default"])(t);var c=t.fill,l=t.align,d=t.sign,g=t.symbol,b=t.zero,Y=t.width,Q=t.comma,Z=t.precision,$=t.trim,J=t.type;"n"===J?(Q=!0,J="g"):m["default"][J]||(void 0===Z&&(Z=12),$=!0,J="g"),(b||"0"===c&&"="===l)&&(b=!0,c="0",l="=");var ee="$"===g?u:"#"===g&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",te="$"===g?U:/[%p]/.test(J)?X:"",re=m["default"][J],ne=/[defgprs%]/.test(J);function format(t){var u,h,m,g=ee,U=te;if("c"===J)U=re(t)+U,t="";else{t=+t;var X=t<0||1/t<0;if(t=isNaN(t)?K:re(Math.abs(t),Z),$&&(t=Object(p["default"])(t)),X&&0===+t&&"+"!==d&&(X=!1),g=(X?"("===d?d:q:"-"===d||"("===d?"":d)+g,U=("s"===J?v[8+_["prefixExponent"]/3]:"")+U+(X&&"("===d?")":""),ne){u=-1,h=t.length;while(++u<h)if(m=t.charCodeAt(u),48>m||m>57){U=(46===m?G+t.slice(u+1):t.slice(u))+U,t=t.slice(0,u);break}}}Q&&!b&&(t=n(t,1/0));var ie=g.length+t.length+U.length,oe=ie<Y?new Array(Y-ie+1).join(c):"";switch(Q&&b&&(t=n(oe+t,oe.length?Y-U.length:1/0),oe=""),l){case"<":t=g+t+U+oe;break;case"=":t=g+oe+t+U;break;case"^":t=oe.slice(0,ie=oe.length>>1)+g+t+U+oe.slice(ie);break;default:t=oe+g+t+U;break}return W(t)}return Z=void 0===Z?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,Z)):Math.max(0,Math.min(20,Z)),format.toString=function(){return t+""},format}function formatPrefix(t,n){var u=newFormat((t=Object(h["default"])(t),t.type="f",t)),l=3*Math.max(-8,Math.min(8,Math.floor(Object(c["default"])(n)/3))),d=Math.pow(10,-l),p=v[8+l/3];return function(t){return u(d*t)+p}}return{format:newFormat,formatPrefix:formatPrefix}}},"./node_modules/d3-format/src/precisionFixed.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/exponent.js");n["default"]=function(t){return Math.max(0,-Object(c["default"])(Math.abs(t)))}},"./node_modules/d3-format/src/precisionPrefix.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/exponent.js");n["default"]=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(c["default"])(n)/3)))-Object(c["default"])(Math.abs(t)))}},"./node_modules/d3-format/src/precisionRound.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-format/src/exponent.js");n["default"]=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Object(c["default"])(n)-Object(c["default"])(t))+1}},"./node_modules/d3-geo/src/area.js":function(t,n,u){"use strict";u.r(n),u.d(n,"areaRingSum",(function(){return v})),u.d(n,"areaStream",(function(){return G}));var c,l,d,h,p,m=u("./node_modules/d3-array/src/fsum.js"),_=u("./node_modules/d3-geo/src/math.js"),g=u("./node_modules/d3-geo/src/noop.js"),b=u("./node_modules/d3-geo/src/stream.js"),v=new m["Adder"],U=new m["Adder"],G={point:g["default"],lineStart:g["default"],lineEnd:g["default"],polygonStart:function(){v=new m["Adder"],G.lineStart=areaRingStart,G.lineEnd=areaRingEnd},polygonEnd:function(){var t=+v;U.add(t<0?_["tau"]+t:t),this.lineStart=this.lineEnd=this.point=g["default"]},sphere:function(){U.add(_["tau"])}};function areaRingStart(){G.point=areaPointFirst}function areaRingEnd(){areaPoint(c,l)}function areaPointFirst(t,n){G.point=areaPoint,c=t,l=n,t*=_["radians"],n*=_["radians"],d=t,h=Object(_["cos"])(n=n/2+_["quarterPi"]),p=Object(_["sin"])(n)}function areaPoint(t,n){t*=_["radians"],n*=_["radians"],n=n/2+_["quarterPi"];var u=t-d,c=u>=0?1:-1,l=c*u,m=Object(_["cos"])(n),g=Object(_["sin"])(n),b=p*g,U=h*m+b*Object(_["cos"])(l),G=b*c*Object(_["sin"])(l);v.add(Object(_["atan2"])(G,U)),d=t,h=m,p=g}n["default"]=function(t){return U=new m["Adder"],Object(b["default"])(t,G),2*U}},"./node_modules/d3-geo/src/bounds.js":function(t,n,u){"use strict";u.r(n);var c,l,d,h,p,m,_,g,b,v,U,G=u("./node_modules/d3-array/src/fsum.js"),W=u("./node_modules/d3-geo/src/area.js"),X=u("./node_modules/d3-geo/src/cartesian.js"),q=u("./node_modules/d3-geo/src/math.js"),K=u("./node_modules/d3-geo/src/stream.js"),Y={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){Y.point=boundsRingPoint,Y.lineStart=boundsRingStart,Y.lineEnd=boundsRingEnd,b=new G["Adder"],W["areaStream"].polygonStart()},polygonEnd:function(){W["areaStream"].polygonEnd(),Y.point=boundsPoint,Y.lineStart=boundsLineStart,Y.lineEnd=boundsLineEnd,W["areaRingSum"]<0?(c=-(d=180),l=-(h=90)):b>q["epsilon"]?h=90:b<-q["epsilon"]&&(l=-90),U[0]=c,U[1]=d},sphere:function(){c=-(d=180),l=-(h=90)}};function boundsPoint(t,n){v.push(U=[c=t,d=t]),n<l&&(l=n),n>h&&(h=n)}function linePoint(t,n){var u=Object(X["cartesian"])([t*q["radians"],n*q["radians"]]);if(g){var m=Object(X["cartesianCross"])(g,u),_=[m[1],-m[0],0],b=Object(X["cartesianCross"])(_,m);Object(X["cartesianNormalizeInPlace"])(b),b=Object(X["spherical"])(b);var G,W=t-p,K=W>0?1:-1,Y=b[0]*q["degrees"]*K,Q=Object(q["abs"])(W)>180;Q^(K*p<Y&&Y<K*t)?(G=b[1]*q["degrees"],G>h&&(h=G)):(Y=(Y+360)%360-180,Q^(K*p<Y&&Y<K*t)?(G=-b[1]*q["degrees"],G<l&&(l=G)):(n<l&&(l=n),n>h&&(h=n))),Q?t<p?angle(c,t)>angle(c,d)&&(d=t):angle(t,d)>angle(c,d)&&(c=t):d>=c?(t<c&&(c=t),t>d&&(d=t)):t>p?angle(c,t)>angle(c,d)&&(d=t):angle(t,d)>angle(c,d)&&(c=t)}else v.push(U=[c=t,d=t]);n<l&&(l=n),n>h&&(h=n),g=u,p=t}function boundsLineStart(){Y.point=linePoint}function boundsLineEnd(){U[0]=c,U[1]=d,Y.point=boundsPoint,g=null}function boundsRingPoint(t,n){if(g){var u=t-p;b.add(Object(q["abs"])(u)>180?u+(u>0?360:-360):u)}else m=t,_=n;W["areaStream"].point(t,n),linePoint(t,n)}function boundsRingStart(){W["areaStream"].lineStart()}function boundsRingEnd(){boundsRingPoint(m,_),W["areaStream"].lineEnd(),Object(q["abs"])(b)>q["epsilon"]&&(c=-(d=180)),U[0]=c,U[1]=d,g=null}function angle(t,n){return(n-=t)<0?n+360:n}function rangeCompare(t,n){return t[0]-n[0]}function rangeContains(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}n["default"]=function(t){var n,u,p,m,_,g,b;if(h=d=-(c=l=1/0),v=[],Object(K["default"])(t,Y),u=v.length){for(v.sort(rangeCompare),n=1,p=v[0],_=[p];n<u;++n)m=v[n],rangeContains(p,m[0])||rangeContains(p,m[1])?(angle(p[0],m[1])>angle(p[0],p[1])&&(p[1]=m[1]),angle(m[0],p[1])>angle(p[0],p[1])&&(p[0]=m[0])):_.push(p=m);for(g=-1/0,u=_.length-1,n=0,p=_[u];n<=u;p=m,++n)m=_[n],(b=angle(p[1],m[0]))>g&&(g=b,c=m[0],d=p[1])}return v=U=null,c===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,l],[d,h]]}},"./node_modules/d3-geo/src/cartesian.js":function(t,n,u){"use strict";u.r(n),u.d(n,"spherical",(function(){return spherical})),u.d(n,"cartesian",(function(){return cartesian})),u.d(n,"cartesianDot",(function(){return cartesianDot})),u.d(n,"cartesianCross",(function(){return cartesianCross})),u.d(n,"cartesianAddInPlace",(function(){return cartesianAddInPlace})),u.d(n,"cartesianScale",(function(){return cartesianScale})),u.d(n,"cartesianNormalizeInPlace",(function(){return cartesianNormalizeInPlace}));var c=u("./node_modules/d3-geo/src/math.js");function spherical(t){return[Object(c["atan2"])(t[1],t[0]),Object(c["asin"])(t[2])]}function cartesian(t){var n=t[0],u=t[1],l=Object(c["cos"])(u);return[l*Object(c["cos"])(n),l*Object(c["sin"])(n),Object(c["sin"])(u)]}function cartesianDot(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cartesianCross(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function cartesianAddInPlace(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function cartesianScale(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function cartesianNormalizeInPlace(t){var n=Object(c["sqrt"])(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}},"./node_modules/d3-geo/src/centroid.js":function(t,n,u){"use strict";u.r(n);var c,l,d,h,p,m,_,g,b,v,U,G,W,X,q,K,Y=u("./node_modules/d3-array/src/fsum.js"),Q=u("./node_modules/d3-geo/src/math.js"),Z=u("./node_modules/d3-geo/src/noop.js"),$=u("./node_modules/d3-geo/src/stream.js"),J={sphere:Z["default"],point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){J.lineStart=centroidRingStart,J.lineEnd=centroidRingEnd},polygonEnd:function(){J.lineStart=centroidLineStart,J.lineEnd=centroidLineEnd}};function centroidPoint(t,n){t*=Q["radians"],n*=Q["radians"];var u=Object(Q["cos"])(n);centroidPointCartesian(u*Object(Q["cos"])(t),u*Object(Q["sin"])(t),Object(Q["sin"])(n))}function centroidPointCartesian(t,n,u){++c,d+=(t-d)/c,h+=(n-h)/c,p+=(u-p)/c}function centroidLineStart(){J.point=centroidLinePointFirst}function centroidLinePointFirst(t,n){t*=Q["radians"],n*=Q["radians"];var u=Object(Q["cos"])(n);X=u*Object(Q["cos"])(t),q=u*Object(Q["sin"])(t),K=Object(Q["sin"])(n),J.point=centroidLinePoint,centroidPointCartesian(X,q,K)}function centroidLinePoint(t,n){t*=Q["radians"],n*=Q["radians"];var u=Object(Q["cos"])(n),c=u*Object(Q["cos"])(t),d=u*Object(Q["sin"])(t),h=Object(Q["sin"])(n),p=Object(Q["atan2"])(Object(Q["sqrt"])((p=q*h-K*d)*p+(p=K*c-X*h)*p+(p=X*d-q*c)*p),X*c+q*d+K*h);l+=p,m+=p*(X+(X=c)),_+=p*(q+(q=d)),g+=p*(K+(K=h)),centroidPointCartesian(X,q,K)}function centroidLineEnd(){J.point=centroidPoint}function centroidRingStart(){J.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(G,W),J.point=centroidPoint}function centroidRingPointFirst(t,n){G=t,W=n,t*=Q["radians"],n*=Q["radians"],J.point=centroidRingPoint;var u=Object(Q["cos"])(n);X=u*Object(Q["cos"])(t),q=u*Object(Q["sin"])(t),K=Object(Q["sin"])(n),centroidPointCartesian(X,q,K)}function centroidRingPoint(t,n){t*=Q["radians"],n*=Q["radians"];var u=Object(Q["cos"])(n),c=u*Object(Q["cos"])(t),d=u*Object(Q["sin"])(t),h=Object(Q["sin"])(n),p=q*h-K*d,G=K*c-X*h,W=X*d-q*c,Y=Object(Q["hypot"])(p,G,W),Z=Object(Q["asin"])(Y),$=Y&&-Z/Y;b.add($*p),v.add($*G),U.add($*W),l+=Z,m+=Z*(X+(X=c)),_+=Z*(q+(q=d)),g+=Z*(K+(K=h)),centroidPointCartesian(X,q,K)}n["default"]=function(t){c=l=d=h=p=m=_=g=0,b=new Y["Adder"],v=new Y["Adder"],U=new Y["Adder"],Object($["default"])(t,J);var n=+b,u=+v,G=+U,W=Object(Q["hypot"])(n,u,G);return W<Q["epsilon2"]&&(n=m,u=_,G=g,l<Q["epsilon"]&&(n=d,u=h,G=p),W=Object(Q["hypot"])(n,u,G),W<Q["epsilon2"])?[NaN,NaN]:[Object(Q["atan2"])(u,n)*Q["degrees"],Object(Q["asin"])(G/W)*Q["degrees"]]}},"./node_modules/d3-geo/src/circle.js":function(t,n,u){"use strict";u.r(n),u.d(n,"circleStream",(function(){return circleStream}));var c=u("./node_modules/d3-geo/src/cartesian.js"),l=u("./node_modules/d3-geo/src/constant.js"),d=u("./node_modules/d3-geo/src/math.js"),h=u("./node_modules/d3-geo/src/rotation.js");function circleStream(t,n,u,l,h,p){if(u){var m=Object(d["cos"])(n),_=Object(d["sin"])(n),g=l*u;null==h?(h=n+l*d["tau"],p=n-g/2):(h=circleRadius(m,h),p=circleRadius(m,p),(l>0?h<p:h>p)&&(h+=l*d["tau"]));for(var b,v=h;l>0?v>p:v<p;v-=g)b=Object(c["spherical"])([m,-_*Object(d["cos"])(v),-_*Object(d["sin"])(v)]),t.point(b[0],b[1])}}function circleRadius(t,n){n=Object(c["cartesian"])(n),n[0]-=t,Object(c["cartesianNormalizeInPlace"])(n);var u=Object(d["acos"])(-n[1]);return((-n[2]<0?-u:u)+d["tau"]-d["epsilon"])%d["tau"]}n["default"]=function(){var t,n,u=Object(l["default"])([0,0]),c=Object(l["default"])(90),p=Object(l["default"])(6),m={point:point};function point(u,c){t.push(u=n(u,c)),u[0]*=d["degrees"],u[1]*=d["degrees"]}function circle(){var l=u.apply(this,arguments),_=c.apply(this,arguments)*d["radians"],g=p.apply(this,arguments)*d["radians"];return t=[],n=Object(h["rotateRadians"])(-l[0]*d["radians"],-l[1]*d["radians"],0).invert,circleStream(m,_,g,1),l={type:"Polygon",coordinates:[t]},t=n=null,l}return circle.center=function(t){return arguments.length?(u="function"===typeof t?t:Object(l["default"])([+t[0],+t[1]]),circle):u},circle.radius=function(t){return arguments.length?(c="function"===typeof t?t:Object(l["default"])(+t),circle):c},circle.precision=function(t){return arguments.length?(p="function"===typeof t?t:Object(l["default"])(+t),circle):p},circle}},"./node_modules/d3-geo/src/clip/antimeridian.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/clip/index.js"),l=u("./node_modules/d3-geo/src/math.js");function clipAntimeridianLine(t){var n,u=NaN,c=NaN,d=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(h,p){var m=h>0?l["pi"]:-l["pi"],_=Object(l["abs"])(h-u);Object(l["abs"])(_-l["pi"])<l["epsilon"]?(t.point(u,c=(c+p)/2>0?l["halfPi"]:-l["halfPi"]),t.point(d,c),t.lineEnd(),t.lineStart(),t.point(m,c),t.point(h,c),n=0):d!==m&&_>=l["pi"]&&(Object(l["abs"])(u-d)<l["epsilon"]&&(u-=d*l["epsilon"]),Object(l["abs"])(h-m)<l["epsilon"]&&(h-=m*l["epsilon"]),c=clipAntimeridianIntersect(u,c,h,p),t.point(d,c),t.lineEnd(),t.lineStart(),t.point(m,c),n=0),t.point(u=h,c=p),d=m},lineEnd:function(){t.lineEnd(),u=c=NaN},clean:function(){return 2-n}}}function clipAntimeridianIntersect(t,n,u,c){var d,h,p=Object(l["sin"])(t-u);return Object(l["abs"])(p)>l["epsilon"]?Object(l["atan"])((Object(l["sin"])(n)*(h=Object(l["cos"])(c))*Object(l["sin"])(u)-Object(l["sin"])(c)*(d=Object(l["cos"])(n))*Object(l["sin"])(t))/(d*h*p)):(n+c)/2}function clipAntimeridianInterpolate(t,n,u,c){var d;if(null==t)d=u*l["halfPi"],c.point(-l["pi"],d),c.point(0,d),c.point(l["pi"],d),c.point(l["pi"],0),c.point(l["pi"],-d),c.point(0,-d),c.point(-l["pi"],-d),c.point(-l["pi"],0),c.point(-l["pi"],d);else if(Object(l["abs"])(t[0]-n[0])>l["epsilon"]){var h=t[0]<n[0]?l["pi"]:-l["pi"];d=u*h/2,c.point(-h,d),c.point(0,d),c.point(h,d)}else c.point(n[0],n[1])}n["default"]=Object(c["default"])((function(){return!0}),clipAntimeridianLine,clipAntimeridianInterpolate,[-l["pi"],-l["halfPi"]])},"./node_modules/d3-geo/src/clip/buffer.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/noop.js");n["default"]=function(){var t,n=[];return{point:function(n,u,c){t.push([n,u,c])},lineStart:function(){n.push(t=[])},lineEnd:c["default"],rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var u=n;return n=[],t=null,u}}}},"./node_modules/d3-geo/src/clip/circle.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/cartesian.js"),l=u("./node_modules/d3-geo/src/circle.js"),d=u("./node_modules/d3-geo/src/math.js"),h=u("./node_modules/d3-geo/src/pointEqual.js"),p=u("./node_modules/d3-geo/src/clip/index.js");n["default"]=function(t){var n=Object(d["cos"])(t),u=6*d["radians"],m=n>0,_=Object(d["abs"])(n)>d["epsilon"];function interpolate(n,c,d,h){Object(l["circleStream"])(h,t,u,d,n,c)}function visible(t,u){return Object(d["cos"])(t)*Object(d["cos"])(u)>n}function clipLine(t){var n,u,c,l,p;return{lineStart:function(){l=c=!1,p=1},point:function(g,b){var v,U=[g,b],G=visible(g,b),W=m?G?0:code(g,b):G?code(g+(g<0?d["pi"]:-d["pi"]),b):0;if(!n&&(l=c=G)&&t.lineStart(),G!==c&&(v=intersect(n,U),(!v||Object(h["default"])(n,v)||Object(h["default"])(U,v))&&(U[2]=1)),G!==c)p=0,G?(t.lineStart(),v=intersect(U,n),t.point(v[0],v[1])):(v=intersect(n,U),t.point(v[0],v[1],2),t.lineEnd()),n=v;else if(_&&n&&m^G){var X;W&u||!(X=intersect(U,n,!0))||(p=0,m?(t.lineStart(),t.point(X[0][0],X[0][1]),t.point(X[1][0],X[1][1]),t.lineEnd()):(t.point(X[1][0],X[1][1]),t.lineEnd(),t.lineStart(),t.point(X[0][0],X[0][1],3)))}!G||n&&Object(h["default"])(n,U)||t.point(U[0],U[1]),n=U,c=G,u=W},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return p|(l&&c)<<1}}}function intersect(t,u,l){var h=Object(c["cartesian"])(t),p=Object(c["cartesian"])(u),m=[1,0,0],_=Object(c["cartesianCross"])(h,p),g=Object(c["cartesianDot"])(_,_),b=_[0],v=g-b*b;if(!v)return!l&&t;var U=n*g/v,G=-n*b/v,W=Object(c["cartesianCross"])(m,_),X=Object(c["cartesianScale"])(m,U),q=Object(c["cartesianScale"])(_,G);Object(c["cartesianAddInPlace"])(X,q);var K=W,Y=Object(c["cartesianDot"])(X,K),Q=Object(c["cartesianDot"])(K,K),Z=Y*Y-Q*(Object(c["cartesianDot"])(X,X)-1);if(!(Z<0)){var $=Object(d["sqrt"])(Z),J=Object(c["cartesianScale"])(K,(-Y-$)/Q);if(Object(c["cartesianAddInPlace"])(J,X),J=Object(c["spherical"])(J),!l)return J;var ee,te=t[0],re=u[0],ne=t[1],ie=u[1];re<te&&(ee=te,te=re,re=ee);var oe=re-te,se=Object(d["abs"])(oe-d["pi"])<d["epsilon"],ae=se||oe<d["epsilon"];if(!se&&ie<ne&&(ee=ne,ne=ie,ie=ee),ae?se?ne+ie>0^J[1]<(Object(d["abs"])(J[0]-te)<d["epsilon"]?ne:ie):ne<=J[1]&&J[1]<=ie:oe>d["pi"]^(te<=J[0]&&J[0]<=re)){var ue=Object(c["cartesianScale"])(K,(-Y+$)/Q);return Object(c["cartesianAddInPlace"])(ue,X),[J,Object(c["spherical"])(ue)]}}}function code(n,u){var c=m?t:d["pi"]-t,l=0;return n<-c?l|=1:n>c&&(l|=2),u<-c?l|=4:u>c&&(l|=8),l}return Object(p["default"])(visible,clipLine,interpolate,m?[0,-t]:[-d["pi"],t-d["pi"]])}},"./node_modules/d3-geo/src/clip/extent.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/clip/rectangle.js");n["default"]=function(){var t,n,u,l=0,d=0,h=960,p=500;return u={stream:function(u){return t&&n===u?t:t=Object(c["default"])(l,d,h,p)(n=u)},extent:function(c){return arguments.length?(l=+c[0][0],d=+c[0][1],h=+c[1][0],p=+c[1][1],t=n=null,u):[[l,d],[h,p]]}}}},"./node_modules/d3-geo/src/clip/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/clip/buffer.js"),l=u("./node_modules/d3-geo/src/clip/rejoin.js"),d=u("./node_modules/d3-geo/src/math.js"),h=u("./node_modules/d3-geo/src/polygonContains.js"),p=u("./node_modules/d3-array/src/merge.js");function validSegment(t){return t.length>1}function compareIntersection(t,n){return((t=t.x)[0]<0?t[1]-d["halfPi"]-d["epsilon"]:d["halfPi"]-t[1])-((n=n.x)[0]<0?n[1]-d["halfPi"]-d["epsilon"]:d["halfPi"]-n[1])}n["default"]=function(t,n,u,d){return function(m){var _,g,b,v=n(m),U=Object(c["default"])(),G=n(U),W=!1,X={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){X.point=pointRing,X.lineStart=ringStart,X.lineEnd=ringEnd,g=[],_=[]},polygonEnd:function(){X.point=point,X.lineStart=lineStart,X.lineEnd=lineEnd,g=Object(p["default"])(g);var t=Object(h["default"])(_,d);g.length?(W||(m.polygonStart(),W=!0),Object(l["default"])(g,compareIntersection,t,u,m)):t&&(W||(m.polygonStart(),W=!0),m.lineStart(),u(null,null,1,m),m.lineEnd()),W&&(m.polygonEnd(),W=!1),g=_=null},sphere:function(){m.polygonStart(),m.lineStart(),u(null,null,1,m),m.lineEnd(),m.polygonEnd()}};function point(n,u){t(n,u)&&m.point(n,u)}function pointLine(t,n){v.point(t,n)}function lineStart(){X.point=pointLine,v.lineStart()}function lineEnd(){X.point=point,v.lineEnd()}function pointRing(t,n){b.push([t,n]),G.point(t,n)}function ringStart(){G.lineStart(),b=[]}function ringEnd(){pointRing(b[0][0],b[0][1]),G.lineEnd();var t,n,u,c,l=G.clean(),d=U.result(),h=d.length;if(b.pop(),_.push(b),b=null,h)if(1&l){if(u=d[0],(n=u.length-1)>0){for(W||(m.polygonStart(),W=!0),m.lineStart(),t=0;t<n;++t)m.point((c=u[t])[0],c[1]);m.lineEnd()}}else h>1&&2&l&&d.push(d.pop().concat(d.shift())),g.push(d.filter(validSegment))}return X}}},"./node_modules/d3-geo/src/clip/line.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u,c,l,d){var h,p=t[0],m=t[1],_=n[0],g=n[1],b=0,v=1,U=_-p,G=g-m;if(h=u-p,U||!(h>0)){if(h/=U,U<0){if(h<b)return;h<v&&(v=h)}else if(U>0){if(h>v)return;h>b&&(b=h)}if(h=l-p,U||!(h<0)){if(h/=U,U<0){if(h>v)return;h>b&&(b=h)}else if(U>0){if(h<b)return;h<v&&(v=h)}if(h=c-m,G||!(h>0)){if(h/=G,G<0){if(h<b)return;h<v&&(v=h)}else if(G>0){if(h>v)return;h>b&&(b=h)}if(h=d-m,G||!(h<0)){if(h/=G,G<0){if(h>v)return;h>b&&(b=h)}else if(G>0){if(h<b)return;h<v&&(v=h)}return b>0&&(t[0]=p+b*U,t[1]=m+b*G),v<1&&(n[0]=p+v*U,n[1]=m+v*G),!0}}}}}},"./node_modules/d3-geo/src/clip/rectangle.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return clipRectangle}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/clip/buffer.js"),d=u("./node_modules/d3-geo/src/clip/line.js"),h=u("./node_modules/d3-geo/src/clip/rejoin.js"),p=u("./node_modules/d3-array/src/merge.js"),m=1e9,_=-m;function clipRectangle(t,n,u,g){function visible(c,l){return t<=c&&c<=u&&n<=l&&l<=g}function interpolate(c,l,d,h){var p=0,m=0;if(null==c||(p=corner(c,d))!==(m=corner(l,d))||comparePoint(c,l)<0^d>0)do{h.point(0===p||3===p?t:u,p>1?g:n)}while((p=(p+d+4)%4)!==m);else h.point(l[0],l[1])}function corner(l,d){return Object(c["abs"])(l[0]-t)<c["epsilon"]?d>0?0:3:Object(c["abs"])(l[0]-u)<c["epsilon"]?d>0?2:1:Object(c["abs"])(l[1]-n)<c["epsilon"]?d>0?1:0:d>0?3:2}function compareIntersection(t,n){return comparePoint(t.x,n.x)}function comparePoint(t,n){var u=corner(t,1),c=corner(n,1);return u!==c?u-c:0===u?n[1]-t[1]:1===u?t[0]-n[0]:2===u?t[1]-n[1]:n[0]-t[0]}return function(c){var b,v,U,G,W,X,q,K,Y,Q,Z,$=c,J=Object(l["default"])(),ee={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:polygonStart,polygonEnd:polygonEnd};function point(t,n){visible(t,n)&&$.point(t,n)}function polygonInside(){for(var n=0,u=0,c=v.length;u<c;++u)for(var l,d,h=v[u],p=1,m=h.length,_=h[0],b=_[0],U=_[1];p<m;++p)l=b,d=U,_=h[p],b=_[0],U=_[1],d<=g?U>g&&(b-l)*(g-d)>(U-d)*(t-l)&&++n:U<=g&&(b-l)*(g-d)<(U-d)*(t-l)&&--n;return n}function polygonStart(){$=J,b=[],v=[],Z=!0}function polygonEnd(){var t=polygonInside(),n=Z&&t,u=(b=Object(p["default"])(b)).length;(n||u)&&(c.polygonStart(),n&&(c.lineStart(),interpolate(null,null,1,c),c.lineEnd()),u&&Object(h["default"])(b,compareIntersection,t,interpolate,c),c.polygonEnd()),$=c,b=v=U=null}function lineStart(){ee.point=linePoint,v&&v.push(U=[]),Q=!0,Y=!1,q=K=NaN}function lineEnd(){b&&(linePoint(G,W),X&&Y&&J.rejoin(),b.push(J.result())),ee.point=point,Y&&$.lineEnd()}function linePoint(c,l){var h=visible(c,l);if(v&&U.push([c,l]),Q)G=c,W=l,X=h,Q=!1,h&&($.lineStart(),$.point(c,l));else if(h&&Y)$.point(c,l);else{var p=[q=Math.max(_,Math.min(m,q)),K=Math.max(_,Math.min(m,K))],b=[c=Math.max(_,Math.min(m,c)),l=Math.max(_,Math.min(m,l))];Object(d["default"])(p,b,t,n,u,g)?(Y||($.lineStart(),$.point(p[0],p[1])),$.point(b[0],b[1]),h||$.lineEnd(),Z=!1):h&&($.lineStart(),$.point(c,l),Z=!1)}q=c,K=l,Y=h}return ee}}},"./node_modules/d3-geo/src/clip/rejoin.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/pointEqual.js"),l=u("./node_modules/d3-geo/src/math.js");function Intersection(t,n,u,c){this.x=t,this.z=n,this.o=u,this.e=c,this.v=!1,this.n=this.p=null}function link(t){if(n=t.length){var n,u,c=0,l=t[0];while(++c<n)l.n=u=t[c],u.p=l,l=u;l.n=u=t[0],u.p=l}}n["default"]=function(t,n,u,d,h){var p,m,_=[],g=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,u,d=t[0],m=t[n];if(Object(c["default"])(d,m)){if(!d[2]&&!m[2]){for(h.lineStart(),p=0;p<n;++p)h.point((d=t[p])[0],d[1]);return void h.lineEnd()}m[0]+=2*l["epsilon"]}_.push(u=new Intersection(d,t,null,!0)),g.push(u.o=new Intersection(d,null,u,!1)),_.push(u=new Intersection(m,t,null,!1)),g.push(u.o=new Intersection(m,null,u,!0))}})),_.length){for(g.sort(n),link(_),link(g),p=0,m=g.length;p<m;++p)g[p].e=u=!u;var b,v,U=_[0];while(1){var G=U,W=!0;while(G.v)if((G=G.n)===U)return;b=G.z,h.lineStart();do{if(G.v=G.o.v=!0,G.e){if(W)for(p=0,m=b.length;p<m;++p)h.point((v=b[p])[0],v[1]);else d(G.x,G.n.x,1,h);G=G.n}else{if(W)for(b=G.p.z,p=b.length-1;p>=0;--p)h.point((v=b[p])[0],v[1]);else d(G.x,G.p.x,-1,h);G=G.p}G=G.o,b=G.z,W=!W}while(!G.v);h.lineEnd()}}}},"./node_modules/d3-geo/src/compose.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){function compose(u,c){return u=t(u,c),n(u[0],u[1])}return t.invert&&n.invert&&(compose.invert=function(u,c){return u=n.invert(u,c),u&&t.invert(u[0],u[1])}),compose}},"./node_modules/d3-geo/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return function(){return t}}},"./node_modules/d3-geo/src/contains.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/polygonContains.js"),l=u("./node_modules/d3-geo/src/distance.js"),d=u("./node_modules/d3-geo/src/math.js"),h={Feature:function(t,n){return containsGeometry(t.geometry,n)},FeatureCollection:function(t,n){var u=t.features,c=-1,l=u.length;while(++c<l)if(containsGeometry(u[c].geometry,n))return!0;return!1}},p={Sphere:function(){return!0},Point:function(t,n){return containsPoint(t.coordinates,n)},MultiPoint:function(t,n){var u=t.coordinates,c=-1,l=u.length;while(++c<l)if(containsPoint(u[c],n))return!0;return!1},LineString:function(t,n){return containsLine(t.coordinates,n)},MultiLineString:function(t,n){var u=t.coordinates,c=-1,l=u.length;while(++c<l)if(containsLine(u[c],n))return!0;return!1},Polygon:function(t,n){return containsPolygon(t.coordinates,n)},MultiPolygon:function(t,n){var u=t.coordinates,c=-1,l=u.length;while(++c<l)if(containsPolygon(u[c],n))return!0;return!1},GeometryCollection:function(t,n){var u=t.geometries,c=-1,l=u.length;while(++c<l)if(containsGeometry(u[c],n))return!0;return!1}};function containsGeometry(t,n){return!(!t||!p.hasOwnProperty(t.type))&&p[t.type](t,n)}function containsPoint(t,n){return 0===Object(l["default"])(t,n)}function containsLine(t,n){for(var u,c,h,p=0,m=t.length;p<m;p++){if(c=Object(l["default"])(t[p],n),0===c)return!0;if(p>0&&(h=Object(l["default"])(t[p],t[p-1]),h>0&&u<=h&&c<=h&&(u+c-h)*(1-Math.pow((u-c)/h,2))<d["epsilon2"]*h))return!0;u=c}return!1}function containsPolygon(t,n){return!!Object(c["default"])(t.map(ringRadians),pointRadians(n))}function ringRadians(t){return t=t.map(pointRadians),t.pop(),t}function pointRadians(t){return[t[0]*d["radians"],t[1]*d["radians"]]}n["default"]=function(t,n){return(t&&h.hasOwnProperty(t.type)?h[t.type]:containsGeometry)(t,n)}},"./node_modules/d3-geo/src/distance.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/length.js"),l=[null,null],d={type:"LineString",coordinates:l};n["default"]=function(t,n){return l[0]=t,l[1]=n,Object(c["default"])(d)}},"./node_modules/d3-geo/src/graticule.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return graticule})),u.d(n,"graticule10",(function(){return graticule10}));var c=u("./node_modules/d3-array/src/range.js"),l=u("./node_modules/d3-geo/src/math.js");function graticuleX(t,n,u){var d=Object(c["default"])(t,n-l["epsilon"],u).concat(n);return function(t){return d.map((function(n){return[t,n]}))}}function graticuleY(t,n,u){var d=Object(c["default"])(t,n-l["epsilon"],u).concat(n);return function(t){return d.map((function(n){return[n,t]}))}}function graticule(){var t,n,u,d,h,p,m,_,g,b,v,U,G=10,W=G,X=90,q=360,K=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return Object(c["default"])(Object(l["ceil"])(d/X)*X,u,X).map(v).concat(Object(c["default"])(Object(l["ceil"])(_/q)*q,m,q).map(U)).concat(Object(c["default"])(Object(l["ceil"])(n/G)*G,t,G).filter((function(t){return Object(l["abs"])(t%X)>l["epsilon"]})).map(g)).concat(Object(c["default"])(Object(l["ceil"])(p/W)*W,h,W).filter((function(t){return Object(l["abs"])(t%q)>l["epsilon"]})).map(b))}return graticule.lines=function(){return lines().map((function(t){return{type:"LineString",coordinates:t}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[v(d).concat(U(m).slice(1),v(u).reverse().slice(1),U(_).reverse().slice(1))]}},graticule.extent=function(t){return arguments.length?graticule.extentMajor(t).extentMinor(t):graticule.extentMinor()},graticule.extentMajor=function(t){return arguments.length?(d=+t[0][0],u=+t[1][0],_=+t[0][1],m=+t[1][1],d>u&&(t=d,d=u,u=t),_>m&&(t=_,_=m,m=t),graticule.precision(K)):[[d,_],[u,m]]},graticule.extentMinor=function(u){return arguments.length?(n=+u[0][0],t=+u[1][0],p=+u[0][1],h=+u[1][1],n>t&&(u=n,n=t,t=u),p>h&&(u=p,p=h,h=u),graticule.precision(K)):[[n,p],[t,h]]},graticule.step=function(t){return arguments.length?graticule.stepMajor(t).stepMinor(t):graticule.stepMinor()},graticule.stepMajor=function(t){return arguments.length?(X=+t[0],q=+t[1],graticule):[X,q]},graticule.stepMinor=function(t){return arguments.length?(G=+t[0],W=+t[1],graticule):[G,W]},graticule.precision=function(c){return arguments.length?(K=+c,g=graticuleX(p,h,90),b=graticuleY(n,t,K),v=graticuleX(_,m,90),U=graticuleY(d,u,K),graticule):K},graticule.extentMajor([[-180,-90+l["epsilon"]],[180,90-l["epsilon"]]]).extentMinor([[-180,-80-l["epsilon"]],[180,80+l["epsilon"]]])}function graticule10(){return graticule()()}},"./node_modules/d3-geo/src/identity.js":function(t,n,u){"use strict";u.r(n),n["default"]=t=>t},"./node_modules/d3-geo/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/area.js");u.d(n,"geoArea",(function(){return c["default"]}));var l=u("./node_modules/d3-geo/src/bounds.js");u.d(n,"geoBounds",(function(){return l["default"]}));var d=u("./node_modules/d3-geo/src/centroid.js");u.d(n,"geoCentroid",(function(){return d["default"]}));var h=u("./node_modules/d3-geo/src/circle.js");u.d(n,"geoCircle",(function(){return h["default"]}));var p=u("./node_modules/d3-geo/src/clip/antimeridian.js");u.d(n,"geoClipAntimeridian",(function(){return p["default"]}));var m=u("./node_modules/d3-geo/src/clip/circle.js");u.d(n,"geoClipCircle",(function(){return m["default"]}));var _=u("./node_modules/d3-geo/src/clip/extent.js");u.d(n,"geoClipExtent",(function(){return _["default"]}));var g=u("./node_modules/d3-geo/src/clip/rectangle.js");u.d(n,"geoClipRectangle",(function(){return g["default"]}));var b=u("./node_modules/d3-geo/src/contains.js");u.d(n,"geoContains",(function(){return b["default"]}));var v=u("./node_modules/d3-geo/src/distance.js");u.d(n,"geoDistance",(function(){return v["default"]}));var U=u("./node_modules/d3-geo/src/graticule.js");u.d(n,"geoGraticule",(function(){return U["default"]})),u.d(n,"geoGraticule10",(function(){return U["graticule10"]}));var G=u("./node_modules/d3-geo/src/interpolate.js");u.d(n,"geoInterpolate",(function(){return G["default"]}));var W=u("./node_modules/d3-geo/src/length.js");u.d(n,"geoLength",(function(){return W["default"]}));var X=u("./node_modules/d3-geo/src/path/index.js");u.d(n,"geoPath",(function(){return X["default"]}));var q=u("./node_modules/d3-geo/src/projection/albers.js");u.d(n,"geoAlbers",(function(){return q["default"]}));var K=u("./node_modules/d3-geo/src/projection/albersUsa.js");u.d(n,"geoAlbersUsa",(function(){return K["default"]}));var Y=u("./node_modules/d3-geo/src/projection/azimuthalEqualArea.js");u.d(n,"geoAzimuthalEqualArea",(function(){return Y["default"]})),u.d(n,"geoAzimuthalEqualAreaRaw",(function(){return Y["azimuthalEqualAreaRaw"]}));var Q=u("./node_modules/d3-geo/src/projection/azimuthalEquidistant.js");u.d(n,"geoAzimuthalEquidistant",(function(){return Q["default"]})),u.d(n,"geoAzimuthalEquidistantRaw",(function(){return Q["azimuthalEquidistantRaw"]}));var Z=u("./node_modules/d3-geo/src/projection/conicConformal.js");u.d(n,"geoConicConformal",(function(){return Z["default"]})),u.d(n,"geoConicConformalRaw",(function(){return Z["conicConformalRaw"]}));var $=u("./node_modules/d3-geo/src/projection/conicEqualArea.js");u.d(n,"geoConicEqualArea",(function(){return $["default"]})),u.d(n,"geoConicEqualAreaRaw",(function(){return $["conicEqualAreaRaw"]}));var J=u("./node_modules/d3-geo/src/projection/conicEquidistant.js");u.d(n,"geoConicEquidistant",(function(){return J["default"]})),u.d(n,"geoConicEquidistantRaw",(function(){return J["conicEquidistantRaw"]}));var ee=u("./node_modules/d3-geo/src/projection/equalEarth.js");u.d(n,"geoEqualEarth",(function(){return ee["default"]})),u.d(n,"geoEqualEarthRaw",(function(){return ee["equalEarthRaw"]}));var te=u("./node_modules/d3-geo/src/projection/equirectangular.js");u.d(n,"geoEquirectangular",(function(){return te["default"]})),u.d(n,"geoEquirectangularRaw",(function(){return te["equirectangularRaw"]}));var re=u("./node_modules/d3-geo/src/projection/gnomonic.js");u.d(n,"geoGnomonic",(function(){return re["default"]})),u.d(n,"geoGnomonicRaw",(function(){return re["gnomonicRaw"]}));var ne=u("./node_modules/d3-geo/src/projection/identity.js");u.d(n,"geoIdentity",(function(){return ne["default"]}));var ie=u("./node_modules/d3-geo/src/projection/index.js");u.d(n,"geoProjection",(function(){return ie["default"]})),u.d(n,"geoProjectionMutator",(function(){return ie["projectionMutator"]}));var oe=u("./node_modules/d3-geo/src/projection/mercator.js");u.d(n,"geoMercator",(function(){return oe["default"]})),u.d(n,"geoMercatorRaw",(function(){return oe["mercatorRaw"]}));var se=u("./node_modules/d3-geo/src/projection/naturalEarth1.js");u.d(n,"geoNaturalEarth1",(function(){return se["default"]})),u.d(n,"geoNaturalEarth1Raw",(function(){return se["naturalEarth1Raw"]}));var ae=u("./node_modules/d3-geo/src/projection/orthographic.js");u.d(n,"geoOrthographic",(function(){return ae["default"]})),u.d(n,"geoOrthographicRaw",(function(){return ae["orthographicRaw"]}));var ue=u("./node_modules/d3-geo/src/projection/stereographic.js");u.d(n,"geoStereographic",(function(){return ue["default"]})),u.d(n,"geoStereographicRaw",(function(){return ue["stereographicRaw"]}));var ce=u("./node_modules/d3-geo/src/projection/transverseMercator.js");u.d(n,"geoTransverseMercator",(function(){return ce["default"]})),u.d(n,"geoTransverseMercatorRaw",(function(){return ce["transverseMercatorRaw"]}));var le=u("./node_modules/d3-geo/src/rotation.js");u.d(n,"geoRotation",(function(){return le["default"]}));var de=u("./node_modules/d3-geo/src/stream.js");u.d(n,"geoStream",(function(){return de["default"]}));var he=u("./node_modules/d3-geo/src/transform.js");u.d(n,"geoTransform",(function(){return he["default"]}))},"./node_modules/d3-geo/src/interpolate.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/math.js");n["default"]=function(t,n){var u=t[0]*c["radians"],l=t[1]*c["radians"],d=n[0]*c["radians"],h=n[1]*c["radians"],p=Object(c["cos"])(l),m=Object(c["sin"])(l),_=Object(c["cos"])(h),g=Object(c["sin"])(h),b=p*Object(c["cos"])(u),v=p*Object(c["sin"])(u),U=_*Object(c["cos"])(d),G=_*Object(c["sin"])(d),W=2*Object(c["asin"])(Object(c["sqrt"])(Object(c["haversin"])(h-l)+p*_*Object(c["haversin"])(d-u))),X=Object(c["sin"])(W),q=W?function(t){var n=Object(c["sin"])(t*=W)/X,u=Object(c["sin"])(W-t)/X,l=u*b+n*U,d=u*v+n*G,h=u*m+n*g;return[Object(c["atan2"])(d,l)*c["degrees"],Object(c["atan2"])(h,Object(c["sqrt"])(l*l+d*d))*c["degrees"]]}:function(){return[u*c["degrees"],l*c["degrees"]]};return q.distance=W,q}},"./node_modules/d3-geo/src/length.js":function(t,n,u){"use strict";u.r(n);var c,l,d,h,p=u("./node_modules/d3-array/src/fsum.js"),m=u("./node_modules/d3-geo/src/math.js"),_=u("./node_modules/d3-geo/src/noop.js"),g=u("./node_modules/d3-geo/src/stream.js"),b={sphere:_["default"],point:_["default"],lineStart:lengthLineStart,lineEnd:_["default"],polygonStart:_["default"],polygonEnd:_["default"]};function lengthLineStart(){b.point=lengthPointFirst,b.lineEnd=lengthLineEnd}function lengthLineEnd(){b.point=b.lineEnd=_["default"]}function lengthPointFirst(t,n){t*=m["radians"],n*=m["radians"],l=t,d=Object(m["sin"])(n),h=Object(m["cos"])(n),b.point=lengthPoint}function lengthPoint(t,n){t*=m["radians"],n*=m["radians"];var u=Object(m["sin"])(n),p=Object(m["cos"])(n),_=Object(m["abs"])(t-l),g=Object(m["cos"])(_),b=Object(m["sin"])(_),v=p*b,U=h*u-d*p*g,G=d*u+h*p*g;c.add(Object(m["atan2"])(Object(m["sqrt"])(v*v+U*U),G)),l=t,d=u,h=p}n["default"]=function(t){return c=new p["Adder"],Object(g["default"])(t,b),+c}},"./node_modules/d3-geo/src/math.js":function(t,n,u){"use strict";u.r(n),u.d(n,"epsilon",(function(){return c})),u.d(n,"epsilon2",(function(){return l})),u.d(n,"pi",(function(){return d})),u.d(n,"halfPi",(function(){return h})),u.d(n,"quarterPi",(function(){return p})),u.d(n,"tau",(function(){return m})),u.d(n,"degrees",(function(){return _})),u.d(n,"radians",(function(){return g})),u.d(n,"abs",(function(){return b})),u.d(n,"atan",(function(){return v})),u.d(n,"atan2",(function(){return U})),u.d(n,"cos",(function(){return G})),u.d(n,"ceil",(function(){return W})),u.d(n,"exp",(function(){return X})),u.d(n,"floor",(function(){return q})),u.d(n,"hypot",(function(){return K})),u.d(n,"log",(function(){return Y})),u.d(n,"pow",(function(){return Q})),u.d(n,"sin",(function(){return Z})),u.d(n,"sign",(function(){return $})),u.d(n,"sqrt",(function(){return J})),u.d(n,"tan",(function(){return ee})),u.d(n,"acos",(function(){return acos})),u.d(n,"asin",(function(){return asin})),u.d(n,"haversin",(function(){return haversin}));var c=1e-6,l=1e-12,d=Math.PI,h=d/2,p=d/4,m=2*d,_=180/d,g=d/180,b=Math.abs,v=Math.atan,U=Math.atan2,G=Math.cos,W=Math.ceil,X=Math.exp,q=Math.floor,K=Math.hypot,Y=Math.log,Q=Math.pow,Z=Math.sin,$=Math.sign||function(t){return t>0?1:t<0?-1:0},J=Math.sqrt,ee=Math.tan;function acos(t){return t>1?0:t<-1?d:Math.acos(t)}function asin(t){return t>1?h:t<-1?-h:Math.asin(t)}function haversin(t){return(t=Z(t/2))*t}},"./node_modules/d3-geo/src/noop.js":function(t,n,u){"use strict";function noop(){}u.r(n),u.d(n,"default",(function(){return noop}))},"./node_modules/d3-geo/src/path/area.js":function(t,n,u){"use strict";u.r(n);var c,l,d,h,p=u("./node_modules/d3-array/src/fsum.js"),m=u("./node_modules/d3-geo/src/math.js"),_=u("./node_modules/d3-geo/src/noop.js"),g=new p["Adder"],b=new p["Adder"],v={point:_["default"],lineStart:_["default"],lineEnd:_["default"],polygonStart:function(){v.lineStart=areaRingStart,v.lineEnd=areaRingEnd},polygonEnd:function(){v.lineStart=v.lineEnd=v.point=_["default"],g.add(Object(m["abs"])(b)),b=new p["Adder"]},result:function(){var t=g/2;return g=new p["Adder"],t}};function areaRingStart(){v.point=areaPointFirst}function areaPointFirst(t,n){v.point=areaPoint,c=d=t,l=h=n}function areaPoint(t,n){b.add(h*t-d*n),d=t,h=n}function areaRingEnd(){areaPoint(c,l)}n["default"]=v},"./node_modules/d3-geo/src/path/bounds.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/noop.js"),l=1/0,d=l,h=-l,p=h,m={point:boundsPoint,lineStart:c["default"],lineEnd:c["default"],polygonStart:c["default"],polygonEnd:c["default"],result:function(){var t=[[l,d],[h,p]];return h=p=-(d=l=1/0),t}};function boundsPoint(t,n){t<l&&(l=t),t>h&&(h=t),n<d&&(d=n),n>p&&(p=n)}n["default"]=m},"./node_modules/d3-geo/src/path/centroid.js":function(t,n,u){"use strict";u.r(n);var c,l,d,h,p=u("./node_modules/d3-geo/src/math.js"),m=0,_=0,g=0,b=0,v=0,U=0,G=0,W=0,X=0,q={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){q.lineStart=centroidRingStart,q.lineEnd=centroidRingEnd},polygonEnd:function(){q.point=centroidPoint,q.lineStart=centroidLineStart,q.lineEnd=centroidLineEnd},result:function(){var t=X?[G/X,W/X]:U?[b/U,v/U]:g?[m/g,_/g]:[NaN,NaN];return m=_=g=b=v=U=G=W=X=0,t}};function centroidPoint(t,n){m+=t,_+=n,++g}function centroidLineStart(){q.point=centroidPointFirstLine}function centroidPointFirstLine(t,n){q.point=centroidPointLine,centroidPoint(d=t,h=n)}function centroidPointLine(t,n){var u=t-d,c=n-h,l=Object(p["sqrt"])(u*u+c*c);b+=l*(d+t)/2,v+=l*(h+n)/2,U+=l,centroidPoint(d=t,h=n)}function centroidLineEnd(){q.point=centroidPoint}function centroidRingStart(){q.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(c,l)}function centroidPointFirstRing(t,n){q.point=centroidPointRing,centroidPoint(c=d=t,l=h=n)}function centroidPointRing(t,n){var u=t-d,c=n-h,l=Object(p["sqrt"])(u*u+c*c);b+=l*(d+t)/2,v+=l*(h+n)/2,U+=l,l=h*t-d*n,G+=l*(d+t),W+=l*(h+n),X+=3*l,centroidPoint(d=t,h=n)}n["default"]=q},"./node_modules/d3-geo/src/path/context.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return PathContext}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/noop.js");function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,c["tau"]);break}},result:l["default"]}},"./node_modules/d3-geo/src/path/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/identity.js"),l=u("./node_modules/d3-geo/src/stream.js"),d=u("./node_modules/d3-geo/src/path/area.js"),h=u("./node_modules/d3-geo/src/path/bounds.js"),p=u("./node_modules/d3-geo/src/path/centroid.js"),m=u("./node_modules/d3-geo/src/path/context.js"),_=u("./node_modules/d3-geo/src/path/measure.js"),g=u("./node_modules/d3-geo/src/path/string.js");n["default"]=function(t,n){var u,b,v=4.5;function path(t){return t&&("function"===typeof v&&b.pointRadius(+v.apply(this,arguments)),Object(l["default"])(t,u(b))),b.result()}return path.area=function(t){return Object(l["default"])(t,u(d["default"])),d["default"].result()},path.measure=function(t){return Object(l["default"])(t,u(_["default"])),_["default"].result()},path.bounds=function(t){return Object(l["default"])(t,u(h["default"])),h["default"].result()},path.centroid=function(t){return Object(l["default"])(t,u(p["default"])),p["default"].result()},path.projection=function(n){return arguments.length?(u=null==n?(t=null,c["default"]):(t=n).stream,path):t},path.context=function(t){return arguments.length?(b=null==t?(n=null,new g["default"]):new m["default"](n=t),"function"!==typeof v&&b.pointRadius(v),path):n},path.pointRadius=function(t){return arguments.length?(v="function"===typeof t?t:(b.pointRadius(+t),+t),path):v},path.projection(t).context(n)}},"./node_modules/d3-geo/src/path/measure.js":function(t,n,u){"use strict";u.r(n);var c,l,d,h,p,m=u("./node_modules/d3-array/src/fsum.js"),_=u("./node_modules/d3-geo/src/math.js"),g=u("./node_modules/d3-geo/src/noop.js"),b=new m["Adder"],v={point:g["default"],lineStart:function(){v.point=lengthPointFirst},lineEnd:function(){c&&lengthPoint(l,d),v.point=g["default"]},polygonStart:function(){c=!0},polygonEnd:function(){c=null},result:function(){var t=+b;return b=new m["Adder"],t}};function lengthPointFirst(t,n){v.point=lengthPoint,l=h=t,d=p=n}function lengthPoint(t,n){h-=t,p-=n,b.add(Object(_["sqrt"])(h*h+p*p)),h=t,p=n}n["default"]=v},"./node_modules/d3-geo/src/path/string.js":function(t,n,u){"use strict";function PathString(){this._string=[]}function circle(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}u.r(n),u.d(n,"default",(function(){return PathString})),PathString.prototype={_radius:4.5,_circle:circle(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=circle(this._radius)),this._string.push("M",t,",",n,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},"./node_modules/d3-geo/src/pointEqual.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/math.js");n["default"]=function(t,n){return Object(c["abs"])(t[0]-n[0])<c["epsilon"]&&Object(c["abs"])(t[1]-n[1])<c["epsilon"]}},"./node_modules/d3-geo/src/polygonContains.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-array/src/fsum.js"),l=u("./node_modules/d3-geo/src/cartesian.js"),d=u("./node_modules/d3-geo/src/math.js");function longitude(t){return Object(d["abs"])(t[0])<=d["pi"]?t[0]:Object(d["sign"])(t[0])*((Object(d["abs"])(t[0])+d["pi"])%d["tau"]-d["pi"])}n["default"]=function(t,n){var u=longitude(n),h=n[1],p=Object(d["sin"])(h),m=[Object(d["sin"])(u),-Object(d["cos"])(u),0],_=0,g=0,b=new c["Adder"];1===p?h=d["halfPi"]+d["epsilon"]:-1===p&&(h=-d["halfPi"]-d["epsilon"]);for(var v=0,U=t.length;v<U;++v)if(W=(G=t[v]).length)for(var G,W,X=G[W-1],q=longitude(X),K=X[1]/2+d["quarterPi"],Y=Object(d["sin"])(K),Q=Object(d["cos"])(K),Z=0;Z<W;++Z,q=J,Y=te,Q=re,X=$){var $=G[Z],J=longitude($),ee=$[1]/2+d["quarterPi"],te=Object(d["sin"])(ee),re=Object(d["cos"])(ee),ne=J-q,ie=ne>=0?1:-1,oe=ie*ne,se=oe>d["pi"],ae=Y*te;if(b.add(Object(d["atan2"])(ae*ie*Object(d["sin"])(oe),Q*re+ae*Object(d["cos"])(oe))),_+=se?ne+ie*d["tau"]:ne,se^q>=u^J>=u){var ue=Object(l["cartesianCross"])(Object(l["cartesian"])(X),Object(l["cartesian"])($));Object(l["cartesianNormalizeInPlace"])(ue);var ce=Object(l["cartesianCross"])(m,ue);Object(l["cartesianNormalizeInPlace"])(ce);var le=(se^ne>=0?-1:1)*Object(d["asin"])(ce[2]);(h>le||h===le&&(ue[0]||ue[1]))&&(g+=se^ne>=0?1:-1)}}return(_<-d["epsilon"]||_<d["epsilon"]&&b<-d["epsilon2"])^1&g}},"./node_modules/d3-geo/src/projection/albers.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/projection/conicEqualArea.js");n["default"]=function(){return Object(c["default"])().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},"./node_modules/d3-geo/src/projection/albersUsa.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/albers.js"),d=u("./node_modules/d3-geo/src/projection/conicEqualArea.js"),h=u("./node_modules/d3-geo/src/projection/fit.js");function multiplex(t){var n=t.length;return{point:function(u,c){var l=-1;while(++l<n)t[l].point(u,c)},sphere:function(){var u=-1;while(++u<n)t[u].sphere()},lineStart:function(){var u=-1;while(++u<n)t[u].lineStart()},lineEnd:function(){var u=-1;while(++u<n)t[u].lineEnd()},polygonStart:function(){var u=-1;while(++u<n)t[u].polygonStart()},polygonEnd:function(){var u=-1;while(++u<n)t[u].polygonEnd()}}}n["default"]=function(){var t,n,u,p,m,_,g=Object(l["default"])(),b=Object(d["default"])().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=Object(d["default"])().rotate([157,0]).center([-3,19.9]).parallels([8,18]),U={point:function(t,n){_=[t,n]}};function albersUsa(t){var n=t[0],c=t[1];return _=null,u.point(n,c),_||(p.point(n,c),_)||(m.point(n,c),_)}function reset(){return t=n=null,albersUsa}return albersUsa.invert=function(t){var n=g.scale(),u=g.translate(),c=(t[0]-u[0])/n,l=(t[1]-u[1])/n;return(l>=.12&&l<.234&&c>=-.425&&c<-.214?b:l>=.166&&l<.234&&c>=-.214&&c<-.115?v:g).invert(t)},albersUsa.stream=function(u){return t&&n===u?t:t=multiplex([g.stream(n=u),b.stream(u),v.stream(u)])},albersUsa.precision=function(t){return arguments.length?(g.precision(t),b.precision(t),v.precision(t),reset()):g.precision()},albersUsa.scale=function(t){return arguments.length?(g.scale(t),b.scale(.35*t),v.scale(t),albersUsa.translate(g.translate())):g.scale()},albersUsa.translate=function(t){if(!arguments.length)return g.translate();var n=g.scale(),l=+t[0],d=+t[1];return u=g.translate(t).clipExtent([[l-.455*n,d-.238*n],[l+.455*n,d+.238*n]]).stream(U),p=b.translate([l-.307*n,d+.201*n]).clipExtent([[l-.425*n+c["epsilon"],d+.12*n+c["epsilon"]],[l-.214*n-c["epsilon"],d+.234*n-c["epsilon"]]]).stream(U),m=v.translate([l-.205*n,d+.212*n]).clipExtent([[l-.214*n+c["epsilon"],d+.166*n+c["epsilon"]],[l-.115*n-c["epsilon"],d+.234*n-c["epsilon"]]]).stream(U),reset()},albersUsa.fitExtent=function(t,n){return Object(h["fitExtent"])(albersUsa,t,n)},albersUsa.fitSize=function(t,n){return Object(h["fitSize"])(albersUsa,t,n)},albersUsa.fitWidth=function(t,n){return Object(h["fitWidth"])(albersUsa,t,n)},albersUsa.fitHeight=function(t,n){return Object(h["fitHeight"])(albersUsa,t,n)},albersUsa.scale(1070)}},"./node_modules/d3-geo/src/projection/azimuthal.js":function(t,n,u){"use strict";u.r(n),u.d(n,"azimuthalRaw",(function(){return azimuthalRaw})),u.d(n,"azimuthalInvert",(function(){return azimuthalInvert}));var c=u("./node_modules/d3-geo/src/math.js");function azimuthalRaw(t){return function(n,u){var l=Object(c["cos"])(n),d=Object(c["cos"])(u),h=t(l*d);return h===1/0?[2,0]:[h*d*Object(c["sin"])(n),h*Object(c["sin"])(u)]}}function azimuthalInvert(t){return function(n,u){var l=Object(c["sqrt"])(n*n+u*u),d=t(l),h=Object(c["sin"])(d),p=Object(c["cos"])(d);return[Object(c["atan2"])(n*h,l*p),Object(c["asin"])(l&&u*h/l)]}}},"./node_modules/d3-geo/src/projection/azimuthalEqualArea.js":function(t,n,u){"use strict";u.r(n),u.d(n,"azimuthalEqualAreaRaw",(function(){return h}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/azimuthal.js"),d=u("./node_modules/d3-geo/src/projection/index.js"),h=Object(l["azimuthalRaw"])((function(t){return Object(c["sqrt"])(2/(1+t))}));h.invert=Object(l["azimuthalInvert"])((function(t){return 2*Object(c["asin"])(t/2)})),n["default"]=function(){return Object(d["default"])(h).scale(124.75).clipAngle(179.999)}},"./node_modules/d3-geo/src/projection/azimuthalEquidistant.js":function(t,n,u){"use strict";u.r(n),u.d(n,"azimuthalEquidistantRaw",(function(){return h}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/azimuthal.js"),d=u("./node_modules/d3-geo/src/projection/index.js"),h=Object(l["azimuthalRaw"])((function(t){return(t=Object(c["acos"])(t))&&t/Object(c["sin"])(t)}));h.invert=Object(l["azimuthalInvert"])((function(t){return t})),n["default"]=function(){return Object(d["default"])(h).scale(79.4188).clipAngle(179.999)}},"./node_modules/d3-geo/src/projection/conic.js":function(t,n,u){"use strict";u.r(n),u.d(n,"conicProjection",(function(){return conicProjection}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/index.js");function conicProjection(t){var n=0,u=c["pi"]/3,d=Object(l["projectionMutator"])(t),h=d(n,u);return h.parallels=function(t){return arguments.length?d(n=t[0]*c["radians"],u=t[1]*c["radians"]):[n*c["degrees"],u*c["degrees"]]},h}},"./node_modules/d3-geo/src/projection/conicConformal.js":function(t,n,u){"use strict";u.r(n),u.d(n,"conicConformalRaw",(function(){return conicConformalRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/conic.js"),d=u("./node_modules/d3-geo/src/projection/mercator.js");function tany(t){return Object(c["tan"])((c["halfPi"]+t)/2)}function conicConformalRaw(t,n){var u=Object(c["cos"])(t),l=t===n?Object(c["sin"])(t):Object(c["log"])(u/Object(c["cos"])(n))/Object(c["log"])(tany(n)/tany(t)),h=u*Object(c["pow"])(tany(t),l)/l;if(!l)return d["mercatorRaw"];function project(t,n){h>0?n<-c["halfPi"]+c["epsilon"]&&(n=-c["halfPi"]+c["epsilon"]):n>c["halfPi"]-c["epsilon"]&&(n=c["halfPi"]-c["epsilon"]);var u=h/Object(c["pow"])(tany(n),l);return[u*Object(c["sin"])(l*t),h-u*Object(c["cos"])(l*t)]}return project.invert=function(t,n){var u=h-n,d=Object(c["sign"])(l)*Object(c["sqrt"])(t*t+u*u),p=Object(c["atan2"])(t,Object(c["abs"])(u))*Object(c["sign"])(u);return u*l<0&&(p-=c["pi"]*Object(c["sign"])(t)*Object(c["sign"])(u)),[p/l,2*Object(c["atan"])(Object(c["pow"])(h/d,1/l))-c["halfPi"]]},project}n["default"]=function(){return Object(l["conicProjection"])(conicConformalRaw).scale(109.5).parallels([30,30])}},"./node_modules/d3-geo/src/projection/conicEqualArea.js":function(t,n,u){"use strict";u.r(n),u.d(n,"conicEqualAreaRaw",(function(){return conicEqualAreaRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/conic.js"),d=u("./node_modules/d3-geo/src/projection/cylindricalEqualArea.js");function conicEqualAreaRaw(t,n){var u=Object(c["sin"])(t),l=(u+Object(c["sin"])(n))/2;if(Object(c["abs"])(l)<c["epsilon"])return Object(d["cylindricalEqualAreaRaw"])(t);var h=1+u*(2*l-u),p=Object(c["sqrt"])(h)/l;function project(t,n){var u=Object(c["sqrt"])(h-2*l*Object(c["sin"])(n))/l;return[u*Object(c["sin"])(t*=l),p-u*Object(c["cos"])(t)]}return project.invert=function(t,n){var u=p-n,d=Object(c["atan2"])(t,Object(c["abs"])(u))*Object(c["sign"])(u);return u*l<0&&(d-=c["pi"]*Object(c["sign"])(t)*Object(c["sign"])(u)),[d/l,Object(c["asin"])((h-(t*t+u*u)*l*l)/(2*l))]},project}n["default"]=function(){return Object(l["conicProjection"])(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}},"./node_modules/d3-geo/src/projection/conicEquidistant.js":function(t,n,u){"use strict";u.r(n),u.d(n,"conicEquidistantRaw",(function(){return conicEquidistantRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/conic.js"),d=u("./node_modules/d3-geo/src/projection/equirectangular.js");function conicEquidistantRaw(t,n){var u=Object(c["cos"])(t),l=t===n?Object(c["sin"])(t):(u-Object(c["cos"])(n))/(n-t),h=u/l+t;if(Object(c["abs"])(l)<c["epsilon"])return d["equirectangularRaw"];function project(t,n){var u=h-n,d=l*t;return[u*Object(c["sin"])(d),h-u*Object(c["cos"])(d)]}return project.invert=function(t,n){var u=h-n,d=Object(c["atan2"])(t,Object(c["abs"])(u))*Object(c["sign"])(u);return u*l<0&&(d-=c["pi"]*Object(c["sign"])(t)*Object(c["sign"])(u)),[d/l,h-Object(c["sign"])(l)*Object(c["sqrt"])(t*t+u*u)]},project}n["default"]=function(){return Object(l["conicProjection"])(conicEquidistantRaw).scale(131.154).center([0,13.9389])}},"./node_modules/d3-geo/src/projection/cylindricalEqualArea.js":function(t,n,u){"use strict";u.r(n),u.d(n,"cylindricalEqualAreaRaw",(function(){return cylindricalEqualAreaRaw}));var c=u("./node_modules/d3-geo/src/math.js");function cylindricalEqualAreaRaw(t){var n=Object(c["cos"])(t);function forward(t,u){return[t*n,Object(c["sin"])(u)/n]}return forward.invert=function(t,u){return[t/n,Object(c["asin"])(u*n)]},forward}},"./node_modules/d3-geo/src/projection/equalEarth.js":function(t,n,u){"use strict";u.r(n),u.d(n,"equalEarthRaw",(function(){return equalEarthRaw}));var c=u("./node_modules/d3-geo/src/projection/index.js"),l=u("./node_modules/d3-geo/src/math.js"),d=1.340264,h=-.081106,p=893e-6,m=.003796,_=Object(l["sqrt"])(3)/2,g=12;function equalEarthRaw(t,n){var u=Object(l["asin"])(_*Object(l["sin"])(n)),c=u*u,g=c*c*c;return[t*Object(l["cos"])(u)/(_*(d+3*h*c+g*(7*p+9*m*c))),u*(d+h*c+g*(p+m*c))]}equalEarthRaw.invert=function(t,n){for(var u,c,b,v=n,U=v*v,G=U*U*U,W=0;W<g;++W)if(c=v*(d+h*U+G*(p+m*U))-n,b=d+3*h*U+G*(7*p+9*m*U),v-=u=c/b,U=v*v,G=U*U*U,Object(l["abs"])(u)<l["epsilon2"])break;return[_*t*(d+3*h*U+G*(7*p+9*m*U))/Object(l["cos"])(v),Object(l["asin"])(Object(l["sin"])(v)/_)]},n["default"]=function(){return Object(c["default"])(equalEarthRaw).scale(177.158)}},"./node_modules/d3-geo/src/projection/equirectangular.js":function(t,n,u){"use strict";u.r(n),u.d(n,"equirectangularRaw",(function(){return equirectangularRaw}));var c=u("./node_modules/d3-geo/src/projection/index.js");function equirectangularRaw(t,n){return[t,n]}equirectangularRaw.invert=equirectangularRaw,n["default"]=function(){return Object(c["default"])(equirectangularRaw).scale(152.63)}},"./node_modules/d3-geo/src/projection/fit.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fitExtent",(function(){return fitExtent})),u.d(n,"fitSize",(function(){return fitSize})),u.d(n,"fitWidth",(function(){return fitWidth})),u.d(n,"fitHeight",(function(){return fitHeight}));var c=u("./node_modules/d3-geo/src/stream.js"),l=u("./node_modules/d3-geo/src/path/bounds.js");function fit(t,n,u){var d=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=d&&t.clipExtent(null),Object(c["default"])(u,t.stream(l["default"])),n(l["default"].result()),null!=d&&t.clipExtent(d),t}function fitExtent(t,n,u){return fit(t,(function(u){var c=n[1][0]-n[0][0],l=n[1][1]-n[0][1],d=Math.min(c/(u[1][0]-u[0][0]),l/(u[1][1]-u[0][1])),h=+n[0][0]+(c-d*(u[1][0]+u[0][0]))/2,p=+n[0][1]+(l-d*(u[1][1]+u[0][1]))/2;t.scale(150*d).translate([h,p])}),u)}function fitSize(t,n,u){return fitExtent(t,[[0,0],n],u)}function fitWidth(t,n,u){return fit(t,(function(u){var c=+n,l=c/(u[1][0]-u[0][0]),d=(c-l*(u[1][0]+u[0][0]))/2,h=-l*u[0][1];t.scale(150*l).translate([d,h])}),u)}function fitHeight(t,n,u){return fit(t,(function(u){var c=+n,l=c/(u[1][1]-u[0][1]),d=-l*u[0][0],h=(c-l*(u[1][1]+u[0][1]))/2;t.scale(150*l).translate([d,h])}),u)}},"./node_modules/d3-geo/src/projection/gnomonic.js":function(t,n,u){"use strict";u.r(n),u.d(n,"gnomonicRaw",(function(){return gnomonicRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/azimuthal.js"),d=u("./node_modules/d3-geo/src/projection/index.js");function gnomonicRaw(t,n){var u=Object(c["cos"])(n),l=Object(c["cos"])(t)*u;return[u*Object(c["sin"])(t)/l,Object(c["sin"])(n)/l]}gnomonicRaw.invert=Object(l["azimuthalInvert"])(c["atan"]),n["default"]=function(){return Object(d["default"])(gnomonicRaw).scale(144.049).clipAngle(60)}},"./node_modules/d3-geo/src/projection/identity.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/clip/rectangle.js"),l=u("./node_modules/d3-geo/src/identity.js"),d=u("./node_modules/d3-geo/src/transform.js"),h=u("./node_modules/d3-geo/src/projection/fit.js"),p=u("./node_modules/d3-geo/src/math.js");n["default"]=function(){var t,n,u,m,_,g,b,v=1,U=0,G=0,W=1,X=1,q=0,K=null,Y=1,Q=1,Z=Object(d["transformer"])({point:function(t,n){var u=projection([t,n]);this.stream.point(u[0],u[1])}}),$=l["default"];function reset(){return Y=v*W,Q=v*X,g=b=null,projection}function projection(u){var c=u[0]*Y,l=u[1]*Q;if(q){var d=l*t-c*n;c=c*t+l*n,l=d}return[c+U,l+G]}return projection.invert=function(u){var c=u[0]-U,l=u[1]-G;if(q){var d=l*t+c*n;c=c*t-l*n,l=d}return[c/Y,l/Q]},projection.stream=function(t){return g&&b===t?g:g=Z($(b=t))},projection.postclip=function(t){return arguments.length?($=t,K=u=m=_=null,reset()):$},projection.clipExtent=function(t){return arguments.length?($=null==t?(K=u=m=_=null,l["default"]):Object(c["default"])(K=+t[0][0],u=+t[0][1],m=+t[1][0],_=+t[1][1]),reset()):null==K?null:[[K,u],[m,_]]},projection.scale=function(t){return arguments.length?(v=+t,reset()):v},projection.translate=function(t){return arguments.length?(U=+t[0],G=+t[1],reset()):[U,G]},projection.angle=function(u){return arguments.length?(q=u%360*p["radians"],n=Object(p["sin"])(q),t=Object(p["cos"])(q),reset()):q*p["degrees"]},projection.reflectX=function(t){return arguments.length?(W=t?-1:1,reset()):W<0},projection.reflectY=function(t){return arguments.length?(X=t?-1:1,reset()):X<0},projection.fitExtent=function(t,n){return Object(h["fitExtent"])(projection,t,n)},projection.fitSize=function(t,n){return Object(h["fitSize"])(projection,t,n)},projection.fitWidth=function(t,n){return Object(h["fitWidth"])(projection,t,n)},projection.fitHeight=function(t,n){return Object(h["fitHeight"])(projection,t,n)},projection}},"./node_modules/d3-geo/src/projection/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return projection})),u.d(n,"projectionMutator",(function(){return projectionMutator}));var c=u("./node_modules/d3-geo/src/clip/antimeridian.js"),l=u("./node_modules/d3-geo/src/clip/circle.js"),d=u("./node_modules/d3-geo/src/clip/rectangle.js"),h=u("./node_modules/d3-geo/src/compose.js"),p=u("./node_modules/d3-geo/src/identity.js"),m=u("./node_modules/d3-geo/src/math.js"),_=u("./node_modules/d3-geo/src/rotation.js"),g=u("./node_modules/d3-geo/src/transform.js"),b=u("./node_modules/d3-geo/src/projection/fit.js"),v=u("./node_modules/d3-geo/src/projection/resample.js"),U=Object(g["transformer"])({point:function(t,n){this.stream.point(t*m["radians"],n*m["radians"])}});function transformRotate(t){return Object(g["transformer"])({point:function(n,u){var c=t(n,u);return this.stream.point(c[0],c[1])}})}function scaleTranslate(t,n,u,c,l){function transform(d,h){return d*=c,h*=l,[n+t*d,u-t*h]}return transform.invert=function(d,h){return[(d-n)/t*c,(u-h)/t*l]},transform}function scaleTranslateRotate(t,n,u,c,l,d){if(!d)return scaleTranslate(t,n,u,c,l);var h=Object(m["cos"])(d),p=Object(m["sin"])(d),_=h*t,g=p*t,b=h/t,v=p/t,U=(p*u-h*n)/t,G=(p*n+h*u)/t;function transform(t,d){return t*=c,d*=l,[_*t-g*d+n,u-g*t-_*d]}return transform.invert=function(t,n){return[c*(b*t-v*n+U),l*(G-v*t-b*n)]},transform}function projection(t){return projectionMutator((function(){return t}))()}function projectionMutator(t){var n,u,g,G,W,X,q,K,Y,Q,Z=150,$=480,J=250,ee=0,te=0,re=0,ne=0,ie=0,oe=0,se=1,ae=1,ue=null,ce=c["default"],le=null,de=p["default"],he=.5;function projection(t){return K(t[0]*m["radians"],t[1]*m["radians"])}function invert(t){return t=K.invert(t[0],t[1]),t&&[t[0]*m["degrees"],t[1]*m["degrees"]]}function recenter(){var t=scaleTranslateRotate(Z,0,0,se,ae,oe).apply(null,n(ee,te)),c=scaleTranslateRotate(Z,$-t[0],J-t[1],se,ae,oe);return u=Object(_["rotateRadians"])(re,ne,ie),q=Object(h["default"])(n,c),K=Object(h["default"])(u,q),X=Object(v["default"])(q,he),reset()}function reset(){return Y=Q=null,projection}return projection.stream=function(t){return Y&&Q===t?Y:Y=U(transformRotate(u)(ce(X(de(Q=t)))))},projection.preclip=function(t){return arguments.length?(ce=t,ue=void 0,reset()):ce},projection.postclip=function(t){return arguments.length?(de=t,le=g=G=W=null,reset()):de},projection.clipAngle=function(t){return arguments.length?(ce=+t?Object(l["default"])(ue=t*m["radians"]):(ue=null,c["default"]),reset()):ue*m["degrees"]},projection.clipExtent=function(t){return arguments.length?(de=null==t?(le=g=G=W=null,p["default"]):Object(d["default"])(le=+t[0][0],g=+t[0][1],G=+t[1][0],W=+t[1][1]),reset()):null==le?null:[[le,g],[G,W]]},projection.scale=function(t){return arguments.length?(Z=+t,recenter()):Z},projection.translate=function(t){return arguments.length?($=+t[0],J=+t[1],recenter()):[$,J]},projection.center=function(t){return arguments.length?(ee=t[0]%360*m["radians"],te=t[1]%360*m["radians"],recenter()):[ee*m["degrees"],te*m["degrees"]]},projection.rotate=function(t){return arguments.length?(re=t[0]%360*m["radians"],ne=t[1]%360*m["radians"],ie=t.length>2?t[2]%360*m["radians"]:0,recenter()):[re*m["degrees"],ne*m["degrees"],ie*m["degrees"]]},projection.angle=function(t){return arguments.length?(oe=t%360*m["radians"],recenter()):oe*m["degrees"]},projection.reflectX=function(t){return arguments.length?(se=t?-1:1,recenter()):se<0},projection.reflectY=function(t){return arguments.length?(ae=t?-1:1,recenter()):ae<0},projection.precision=function(t){return arguments.length?(X=Object(v["default"])(q,he=t*t),reset()):Object(m["sqrt"])(he)},projection.fitExtent=function(t,n){return Object(b["fitExtent"])(projection,t,n)},projection.fitSize=function(t,n){return Object(b["fitSize"])(projection,t,n)},projection.fitWidth=function(t,n){return Object(b["fitWidth"])(projection,t,n)},projection.fitHeight=function(t,n){return Object(b["fitHeight"])(projection,t,n)},function(){return n=t.apply(this,arguments),projection.invert=n.invert&&invert,recenter()}}},"./node_modules/d3-geo/src/projection/mercator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"mercatorRaw",(function(){return mercatorRaw})),u.d(n,"mercatorProjection",(function(){return mercatorProjection}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/rotation.js"),d=u("./node_modules/d3-geo/src/projection/index.js");function mercatorRaw(t,n){return[t,Object(c["log"])(Object(c["tan"])((c["halfPi"]+n)/2))]}function mercatorProjection(t){var n,u,h,p=Object(d["default"])(t),m=p.center,_=p.scale,g=p.translate,b=p.clipExtent,v=null;function reclip(){var d=c["pi"]*_(),m=p(Object(l["default"])(p.rotate()).invert([0,0]));return b(null==v?[[m[0]-d,m[1]-d],[m[0]+d,m[1]+d]]:t===mercatorRaw?[[Math.max(m[0]-d,v),n],[Math.min(m[0]+d,u),h]]:[[v,Math.max(m[1]-d,n)],[u,Math.min(m[1]+d,h)]])}return p.scale=function(t){return arguments.length?(_(t),reclip()):_()},p.translate=function(t){return arguments.length?(g(t),reclip()):g()},p.center=function(t){return arguments.length?(m(t),reclip()):m()},p.clipExtent=function(t){return arguments.length?(null==t?v=n=u=h=null:(v=+t[0][0],n=+t[0][1],u=+t[1][0],h=+t[1][1]),reclip()):null==v?null:[[v,n],[u,h]]},reclip()}mercatorRaw.invert=function(t,n){return[t,2*Object(c["atan"])(Object(c["exp"])(n))-c["halfPi"]]},n["default"]=function(){return mercatorProjection(mercatorRaw).scale(961/c["tau"])}},"./node_modules/d3-geo/src/projection/naturalEarth1.js":function(t,n,u){"use strict";u.r(n),u.d(n,"naturalEarth1Raw",(function(){return naturalEarth1Raw}));var c=u("./node_modules/d3-geo/src/projection/index.js"),l=u("./node_modules/d3-geo/src/math.js");function naturalEarth1Raw(t,n){var u=n*n,c=u*u;return[t*(.8707-.131979*u+c*(c*(.003971*u-.001529*c)-.013791)),n*(1.007226+u*(.015085+c*(.028874*u-.044475-.005916*c)))]}naturalEarth1Raw.invert=function(t,n){var u,c=n,d=25;do{var h=c*c,p=h*h;c-=u=(c*(1.007226+h*(.015085+p*(.028874*h-.044475-.005916*p)))-n)/(1.007226+h*(.045255+p*(.259866*h-.311325-.005916*11*p)))}while(Object(l["abs"])(u)>l["epsilon"]&&--d>0);return[t/(.8707+(h=c*c)*(h*(h*h*h*(.003971-.001529*h)-.013791)-.131979)),c]},n["default"]=function(){return Object(c["default"])(naturalEarth1Raw).scale(175.295)}},"./node_modules/d3-geo/src/projection/orthographic.js":function(t,n,u){"use strict";u.r(n),u.d(n,"orthographicRaw",(function(){return orthographicRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/azimuthal.js"),d=u("./node_modules/d3-geo/src/projection/index.js");function orthographicRaw(t,n){return[Object(c["cos"])(n)*Object(c["sin"])(t),Object(c["sin"])(n)]}orthographicRaw.invert=Object(l["azimuthalInvert"])(c["asin"]),n["default"]=function(){return Object(d["default"])(orthographicRaw).scale(249.5).clipAngle(90+c["epsilon"])}},"./node_modules/d3-geo/src/projection/resample.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-geo/src/cartesian.js"),l=u("./node_modules/d3-geo/src/math.js"),d=u("./node_modules/d3-geo/src/transform.js"),h=16,p=Object(l["cos"])(30*l["radians"]);function resampleNone(t){return Object(d["transformer"])({point:function(n,u){n=t(n,u),this.stream.point(n[0],n[1])}})}function resample(t,n){function resampleLineTo(u,c,d,h,m,_,g,b,v,U,G,W,X,q){var K=g-u,Y=b-c,Q=K*K+Y*Y;if(Q>4*n&&X--){var Z=h+U,$=m+G,J=_+W,ee=Object(l["sqrt"])(Z*Z+$*$+J*J),te=Object(l["asin"])(J/=ee),re=Object(l["abs"])(Object(l["abs"])(J)-1)<l["epsilon"]||Object(l["abs"])(d-v)<l["epsilon"]?(d+v)/2:Object(l["atan2"])($,Z),ne=t(re,te),ie=ne[0],oe=ne[1],se=ie-u,ae=oe-c,ue=Y*se-K*ae;(ue*ue/Q>n||Object(l["abs"])((K*se+Y*ae)/Q-.5)>.3||h*U+m*G+_*W<p)&&(resampleLineTo(u,c,d,h,m,_,ie,oe,re,Z/=ee,$/=ee,J,X,q),q.point(ie,oe),resampleLineTo(ie,oe,re,Z,$,J,g,b,v,U,G,W,X,q))}}return function(n){var u,l,d,p,m,_,g,b,v,U,G,W,X={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){n.polygonStart(),X.lineStart=ringStart},polygonEnd:function(){n.polygonEnd(),X.lineStart=lineStart}};function point(u,c){u=t(u,c),n.point(u[0],u[1])}function lineStart(){b=NaN,X.point=linePoint,n.lineStart()}function linePoint(u,l){var d=Object(c["cartesian"])([u,l]),p=t(u,l);resampleLineTo(b,v,g,U,G,W,b=p[0],v=p[1],g=u,U=d[0],G=d[1],W=d[2],h,n),n.point(b,v)}function lineEnd(){X.point=point,n.lineEnd()}function ringStart(){lineStart(),X.point=ringPoint,X.lineEnd=ringEnd}function ringPoint(t,n){linePoint(u=t,n),l=b,d=v,p=U,m=G,_=W,X.point=linePoint}function ringEnd(){resampleLineTo(b,v,g,U,G,W,l,d,u,p,m,_,h,n),X.lineEnd=lineEnd,lineEnd()}return X}}n["default"]=function(t,n){return+n?resample(t,n):resampleNone(t)}},"./node_modules/d3-geo/src/projection/stereographic.js":function(t,n,u){"use strict";u.r(n),u.d(n,"stereographicRaw",(function(){return stereographicRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/azimuthal.js"),d=u("./node_modules/d3-geo/src/projection/index.js");function stereographicRaw(t,n){var u=Object(c["cos"])(n),l=1+Object(c["cos"])(t)*u;return[u*Object(c["sin"])(t)/l,Object(c["sin"])(n)/l]}stereographicRaw.invert=Object(l["azimuthalInvert"])((function(t){return 2*Object(c["atan"])(t)})),n["default"]=function(){return Object(d["default"])(stereographicRaw).scale(250).clipAngle(142)}},"./node_modules/d3-geo/src/projection/transverseMercator.js":function(t,n,u){"use strict";u.r(n),u.d(n,"transverseMercatorRaw",(function(){return transverseMercatorRaw}));var c=u("./node_modules/d3-geo/src/math.js"),l=u("./node_modules/d3-geo/src/projection/mercator.js");function transverseMercatorRaw(t,n){return[Object(c["log"])(Object(c["tan"])((c["halfPi"]+n)/2)),-t]}transverseMercatorRaw.invert=function(t,n){return[-n,2*Object(c["atan"])(Object(c["exp"])(t))-c["halfPi"]]},n["default"]=function(){var t=Object(l["mercatorProjection"])(transverseMercatorRaw),n=t.center,u=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?u([t[0],t[1],t.length>2?t[2]+90:90]):(t=u(),[t[0],t[1],t[2]-90])},u([0,0,90]).scale(159.155)}},"./node_modules/d3-geo/src/rotation.js":function(t,n,u){"use strict";u.r(n),u.d(n,"rotateRadians",(function(){return rotateRadians}));var c=u("./node_modules/d3-geo/src/compose.js"),l=u("./node_modules/d3-geo/src/math.js");function rotationIdentity(t,n){return[Object(l["abs"])(t)>l["pi"]?t+Math.round(-t/l["tau"])*l["tau"]:t,n]}function rotateRadians(t,n,u){return(t%=l["tau"])?n||u?Object(c["default"])(rotationLambda(t),rotationPhiGamma(n,u)):rotationLambda(t):n||u?rotationPhiGamma(n,u):rotationIdentity}function forwardRotationLambda(t){return function(n,u){return n+=t,[n>l["pi"]?n-l["tau"]:n<-l["pi"]?n+l["tau"]:n,u]}}function rotationLambda(t){var n=forwardRotationLambda(t);return n.invert=forwardRotationLambda(-t),n}function rotationPhiGamma(t,n){var u=Object(l["cos"])(t),c=Object(l["sin"])(t),d=Object(l["cos"])(n),h=Object(l["sin"])(n);function rotation(t,n){var p=Object(l["cos"])(n),m=Object(l["cos"])(t)*p,_=Object(l["sin"])(t)*p,g=Object(l["sin"])(n),b=g*u+m*c;return[Object(l["atan2"])(_*d-b*h,m*u-g*c),Object(l["asin"])(b*d+_*h)]}return rotation.invert=function(t,n){var p=Object(l["cos"])(n),m=Object(l["cos"])(t)*p,_=Object(l["sin"])(t)*p,g=Object(l["sin"])(n),b=g*d-_*h;return[Object(l["atan2"])(_*d+g*h,m*u+b*c),Object(l["asin"])(b*u-m*c)]},rotation}rotationIdentity.invert=rotationIdentity,n["default"]=function(t){function forward(n){return n=t(n[0]*l["radians"],n[1]*l["radians"]),n[0]*=l["degrees"],n[1]*=l["degrees"],n}return t=rotateRadians(t[0]*l["radians"],t[1]*l["radians"],t.length>2?t[2]*l["radians"]:0),forward.invert=function(n){return n=t.invert(n[0]*l["radians"],n[1]*l["radians"]),n[0]*=l["degrees"],n[1]*=l["degrees"],n},forward}},"./node_modules/d3-geo/src/stream.js":function(t,n,u){"use strict";function streamGeometry(t,n){t&&l.hasOwnProperty(t.type)&&l[t.type](t,n)}u.r(n);var c={Feature:function(t,n){streamGeometry(t.geometry,n)},FeatureCollection:function(t,n){var u=t.features,c=-1,l=u.length;while(++c<l)streamGeometry(u[c].geometry,n)}},l={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){var u=t.coordinates,c=-1,l=u.length;while(++c<l)t=u[c],n.point(t[0],t[1],t[2])},LineString:function(t,n){streamLine(t.coordinates,n,0)},MultiLineString:function(t,n){var u=t.coordinates,c=-1,l=u.length;while(++c<l)streamLine(u[c],n,0)},Polygon:function(t,n){streamPolygon(t.coordinates,n)},MultiPolygon:function(t,n){var u=t.coordinates,c=-1,l=u.length;while(++c<l)streamPolygon(u[c],n)},GeometryCollection:function(t,n){var u=t.geometries,c=-1,l=u.length;while(++c<l)streamGeometry(u[c],n)}};function streamLine(t,n,u){var c,l=-1,d=t.length-u;n.lineStart();while(++l<d)c=t[l],n.point(c[0],c[1],c[2]);n.lineEnd()}function streamPolygon(t,n){var u=-1,c=t.length;n.polygonStart();while(++u<c)streamLine(t[u],n,1);n.polygonEnd()}n["default"]=function(t,n){t&&c.hasOwnProperty(t.type)?c[t.type](t,n):streamGeometry(t,n)}},"./node_modules/d3-geo/src/transform.js":function(t,n,u){"use strict";function transformer(t){return function(n){var u=new TransformStream;for(var c in t)u[c]=t[c];return u.stream=n,u}}function TransformStream(){}u.r(n),u.d(n,"transformer",(function(){return transformer})),n["default"]=function(t){return{stream:transformer(t)}},TransformStream.prototype={constructor:TransformStream,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},"./node_modules/d3-hierarchy/src/accessors.js":function(t,n,u){"use strict";function optional(t){return null==t?null:required(t)}function required(t){if("function"!==typeof t)throw new Error;return t}u.r(n),u.d(n,"optional",(function(){return optional})),u.d(n,"required",(function(){return required}))},"./node_modules/d3-hierarchy/src/array.js":function(t,n,u){"use strict";function shuffle(t){var n,u,c=t.length;while(c)u=Math.random()*c--|0,n=t[c],t[c]=t[u],t[u]=n;return t}u.r(n),u.d(n,"shuffle",(function(){return shuffle})),n["default"]=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}},"./node_modules/d3-hierarchy/src/cluster.js":function(t,n,u){"use strict";function defaultSeparation(t,n){return t.parent===n.parent?1:2}function meanX(t){return t.reduce(meanXReduce,0)/t.length}function meanXReduce(t,n){return t+n.x}function maxY(t){return 1+t.reduce(maxYReduce,0)}function maxYReduce(t,n){return Math.max(t,n.y)}function leafLeft(t){var n;while(n=t.children)t=n[0];return t}function leafRight(t){var n;while(n=t.children)t=n[n.length-1];return t}u.r(n),n["default"]=function(){var t=defaultSeparation,n=1,u=1,c=!1;function cluster(l){var d,h=0;l.eachAfter((function(n){var u=n.children;u?(n.x=meanX(u),n.y=maxY(u)):(n.x=d?h+=t(n,d):0,n.y=0,d=n)}));var p=leafLeft(l),m=leafRight(l),_=p.x-t(p,m)/2,g=m.x+t(m,p)/2;return l.eachAfter(c?function(t){t.x=(t.x-l.x)*n,t.y=(l.y-t.y)*u}:function(t){t.x=(t.x-_)/(g-_)*n,t.y=(1-(l.y?t.y/l.y:1))*u})}return cluster.separation=function(n){return arguments.length?(t=n,cluster):t},cluster.size=function(t){return arguments.length?(c=!1,n=+t[0],u=+t[1],cluster):c?null:[n,u]},cluster.nodeSize=function(t){return arguments.length?(c=!0,n=+t[0],u=+t[1],cluster):c?[n,u]:null},cluster}},"./node_modules/d3-hierarchy/src/constant.js":function(t,n,u){"use strict";function constantZero(){return 0}u.r(n),u.d(n,"constantZero",(function(){return constantZero})),n["default"]=function(t){return function(){return t}}},"./node_modules/d3-hierarchy/src/hierarchy/ancestors.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){var t=this,n=[t];while(t=t.parent)n.push(t);return n}},"./node_modules/d3-hierarchy/src/hierarchy/count.js":function(t,n,u){"use strict";function count(t){var n=0,u=t.children,c=u&&u.length;if(c)while(--c>=0)n+=u[c].value;else n=1;t.value=n}u.r(n),n["default"]=function(){return this.eachAfter(count)}},"./node_modules/d3-hierarchy/src/hierarchy/descendants.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){return Array.from(this)}},"./node_modules/d3-hierarchy/src/hierarchy/each.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){let u=-1;for(const c of this)t.call(n,c,++u,this);return this}},"./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){var u,c,l,d=this,h=[d],p=[],m=-1;while(d=h.pop())if(p.push(d),u=d.children)for(c=0,l=u.length;c<l;++c)h.push(u[c]);while(d=p.pop())t.call(n,d,++m,this);return this}},"./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){var u,c,l=this,d=[l],h=-1;while(l=d.pop())if(t.call(n,l,++h,this),u=l.children)for(c=u.length-1;c>=0;--c)d.push(u[c]);return this}},"./node_modules/d3-hierarchy/src/hierarchy/find.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){let u=-1;for(const c of this)if(t.call(n,c,++u,this))return c}},"./node_modules/d3-hierarchy/src/hierarchy/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return hierarchy})),u.d(n,"computeHeight",(function(){return computeHeight})),u.d(n,"Node",(function(){return Node}));var c=u("./node_modules/d3-hierarchy/src/hierarchy/count.js"),l=u("./node_modules/d3-hierarchy/src/hierarchy/each.js"),d=u("./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js"),h=u("./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js"),p=u("./node_modules/d3-hierarchy/src/hierarchy/find.js"),m=u("./node_modules/d3-hierarchy/src/hierarchy/sum.js"),_=u("./node_modules/d3-hierarchy/src/hierarchy/sort.js"),g=u("./node_modules/d3-hierarchy/src/hierarchy/path.js"),b=u("./node_modules/d3-hierarchy/src/hierarchy/ancestors.js"),v=u("./node_modules/d3-hierarchy/src/hierarchy/descendants.js"),U=u("./node_modules/d3-hierarchy/src/hierarchy/leaves.js"),G=u("./node_modules/d3-hierarchy/src/hierarchy/links.js"),W=u("./node_modules/d3-hierarchy/src/hierarchy/iterator.js");function hierarchy(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=mapChildren)):void 0===n&&(n=objectChildren);var u,c,l,d,h,p=new Node(t),m=[p];while(u=m.pop())if((l=n(u.data))&&(h=(l=Array.from(l)).length))for(u.children=l,d=h-1;d>=0;--d)m.push(c=l[d]=new Node(l[d])),c.parent=u,c.depth=u.depth+1;return p.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function objectChildren(t){return t.children}function mapChildren(t){return Array.isArray(t)?t[1]:null}function copyData(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function computeHeight(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Node(t){this.data=t,this.depth=this.height=0,this.parent=null}Node.prototype=hierarchy.prototype={constructor:Node,count:c["default"],each:l["default"],eachAfter:h["default"],eachBefore:d["default"],find:p["default"],sum:m["default"],sort:_["default"],path:g["default"],ancestors:b["default"],descendants:v["default"],leaves:U["default"],links:G["default"],copy:node_copy,[Symbol.iterator]:W["default"]}},"./node_modules/d3-hierarchy/src/hierarchy/iterator.js":function(t,n,u){"use strict";u.r(n),n["default"]=function*(){var t,n,u,c,l=this,d=[l];do{t=d.reverse(),d=[];while(l=t.pop())if(yield l,n=l.children)for(u=0,c=n.length;u<c;++u)d.push(n[u])}while(d.length)}},"./node_modules/d3-hierarchy/src/hierarchy/leaves.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t}},"./node_modules/d3-hierarchy/src/hierarchy/links.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){var t=this,n=[];return t.each((function(u){u!==t&&n.push({source:u.parent,target:u})})),n}},"./node_modules/d3-hierarchy/src/hierarchy/path.js":function(t,n,u){"use strict";function leastCommonAncestor(t,n){if(t===n)return t;var u=t.ancestors(),c=n.ancestors(),l=null;t=u.pop(),n=c.pop();while(t===n)l=t,t=u.pop(),n=c.pop();return l}u.r(n),n["default"]=function(t){var n=this,u=leastCommonAncestor(n,t),c=[n];while(n!==u)n=n.parent,c.push(n);var l=c.length;while(t!==u)c.splice(l,0,t),t=t.parent;return c}},"./node_modules/d3-hierarchy/src/hierarchy/sort.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))}},"./node_modules/d3-hierarchy/src/hierarchy/sum.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return this.eachAfter((function(n){var u=+t(n.data)||0,c=n.children,l=c&&c.length;while(--l>=0)u+=c[l].value;n.value=u}))}},"./node_modules/d3-hierarchy/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/cluster.js");u.d(n,"cluster",(function(){return c["default"]}));var l=u("./node_modules/d3-hierarchy/src/hierarchy/index.js");u.d(n,"hierarchy",(function(){return l["default"]})),u.d(n,"Node",(function(){return l["Node"]}));var d=u("./node_modules/d3-hierarchy/src/pack/index.js");u.d(n,"pack",(function(){return d["default"]}));var h=u("./node_modules/d3-hierarchy/src/pack/siblings.js");u.d(n,"packSiblings",(function(){return h["default"]}));var p=u("./node_modules/d3-hierarchy/src/pack/enclose.js");u.d(n,"packEnclose",(function(){return p["default"]}));var m=u("./node_modules/d3-hierarchy/src/partition.js");u.d(n,"partition",(function(){return m["default"]}));var _=u("./node_modules/d3-hierarchy/src/stratify.js");u.d(n,"stratify",(function(){return _["default"]}));var g=u("./node_modules/d3-hierarchy/src/tree.js");u.d(n,"tree",(function(){return g["default"]}));var b=u("./node_modules/d3-hierarchy/src/treemap/index.js");u.d(n,"treemap",(function(){return b["default"]}));var v=u("./node_modules/d3-hierarchy/src/treemap/binary.js");u.d(n,"treemapBinary",(function(){return v["default"]}));var U=u("./node_modules/d3-hierarchy/src/treemap/dice.js");u.d(n,"treemapDice",(function(){return U["default"]}));var G=u("./node_modules/d3-hierarchy/src/treemap/slice.js");u.d(n,"treemapSlice",(function(){return G["default"]}));var W=u("./node_modules/d3-hierarchy/src/treemap/sliceDice.js");u.d(n,"treemapSliceDice",(function(){return W["default"]}));var X=u("./node_modules/d3-hierarchy/src/treemap/squarify.js");u.d(n,"treemapSquarify",(function(){return X["default"]}));var q=u("./node_modules/d3-hierarchy/src/treemap/resquarify.js");u.d(n,"treemapResquarify",(function(){return q["default"]}))},"./node_modules/d3-hierarchy/src/pack/enclose.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/array.js");function extendBasis(t,n){var u,c;if(enclosesWeakAll(n,t))return[n];for(u=0;u<t.length;++u)if(enclosesNot(n,t[u])&&enclosesWeakAll(encloseBasis2(t[u],n),t))return[t[u],n];for(u=0;u<t.length-1;++u)for(c=u+1;c<t.length;++c)if(enclosesNot(encloseBasis2(t[u],t[c]),n)&&enclosesNot(encloseBasis2(t[u],n),t[c])&&enclosesNot(encloseBasis2(t[c],n),t[u])&&enclosesWeakAll(encloseBasis3(t[u],t[c],n),t))return[t[u],t[c],n];throw new Error}function enclosesNot(t,n){var u=t.r-n.r,c=n.x-t.x,l=n.y-t.y;return u<0||u*u<c*c+l*l}function enclosesWeak(t,n){var u=t.r-n.r+1e-9*Math.max(t.r,n.r,1),c=n.x-t.x,l=n.y-t.y;return u>0&&u*u>c*c+l*l}function enclosesWeakAll(t,n){for(var u=0;u<n.length;++u)if(!enclosesWeak(t,n[u]))return!1;return!0}function encloseBasis(t){switch(t.length){case 1:return encloseBasis1(t[0]);case 2:return encloseBasis2(t[0],t[1]);case 3:return encloseBasis3(t[0],t[1],t[2])}}function encloseBasis1(t){return{x:t.x,y:t.y,r:t.r}}function encloseBasis2(t,n){var u=t.x,c=t.y,l=t.r,d=n.x,h=n.y,p=n.r,m=d-u,_=h-c,g=p-l,b=Math.sqrt(m*m+_*_);return{x:(u+d+m/b*g)/2,y:(c+h+_/b*g)/2,r:(b+l+p)/2}}function encloseBasis3(t,n,u){var c=t.x,l=t.y,d=t.r,h=n.x,p=n.y,m=n.r,_=u.x,g=u.y,b=u.r,v=c-h,U=c-_,G=l-p,W=l-g,X=m-d,q=b-d,K=c*c+l*l-d*d,Y=K-h*h-p*p+m*m,Q=K-_*_-g*g+b*b,Z=U*G-v*W,$=(G*Q-W*Y)/(2*Z)-c,J=(W*X-G*q)/Z,ee=(U*Y-v*Q)/(2*Z)-l,te=(v*q-U*X)/Z,re=J*J+te*te-1,ne=2*(d+$*J+ee*te),ie=$*$+ee*ee-d*d,oe=-(re?(ne+Math.sqrt(ne*ne-4*re*ie))/(2*re):ie/ne);return{x:c+$+J*oe,y:l+ee+te*oe,r:oe}}n["default"]=function(t){var n,u,l=0,d=(t=Object(c["shuffle"])(Array.from(t))).length,h=[];while(l<d)n=t[l],u&&enclosesWeak(u,n)?++l:(u=encloseBasis(h=extendBasis(h,n)),l=0);return u}},"./node_modules/d3-hierarchy/src/pack/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/pack/siblings.js"),l=u("./node_modules/d3-hierarchy/src/accessors.js"),d=u("./node_modules/d3-hierarchy/src/constant.js");function defaultRadius(t){return Math.sqrt(t.value)}function radiusLeaf(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function packChildren(t,n){return function(u){if(l=u.children){var l,d,h,p=l.length,m=t(u)*n||0;if(m)for(d=0;d<p;++d)l[d].r+=m;if(h=Object(c["packEnclose"])(l),m)for(d=0;d<p;++d)l[d].r-=m;u.r=h+m}}}function translateChild(t){return function(n){var u=n.parent;n.r*=t,u&&(n.x=u.x+t*n.x,n.y=u.y+t*n.y)}}n["default"]=function(){var t=null,n=1,u=1,c=d["constantZero"];function pack(l){return l.x=n/2,l.y=u/2,t?l.eachBefore(radiusLeaf(t)).eachAfter(packChildren(c,.5)).eachBefore(translateChild(1)):l.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(d["constantZero"],1)).eachAfter(packChildren(c,l.r/Math.min(n,u))).eachBefore(translateChild(Math.min(n,u)/(2*l.r))),l}return pack.radius=function(n){return arguments.length?(t=Object(l["optional"])(n),pack):t},pack.size=function(t){return arguments.length?(n=+t[0],u=+t[1],pack):[n,u]},pack.padding=function(t){return arguments.length?(c="function"===typeof t?t:Object(d["default"])(+t),pack):c},pack}},"./node_modules/d3-hierarchy/src/pack/siblings.js":function(t,n,u){"use strict";u.r(n),u.d(n,"packEnclose",(function(){return packEnclose}));var c=u("./node_modules/d3-hierarchy/src/array.js"),l=u("./node_modules/d3-hierarchy/src/pack/enclose.js");function place(t,n,u){var c,l,d,h,p=t.x-n.x,m=t.y-n.y,_=p*p+m*m;_?(l=n.r+u.r,l*=l,h=t.r+u.r,h*=h,l>h?(c=(_+h-l)/(2*_),d=Math.sqrt(Math.max(0,h/_-c*c)),u.x=t.x-c*p-d*m,u.y=t.y-c*m+d*p):(c=(_+l-h)/(2*_),d=Math.sqrt(Math.max(0,l/_-c*c)),u.x=n.x+c*p-d*m,u.y=n.y+c*m+d*p)):(u.x=n.x+u.r,u.y=n.y)}function intersects(t,n){var u=t.r+n.r-1e-6,c=n.x-t.x,l=n.y-t.y;return u>0&&u*u>c*c+l*l}function score(t){var n=t._,u=t.next._,c=n.r+u.r,l=(n.x*u.r+u.x*n.r)/c,d=(n.y*u.r+u.y*n.r)/c;return l*l+d*d}function Node(t){this._=t,this.next=null,this.previous=null}function packEnclose(t){if(!(h=(t=Object(c["default"])(t)).length))return 0;var n,u,d,h,p,m,_,g,b,v,U;if(n=t[0],n.x=0,n.y=0,!(h>1))return n.r;if(u=t[1],n.x=-u.r,u.x=n.r,u.y=0,!(h>2))return n.r+u.r;place(u,n,d=t[2]),n=new Node(n),u=new Node(u),d=new Node(d),n.next=d.previous=u,u.next=n.previous=d,d.next=u.previous=n;e:for(_=3;_<h;++_){place(n._,u._,d=t[_]),d=new Node(d),g=u.next,b=n.previous,v=u._.r,U=n._.r;do{if(v<=U){if(intersects(g._,d._)){u=g,n.next=u,u.previous=n,--_;continue e}v+=g._.r,g=g.next}else{if(intersects(b._,d._)){n=b,n.next=u,u.previous=n,--_;continue e}U+=b._.r,b=b.previous}}while(g!==b.next);d.previous=n,d.next=u,n.next=u.previous=u=d,p=score(n);while((d=d.next)!==u)(m=score(d))<p&&(n=d,p=m);u=n.next}n=[u._],d=u;while((d=d.next)!==u)n.push(d._);for(d=Object(l["default"])(n),_=0;_<h;++_)n=t[_],n.x-=d.x,n.y-=d.y;return d.r}n["default"]=function(t){return packEnclose(t),t}},"./node_modules/d3-hierarchy/src/partition.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/treemap/round.js"),l=u("./node_modules/d3-hierarchy/src/treemap/dice.js");n["default"]=function(){var t=1,n=1,u=0,d=!1;function partition(l){var h=l.height+1;return l.x0=l.y0=u,l.x1=t,l.y1=n/h,l.eachBefore(positionNode(n,h)),d&&l.eachBefore(c["default"]),l}function positionNode(t,n){return function(c){c.children&&Object(l["default"])(c,c.x0,t*(c.depth+1)/n,c.x1,t*(c.depth+2)/n);var d=c.x0,h=c.y0,p=c.x1-u,m=c.y1-u;p<d&&(d=p=(d+p)/2),m<h&&(h=m=(h+m)/2),c.x0=d,c.y0=h,c.x1=p,c.y1=m}}return partition.round=function(t){return arguments.length?(d=!!t,partition):d},partition.size=function(u){return arguments.length?(t=+u[0],n=+u[1],partition):[t,n]},partition.padding=function(t){return arguments.length?(u=+t,partition):u},partition}},"./node_modules/d3-hierarchy/src/stratify.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/accessors.js"),l=u("./node_modules/d3-hierarchy/src/hierarchy/index.js"),d={depth:-1},h={},p={};function defaultId(t){return t.id}function defaultParentId(t){return t.parentId}function normalize(t){t=""+t;let n=t.length;return slash(t,n-1)&&!slash(t,n-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:"/"+t}function parentof(t){let n=t.length;if(n<2)return"";while(--n>1)if(slash(t,n))break;return t.slice(0,n)}function slash(t,n){if("/"===t[n]){let u=0;while(n>0&&"\\"===t[--n])++u;if(0===(1&u))return!0}return!1}n["default"]=function(){var t,n=defaultId,u=defaultParentId;function stratify(c){var m,_,g,b,v,U,G,W,X=Array.from(c),q=n,K=u,Y=new Map;if(null!=t){const n=X.map((n,u)=>normalize(t(n,u,c))),u=n.map(parentof),l=new Set(n).add("");for(const t of u)l.has(t)||(l.add(t),n.push(t),u.push(parentof(t)),X.push(p));q=(t,u)=>n[u],K=(t,n)=>u[n]}for(g=0,m=X.length;g<m;++g)_=X[g],U=X[g]=new l["Node"](_),null!=(G=q(_,g,c))&&(G+="")&&(W=U.id=G,Y.set(W,Y.has(W)?h:U)),null!=(G=K(_,g,c))&&(G+="")&&(U.parent=G);for(g=0;g<m;++g)if(U=X[g],G=U.parent){if(v=Y.get(G),!v)throw new Error("missing: "+G);if(v===h)throw new Error("ambiguous: "+G);v.children?v.children.push(U):v.children=[U],U.parent=v}else{if(b)throw new Error("multiple roots");b=U}if(!b)throw new Error("no root");if(null!=t){while(b.data===p&&1===b.children.length)b=b.children[0],--m;for(let t=X.length-1;t>=0;--t){if(U=X[t],U.data!==p)break;U.data=null}}if(b.parent=d,b.eachBefore((function(t){t.depth=t.parent.depth+1,--m})).eachBefore(l["computeHeight"]),b.parent=null,m>0)throw new Error("cycle");return b}return stratify.id=function(t){return arguments.length?(n=Object(c["optional"])(t),stratify):n},stratify.parentId=function(t){return arguments.length?(u=Object(c["optional"])(t),stratify):u},stratify.path=function(n){return arguments.length?(t=Object(c["optional"])(n),stratify):t},stratify}},"./node_modules/d3-hierarchy/src/tree.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/hierarchy/index.js");function defaultSeparation(t,n){return t.parent===n.parent?1:2}function nextLeft(t){var n=t.children;return n?n[0]:t.t}function nextRight(t){var n=t.children;return n?n[n.length-1]:t.t}function moveSubtree(t,n,u){var c=u/(n.i-t.i);n.c-=c,n.s+=u,t.c+=c,n.z+=u,n.m+=u}function executeShifts(t){var n,u=0,c=0,l=t.children,d=l.length;while(--d>=0)n=l[d],n.z+=u,n.m+=u,u+=n.s+(c+=n.c)}function nextAncestor(t,n,u){return t.a.parent===n.parent?t.a:u}function TreeNode(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function treeRoot(t){var n,u,c,l,d,h=new TreeNode(t,0),p=[h];while(n=p.pop())if(c=n._.children)for(n.children=new Array(d=c.length),l=d-1;l>=0;--l)p.push(u=n.children[l]=new TreeNode(c[l],l)),u.parent=n;return(h.parent=new TreeNode(null,0)).children=[h],h}TreeNode.prototype=Object.create(c["Node"].prototype),n["default"]=function(){var t=defaultSeparation,n=1,u=1,c=null;function tree(l){var d=treeRoot(l);if(d.eachAfter(firstWalk),d.parent.m=-d.z,d.eachBefore(secondWalk),c)l.eachBefore(sizeNode);else{var h=l,p=l,m=l;l.eachBefore((function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>m.depth&&(m=t)}));var _=h===p?1:t(h,p)/2,g=_-h.x,b=n/(p.x+_+g),v=u/(m.depth||1);l.eachBefore((function(t){t.x=(t.x+g)*b,t.y=t.depth*v}))}return l}function firstWalk(n){var u=n.children,c=n.parent.children,l=n.i?c[n.i-1]:null;if(u){executeShifts(n);var d=(u[0].z+u[u.length-1].z)/2;l?(n.z=l.z+t(n._,l._),n.m=n.z-d):n.z=d}else l&&(n.z=l.z+t(n._,l._));n.parent.A=apportion(n,l,n.parent.A||c[0])}function secondWalk(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function apportion(n,u,c){if(u){var l,d=n,h=n,p=u,m=d.parent.children[0],_=d.m,g=h.m,b=p.m,v=m.m;while(p=nextRight(p),d=nextLeft(d),p&&d)m=nextLeft(m),h=nextRight(h),h.a=n,l=p.z+b-d.z-_+t(p._,d._),l>0&&(moveSubtree(nextAncestor(p,n,c),n,l),_+=l,g+=l),b+=p.m,_+=d.m,v+=m.m,g+=h.m;p&&!nextRight(h)&&(h.t=p,h.m+=b-g),d&&!nextLeft(m)&&(m.t=d,m.m+=_-v,c=n)}return c}function sizeNode(t){t.x*=n,t.y=t.depth*u}return tree.separation=function(n){return arguments.length?(t=n,tree):t},tree.size=function(t){return arguments.length?(c=!1,n=+t[0],u=+t[1],tree):c?null:[n,u]},tree.nodeSize=function(t){return arguments.length?(c=!0,n=+t[0],u=+t[1],tree):c?[n,u]:null},tree}},"./node_modules/d3-hierarchy/src/treemap/binary.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u,c,l){var d,h,p=t.children,m=p.length,_=new Array(m+1);for(_[0]=h=d=0;d<m;++d)_[d+1]=h+=p[d].value;function partition(t,n,u,c,l,d,h){if(t>=n-1){var m=p[t];return m.x0=c,m.y0=l,m.x1=d,void(m.y1=h)}var g=_[t],b=u/2+g,v=t+1,U=n-1;while(v<U){var G=v+U>>>1;_[G]<b?v=G+1:U=G}b-_[v-1]<_[v]-b&&t+1<v&&--v;var W=_[v]-g,X=u-W;if(d-c>h-l){var q=u?(c*X+d*W)/u:d;partition(t,v,W,c,l,q,h),partition(v,n,X,q,l,d,h)}else{var K=u?(l*X+h*W)/u:h;partition(t,v,W,c,l,d,K),partition(v,n,X,c,K,d,h)}}partition(0,m,t.value,n,u,c,l)}},"./node_modules/d3-hierarchy/src/treemap/dice.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u,c,l){var d,h=t.children,p=-1,m=h.length,_=t.value&&(c-n)/t.value;while(++p<m)d=h[p],d.y0=u,d.y1=l,d.x0=n,d.x1=n+=d.value*_}},"./node_modules/d3-hierarchy/src/treemap/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/treemap/round.js"),l=u("./node_modules/d3-hierarchy/src/treemap/squarify.js"),d=u("./node_modules/d3-hierarchy/src/accessors.js"),h=u("./node_modules/d3-hierarchy/src/constant.js");n["default"]=function(){var t=l["default"],n=!1,u=1,p=1,m=[0],_=h["constantZero"],g=h["constantZero"],b=h["constantZero"],v=h["constantZero"],U=h["constantZero"];function treemap(t){return t.x0=t.y0=0,t.x1=u,t.y1=p,t.eachBefore(positionNode),m=[0],n&&t.eachBefore(c["default"]),t}function positionNode(n){var u=m[n.depth],c=n.x0+u,l=n.y0+u,d=n.x1-u,h=n.y1-u;d<c&&(c=d=(c+d)/2),h<l&&(l=h=(l+h)/2),n.x0=c,n.y0=l,n.x1=d,n.y1=h,n.children&&(u=m[n.depth+1]=_(n)/2,c+=U(n)-u,l+=g(n)-u,d-=b(n)-u,h-=v(n)-u,d<c&&(c=d=(c+d)/2),h<l&&(l=h=(l+h)/2),t(n,c,l,d,h))}return treemap.round=function(t){return arguments.length?(n=!!t,treemap):n},treemap.size=function(t){return arguments.length?(u=+t[0],p=+t[1],treemap):[u,p]},treemap.tile=function(n){return arguments.length?(t=Object(d["required"])(n),treemap):t},treemap.padding=function(t){return arguments.length?treemap.paddingInner(t).paddingOuter(t):treemap.paddingInner()},treemap.paddingInner=function(t){return arguments.length?(_="function"===typeof t?t:Object(h["default"])(+t),treemap):_},treemap.paddingOuter=function(t){return arguments.length?treemap.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):treemap.paddingTop()},treemap.paddingTop=function(t){return arguments.length?(g="function"===typeof t?t:Object(h["default"])(+t),treemap):g},treemap.paddingRight=function(t){return arguments.length?(b="function"===typeof t?t:Object(h["default"])(+t),treemap):b},treemap.paddingBottom=function(t){return arguments.length?(v="function"===typeof t?t:Object(h["default"])(+t),treemap):v},treemap.paddingLeft=function(t){return arguments.length?(U="function"===typeof t?t:Object(h["default"])(+t),treemap):U},treemap}},"./node_modules/d3-hierarchy/src/treemap/resquarify.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/treemap/dice.js"),l=u("./node_modules/d3-hierarchy/src/treemap/slice.js"),d=u("./node_modules/d3-hierarchy/src/treemap/squarify.js");n["default"]=function custom(t){function resquarify(n,u,h,p,m){if((_=n._squarify)&&_.ratio===t){var _,g,b,v,U,G=-1,W=_.length,X=n.value;while(++G<W){for(g=_[G],b=g.children,v=g.value=0,U=b.length;v<U;++v)g.value+=b[v].value;g.dice?Object(c["default"])(g,u,h,p,X?h+=(m-h)*g.value/X:m):Object(l["default"])(g,u,h,X?u+=(p-u)*g.value/X:p,m),X-=g.value}}else n._squarify=_=Object(d["squarifyRatio"])(t,n,u,h,p,m),_.ratio=t}return resquarify.ratio=function(t){return custom((t=+t)>1?t:1)},resquarify}(d["phi"])},"./node_modules/d3-hierarchy/src/treemap/round.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},"./node_modules/d3-hierarchy/src/treemap/slice.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u,c,l){var d,h=t.children,p=-1,m=h.length,_=t.value&&(l-u)/t.value;while(++p<m)d=h[p],d.x0=n,d.x1=c,d.y0=u,d.y1=u+=d.value*_}},"./node_modules/d3-hierarchy/src/treemap/sliceDice.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-hierarchy/src/treemap/dice.js"),l=u("./node_modules/d3-hierarchy/src/treemap/slice.js");n["default"]=function(t,n,u,d,h){(1&t.depth?l["default"]:c["default"])(t,n,u,d,h)}},"./node_modules/d3-hierarchy/src/treemap/squarify.js":function(t,n,u){"use strict";u.r(n),u.d(n,"phi",(function(){return d})),u.d(n,"squarifyRatio",(function(){return squarifyRatio}));var c=u("./node_modules/d3-hierarchy/src/treemap/dice.js"),l=u("./node_modules/d3-hierarchy/src/treemap/slice.js"),d=(1+Math.sqrt(5))/2;function squarifyRatio(t,n,u,d,h,p){var m,_,g,b,v,U,G,W,X,q,K,Y=[],Q=n.children,Z=0,$=0,J=Q.length,ee=n.value;while(Z<J){g=h-u,b=p-d;do{v=Q[$++].value}while(!v&&$<J);for(U=G=v,q=Math.max(b/g,g/b)/(ee*t),K=v*v*q,X=Math.max(G/K,K/U);$<J;++$){if(v+=_=Q[$].value,_<U&&(U=_),_>G&&(G=_),K=v*v*q,W=Math.max(G/K,K/U),W>X){v-=_;break}X=W}Y.push(m={value:v,dice:g<b,children:Q.slice(Z,$)}),m.dice?Object(c["default"])(m,u,d,h,ee?d+=b*v/ee:p):Object(l["default"])(m,u,d,ee?u+=g*v/ee:h,p),ee-=v,Z=$}return Y}n["default"]=function custom(t){function squarify(n,u,c,l,d){squarifyRatio(t,n,u,c,l,d)}return squarify.ratio=function(t){return custom((t=+t)>1?t:1)},squarify}(d)},"./node_modules/d3-interpolate/src/array.js":function(t,n,u){"use strict";u.r(n),u.d(n,"genericArray",(function(){return genericArray}));var c=u("./node_modules/d3-interpolate/src/value.js"),l=u("./node_modules/d3-interpolate/src/numberArray.js");function genericArray(t,n){var u,l=n?n.length:0,d=t?Math.min(l,t.length):0,h=new Array(d),p=new Array(l);for(u=0;u<d;++u)h[u]=Object(c["default"])(t[u],n[u]);for(;u<l;++u)p[u]=n[u];return function(t){for(u=0;u<d;++u)p[u]=h[u](t);return p}}n["default"]=function(t,n){return(Object(l["isNumberArray"])(n)?l["default"]:genericArray)(t,n)}},"./node_modules/d3-interpolate/src/basis.js":function(t,n,u){"use strict";function basis(t,n,u,c,l){var d=t*t,h=d*t;return((1-3*t+3*d-h)*n+(4-6*d+3*h)*u+(1+3*t+3*d-3*h)*c+h*l)/6}u.r(n),u.d(n,"basis",(function(){return basis})),n["default"]=function(t){var n=t.length-1;return function(u){var c=u<=0?u=0:u>=1?(u=1,n-1):Math.floor(u*n),l=t[c],d=t[c+1],h=c>0?t[c-1]:2*l-d,p=c<n-1?t[c+2]:2*d-l;return basis((u-c/n)*n,h,l,d,p)}}},"./node_modules/d3-interpolate/src/basisClosed.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/basis.js");n["default"]=function(t){var n=t.length;return function(u){var l=Math.floor(((u%=1)<0?++u:u)*n),d=t[(l+n-1)%n],h=t[l%n],p=t[(l+1)%n],m=t[(l+2)%n];return Object(c["basis"])((u-l/n)*n,d,h,p,m)}}},"./node_modules/d3-interpolate/src/color.js":function(t,n,u){"use strict";u.r(n),u.d(n,"hue",(function(){return hue})),u.d(n,"gamma",(function(){return gamma})),u.d(n,"default",(function(){return nogamma}));var c=u("./node_modules/d3-interpolate/src/constant.js");function linear(t,n){return function(u){return t+u*n}}function exponential(t,n,u){return t=Math.pow(t,u),n=Math.pow(n,u)-t,u=1/u,function(c){return Math.pow(t+c*n,u)}}function hue(t,n){var u=n-t;return u?linear(t,u>180||u<-180?u-360*Math.round(u/360):u):Object(c["default"])(isNaN(t)?n:t)}function gamma(t){return 1===(t=+t)?nogamma:function(n,u){return u-n?exponential(n,u,t):Object(c["default"])(isNaN(n)?u:n)}}function nogamma(t,n){var u=n-t;return u?linear(t,u):Object(c["default"])(isNaN(t)?n:t)}},"./node_modules/d3-interpolate/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=t=>()=>t},"./node_modules/d3-interpolate/src/cubehelix.js":function(t,n,u){"use strict";u.r(n),u.d(n,"cubehelixLong",(function(){return d}));var c=u("./node_modules/d3-color/src/cubehelix.js"),l=u("./node_modules/d3-interpolate/src/color.js");function cubehelix(t){return function cubehelixGamma(n){function cubehelix(u,d){var h=t((u=Object(c["default"])(u)).h,(d=Object(c["default"])(d)).h),p=Object(l["default"])(u.s,d.s),m=Object(l["default"])(u.l,d.l),_=Object(l["default"])(u.opacity,d.opacity);return function(t){return u.h=h(t),u.s=p(t),u.l=m(Math.pow(t,n)),u.opacity=_(t),u+""}}return n=+n,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}n["default"]=cubehelix(l["hue"]);var d=cubehelix(l["default"])},"./node_modules/d3-interpolate/src/date.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){var u=new Date;return t=+t,n=+n,function(c){return u.setTime(t*(1-c)+n*c),u}}},"./node_modules/d3-interpolate/src/discrete.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n=t.length;return function(u){return t[Math.max(0,Math.min(n-1,Math.floor(u*n)))]}}},"./node_modules/d3-interpolate/src/hcl.js":function(t,n,u){"use strict";u.r(n),u.d(n,"hclLong",(function(){return d}));var c=u("./node_modules/d3-color/src/lab.js"),l=u("./node_modules/d3-interpolate/src/color.js");function hcl(t){return function(n,u){var d=t((n=Object(c["hcl"])(n)).h,(u=Object(c["hcl"])(u)).h),h=Object(l["default"])(n.c,u.c),p=Object(l["default"])(n.l,u.l),m=Object(l["default"])(n.opacity,u.opacity);return function(t){return n.h=d(t),n.c=h(t),n.l=p(t),n.opacity=m(t),n+""}}}n["default"]=hcl(l["hue"]);var d=hcl(l["default"])},"./node_modules/d3-interpolate/src/hsl.js":function(t,n,u){"use strict";u.r(n),u.d(n,"hslLong",(function(){return d}));var c=u("./node_modules/d3-color/src/color.js"),l=u("./node_modules/d3-interpolate/src/color.js");function hsl(t){return function(n,u){var d=t((n=Object(c["hsl"])(n)).h,(u=Object(c["hsl"])(u)).h),h=Object(l["default"])(n.s,u.s),p=Object(l["default"])(n.l,u.l),m=Object(l["default"])(n.opacity,u.opacity);return function(t){return n.h=d(t),n.s=h(t),n.l=p(t),n.opacity=m(t),n+""}}}n["default"]=hsl(l["hue"]);var d=hsl(l["default"])},"./node_modules/d3-interpolate/src/hue.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/color.js");n["default"]=function(t,n){var u=Object(c["hue"])(+t,+n);return function(t){var n=u(t);return n-360*Math.floor(n/360)}}},"./node_modules/d3-interpolate/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/value.js");u.d(n,"interpolate",(function(){return c["default"]}));var l=u("./node_modules/d3-interpolate/src/array.js");u.d(n,"interpolateArray",(function(){return l["default"]}));var d=u("./node_modules/d3-interpolate/src/basis.js");u.d(n,"interpolateBasis",(function(){return d["default"]}));var h=u("./node_modules/d3-interpolate/src/basisClosed.js");u.d(n,"interpolateBasisClosed",(function(){return h["default"]}));var p=u("./node_modules/d3-interpolate/src/date.js");u.d(n,"interpolateDate",(function(){return p["default"]}));var m=u("./node_modules/d3-interpolate/src/discrete.js");u.d(n,"interpolateDiscrete",(function(){return m["default"]}));var _=u("./node_modules/d3-interpolate/src/hue.js");u.d(n,"interpolateHue",(function(){return _["default"]}));var g=u("./node_modules/d3-interpolate/src/number.js");u.d(n,"interpolateNumber",(function(){return g["default"]}));var b=u("./node_modules/d3-interpolate/src/numberArray.js");u.d(n,"interpolateNumberArray",(function(){return b["default"]}));var v=u("./node_modules/d3-interpolate/src/object.js");u.d(n,"interpolateObject",(function(){return v["default"]}));var U=u("./node_modules/d3-interpolate/src/round.js");u.d(n,"interpolateRound",(function(){return U["default"]}));var G=u("./node_modules/d3-interpolate/src/string.js");u.d(n,"interpolateString",(function(){return G["default"]}));var W=u("./node_modules/d3-interpolate/src/transform/index.js");u.d(n,"interpolateTransformCss",(function(){return W["interpolateTransformCss"]})),u.d(n,"interpolateTransformSvg",(function(){return W["interpolateTransformSvg"]}));var X=u("./node_modules/d3-interpolate/src/zoom.js");u.d(n,"interpolateZoom",(function(){return X["default"]}));var q=u("./node_modules/d3-interpolate/src/rgb.js");u.d(n,"interpolateRgb",(function(){return q["default"]})),u.d(n,"interpolateRgbBasis",(function(){return q["rgbBasis"]})),u.d(n,"interpolateRgbBasisClosed",(function(){return q["rgbBasisClosed"]}));var K=u("./node_modules/d3-interpolate/src/hsl.js");u.d(n,"interpolateHsl",(function(){return K["default"]})),u.d(n,"interpolateHslLong",(function(){return K["hslLong"]}));var Y=u("./node_modules/d3-interpolate/src/lab.js");u.d(n,"interpolateLab",(function(){return Y["default"]}));var Q=u("./node_modules/d3-interpolate/src/hcl.js");u.d(n,"interpolateHcl",(function(){return Q["default"]})),u.d(n,"interpolateHclLong",(function(){return Q["hclLong"]}));var Z=u("./node_modules/d3-interpolate/src/cubehelix.js");u.d(n,"interpolateCubehelix",(function(){return Z["default"]})),u.d(n,"interpolateCubehelixLong",(function(){return Z["cubehelixLong"]}));var $=u("./node_modules/d3-interpolate/src/piecewise.js");u.d(n,"piecewise",(function(){return $["default"]}));var J=u("./node_modules/d3-interpolate/src/quantize.js");u.d(n,"quantize",(function(){return J["default"]}))},"./node_modules/d3-interpolate/src/lab.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return lab}));var c=u("./node_modules/d3-color/src/lab.js"),l=u("./node_modules/d3-interpolate/src/color.js");function lab(t,n){var u=Object(l["default"])((t=Object(c["default"])(t)).l,(n=Object(c["default"])(n)).l),d=Object(l["default"])(t.a,n.a),h=Object(l["default"])(t.b,n.b),p=Object(l["default"])(t.opacity,n.opacity);return function(n){return t.l=u(n),t.a=d(n),t.b=h(n),t.opacity=p(n),t+""}}},"./node_modules/d3-interpolate/src/number.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return t=+t,n=+n,function(u){return t*(1-u)+n*u}}},"./node_modules/d3-interpolate/src/numberArray.js":function(t,n,u){"use strict";function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}u.r(n),u.d(n,"isNumberArray",(function(){return isNumberArray})),n["default"]=function(t,n){n||(n=[]);var u,c=t?Math.min(n.length,t.length):0,l=n.slice();return function(d){for(u=0;u<c;++u)l[u]=t[u]*(1-d)+n[u]*d;return l}}},"./node_modules/d3-interpolate/src/object.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/value.js");n["default"]=function(t,n){var u,l={},d={};for(u in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)u in t?l[u]=Object(c["default"])(t[u],n[u]):d[u]=n[u];return function(t){for(u in l)d[u]=l[u](t);return d}}},"./node_modules/d3-interpolate/src/piecewise.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return piecewise}));var c=u("./node_modules/d3-interpolate/src/value.js");function piecewise(t,n){void 0===n&&(n=t,t=c["default"]);var u=0,l=n.length-1,d=n[0],h=new Array(l<0?0:l);while(u<l)h[u]=t(d,d=n[++u]);return function(t){var n=Math.max(0,Math.min(l-1,Math.floor(t*=l)));return h[n](t-n)}}},"./node_modules/d3-interpolate/src/quantize.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){for(var u=new Array(n),c=0;c<n;++c)u[c]=t(c/(n-1));return u}},"./node_modules/d3-interpolate/src/rgb.js":function(t,n,u){"use strict";u.r(n),u.d(n,"rgbBasis",(function(){return p})),u.d(n,"rgbBasisClosed",(function(){return m}));var c=u("./node_modules/d3-color/src/color.js"),l=u("./node_modules/d3-interpolate/src/basis.js"),d=u("./node_modules/d3-interpolate/src/basisClosed.js"),h=u("./node_modules/d3-interpolate/src/color.js");function rgbSpline(t){return function(n){var u,l,d=n.length,h=new Array(d),p=new Array(d),m=new Array(d);for(u=0;u<d;++u)l=Object(c["rgb"])(n[u]),h[u]=l.r||0,p[u]=l.g||0,m[u]=l.b||0;return h=t(h),p=t(p),m=t(m),l.opacity=1,function(t){return l.r=h(t),l.g=p(t),l.b=m(t),l+""}}}n["default"]=function rgbGamma(t){var n=Object(h["gamma"])(t);function rgb(t,u){var l=n((t=Object(c["rgb"])(t)).r,(u=Object(c["rgb"])(u)).r),d=n(t.g,u.g),p=n(t.b,u.b),m=Object(h["default"])(t.opacity,u.opacity);return function(n){return t.r=l(n),t.g=d(n),t.b=p(n),t.opacity=m(n),t+""}}return rgb.gamma=rgbGamma,rgb}(1);var p=rgbSpline(l["default"]),m=rgbSpline(d["default"])},"./node_modules/d3-interpolate/src/round.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return t=+t,n=+n,function(u){return Math.round(t*(1-u)+n*u)}}},"./node_modules/d3-interpolate/src/string.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/number.js"),l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d=new RegExp(l.source,"g");function zero(t){return function(){return t}}function one(t){return function(n){return t(n)+""}}n["default"]=function(t,n){var u,h,p,m=l.lastIndex=d.lastIndex=0,_=-1,g=[],b=[];t+="",n+="";while((u=l.exec(t))&&(h=d.exec(n)))(p=h.index)>m&&(p=n.slice(m,p),g[_]?g[_]+=p:g[++_]=p),(u=u[0])===(h=h[0])?g[_]?g[_]+=h:g[++_]=h:(g[++_]=null,b.push({i:_,x:Object(c["default"])(u,h)})),m=d.lastIndex;return m<n.length&&(p=n.slice(m),g[_]?g[_]+=p:g[++_]=p),g.length<2?b[0]?one(b[0].x):zero(n):(n=b.length,function(t){for(var u,c=0;c<n;++c)g[(u=b[c]).i]=u.x(t);return g.join("")})}},"./node_modules/d3-interpolate/src/transform/decompose.js":function(t,n,u){"use strict";u.r(n),u.d(n,"identity",(function(){return l}));var c=180/Math.PI,l={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};n["default"]=function(t,n,u,l,d,h){var p,m,_;return(p=Math.sqrt(t*t+n*n))&&(t/=p,n/=p),(_=t*u+n*l)&&(u-=t*_,l-=n*_),(m=Math.sqrt(u*u+l*l))&&(u/=m,l/=m,_/=m),t*l<n*u&&(t=-t,n=-n,_=-_,p=-p),{translateX:d,translateY:h,rotate:Math.atan2(n,t)*c,skewX:Math.atan(_)*c,scaleX:p,scaleY:m}}},"./node_modules/d3-interpolate/src/transform/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"interpolateTransformCss",(function(){return d})),u.d(n,"interpolateTransformSvg",(function(){return h}));var c=u("./node_modules/d3-interpolate/src/number.js"),l=u("./node_modules/d3-interpolate/src/transform/parse.js");function interpolateTransform(t,n,u,l){function pop(t){return t.length?t.pop()+" ":""}function translate(t,l,d,h,p,m){if(t!==d||l!==h){var _=p.push("translate(",null,n,null,u);m.push({i:_-4,x:Object(c["default"])(t,d)},{i:_-2,x:Object(c["default"])(l,h)})}else(d||h)&&p.push("translate("+d+n+h+u)}function rotate(t,n,u,d){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),d.push({i:u.push(pop(u)+"rotate(",null,l)-2,x:Object(c["default"])(t,n)})):n&&u.push(pop(u)+"rotate("+n+l)}function skewX(t,n,u,d){t!==n?d.push({i:u.push(pop(u)+"skewX(",null,l)-2,x:Object(c["default"])(t,n)}):n&&u.push(pop(u)+"skewX("+n+l)}function scale(t,n,u,l,d,h){if(t!==u||n!==l){var p=d.push(pop(d)+"scale(",null,",",null,")");h.push({i:p-4,x:Object(c["default"])(t,u)},{i:p-2,x:Object(c["default"])(n,l)})}else 1===u&&1===l||d.push(pop(d)+"scale("+u+","+l+")")}return function(n,u){var c=[],l=[];return n=t(n),u=t(u),translate(n.translateX,n.translateY,u.translateX,u.translateY,c,l),rotate(n.rotate,u.rotate,c,l),skewX(n.skewX,u.skewX,c,l),scale(n.scaleX,n.scaleY,u.scaleX,u.scaleY,c,l),n=u=null,function(t){var n,u=-1,d=l.length;while(++u<d)c[(n=l[u]).i]=n.x(t);return c.join("")}}}var d=interpolateTransform(l["parseCss"],"px, ","px)","deg)"),h=interpolateTransform(l["parseSvg"],", ",")",")")},"./node_modules/d3-interpolate/src/transform/parse.js":function(t,n,u){"use strict";u.r(n),u.d(n,"parseCss",(function(){return parseCss})),u.d(n,"parseSvg",(function(){return parseSvg}));var c,l=u("./node_modules/d3-interpolate/src/transform/decompose.js");function parseCss(t){const n=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?l["identity"]:Object(l["default"])(n.a,n.b,n.c,n.d,n.e,n.f)}function parseSvg(t){return null==t?l["identity"]:(c||(c=document.createElementNS("http://www.w3.org/2000/svg","g")),c.setAttribute("transform",t),(t=c.transform.baseVal.consolidate())?(t=t.matrix,Object(l["default"])(t.a,t.b,t.c,t.d,t.e,t.f)):l["identity"])}},"./node_modules/d3-interpolate/src/value.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-color/src/color.js"),l=u("./node_modules/d3-interpolate/src/rgb.js"),d=u("./node_modules/d3-interpolate/src/array.js"),h=u("./node_modules/d3-interpolate/src/date.js"),p=u("./node_modules/d3-interpolate/src/number.js"),m=u("./node_modules/d3-interpolate/src/object.js"),_=u("./node_modules/d3-interpolate/src/string.js"),g=u("./node_modules/d3-interpolate/src/constant.js"),b=u("./node_modules/d3-interpolate/src/numberArray.js");n["default"]=function(t,n){var u,v=typeof n;return null==n||"boolean"===v?Object(g["default"])(n):("number"===v?p["default"]:"string"===v?(u=Object(c["default"])(n))?(n=u,l["default"]):_["default"]:n instanceof c["default"]?l["default"]:n instanceof Date?h["default"]:Object(b["isNumberArray"])(n)?b["default"]:Array.isArray(n)?d["genericArray"]:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?m["default"]:p["default"])(t,n)}},"./node_modules/d3-interpolate/src/zoom.js":function(t,n,u){"use strict";u.r(n);var c=1e-12;function cosh(t){return((t=Math.exp(t))+1/t)/2}function sinh(t){return((t=Math.exp(t))-1/t)/2}function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}n["default"]=function zoomRho(t,n,u){function zoom(l,d){var h,p,m=l[0],_=l[1],g=l[2],b=d[0],v=d[1],U=d[2],G=b-m,W=v-_,X=G*G+W*W;if(X<c)p=Math.log(U/g)/t,h=function(n){return[m+n*G,_+n*W,g*Math.exp(t*n*p)]};else{var q=Math.sqrt(X),K=(U*U-g*g+u*X)/(2*g*n*q),Y=(U*U-g*g-u*X)/(2*U*n*q),Q=Math.log(Math.sqrt(K*K+1)-K),Z=Math.log(Math.sqrt(Y*Y+1)-Y);p=(Z-Q)/t,h=function(u){var c=u*p,l=cosh(Q),d=g/(n*q)*(l*tanh(t*c+Q)-sinh(Q));return[m+d*G,_+d*W,g*l/cosh(t*c+Q)]}}return h.duration=1e3*p*t/Math.SQRT2,h}return zoom.rho=function(t){var n=Math.max(.001,+t),u=n*n,c=u*u;return zoomRho(n,u,c)},zoom}(Math.SQRT2,2,4)},"./node_modules/d3-path/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-path/src/path.js");u.d(n,"path",(function(){return c["default"]}))},"./node_modules/d3-path/src/path.js":function(t,n,u){"use strict";u.r(n);const c=Math.PI,l=2*c,d=1e-6,h=l-d;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,u,c){this._+="Q"+ +t+","+ +n+","+(this._x1=+u)+","+(this._y1=+c)},bezierCurveTo:function(t,n,u,c,l,d){this._+="C"+ +t+","+ +n+","+ +u+","+ +c+","+(this._x1=+l)+","+(this._y1=+d)},arcTo:function(t,n,u,l,h){t=+t,n=+n,u=+u,l=+l,h=+h;var p=this._x1,m=this._y1,_=u-t,g=l-n,b=p-t,v=m-n,U=b*b+v*v;if(h<0)throw new Error("negative radius: "+h);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(U>d)if(Math.abs(v*_-g*b)>d&&h){var G=u-p,W=l-m,X=_*_+g*g,q=G*G+W*W,K=Math.sqrt(X),Y=Math.sqrt(U),Q=h*Math.tan((c-Math.acos((X+U-q)/(2*K*Y)))/2),Z=Q/Y,$=Q/K;Math.abs(Z-1)>d&&(this._+="L"+(t+Z*b)+","+(n+Z*v)),this._+="A"+h+","+h+",0,0,"+ +(v*G>b*W)+","+(this._x1=t+$*_)+","+(this._y1=n+$*g)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,u,p,m,_){t=+t,n=+n,u=+u,_=!!_;var g=u*Math.cos(p),b=u*Math.sin(p),v=t+g,U=n+b,G=1^_,W=_?p-m:m-p;if(u<0)throw new Error("negative radius: "+u);null===this._x1?this._+="M"+v+","+U:(Math.abs(this._x1-v)>d||Math.abs(this._y1-U)>d)&&(this._+="L"+v+","+U),u&&(W<0&&(W=W%l+l),W>h?this._+="A"+u+","+u+",0,1,"+G+","+(t-g)+","+(n-b)+"A"+u+","+u+",0,1,"+G+","+(this._x1=v)+","+(this._y1=U):W>d&&(this._+="A"+u+","+u+",0,"+ +(W>=c)+","+G+","+(this._x1=t+u*Math.cos(m))+","+(this._y1=n+u*Math.sin(m))))},rect:function(t,n,u,c){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +u+"v"+ +c+"h"+-u+"Z"},toString:function(){return this._}},n["default"]=path},"./node_modules/d3-polygon/src/area.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n,u=-1,c=t.length,l=t[c-1],d=0;while(++u<c)n=l,l=t[u],d+=n[1]*l[0]-n[0]*l[1];return d/2}},"./node_modules/d3-polygon/src/centroid.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n,u,c=-1,l=t.length,d=0,h=0,p=t[l-1],m=0;while(++c<l)n=p,p=t[c],m+=u=n[0]*p[1]-p[0]*n[1],d+=(n[0]+p[0])*u,h+=(n[1]+p[1])*u;return m*=3,[d/m,h/m]}},"./node_modules/d3-polygon/src/contains.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){for(var u,c,l=t.length,d=t[l-1],h=n[0],p=n[1],m=d[0],_=d[1],g=!1,b=0;b<l;++b)d=t[b],u=d[0],c=d[1],c>p!==_>p&&h<(m-u)*(p-c)/(_-c)+u&&(g=!g),m=u,_=c;return g}},"./node_modules/d3-polygon/src/cross.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u){return(n[0]-t[0])*(u[1]-t[1])-(n[1]-t[1])*(u[0]-t[0])}},"./node_modules/d3-polygon/src/hull.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-polygon/src/cross.js");function lexicographicOrder(t,n){return t[0]-n[0]||t[1]-n[1]}function computeUpperHullIndexes(t){const n=t.length,u=[0,1];let l,d=2;for(l=2;l<n;++l){while(d>1&&Object(c["default"])(t[u[d-2]],t[u[d-1]],t[l])<=0)--d;u[d++]=l}return u.slice(0,d)}n["default"]=function(t){if((u=t.length)<3)return null;var n,u,c=new Array(u),l=new Array(u);for(n=0;n<u;++n)c[n]=[+t[n][0],+t[n][1],n];for(c.sort(lexicographicOrder),n=0;n<u;++n)l[n]=[c[n][0],-c[n][1]];var d=computeUpperHullIndexes(c),h=computeUpperHullIndexes(l),p=h[0]===d[0],m=h[h.length-1]===d[d.length-1],_=[];for(n=d.length-1;n>=0;--n)_.push(t[c[d[n]][2]]);for(n=+p;n<h.length-m;++n)_.push(t[c[h[n]][2]]);return _}},"./node_modules/d3-polygon/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-polygon/src/area.js");u.d(n,"polygonArea",(function(){return c["default"]}));var l=u("./node_modules/d3-polygon/src/centroid.js");u.d(n,"polygonCentroid",(function(){return l["default"]}));var d=u("./node_modules/d3-polygon/src/hull.js");u.d(n,"polygonHull",(function(){return d["default"]}));var h=u("./node_modules/d3-polygon/src/contains.js");u.d(n,"polygonContains",(function(){return h["default"]}));var p=u("./node_modules/d3-polygon/src/length.js");u.d(n,"polygonLength",(function(){return p["default"]}))},"./node_modules/d3-polygon/src/length.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n,u,c=-1,l=t.length,d=t[l-1],h=d[0],p=d[1],m=0;while(++c<l)n=h,u=p,d=t[c],h=d[0],p=d[1],n-=h,u-=p,m+=Math.hypot(n,u);return m}},"./node_modules/d3-quadtree/src/add.js":function(t,n,u){"use strict";function add(t,n,u,c){if(isNaN(n)||isNaN(u))return t;var l,d,h,p,m,_,g,b,v,U=t._root,G={data:c},W=t._x0,X=t._y0,q=t._x1,K=t._y1;if(!U)return t._root=G,t;while(U.length)if((_=n>=(d=(W+q)/2))?W=d:q=d,(g=u>=(h=(X+K)/2))?X=h:K=h,l=U,!(U=U[b=g<<1|_]))return l[b]=G,t;if(p=+t._x.call(null,U.data),m=+t._y.call(null,U.data),n===p&&u===m)return G.next=U,l?l[b]=G:t._root=G,t;do{l=l?l[b]=new Array(4):t._root=new Array(4),(_=n>=(d=(W+q)/2))?W=d:q=d,(g=u>=(h=(X+K)/2))?X=h:K=h}while((b=g<<1|_)===(v=(m>=h)<<1|p>=d));return l[v]=U,l[b]=G,t}function addAll(t){var n,u,c,l,d=t.length,h=new Array(d),p=new Array(d),m=1/0,_=1/0,g=-1/0,b=-1/0;for(u=0;u<d;++u)isNaN(c=+this._x.call(null,n=t[u]))||isNaN(l=+this._y.call(null,n))||(h[u]=c,p[u]=l,c<m&&(m=c),c>g&&(g=c),l<_&&(_=l),l>b&&(b=l));if(m>g||_>b)return this;for(this.cover(m,_).cover(g,b),u=0;u<d;++u)add(this,h[u],p[u],t[u]);return this}u.r(n),u.d(n,"addAll",(function(){return addAll})),n["default"]=function(t){const n=+this._x.call(null,t),u=+this._y.call(null,t);return add(this.cover(n,u),n,u,t)}},"./node_modules/d3-quadtree/src/cover.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var u=this._x0,c=this._y0,l=this._x1,d=this._y1;if(isNaN(u))l=(u=Math.floor(t))+1,d=(c=Math.floor(n))+1;else{var h,p,m=l-u||1,_=this._root;while(u>t||t>=l||c>n||n>=d)switch(p=(n<c)<<1|t<u,h=new Array(4),h[p]=_,_=h,m*=2,p){case 0:l=u+m,d=c+m;break;case 1:u=l-m,d=c+m;break;case 2:l=u+m,c=d-m;break;case 3:u=l-m,c=d-m;break}this._root&&this._root.length&&(this._root=_)}return this._x0=u,this._y0=c,this._x1=l,this._y1=d,this}},"./node_modules/d3-quadtree/src/data.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t}},"./node_modules/d3-quadtree/src/extent.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},"./node_modules/d3-quadtree/src/find.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-quadtree/src/quad.js");n["default"]=function(t,n,u){var l,d,h,p,m,_,g,b=this._x0,v=this._y0,U=this._x1,G=this._y1,W=[],X=this._root;X&&W.push(new c["default"](X,b,v,U,G)),null==u?u=1/0:(b=t-u,v=n-u,U=t+u,G=n+u,u*=u);while(_=W.pop())if(!(!(X=_.node)||(d=_.x0)>U||(h=_.y0)>G||(p=_.x1)<b||(m=_.y1)<v))if(X.length){var q=(d+p)/2,K=(h+m)/2;W.push(new c["default"](X[3],q,K,p,m),new c["default"](X[2],d,K,q,m),new c["default"](X[1],q,h,p,K),new c["default"](X[0],d,h,q,K)),(g=(n>=K)<<1|t>=q)&&(_=W[W.length-1],W[W.length-1]=W[W.length-1-g],W[W.length-1-g]=_)}else{var Y=t-+this._x.call(null,X.data),Q=n-+this._y.call(null,X.data),Z=Y*Y+Q*Q;if(Z<u){var $=Math.sqrt(u=Z);b=t-$,v=n-$,U=t+$,G=n+$,l=X.data}}return l}},"./node_modules/d3-quadtree/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-quadtree/src/quadtree.js");u.d(n,"quadtree",(function(){return c["default"]}))},"./node_modules/d3-quadtree/src/quad.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u,c,l){this.node=t,this.x0=n,this.y0=u,this.x1=c,this.y1=l}},"./node_modules/d3-quadtree/src/quadtree.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return quadtree}));var c=u("./node_modules/d3-quadtree/src/add.js"),l=u("./node_modules/d3-quadtree/src/cover.js"),d=u("./node_modules/d3-quadtree/src/data.js"),h=u("./node_modules/d3-quadtree/src/extent.js"),p=u("./node_modules/d3-quadtree/src/find.js"),m=u("./node_modules/d3-quadtree/src/remove.js"),_=u("./node_modules/d3-quadtree/src/root.js"),g=u("./node_modules/d3-quadtree/src/size.js"),b=u("./node_modules/d3-quadtree/src/visit.js"),v=u("./node_modules/d3-quadtree/src/visitAfter.js"),U=u("./node_modules/d3-quadtree/src/x.js"),G=u("./node_modules/d3-quadtree/src/y.js");function quadtree(t,n,u){var c=new Quadtree(null==n?U["defaultX"]:n,null==u?G["defaultY"]:u,NaN,NaN,NaN,NaN);return null==t?c:c.addAll(t)}function Quadtree(t,n,u,c,l,d){this._x=t,this._y=n,this._x0=u,this._y0=c,this._x1=l,this._y1=d,this._root=void 0}function leaf_copy(t){var n={data:t.data},u=n;while(t=t.next)u=u.next={data:t.data};return n}var W=quadtree.prototype=Quadtree.prototype;W.copy=function(){var t,n,u=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),c=this._root;if(!c)return u;if(!c.length)return u._root=leaf_copy(c),u;t=[{source:c,target:u._root=new Array(4)}];while(c=t.pop())for(var l=0;l<4;++l)(n=c.source[l])&&(n.length?t.push({source:n,target:c.target[l]=new Array(4)}):c.target[l]=leaf_copy(n));return u},W.add=c["default"],W.addAll=c["addAll"],W.cover=l["default"],W.data=d["default"],W.extent=h["default"],W.find=p["default"],W.remove=m["default"],W.removeAll=m["removeAll"],W.root=_["default"],W.size=g["default"],W.visit=b["default"],W.visitAfter=v["default"],W.x=U["default"],W.y=G["default"]},"./node_modules/d3-quadtree/src/remove.js":function(t,n,u){"use strict";function removeAll(t){for(var n=0,u=t.length;n<u;++n)this.remove(t[n]);return this}u.r(n),u.d(n,"removeAll",(function(){return removeAll})),n["default"]=function(t){if(isNaN(d=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var n,u,c,l,d,h,p,m,_,g,b,v,U=this._root,G=this._x0,W=this._y0,X=this._x1,q=this._y1;if(!U)return this;if(U.length)while(1){if((_=d>=(p=(G+X)/2))?G=p:X=p,(g=h>=(m=(W+q)/2))?W=m:q=m,n=U,!(U=U[b=g<<1|_]))return this;if(!U.length)break;(n[b+1&3]||n[b+2&3]||n[b+3&3])&&(u=n,v=b)}while(U.data!==t)if(c=U,!(U=U.next))return this;return(l=U.next)&&delete U.next,c?(l?c.next=l:delete c.next,this):n?(l?n[b]=l:delete n[b],(U=n[0]||n[1]||n[2]||n[3])&&U===(n[3]||n[2]||n[1]||n[0])&&!U.length&&(u?u[v]=U:this._root=U),this):(this._root=l,this)}},"./node_modules/d3-quadtree/src/root.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){return this._root}},"./node_modules/d3-quadtree/src/size.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t}},"./node_modules/d3-quadtree/src/visit.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-quadtree/src/quad.js");n["default"]=function(t){var n,u,l,d,h,p,m=[],_=this._root;_&&m.push(new c["default"](_,this._x0,this._y0,this._x1,this._y1));while(n=m.pop())if(!t(_=n.node,l=n.x0,d=n.y0,h=n.x1,p=n.y1)&&_.length){var g=(l+h)/2,b=(d+p)/2;(u=_[3])&&m.push(new c["default"](u,g,b,h,p)),(u=_[2])&&m.push(new c["default"](u,l,b,g,p)),(u=_[1])&&m.push(new c["default"](u,g,d,h,b)),(u=_[0])&&m.push(new c["default"](u,l,d,g,b))}return this}},"./node_modules/d3-quadtree/src/visitAfter.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-quadtree/src/quad.js");n["default"]=function(t){var n,u=[],l=[];this._root&&u.push(new c["default"](this._root,this._x0,this._y0,this._x1,this._y1));while(n=u.pop()){var d=n.node;if(d.length){var h,p=n.x0,m=n.y0,_=n.x1,g=n.y1,b=(p+_)/2,v=(m+g)/2;(h=d[0])&&u.push(new c["default"](h,p,m,b,v)),(h=d[1])&&u.push(new c["default"](h,b,m,_,v)),(h=d[2])&&u.push(new c["default"](h,p,v,b,g)),(h=d[3])&&u.push(new c["default"](h,b,v,_,g))}l.push(n)}while(n=l.pop())t(n.node,n.x0,n.y0,n.x1,n.y1);return this}},"./node_modules/d3-quadtree/src/x.js":function(t,n,u){"use strict";function defaultX(t){return t[0]}u.r(n),u.d(n,"defaultX",(function(){return defaultX})),n["default"]=function(t){return arguments.length?(this._x=t,this):this._x}},"./node_modules/d3-quadtree/src/y.js":function(t,n,u){"use strict";function defaultY(t){return t[1]}u.r(n),u.d(n,"defaultY",(function(){return defaultY})),n["default"]=function(t){return arguments.length?(this._y=t,this):this._y}},"./node_modules/d3-random/src/bates.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js"),l=u("./node_modules/d3-random/src/irwinHall.js");n["default"]=function sourceRandomBates(t){var n=l["default"].source(t);function randomBates(u){if(0===(u=+u))return t;var c=n(u);return function(){return c()/u}}return randomBates.source=sourceRandomBates,randomBates}(c["default"])},"./node_modules/d3-random/src/bernoulli.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomBernoulli(t){function randomBernoulli(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+n)}}return randomBernoulli.source=sourceRandomBernoulli,randomBernoulli}(c["default"])},"./node_modules/d3-random/src/beta.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js"),l=u("./node_modules/d3-random/src/gamma.js");n["default"]=function sourceRandomBeta(t){var n=l["default"].source(t);function randomBeta(t,u){var c=n(t),l=n(u);return function(){var t=c();return 0===t?0:t/(t+l())}}return randomBeta.source=sourceRandomBeta,randomBeta}(c["default"])},"./node_modules/d3-random/src/binomial.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js"),l=u("./node_modules/d3-random/src/beta.js"),d=u("./node_modules/d3-random/src/geometric.js");n["default"]=function sourceRandomBinomial(t){var n=d["default"].source(t),u=l["default"].source(t);function randomBinomial(t,c){return t=+t,(c=+c)>=1?()=>t:c<=0?()=>0:function(){var l=0,d=t,h=c;while(d*h>16&&d*(1-h)>16){var p=Math.floor((d+1)*h),m=u(p,d-p+1)();m<=h?(l+=p,d-=p,h=(h-m)/(1-m)):(d=p-1,h/=m)}for(var _=h<.5,g=_?h:1-h,b=n(g),v=b(),U=0;v<=d;++U)v+=b();return l+(_?U:d-U)}}return randomBinomial.source=sourceRandomBinomial,randomBinomial}(c["default"])},"./node_modules/d3-random/src/cauchy.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomCauchy(t){function randomCauchy(n,u){return n=null==n?0:+n,u=null==u?1:+u,function(){return n+u*Math.tan(Math.PI*t())}}return randomCauchy.source=sourceRandomCauchy,randomCauchy}(c["default"])},"./node_modules/d3-random/src/defaultSource.js":function(t,n,u){"use strict";u.r(n),n["default"]=Math.random},"./node_modules/d3-random/src/exponential.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomExponential(t){function randomExponential(n){return function(){return-Math.log1p(-t())/n}}return randomExponential.source=sourceRandomExponential,randomExponential}(c["default"])},"./node_modules/d3-random/src/gamma.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js"),l=u("./node_modules/d3-random/src/normal.js");n["default"]=function sourceRandomGamma(t){var n=l["default"].source(t)();function randomGamma(u,c){if((u=+u)<0)throw new RangeError("invalid k");if(0===u)return()=>0;if(c=null==c?1:+c,1===u)return()=>-Math.log1p(-t())*c;var l=(u<1?u+1:u)-1/3,d=1/(3*Math.sqrt(l)),h=u<1?()=>Math.pow(t(),1/u):()=>1;return function(){do{do{var u=n(),p=1+d*u}while(p<=0);p*=p*p;var m=1-t()}while(m>=1-.0331*u*u*u*u&&Math.log(m)>=.5*u*u+l*(1-p+Math.log(p)));return l*p*h()*c}}return randomGamma.source=sourceRandomGamma,randomGamma}(c["default"])},"./node_modules/d3-random/src/geometric.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomGeometric(t){function randomGeometric(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return 0===n?()=>1/0:1===n?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-t())/n)})}return randomGeometric.source=sourceRandomGeometric,randomGeometric}(c["default"])},"./node_modules/d3-random/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/uniform.js");u.d(n,"randomUniform",(function(){return c["default"]}));var l=u("./node_modules/d3-random/src/int.js");u.d(n,"randomInt",(function(){return l["default"]}));var d=u("./node_modules/d3-random/src/normal.js");u.d(n,"randomNormal",(function(){return d["default"]}));var h=u("./node_modules/d3-random/src/logNormal.js");u.d(n,"randomLogNormal",(function(){return h["default"]}));var p=u("./node_modules/d3-random/src/bates.js");u.d(n,"randomBates",(function(){return p["default"]}));var m=u("./node_modules/d3-random/src/irwinHall.js");u.d(n,"randomIrwinHall",(function(){return m["default"]}));var _=u("./node_modules/d3-random/src/exponential.js");u.d(n,"randomExponential",(function(){return _["default"]}));var g=u("./node_modules/d3-random/src/pareto.js");u.d(n,"randomPareto",(function(){return g["default"]}));var b=u("./node_modules/d3-random/src/bernoulli.js");u.d(n,"randomBernoulli",(function(){return b["default"]}));var v=u("./node_modules/d3-random/src/geometric.js");u.d(n,"randomGeometric",(function(){return v["default"]}));var U=u("./node_modules/d3-random/src/binomial.js");u.d(n,"randomBinomial",(function(){return U["default"]}));var G=u("./node_modules/d3-random/src/gamma.js");u.d(n,"randomGamma",(function(){return G["default"]}));var W=u("./node_modules/d3-random/src/beta.js");u.d(n,"randomBeta",(function(){return W["default"]}));var X=u("./node_modules/d3-random/src/weibull.js");u.d(n,"randomWeibull",(function(){return X["default"]}));var q=u("./node_modules/d3-random/src/cauchy.js");u.d(n,"randomCauchy",(function(){return q["default"]}));var K=u("./node_modules/d3-random/src/logistic.js");u.d(n,"randomLogistic",(function(){return K["default"]}));var Y=u("./node_modules/d3-random/src/poisson.js");u.d(n,"randomPoisson",(function(){return Y["default"]}));var Q=u("./node_modules/d3-random/src/lcg.js");u.d(n,"randomLcg",(function(){return Q["default"]}))},"./node_modules/d3-random/src/int.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomInt(t){function randomInt(n,u){return arguments.length<2&&(u=n,n=0),n=Math.floor(n),u=Math.floor(u)-n,function(){return Math.floor(t()*u+n)}}return randomInt.source=sourceRandomInt,randomInt}(c["default"])},"./node_modules/d3-random/src/irwinHall.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomIrwinHall(t){function randomIrwinHall(n){return(n=+n)<=0?()=>0:function(){for(var u=0,c=n;c>1;--c)u+=t();return u+c*t()}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(c["default"])},"./node_modules/d3-random/src/lcg.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return lcg}));const c=1664525,l=1013904223,d=1/4294967296;function lcg(t=Math.random()){let n=0|(0<=t&&t<1?t/d:Math.abs(t));return()=>(n=c*n+l|0,d*(n>>>0))}},"./node_modules/d3-random/src/logNormal.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js"),l=u("./node_modules/d3-random/src/normal.js");n["default"]=function sourceRandomLogNormal(t){var n=l["default"].source(t);function randomLogNormal(){var t=n.apply(this,arguments);return function(){return Math.exp(t())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(c["default"])},"./node_modules/d3-random/src/logistic.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomLogistic(t){function randomLogistic(n,u){return n=null==n?0:+n,u=null==u?1:+u,function(){var c=t();return n+u*Math.log(c/(1-c))}}return randomLogistic.source=sourceRandomLogistic,randomLogistic}(c["default"])},"./node_modules/d3-random/src/normal.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomNormal(t){function randomNormal(n,u){var c,l;return n=null==n?0:+n,u=null==u?1:+u,function(){var d;if(null!=c)d=c,c=null;else do{c=2*t()-1,d=2*t()-1,l=c*c+d*d}while(!l||l>1);return n+u*d*Math.sqrt(-2*Math.log(l)/l)}}return randomNormal.source=sourceRandomNormal,randomNormal}(c["default"])},"./node_modules/d3-random/src/pareto.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomPareto(t){function randomPareto(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-t(),n)}}return randomPareto.source=sourceRandomPareto,randomPareto}(c["default"])},"./node_modules/d3-random/src/poisson.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js"),l=u("./node_modules/d3-random/src/binomial.js"),d=u("./node_modules/d3-random/src/gamma.js");n["default"]=function sourceRandomPoisson(t){var n=d["default"].source(t),u=l["default"].source(t);function randomPoisson(c){return function(){var l=0,d=c;while(d>16){var h=Math.floor(.875*d),p=n(h)();if(p>d)return l+u(h-1,d/p)();l+=h,d-=p}for(var m=-Math.log1p(-t()),_=0;m<=d;++_)m-=Math.log1p(-t());return l+_}}return randomPoisson.source=sourceRandomPoisson,randomPoisson}(c["default"])},"./node_modules/d3-random/src/uniform.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomUniform(t){function randomUniform(n,u){return n=null==n?0:+n,u=null==u?1:+u,1===arguments.length?(u=n,n=0):u-=n,function(){return t()*u+n}}return randomUniform.source=sourceRandomUniform,randomUniform}(c["default"])},"./node_modules/d3-random/src/weibull.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-random/src/defaultSource.js");n["default"]=function sourceRandomWeibull(t){function randomWeibull(n,u,c){var l;return 0===(n=+n)?l=t=>-Math.log(t):(n=1/n,l=t=>Math.pow(t,n)),u=null==u?0:+u,c=null==c?1:+c,function(){return u+c*l(-Math.log1p(-t()))}}return randomWeibull.source=sourceRandomWeibull,randomWeibull}(c["default"])},"./node_modules/d3-scale-chromatic/src/categorical/Accent.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")},"./node_modules/d3-scale-chromatic/src/categorical/Dark2.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")},"./node_modules/d3-scale-chromatic/src/categorical/Paired.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")},"./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")},"./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")},"./node_modules/d3-scale-chromatic/src/categorical/Set1.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")},"./node_modules/d3-scale-chromatic/src/categorical/Set2.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")},"./node_modules/d3-scale-chromatic/src/categorical/Set3.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")},"./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")},"./node_modules/d3-scale-chromatic/src/categorical/category10.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/colors.js");n["default"]=Object(c["default"])("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},"./node_modules/d3-scale-chromatic/src/colors.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n=t.length/6|0,u=new Array(n),c=0;while(c<n)u[c]="#"+t.slice(6*c,6*++c);return u}},"./node_modules/d3-scale-chromatic/src/diverging/BrBG.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/PRGn.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/PiYG.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/PuOr.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/RdBu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/RdGy.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/diverging/Spectral.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale-chromatic/src/categorical/category10.js");u.d(n,"schemeCategory10",(function(){return c["default"]}));var l=u("./node_modules/d3-scale-chromatic/src/categorical/Accent.js");u.d(n,"schemeAccent",(function(){return l["default"]}));var d=u("./node_modules/d3-scale-chromatic/src/categorical/Dark2.js");u.d(n,"schemeDark2",(function(){return d["default"]}));var h=u("./node_modules/d3-scale-chromatic/src/categorical/Paired.js");u.d(n,"schemePaired",(function(){return h["default"]}));var p=u("./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js");u.d(n,"schemePastel1",(function(){return p["default"]}));var m=u("./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js");u.d(n,"schemePastel2",(function(){return m["default"]}));var _=u("./node_modules/d3-scale-chromatic/src/categorical/Set1.js");u.d(n,"schemeSet1",(function(){return _["default"]}));var g=u("./node_modules/d3-scale-chromatic/src/categorical/Set2.js");u.d(n,"schemeSet2",(function(){return g["default"]}));var b=u("./node_modules/d3-scale-chromatic/src/categorical/Set3.js");u.d(n,"schemeSet3",(function(){return b["default"]}));var v=u("./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js");u.d(n,"schemeTableau10",(function(){return v["default"]}));var U=u("./node_modules/d3-scale-chromatic/src/diverging/BrBG.js");u.d(n,"interpolateBrBG",(function(){return U["default"]})),u.d(n,"schemeBrBG",(function(){return U["scheme"]}));var G=u("./node_modules/d3-scale-chromatic/src/diverging/PRGn.js");u.d(n,"interpolatePRGn",(function(){return G["default"]})),u.d(n,"schemePRGn",(function(){return G["scheme"]}));var W=u("./node_modules/d3-scale-chromatic/src/diverging/PiYG.js");u.d(n,"interpolatePiYG",(function(){return W["default"]})),u.d(n,"schemePiYG",(function(){return W["scheme"]}));var X=u("./node_modules/d3-scale-chromatic/src/diverging/PuOr.js");u.d(n,"interpolatePuOr",(function(){return X["default"]})),u.d(n,"schemePuOr",(function(){return X["scheme"]}));var q=u("./node_modules/d3-scale-chromatic/src/diverging/RdBu.js");u.d(n,"interpolateRdBu",(function(){return q["default"]})),u.d(n,"schemeRdBu",(function(){return q["scheme"]}));var K=u("./node_modules/d3-scale-chromatic/src/diverging/RdGy.js");u.d(n,"interpolateRdGy",(function(){return K["default"]})),u.d(n,"schemeRdGy",(function(){return K["scheme"]}));var Y=u("./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js");u.d(n,"interpolateRdYlBu",(function(){return Y["default"]})),u.d(n,"schemeRdYlBu",(function(){return Y["scheme"]}));var Q=u("./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js");u.d(n,"interpolateRdYlGn",(function(){return Q["default"]})),u.d(n,"schemeRdYlGn",(function(){return Q["scheme"]}));var Z=u("./node_modules/d3-scale-chromatic/src/diverging/Spectral.js");u.d(n,"interpolateSpectral",(function(){return Z["default"]})),u.d(n,"schemeSpectral",(function(){return Z["scheme"]}));var $=u("./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js");u.d(n,"interpolateBuGn",(function(){return $["default"]})),u.d(n,"schemeBuGn",(function(){return $["scheme"]}));var J=u("./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js");u.d(n,"interpolateBuPu",(function(){return J["default"]})),u.d(n,"schemeBuPu",(function(){return J["scheme"]}));var ee=u("./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js");u.d(n,"interpolateGnBu",(function(){return ee["default"]})),u.d(n,"schemeGnBu",(function(){return ee["scheme"]}));var te=u("./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js");u.d(n,"interpolateOrRd",(function(){return te["default"]})),u.d(n,"schemeOrRd",(function(){return te["scheme"]}));var re=u("./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js");u.d(n,"interpolatePuBuGn",(function(){return re["default"]})),u.d(n,"schemePuBuGn",(function(){return re["scheme"]}));var ne=u("./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js");u.d(n,"interpolatePuBu",(function(){return ne["default"]})),u.d(n,"schemePuBu",(function(){return ne["scheme"]}));var ie=u("./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js");u.d(n,"interpolatePuRd",(function(){return ie["default"]})),u.d(n,"schemePuRd",(function(){return ie["scheme"]}));var oe=u("./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js");u.d(n,"interpolateRdPu",(function(){return oe["default"]})),u.d(n,"schemeRdPu",(function(){return oe["scheme"]}));var se=u("./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js");u.d(n,"interpolateYlGnBu",(function(){return se["default"]})),u.d(n,"schemeYlGnBu",(function(){return se["scheme"]}));var ae=u("./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js");u.d(n,"interpolateYlGn",(function(){return ae["default"]})),u.d(n,"schemeYlGn",(function(){return ae["scheme"]}));var ue=u("./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js");u.d(n,"interpolateYlOrBr",(function(){return ue["default"]})),u.d(n,"schemeYlOrBr",(function(){return ue["scheme"]}));var ce=u("./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js");u.d(n,"interpolateYlOrRd",(function(){return ce["default"]})),u.d(n,"schemeYlOrRd",(function(){return ce["scheme"]}));var le=u("./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js");u.d(n,"interpolateBlues",(function(){return le["default"]})),u.d(n,"schemeBlues",(function(){return le["scheme"]}));var de=u("./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js");u.d(n,"interpolateGreens",(function(){return de["default"]})),u.d(n,"schemeGreens",(function(){return de["scheme"]}));var he=u("./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js");u.d(n,"interpolateGreys",(function(){return he["default"]})),u.d(n,"schemeGreys",(function(){return he["scheme"]}));var fe=u("./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js");u.d(n,"interpolatePurples",(function(){return fe["default"]})),u.d(n,"schemePurples",(function(){return fe["scheme"]}));var pe=u("./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js");u.d(n,"interpolateReds",(function(){return pe["default"]})),u.d(n,"schemeReds",(function(){return pe["scheme"]}));var me=u("./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js");u.d(n,"interpolateOranges",(function(){return me["default"]})),u.d(n,"schemeOranges",(function(){return me["scheme"]}));var _e=u("./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js");u.d(n,"interpolateCividis",(function(){return _e["default"]}));var ge=u("./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js");u.d(n,"interpolateCubehelixDefault",(function(){return ge["default"]}));var be=u("./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js");u.d(n,"interpolateRainbow",(function(){return be["default"]})),u.d(n,"interpolateWarm",(function(){return be["warm"]})),u.d(n,"interpolateCool",(function(){return be["cool"]}));var ve=u("./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js");u.d(n,"interpolateSinebow",(function(){return ve["default"]}));var ye=u("./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js");u.d(n,"interpolateTurbo",(function(){return ye["default"]}));var xe=u("./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js");u.d(n,"interpolateViridis",(function(){return xe["default"]})),u.d(n,"interpolateMagma",(function(){return xe["magma"]})),u.d(n,"interpolateInferno",(function(){return xe["inferno"]})),u.d(n,"interpolatePlasma",(function(){return xe["plasma"]}))},"./node_modules/d3-scale-chromatic/src/ramp.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/rgb.js");n["default"]=t=>Object(c["rgbBasis"])(t[t.length-1])},"./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}},"./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-color/src/cubehelix.js"),l=u("./node_modules/d3-interpolate/src/cubehelix.js");n["default"]=Object(l["cubehelixLong"])(Object(c["default"])(300,.5,0),Object(c["default"])(-240,.5,1))},"./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js":function(t,n,u){"use strict";u.r(n),u.d(n,"warm",(function(){return d})),u.d(n,"cool",(function(){return h}));var c=u("./node_modules/d3-color/src/cubehelix.js"),l=u("./node_modules/d3-interpolate/src/cubehelix.js"),d=Object(l["cubehelixLong"])(Object(c["default"])(-100,.75,.35),Object(c["default"])(80,1.5,.8)),h=Object(l["cubehelixLong"])(Object(c["default"])(260,.75,.35),Object(c["default"])(80,1.5,.8)),p=Object(c["default"])();n["default"]=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return p.h=360*t-100,p.s=1.5-1.5*n,p.l=.8-.9*n,p+""}},"./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-color/src/color.js"),l=Object(c["rgb"])(),d=Math.PI/3,h=2*Math.PI/3;n["default"]=function(t){var n;return t=(.5-t)*Math.PI,l.r=255*(n=Math.sin(t))*n,l.g=255*(n=Math.sin(t+d))*n,l.b=255*(n=Math.sin(t+h))*n,l+""}},"./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}},"./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js":function(t,n,u){"use strict";u.r(n),u.d(n,"magma",(function(){return l})),u.d(n,"inferno",(function(){return d})),u.d(n,"plasma",(function(){return h}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js");function ramp(t){var n=t.length;return function(u){return t[Math.max(0,Math.min(n-1,Math.floor(u*n)))]}}n["default"]=ramp(Object(c["default"])("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var l=ramp(Object(c["default"])("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),d=ramp(Object(c["default"])("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),h=ramp(Object(c["default"])("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},"./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js":function(t,n,u){"use strict";u.r(n),u.d(n,"scheme",(function(){return d}));var c=u("./node_modules/d3-scale-chromatic/src/colors.js"),l=u("./node_modules/d3-scale-chromatic/src/ramp.js"),d=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(c["default"]);n["default"]=Object(l["default"])(d)},"./node_modules/d3-scale/src/band.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return band})),u.d(n,"point",(function(){return point}));var c=u("./node_modules/d3-array/src/range.js"),l=u("./node_modules/d3-scale/src/init.js"),d=u("./node_modules/d3-scale/src/ordinal.js");function band(){var t,n,u=Object(d["default"])().unknown(void 0),h=u.domain,p=u.range,m=0,_=1,g=!1,b=0,v=0,U=.5;function rescale(){var u=h().length,l=_<m,d=l?_:m,G=l?m:_;t=(G-d)/Math.max(1,u-b+2*v),g&&(t=Math.floor(t)),d+=(G-d-t*(u-b))*U,n=t*(1-b),g&&(d=Math.round(d),n=Math.round(n));var W=Object(c["default"])(u).map((function(n){return d+t*n}));return p(l?W.reverse():W)}return delete u.unknown,u.domain=function(t){return arguments.length?(h(t),rescale()):h()},u.range=function(t){return arguments.length?([m,_]=t,m=+m,_=+_,rescale()):[m,_]},u.rangeRound=function(t){return[m,_]=t,m=+m,_=+_,g=!0,rescale()},u.bandwidth=function(){return n},u.step=function(){return t},u.round=function(t){return arguments.length?(g=!!t,rescale()):g},u.padding=function(t){return arguments.length?(b=Math.min(1,v=+t),rescale()):b},u.paddingInner=function(t){return arguments.length?(b=Math.min(1,t),rescale()):b},u.paddingOuter=function(t){return arguments.length?(v=+t,rescale()):v},u.align=function(t){return arguments.length?(U=Math.max(0,Math.min(1,t)),rescale()):U},u.copy=function(){return band(h(),[m,_]).round(g).paddingInner(b).paddingOuter(v).align(U)},l["initRange"].apply(rescale(),arguments)}function pointish(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(n())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}},"./node_modules/d3-scale/src/constant.js":function(t,n,u){"use strict";function constants(t){return function(){return t}}u.r(n),u.d(n,"default",(function(){return constants}))},"./node_modules/d3-scale/src/continuous.js":function(t,n,u){"use strict";u.r(n),u.d(n,"identity",(function(){return identity})),u.d(n,"copy",(function(){return copy})),u.d(n,"transformer",(function(){return transformer})),u.d(n,"default",(function(){return continuous}));var c=u("./node_modules/d3-array/src/bisect.js"),l=u("./node_modules/d3-interpolate/src/value.js"),d=u("./node_modules/d3-interpolate/src/number.js"),h=u("./node_modules/d3-interpolate/src/round.js"),p=u("./node_modules/d3-scale/src/constant.js"),m=u("./node_modules/d3-scale/src/number.js"),_=[0,1];function identity(t){return t}function normalize(t,n){return(n-=t=+t)?function(u){return(u-t)/n}:Object(p["default"])(isNaN(n)?NaN:.5)}function clamper(t,n){var u;return t>n&&(u=t,t=n,n=u),function(u){return Math.max(t,Math.min(n,u))}}function bimap(t,n,u){var c=t[0],l=t[1],d=n[0],h=n[1];return l<c?(c=normalize(l,c),d=u(h,d)):(c=normalize(c,l),d=u(d,h)),function(t){return d(c(t))}}function polymap(t,n,u){var l=Math.min(t.length,n.length)-1,d=new Array(l),h=new Array(l),p=-1;t[l]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++p<l)d[p]=normalize(t[p],t[p+1]),h[p]=u(n[p],n[p+1]);return function(n){var u=Object(c["default"])(t,n,1,l)-1;return h[u](d[u](n))}}function copy(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer(){var t,n,u,c,p,g,b=_,v=_,U=l["default"],G=identity;function rescale(){var t=Math.min(b.length,v.length);return G!==identity&&(G=clamper(b[0],b[t-1])),c=t>2?polymap:bimap,p=g=null,scale}function scale(n){return null==n||isNaN(n=+n)?u:(p||(p=c(b.map(t),v,U)))(t(G(n)))}return scale.invert=function(u){return G(n((g||(g=c(v,b.map(t),d["default"])))(u)))},scale.domain=function(t){return arguments.length?(b=Array.from(t,m["default"]),rescale()):b.slice()},scale.range=function(t){return arguments.length?(v=Array.from(t),rescale()):v.slice()},scale.rangeRound=function(t){return v=Array.from(t),U=h["default"],rescale()},scale.clamp=function(t){return arguments.length?(G=!!t||identity,rescale()):G!==identity},scale.interpolate=function(t){return arguments.length?(U=t,rescale()):U},scale.unknown=function(t){return arguments.length?(u=t,scale):u},function(u,c){return t=u,n=c,rescale()}}function continuous(){return transformer()(identity,identity)}},"./node_modules/d3-scale/src/diverging.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return diverging})),u.d(n,"divergingLog",(function(){return divergingLog})),u.d(n,"divergingSymlog",(function(){return divergingSymlog})),u.d(n,"divergingPow",(function(){return divergingPow})),u.d(n,"divergingSqrt",(function(){return divergingSqrt}));var c=u("./node_modules/d3-interpolate/src/piecewise.js"),l=u("./node_modules/d3-interpolate/src/value.js"),d=u("./node_modules/d3-interpolate/src/round.js"),h=u("./node_modules/d3-scale/src/continuous.js"),p=u("./node_modules/d3-scale/src/init.js"),m=u("./node_modules/d3-scale/src/linear.js"),_=u("./node_modules/d3-scale/src/log.js"),g=u("./node_modules/d3-scale/src/sequential.js"),b=u("./node_modules/d3-scale/src/symlog.js"),v=u("./node_modules/d3-scale/src/pow.js");function transformer(){var t,n,u,p,m,_,g,b=0,v=.5,U=1,G=1,W=h["identity"],X=!1;function scale(t){return isNaN(t=+t)?g:(t=.5+((t=+_(t))-n)*(G*t<G*n?p:m),W(X?Math.max(0,Math.min(1,t)):t))}function range(t){return function(n){var u,l,d;return arguments.length?([u,l,d]=n,W=Object(c["default"])(t,[u,l,d]),scale):[W(0),W(.5),W(1)]}}return scale.domain=function(c){return arguments.length?([b,v,U]=c,t=_(b=+b),n=_(v=+v),u=_(U=+U),p=t===n?0:.5/(n-t),m=n===u?0:.5/(u-n),G=n<t?-1:1,scale):[b,v,U]},scale.clamp=function(t){return arguments.length?(X=!!t,scale):X},scale.interpolator=function(t){return arguments.length?(W=t,scale):W},scale.range=range(l["default"]),scale.rangeRound=range(d["default"]),scale.unknown=function(t){return arguments.length?(g=t,scale):g},function(c){return _=c,t=c(b),n=c(v),u=c(U),p=t===n?0:.5/(n-t),m=n===u?0:.5/(u-n),G=n<t?-1:1,scale}}function diverging(){var t=Object(m["linearish"])(transformer()(h["identity"]));return t.copy=function(){return Object(g["copy"])(t,diverging())},p["initInterpolator"].apply(t,arguments)}function divergingLog(){var t=Object(_["loggish"])(transformer()).domain([.1,1,10]);return t.copy=function(){return Object(g["copy"])(t,divergingLog()).base(t.base())},p["initInterpolator"].apply(t,arguments)}function divergingSymlog(){var t=Object(b["symlogish"])(transformer());return t.copy=function(){return Object(g["copy"])(t,divergingSymlog()).constant(t.constant())},p["initInterpolator"].apply(t,arguments)}function divergingPow(){var t=Object(v["powish"])(transformer());return t.copy=function(){return Object(g["copy"])(t,divergingPow()).exponent(t.exponent())},p["initInterpolator"].apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}},"./node_modules/d3-scale/src/identity.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return identity}));var c=u("./node_modules/d3-scale/src/linear.js"),l=u("./node_modules/d3-scale/src/number.js");function identity(t){var n;function scale(t){return null==t||isNaN(t=+t)?n:t}return scale.invert=scale,scale.domain=scale.range=function(n){return arguments.length?(t=Array.from(n,l["default"]),scale):t.slice()},scale.unknown=function(t){return arguments.length?(n=t,scale):n},scale.copy=function(){return identity(t).unknown(n)},t=arguments.length?Array.from(t,l["default"]):[0,1],Object(c["linearish"])(scale)}},"./node_modules/d3-scale/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-scale/src/band.js");u.d(n,"scaleBand",(function(){return c["default"]})),u.d(n,"scalePoint",(function(){return c["point"]}));var l=u("./node_modules/d3-scale/src/identity.js");u.d(n,"scaleIdentity",(function(){return l["default"]}));var d=u("./node_modules/d3-scale/src/linear.js");u.d(n,"scaleLinear",(function(){return d["default"]}));var h=u("./node_modules/d3-scale/src/log.js");u.d(n,"scaleLog",(function(){return h["default"]}));var p=u("./node_modules/d3-scale/src/symlog.js");u.d(n,"scaleSymlog",(function(){return p["default"]}));var m=u("./node_modules/d3-scale/src/ordinal.js");u.d(n,"scaleOrdinal",(function(){return m["default"]})),u.d(n,"scaleImplicit",(function(){return m["implicit"]}));var _=u("./node_modules/d3-scale/src/pow.js");u.d(n,"scalePow",(function(){return _["default"]})),u.d(n,"scaleSqrt",(function(){return _["sqrt"]}));var g=u("./node_modules/d3-scale/src/radial.js");u.d(n,"scaleRadial",(function(){return g["default"]}));var b=u("./node_modules/d3-scale/src/quantile.js");u.d(n,"scaleQuantile",(function(){return b["default"]}));var v=u("./node_modules/d3-scale/src/quantize.js");u.d(n,"scaleQuantize",(function(){return v["default"]}));var U=u("./node_modules/d3-scale/src/threshold.js");u.d(n,"scaleThreshold",(function(){return U["default"]}));var G=u("./node_modules/d3-scale/src/time.js");u.d(n,"scaleTime",(function(){return G["default"]}));var W=u("./node_modules/d3-scale/src/utcTime.js");u.d(n,"scaleUtc",(function(){return W["default"]}));var X=u("./node_modules/d3-scale/src/sequential.js");u.d(n,"scaleSequential",(function(){return X["default"]})),u.d(n,"scaleSequentialLog",(function(){return X["sequentialLog"]})),u.d(n,"scaleSequentialPow",(function(){return X["sequentialPow"]})),u.d(n,"scaleSequentialSqrt",(function(){return X["sequentialSqrt"]})),u.d(n,"scaleSequentialSymlog",(function(){return X["sequentialSymlog"]}));var q=u("./node_modules/d3-scale/src/sequentialQuantile.js");u.d(n,"scaleSequentialQuantile",(function(){return q["default"]}));var K=u("./node_modules/d3-scale/src/diverging.js");u.d(n,"scaleDiverging",(function(){return K["default"]})),u.d(n,"scaleDivergingLog",(function(){return K["divergingLog"]})),u.d(n,"scaleDivergingPow",(function(){return K["divergingPow"]})),u.d(n,"scaleDivergingSqrt",(function(){return K["divergingSqrt"]})),u.d(n,"scaleDivergingSymlog",(function(){return K["divergingSymlog"]}));var Y=u("./node_modules/d3-scale/src/tickFormat.js");u.d(n,"tickFormat",(function(){return Y["default"]}))},"./node_modules/d3-scale/src/init.js":function(t,n,u){"use strict";function initRange(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function initInterpolator(t,n){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof n?this.interpolator(n):this.range(n);break}return this}u.r(n),u.d(n,"initRange",(function(){return initRange})),u.d(n,"initInterpolator",(function(){return initInterpolator}))},"./node_modules/d3-scale/src/linear.js":function(t,n,u){"use strict";u.r(n),u.d(n,"linearish",(function(){return linearish})),u.d(n,"default",(function(){return linear}));var c=u("./node_modules/d3-array/src/ticks.js"),l=u("./node_modules/d3-scale/src/continuous.js"),d=u("./node_modules/d3-scale/src/init.js"),h=u("./node_modules/d3-scale/src/tickFormat.js");function linearish(t){var n=t.domain;return t.ticks=function(t){var u=n();return Object(c["default"])(u[0],u[u.length-1],null==t?10:t)},t.tickFormat=function(t,u){var c=n();return Object(h["default"])(c[0],c[c.length-1],null==t?10:t,u)},t.nice=function(u){null==u&&(u=10);var l,d,h=n(),p=0,m=h.length-1,_=h[p],g=h[m],b=10;g<_&&(d=_,_=g,g=d,d=p,p=m,m=d);while(b-- >0){if(d=Object(c["tickIncrement"])(_,g,u),d===l)return h[p]=_,h[m]=g,n(h);if(d>0)_=Math.floor(_/d)*d,g=Math.ceil(g/d)*d;else{if(!(d<0))break;_=Math.ceil(_*d)/d,g=Math.floor(g*d)/d}l=d}return t},t}function linear(){var t=Object(l["default"])();return t.copy=function(){return Object(l["copy"])(t,linear())},d["initRange"].apply(t,arguments),linearish(t)}},"./node_modules/d3-scale/src/log.js":function(t,n,u){"use strict";u.r(n),u.d(n,"loggish",(function(){return loggish})),u.d(n,"default",(function(){return log}));var c=u("./node_modules/d3-array/src/ticks.js"),l=u("./node_modules/d3-format/src/formatSpecifier.js"),d=u("./node_modules/d3-format/src/defaultLocale.js"),h=u("./node_modules/d3-scale/src/nice.js"),p=u("./node_modules/d3-scale/src/continuous.js"),m=u("./node_modules/d3-scale/src/init.js");function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return 10===t?pow10:t===Math.E?Math.exp:n=>Math.pow(t,n)}function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function reflect(t){return(n,u)=>-t(-n,u)}function loggish(t){const n=t(transformLog,transformExp),u=n.domain;let p,m,_=10;function rescale(){return p=logp(_),m=powp(_),u()[0]<0?(p=reflect(p),m=reflect(m),t(transformLogn,transformExpn)):t(transformLog,transformExp),n}return n.base=function(t){return arguments.length?(_=+t,rescale()):_},n.domain=function(t){return arguments.length?(u(t),rescale()):u()},n.ticks=t=>{const n=u();let l=n[0],d=n[n.length-1];const h=d<l;h&&([l,d]=[d,l]);let g,b,v=p(l),U=p(d);const G=null==t?10:+t;let W=[];if(!(_%1)&&U-v<G){if(v=Math.floor(v),U=Math.ceil(U),l>0){for(;v<=U;++v)for(g=1;g<_;++g)if(b=v<0?g/m(-v):g*m(v),!(b<l)){if(b>d)break;W.push(b)}}else for(;v<=U;++v)for(g=_-1;g>=1;--g)if(b=v>0?g/m(-v):g*m(v),!(b<l)){if(b>d)break;W.push(b)}2*W.length<G&&(W=Object(c["default"])(l,d,G))}else W=Object(c["default"])(v,U,Math.min(U-v,G)).map(m);return h?W.reverse():W},n.tickFormat=(t,u)=>{if(null==t&&(t=10),null==u&&(u=10===_?"s":","),"function"!==typeof u&&(_%1||null!=(u=Object(l["default"])(u)).precision||(u.trim=!0),u=Object(d["format"])(u)),t===1/0)return u;const c=Math.max(1,_*t/n.ticks().length);return t=>{let n=t/m(Math.round(p(t)));return n*_<_-.5&&(n*=_),n<=c?u(t):""}},n.nice=()=>u(Object(h["default"])(u(),{floor:t=>m(Math.floor(p(t))),ceil:t=>m(Math.ceil(p(t)))})),n}function log(){const t=loggish(Object(p["transformer"])()).domain([1,10]);return t.copy=()=>Object(p["copy"])(t,log()).base(t.base()),m["initRange"].apply(t,arguments),t}},"./node_modules/d3-scale/src/nice.js":function(t,n,u){"use strict";function nice(t,n){t=t.slice();var u,c=0,l=t.length-1,d=t[c],h=t[l];return h<d&&(u=c,c=l,l=u,u=d,d=h,h=u),t[c]=n.floor(d),t[l]=n.ceil(h),t}u.r(n),u.d(n,"default",(function(){return nice}))},"./node_modules/d3-scale/src/number.js":function(t,n,u){"use strict";function number(t){return+t}u.r(n),u.d(n,"default",(function(){return number}))},"./node_modules/d3-scale/src/ordinal.js":function(t,n,u){"use strict";u.r(n),u.d(n,"implicit",(function(){return d})),u.d(n,"default",(function(){return ordinal}));var c=u("./node_modules/internmap/src/index.js"),l=u("./node_modules/d3-scale/src/init.js");const d=Symbol("implicit");function ordinal(){var t=new c["InternMap"],n=[],u=[],h=d;function scale(c){let l=t.get(c);if(void 0===l){if(h!==d)return h;t.set(c,l=n.push(c)-1)}return u[l%u.length]}return scale.domain=function(u){if(!arguments.length)return n.slice();n=[],t=new c["InternMap"];for(const c of u)t.has(c)||t.set(c,n.push(c)-1);return scale},scale.range=function(t){return arguments.length?(u=Array.from(t),scale):u.slice()},scale.unknown=function(t){return arguments.length?(h=t,scale):h},scale.copy=function(){return ordinal(n,u).unknown(h)},l["initRange"].apply(scale,arguments),scale}},"./node_modules/d3-scale/src/pow.js":function(t,n,u){"use strict";u.r(n),u.d(n,"powish",(function(){return powish})),u.d(n,"default",(function(){return pow})),u.d(n,"sqrt",(function(){return sqrt}));var c=u("./node_modules/d3-scale/src/linear.js"),l=u("./node_modules/d3-scale/src/continuous.js"),d=u("./node_modules/d3-scale/src/init.js");function transformPow(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var n=t(l["identity"],l["identity"]),u=1;function rescale(){return 1===u?t(l["identity"],l["identity"]):.5===u?t(transformSqrt,transformSquare):t(transformPow(u),transformPow(1/u))}return n.exponent=function(t){return arguments.length?(u=+t,rescale()):u},Object(c["linearish"])(n)}function pow(){var t=powish(Object(l["transformer"])());return t.copy=function(){return Object(l["copy"])(t,pow()).exponent(t.exponent())},d["initRange"].apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}},"./node_modules/d3-scale/src/quantile.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return quantile}));var c=u("./node_modules/d3-array/src/quantile.js"),l=u("./node_modules/d3-array/src/bisect.js"),d=u("./node_modules/d3-array/src/ascending.js"),h=u("./node_modules/d3-scale/src/init.js");function quantile(){var t,n=[],u=[],p=[];function rescale(){var t=0,l=Math.max(1,u.length);p=new Array(l-1);while(++t<l)p[t-1]=Object(c["quantileSorted"])(n,t/l);return scale}function scale(n){return null==n||isNaN(n=+n)?t:u[Object(l["default"])(p,n)]}return scale.invertExtent=function(t){var c=u.indexOf(t);return c<0?[NaN,NaN]:[c>0?p[c-1]:n[0],c<p.length?p[c]:n[n.length-1]]},scale.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let u of t)null==u||isNaN(u=+u)||n.push(u);return n.sort(d["default"]),rescale()},scale.range=function(t){return arguments.length?(u=Array.from(t),rescale()):u.slice()},scale.unknown=function(n){return arguments.length?(t=n,scale):t},scale.quantiles=function(){return p.slice()},scale.copy=function(){return quantile().domain(n).range(u).unknown(t)},h["initRange"].apply(scale,arguments)}},"./node_modules/d3-scale/src/quantize.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return quantize}));var c=u("./node_modules/d3-array/src/bisect.js"),l=u("./node_modules/d3-scale/src/linear.js"),d=u("./node_modules/d3-scale/src/init.js");function quantize(){var t,n=0,u=1,h=1,p=[.5],m=[0,1];function scale(n){return null!=n&&n<=n?m[Object(c["default"])(p,n,0,h)]:t}function rescale(){var t=-1;p=new Array(h);while(++t<h)p[t]=((t+1)*u-(t-h)*n)/(h+1);return scale}return scale.domain=function(t){return arguments.length?([n,u]=t,n=+n,u=+u,rescale()):[n,u]},scale.range=function(t){return arguments.length?(h=(m=Array.from(t)).length-1,rescale()):m.slice()},scale.invertExtent=function(t){var c=m.indexOf(t);return c<0?[NaN,NaN]:c<1?[n,p[0]]:c>=h?[p[h-1],u]:[p[c-1],p[c]]},scale.unknown=function(n){return arguments.length?(t=n,scale):scale},scale.thresholds=function(){return p.slice()},scale.copy=function(){return quantize().domain([n,u]).range(m).unknown(t)},d["initRange"].apply(Object(l["linearish"])(scale),arguments)}},"./node_modules/d3-scale/src/radial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return radial}));var c=u("./node_modules/d3-scale/src/continuous.js"),l=u("./node_modules/d3-scale/src/init.js"),d=u("./node_modules/d3-scale/src/linear.js"),h=u("./node_modules/d3-scale/src/number.js");function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t,n=Object(c["default"])(),u=[0,1],p=!1;function scale(u){var c=unsquare(n(u));return isNaN(c)?t:p?Math.round(c):c}return scale.invert=function(t){return n.invert(square(t))},scale.domain=function(t){return arguments.length?(n.domain(t),scale):n.domain()},scale.range=function(t){return arguments.length?(n.range((u=Array.from(t,h["default"])).map(square)),scale):u.slice()},scale.rangeRound=function(t){return scale.range(t).round(!0)},scale.round=function(t){return arguments.length?(p=!!t,scale):p},scale.clamp=function(t){return arguments.length?(n.clamp(t),scale):n.clamp()},scale.unknown=function(n){return arguments.length?(t=n,scale):t},scale.copy=function(){return radial(n.domain(),u).round(p).clamp(n.clamp()).unknown(t)},l["initRange"].apply(scale,arguments),Object(d["linearish"])(scale)}},"./node_modules/d3-scale/src/sequential.js":function(t,n,u){"use strict";u.r(n),u.d(n,"copy",(function(){return copy})),u.d(n,"default",(function(){return sequential})),u.d(n,"sequentialLog",(function(){return sequentialLog})),u.d(n,"sequentialSymlog",(function(){return sequentialSymlog})),u.d(n,"sequentialPow",(function(){return sequentialPow})),u.d(n,"sequentialSqrt",(function(){return sequentialSqrt}));var c=u("./node_modules/d3-interpolate/src/value.js"),l=u("./node_modules/d3-interpolate/src/round.js"),d=u("./node_modules/d3-scale/src/continuous.js"),h=u("./node_modules/d3-scale/src/init.js"),p=u("./node_modules/d3-scale/src/linear.js"),m=u("./node_modules/d3-scale/src/log.js"),_=u("./node_modules/d3-scale/src/symlog.js"),g=u("./node_modules/d3-scale/src/pow.js");function transformer(){var t,n,u,h,p,m=0,_=1,g=d["identity"],b=!1;function scale(n){return null==n||isNaN(n=+n)?p:g(0===u?.5:(n=(h(n)-t)*u,b?Math.max(0,Math.min(1,n)):n))}function range(t){return function(n){var u,c;return arguments.length?([u,c]=n,g=t(u,c),scale):[g(0),g(1)]}}return scale.domain=function(c){return arguments.length?([m,_]=c,t=h(m=+m),n=h(_=+_),u=t===n?0:1/(n-t),scale):[m,_]},scale.clamp=function(t){return arguments.length?(b=!!t,scale):b},scale.interpolator=function(t){return arguments.length?(g=t,scale):g},scale.range=range(c["default"]),scale.rangeRound=range(l["default"]),scale.unknown=function(t){return arguments.length?(p=t,scale):p},function(c){return h=c,t=c(m),n=c(_),u=t===n?0:1/(n-t),scale}}function copy(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=Object(p["linearish"])(transformer()(d["identity"]));return t.copy=function(){return copy(t,sequential())},h["initInterpolator"].apply(t,arguments)}function sequentialLog(){var t=Object(m["loggish"])(transformer()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},h["initInterpolator"].apply(t,arguments)}function sequentialSymlog(){var t=Object(_["symlogish"])(transformer());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},h["initInterpolator"].apply(t,arguments)}function sequentialPow(){var t=Object(g["powish"])(transformer());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},h["initInterpolator"].apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}},"./node_modules/d3-scale/src/sequentialQuantile.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return sequentialQuantile}));var c=u("./node_modules/d3-array/src/bisect.js"),l=u("./node_modules/d3-array/src/ascending.js"),d=u("./node_modules/d3-array/src/quantile.js"),h=u("./node_modules/d3-scale/src/continuous.js"),p=u("./node_modules/d3-scale/src/init.js");function sequentialQuantile(){var t=[],n=h["identity"];function scale(u){if(null!=u&&!isNaN(u=+u))return n((Object(c["default"])(t,u,1)-1)/(t.length-1))}return scale.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let u of n)null==u||isNaN(u=+u)||t.push(u);return t.sort(l["default"]),scale},scale.interpolator=function(t){return arguments.length?(n=t,scale):n},scale.range=function(){return t.map((u,c)=>n(c/(t.length-1)))},scale.quantiles=function(n){return Array.from({length:n+1},(u,c)=>Object(d["default"])(t,c/n))},scale.copy=function(){return sequentialQuantile(n).domain(t)},p["initInterpolator"].apply(scale,arguments)}},"./node_modules/d3-scale/src/symlog.js":function(t,n,u){"use strict";u.r(n),u.d(n,"symlogish",(function(){return symlogish})),u.d(n,"default",(function(){return symlog}));var c=u("./node_modules/d3-scale/src/linear.js"),l=u("./node_modules/d3-scale/src/continuous.js"),d=u("./node_modules/d3-scale/src/init.js");function transformSymlog(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function transformSymexp(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function symlogish(t){var n=1,u=t(transformSymlog(n),transformSymexp(n));return u.constant=function(u){return arguments.length?t(transformSymlog(n=+u),transformSymexp(n)):n},Object(c["linearish"])(u)}function symlog(){var t=symlogish(Object(l["transformer"])());return t.copy=function(){return Object(l["copy"])(t,symlog()).constant(t.constant())},d["initRange"].apply(t,arguments)}},"./node_modules/d3-scale/src/threshold.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return threshold}));var c=u("./node_modules/d3-array/src/bisect.js"),l=u("./node_modules/d3-scale/src/init.js");function threshold(){var t,n=[.5],u=[0,1],d=1;function scale(l){return null!=l&&l<=l?u[Object(c["default"])(n,l,0,d)]:t}return scale.domain=function(t){return arguments.length?(n=Array.from(t),d=Math.min(n.length,u.length-1),scale):n.slice()},scale.range=function(t){return arguments.length?(u=Array.from(t),d=Math.min(n.length,u.length-1),scale):u.slice()},scale.invertExtent=function(t){var c=u.indexOf(t);return[n[c-1],n[c]]},scale.unknown=function(n){return arguments.length?(t=n,scale):t},scale.copy=function(){return threshold().domain(n).range(u).unknown(t)},l["initRange"].apply(scale,arguments)}},"./node_modules/d3-scale/src/tickFormat.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return tickFormat}));var c=u("./node_modules/d3-array/src/ticks.js"),l=u("./node_modules/d3-format/src/formatSpecifier.js"),d=u("./node_modules/d3-format/src/precisionPrefix.js"),h=u("./node_modules/d3-format/src/defaultLocale.js"),p=u("./node_modules/d3-format/src/precisionRound.js"),m=u("./node_modules/d3-format/src/precisionFixed.js");function tickFormat(t,n,u,_){var g,b=Object(c["tickStep"])(t,n,u);switch(_=Object(l["default"])(null==_?",f":_),_.type){case"s":var v=Math.max(Math.abs(t),Math.abs(n));return null!=_.precision||isNaN(g=Object(d["default"])(b,v))||(_.precision=g),Object(h["formatPrefix"])(_,v);case"":case"e":case"g":case"p":case"r":null!=_.precision||isNaN(g=Object(p["default"])(b,Math.max(Math.abs(t),Math.abs(n))))||(_.precision=g-("e"===_.type));break;case"f":case"%":null!=_.precision||isNaN(g=Object(m["default"])(b))||(_.precision=g-2*("%"===_.type));break}return Object(h["format"])(_)}},"./node_modules/d3-scale/src/time.js":function(t,n,u){"use strict";u.r(n),u.d(n,"calendar",(function(){return calendar})),u.d(n,"default",(function(){return time}));var c=u("./node_modules/d3-time/src/ticks.js"),l=u("./node_modules/d3-time/src/year.js"),d=u("./node_modules/d3-time/src/month.js"),h=u("./node_modules/d3-time/src/week.js"),p=u("./node_modules/d3-time/src/day.js"),m=u("./node_modules/d3-time/src/hour.js"),_=u("./node_modules/d3-time/src/minute.js"),g=u("./node_modules/d3-time/src/second.js"),b=u("./node_modules/d3-time-format/src/defaultLocale.js"),v=u("./node_modules/d3-scale/src/continuous.js"),U=u("./node_modules/d3-scale/src/init.js"),G=u("./node_modules/d3-scale/src/nice.js");function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,n,u,c,l,d,h,p,m,_){var g=Object(v["default"])(),b=g.invert,U=g.domain,W=_(".%L"),X=_(":%S"),q=_("%I:%M"),K=_("%I %p"),Y=_("%a %d"),Q=_("%b %d"),Z=_("%B"),$=_("%Y");function tickFormat(t){return(m(t)<t?W:p(t)<t?X:h(t)<t?q:d(t)<t?K:c(t)<t?l(t)<t?Y:Q:u(t)<t?Z:$)(t)}return g.invert=function(t){return new Date(b(t))},g.domain=function(t){return arguments.length?U(Array.from(t,number)):U().map(date)},g.ticks=function(n){var u=U();return t(u[0],u[u.length-1],null==n?10:n)},g.tickFormat=function(t,n){return null==n?tickFormat:_(n)},g.nice=function(t){var u=U();return t&&"function"===typeof t.range||(t=n(u[0],u[u.length-1],null==t?10:t)),t?U(Object(G["default"])(u,t)):g},g.copy=function(){return Object(v["copy"])(g,calendar(t,n,u,c,l,d,h,p,m,_))},g}function time(){return U["initRange"].apply(calendar(c["timeTicks"],c["timeTickInterval"],l["default"],d["default"],h["sunday"],p["default"],m["default"],_["default"],g["default"],b["timeFormat"]).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},"./node_modules/d3-scale/src/utcTime.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return utcTime}));var c=u("./node_modules/d3-time/src/ticks.js"),l=u("./node_modules/d3-time/src/utcYear.js"),d=u("./node_modules/d3-time/src/utcMonth.js"),h=u("./node_modules/d3-time/src/utcWeek.js"),p=u("./node_modules/d3-time/src/utcDay.js"),m=u("./node_modules/d3-time/src/utcHour.js"),_=u("./node_modules/d3-time/src/utcMinute.js"),g=u("./node_modules/d3-time/src/second.js"),b=u("./node_modules/d3-time-format/src/defaultLocale.js"),v=u("./node_modules/d3-scale/src/time.js"),U=u("./node_modules/d3-scale/src/init.js");function utcTime(){return U["initRange"].apply(Object(v["calendar"])(c["utcTicks"],c["utcTickInterval"],l["default"],d["default"],h["utcSunday"],p["default"],m["default"],_["default"],g["default"],b["utcFormat"]).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},"./node_modules/d3-selection/src/array.js":function(t,n,u){"use strict";function array(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}u.r(n),u.d(n,"default",(function(){return array}))},"./node_modules/d3-selection/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return function(){return t}}},"./node_modules/d3-selection/src/create.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/creator.js"),l=u("./node_modules/d3-selection/src/select.js");n["default"]=function(t){return Object(l["default"])(Object(c["default"])(t).call(document.documentElement))}},"./node_modules/d3-selection/src/creator.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/namespace.js"),l=u("./node_modules/d3-selection/src/namespaces.js");function creatorInherit(t){return function(){var n=this.ownerDocument,u=this.namespaceURI;return u===l["xhtml"]&&n.documentElement.namespaceURI===l["xhtml"]?n.createElement(t):n.createElementNS(u,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}n["default"]=function(t){var n=Object(c["default"])(t);return(n.local?creatorFixed:creatorInherit)(n)}},"./node_modules/d3-selection/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/create.js");u.d(n,"create",(function(){return c["default"]}));var l=u("./node_modules/d3-selection/src/creator.js");u.d(n,"creator",(function(){return l["default"]}));var d=u("./node_modules/d3-selection/src/local.js");u.d(n,"local",(function(){return d["default"]}));var h=u("./node_modules/d3-selection/src/matcher.js");u.d(n,"matcher",(function(){return h["default"]}));var p=u("./node_modules/d3-selection/src/namespace.js");u.d(n,"namespace",(function(){return p["default"]}));var m=u("./node_modules/d3-selection/src/namespaces.js");u.d(n,"namespaces",(function(){return m["default"]}));var _=u("./node_modules/d3-selection/src/pointer.js");u.d(n,"pointer",(function(){return _["default"]}));var g=u("./node_modules/d3-selection/src/pointers.js");u.d(n,"pointers",(function(){return g["default"]}));var b=u("./node_modules/d3-selection/src/select.js");u.d(n,"select",(function(){return b["default"]}));var v=u("./node_modules/d3-selection/src/selectAll.js");u.d(n,"selectAll",(function(){return v["default"]}));var U=u("./node_modules/d3-selection/src/selection/index.js");u.d(n,"selection",(function(){return U["default"]}));var G=u("./node_modules/d3-selection/src/selector.js");u.d(n,"selector",(function(){return G["default"]}));var W=u("./node_modules/d3-selection/src/selectorAll.js");u.d(n,"selectorAll",(function(){return W["default"]}));var X=u("./node_modules/d3-selection/src/selection/style.js");u.d(n,"style",(function(){return X["styleValue"]}));var q=u("./node_modules/d3-selection/src/window.js");u.d(n,"window",(function(){return q["default"]}))},"./node_modules/d3-selection/src/local.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return local}));var c=0;function local(){return new Local}function Local(){this._="@"+(++c).toString(36)}Local.prototype=local.prototype={constructor:Local,get:function(t){var n=this._;while(!(n in t))if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},"./node_modules/d3-selection/src/matcher.js":function(t,n,u){"use strict";function childMatcher(t){return function(n){return n.matches(t)}}u.r(n),u.d(n,"childMatcher",(function(){return childMatcher})),n["default"]=function(t){return function(){return this.matches(t)}}},"./node_modules/d3-selection/src/namespace.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/namespaces.js");n["default"]=function(t){var n=t+="",u=n.indexOf(":");return u>=0&&"xmlns"!==(n=t.slice(0,u))&&(t=t.slice(u+1)),c["default"].hasOwnProperty(n)?{space:c["default"][n],local:t}:t}},"./node_modules/d3-selection/src/namespaces.js":function(t,n,u){"use strict";u.r(n),u.d(n,"xhtml",(function(){return c}));var c="http://www.w3.org/1999/xhtml";n["default"]={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},"./node_modules/d3-selection/src/pointer.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/sourceEvent.js");n["default"]=function(t,n){if(t=Object(c["default"])(t),void 0===n&&(n=t.currentTarget),n){var u=n.ownerSVGElement||n;if(u.createSVGPoint){var l=u.createSVGPoint();return l.x=t.clientX,l.y=t.clientY,l=l.matrixTransform(n.getScreenCTM().inverse()),[l.x,l.y]}if(n.getBoundingClientRect){var d=n.getBoundingClientRect();return[t.clientX-d.left-n.clientLeft,t.clientY-d.top-n.clientTop]}}return[t.pageX,t.pageY]}},"./node_modules/d3-selection/src/pointers.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/pointer.js"),l=u("./node_modules/d3-selection/src/sourceEvent.js");n["default"]=function(t,n){return t.target&&(t=Object(l["default"])(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>Object(c["default"])(t,n))}},"./node_modules/d3-selection/src/select.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js");n["default"]=function(t){return"string"===typeof t?new c["Selection"]([[document.querySelector(t)]],[document.documentElement]):new c["Selection"]([[t]],c["root"])}},"./node_modules/d3-selection/src/selectAll.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/array.js"),l=u("./node_modules/d3-selection/src/selection/index.js");n["default"]=function(t){return"string"===typeof t?new l["Selection"]([document.querySelectorAll(t)],[document.documentElement]):new l["Selection"]([Object(c["default"])(t)],l["root"])}},"./node_modules/d3-selection/src/selection/append.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/creator.js");n["default"]=function(t){var n="function"===typeof t?t:Object(c["default"])(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))}},"./node_modules/d3-selection/src/selection/attr.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/namespace.js");function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,n){return function(){this.setAttribute(t,n)}}function attrConstantNS(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function attrFunction(t,n){return function(){var u=n.apply(this,arguments);null==u?this.removeAttribute(t):this.setAttribute(t,u)}}function attrFunctionNS(t,n){return function(){var u=n.apply(this,arguments);null==u?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,u)}}n["default"]=function(t,n){var u=Object(c["default"])(t);if(arguments.length<2){var l=this.node();return u.local?l.getAttributeNS(u.space,u.local):l.getAttribute(u)}return this.each((null==n?u.local?attrRemoveNS:attrRemove:"function"===typeof n?u.local?attrFunctionNS:attrFunction:u.local?attrConstantNS:attrConstant)(u,n))}},"./node_modules/d3-selection/src/selection/call.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},"./node_modules/d3-selection/src/selection/classed.js":function(t,n,u){"use strict";function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,n){var u=classList(t),c=-1,l=n.length;while(++c<l)u.add(n[c])}function classedRemove(t,n){var u=classList(t),c=-1,l=n.length;while(++c<l)u.remove(n[c])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,n){return function(){(n.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}u.r(n),ClassList.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},n["default"]=function(t,n){var u=classArray(t+"");if(arguments.length<2){var c=classList(this.node()),l=-1,d=u.length;while(++l<d)if(!c.contains(u[l]))return!1;return!0}return this.each(("function"===typeof n?classedFunction:n?classedTrue:classedFalse)(u,n))}},"./node_modules/d3-selection/src/selection/clone.js":function(t,n,u){"use strict";function selection_cloneShallow(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}u.r(n),n["default"]=function(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)}},"./node_modules/d3-selection/src/selection/data.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js"),l=u("./node_modules/d3-selection/src/selection/enter.js"),d=u("./node_modules/d3-selection/src/constant.js");function bindIndex(t,n,u,c,d,h){for(var p,m=0,_=n.length,g=h.length;m<g;++m)(p=n[m])?(p.__data__=h[m],c[m]=p):u[m]=new l["EnterNode"](t,h[m]);for(;m<_;++m)(p=n[m])&&(d[m]=p)}function bindKey(t,n,u,c,d,h,p){var m,_,g,b=new Map,v=n.length,U=h.length,G=new Array(v);for(m=0;m<v;++m)(_=n[m])&&(G[m]=g=p.call(_,_.__data__,m,n)+"",b.has(g)?d[m]=_:b.set(g,_));for(m=0;m<U;++m)g=p.call(t,h[m],m,h)+"",(_=b.get(g))?(c[m]=_,_.__data__=h[m],b.delete(g)):u[m]=new l["EnterNode"](t,h[m]);for(m=0;m<v;++m)(_=n[m])&&b.get(G[m])===_&&(d[m]=_)}function datum(t){return t.__data__}function arraylike(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}n["default"]=function(t,n){if(!arguments.length)return Array.from(this,datum);var u=n?bindKey:bindIndex,l=this._parents,h=this._groups;"function"!==typeof t&&(t=Object(d["default"])(t));for(var p=h.length,m=new Array(p),_=new Array(p),g=new Array(p),b=0;b<p;++b){var v=l[b],U=h[b],G=U.length,W=arraylike(t.call(v,v&&v.__data__,b,l)),X=W.length,q=_[b]=new Array(X),K=m[b]=new Array(X),Y=g[b]=new Array(G);u(v,U,q,K,Y,W,n);for(var Q,Z,$=0,J=0;$<X;++$)if(Q=q[$]){$>=J&&(J=$+1);while(!(Z=K[J])&&++J<X);Q._next=Z||null}}return m=new c["Selection"](m,l),m._enter=_,m._exit=g,m}},"./node_modules/d3-selection/src/selection/datum.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},"./node_modules/d3-selection/src/selection/dispatch.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/window.js");function dispatchEvent(t,n,u){var l=Object(c["default"])(t),d=l.CustomEvent;"function"===typeof d?d=new d(n,u):(d=l.document.createEvent("Event"),u?(d.initEvent(n,u.bubbles,u.cancelable),d.detail=u.detail):d.initEvent(n,!1,!1)),t.dispatchEvent(d)}function dispatchConstant(t,n){return function(){return dispatchEvent(this,t,n)}}function dispatchFunction(t,n){return function(){return dispatchEvent(this,t,n.apply(this,arguments))}}n["default"]=function(t,n){return this.each(("function"===typeof n?dispatchFunction:dispatchConstant)(t,n))}},"./node_modules/d3-selection/src/selection/each.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){for(var n=this._groups,u=0,c=n.length;u<c;++u)for(var l,d=n[u],h=0,p=d.length;h<p;++h)(l=d[h])&&t.call(l,l.__data__,h,d);return this}},"./node_modules/d3-selection/src/selection/empty.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){return!this.node()}},"./node_modules/d3-selection/src/selection/enter.js":function(t,n,u){"use strict";u.r(n),u.d(n,"EnterNode",(function(){return EnterNode}));var c=u("./node_modules/d3-selection/src/selection/sparse.js"),l=u("./node_modules/d3-selection/src/selection/index.js");function EnterNode(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}n["default"]=function(){return new l["Selection"](this._enter||this._groups.map(c["default"]),this._parents)},EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},"./node_modules/d3-selection/src/selection/exit.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/sparse.js"),l=u("./node_modules/d3-selection/src/selection/index.js");n["default"]=function(){return new l["Selection"](this._exit||this._groups.map(c["default"]),this._parents)}},"./node_modules/d3-selection/src/selection/filter.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js"),l=u("./node_modules/d3-selection/src/matcher.js");n["default"]=function(t){"function"!==typeof t&&(t=Object(l["default"])(t));for(var n=this._groups,u=n.length,d=new Array(u),h=0;h<u;++h)for(var p,m=n[h],_=m.length,g=d[h]=[],b=0;b<_;++b)(p=m[b])&&t.call(p,p.__data__,b,m)&&g.push(p);return new c["Selection"](d,this._parents)}},"./node_modules/d3-selection/src/selection/html.js":function(t,n,u){"use strict";function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}u.r(n),n["default"]=function(t){return arguments.length?this.each(null==t?htmlRemove:("function"===typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}},"./node_modules/d3-selection/src/selection/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"root",(function(){return fe})),u.d(n,"Selection",(function(){return Selection}));var c=u("./node_modules/d3-selection/src/selection/select.js"),l=u("./node_modules/d3-selection/src/selection/selectAll.js"),d=u("./node_modules/d3-selection/src/selection/selectChild.js"),h=u("./node_modules/d3-selection/src/selection/selectChildren.js"),p=u("./node_modules/d3-selection/src/selection/filter.js"),m=u("./node_modules/d3-selection/src/selection/data.js"),_=u("./node_modules/d3-selection/src/selection/enter.js"),g=u("./node_modules/d3-selection/src/selection/exit.js"),b=u("./node_modules/d3-selection/src/selection/join.js"),v=u("./node_modules/d3-selection/src/selection/merge.js"),U=u("./node_modules/d3-selection/src/selection/order.js"),G=u("./node_modules/d3-selection/src/selection/sort.js"),W=u("./node_modules/d3-selection/src/selection/call.js"),X=u("./node_modules/d3-selection/src/selection/nodes.js"),q=u("./node_modules/d3-selection/src/selection/node.js"),K=u("./node_modules/d3-selection/src/selection/size.js"),Y=u("./node_modules/d3-selection/src/selection/empty.js"),Q=u("./node_modules/d3-selection/src/selection/each.js"),Z=u("./node_modules/d3-selection/src/selection/attr.js"),$=u("./node_modules/d3-selection/src/selection/style.js"),J=u("./node_modules/d3-selection/src/selection/property.js"),ee=u("./node_modules/d3-selection/src/selection/classed.js"),te=u("./node_modules/d3-selection/src/selection/text.js"),re=u("./node_modules/d3-selection/src/selection/html.js"),ne=u("./node_modules/d3-selection/src/selection/raise.js"),ie=u("./node_modules/d3-selection/src/selection/lower.js"),oe=u("./node_modules/d3-selection/src/selection/append.js"),se=u("./node_modules/d3-selection/src/selection/insert.js"),ae=u("./node_modules/d3-selection/src/selection/remove.js"),ue=u("./node_modules/d3-selection/src/selection/clone.js"),ce=u("./node_modules/d3-selection/src/selection/datum.js"),le=u("./node_modules/d3-selection/src/selection/on.js"),de=u("./node_modules/d3-selection/src/selection/dispatch.js"),he=u("./node_modules/d3-selection/src/selection/iterator.js"),fe=[null];function Selection(t,n){this._groups=t,this._parents=n}function selection(){return new Selection([[document.documentElement]],fe)}function selection_selection(){return this}Selection.prototype=selection.prototype={constructor:Selection,select:c["default"],selectAll:l["default"],selectChild:d["default"],selectChildren:h["default"],filter:p["default"],data:m["default"],enter:_["default"],exit:g["default"],join:b["default"],merge:v["default"],selection:selection_selection,order:U["default"],sort:G["default"],call:W["default"],nodes:X["default"],node:q["default"],size:K["default"],empty:Y["default"],each:Q["default"],attr:Z["default"],style:$["default"],property:J["default"],classed:ee["default"],text:te["default"],html:re["default"],raise:ne["default"],lower:ie["default"],append:oe["default"],insert:se["default"],remove:ae["default"],clone:ue["default"],datum:ce["default"],on:le["default"],dispatch:de["default"],[Symbol.iterator]:he["default"]},n["default"]=selection},"./node_modules/d3-selection/src/selection/insert.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/creator.js"),l=u("./node_modules/d3-selection/src/selector.js");function constantNull(){return null}n["default"]=function(t,n){var u="function"===typeof t?t:Object(c["default"])(t),d=null==n?constantNull:"function"===typeof n?n:Object(l["default"])(n);return this.select((function(){return this.insertBefore(u.apply(this,arguments),d.apply(this,arguments)||null)}))}},"./node_modules/d3-selection/src/selection/iterator.js":function(t,n,u){"use strict";u.r(n),n["default"]=function*(){for(var t=this._groups,n=0,u=t.length;n<u;++n)for(var c,l=t[n],d=0,h=l.length;d<h;++d)(c=l[d])&&(yield c)}},"./node_modules/d3-selection/src/selection/join.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n,u){var c=this.enter(),l=this,d=this.exit();return"function"===typeof t?(c=t(c),c&&(c=c.selection())):c=c.append(t+""),null!=n&&(l=n(l),l&&(l=l.selection())),null==u?d.remove():u(d),c&&l?c.merge(l).order():l}},"./node_modules/d3-selection/src/selection/lower.js":function(t,n,u){"use strict";function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}u.r(n),n["default"]=function(){return this.each(lower)}},"./node_modules/d3-selection/src/selection/merge.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js");n["default"]=function(t){for(var n=t.selection?t.selection():t,u=this._groups,l=n._groups,d=u.length,h=l.length,p=Math.min(d,h),m=new Array(d),_=0;_<p;++_)for(var g,b=u[_],v=l[_],U=b.length,G=m[_]=new Array(U),W=0;W<U;++W)(g=b[W]||v[W])&&(G[W]=g);for(;_<d;++_)m[_]=u[_];return new c["Selection"](m,this._parents)}},"./node_modules/d3-selection/src/selection/node.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){for(var t=this._groups,n=0,u=t.length;n<u;++n)for(var c=t[n],l=0,d=c.length;l<d;++l){var h=c[l];if(h)return h}return null}},"./node_modules/d3-selection/src/selection/nodes.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){return Array.from(this)}},"./node_modules/d3-selection/src/selection/on.js":function(t,n,u){"use strict";function contextListener(t){return function(n){t.call(this,n,this.__data__)}}function parseTypenames(t){return t.trim().split(/^|\s+/).map((function(t){var n="",u=t.indexOf(".");return u>=0&&(n=t.slice(u+1),t=t.slice(0,u)),{type:t,name:n}}))}function onRemove(t){return function(){var n=this.__on;if(n){for(var u,c=0,l=-1,d=n.length;c<d;++c)u=n[c],t.type&&u.type!==t.type||u.name!==t.name?n[++l]=u:this.removeEventListener(u.type,u.listener,u.options);++l?n.length=l:delete this.__on}}}function onAdd(t,n,u){return function(){var c,l=this.__on,d=contextListener(n);if(l)for(var h=0,p=l.length;h<p;++h)if((c=l[h]).type===t.type&&c.name===t.name)return this.removeEventListener(c.type,c.listener,c.options),this.addEventListener(c.type,c.listener=d,c.options=u),void(c.value=n);this.addEventListener(t.type,d,u),c={type:t.type,name:t.name,value:n,listener:d,options:u},l?l.push(c):this.__on=[c]}}u.r(n),n["default"]=function(t,n,u){var c,l,d=parseTypenames(t+""),h=d.length;if(!(arguments.length<2)){for(p=n?onAdd:onRemove,c=0;c<h;++c)this.each(p(d[c],n,u));return this}var p=this.node().__on;if(p)for(var m,_=0,g=p.length;_<g;++_)for(c=0,m=p[_];c<h;++c)if((l=d[c]).type===m.type&&l.name===m.name)return m.value}},"./node_modules/d3-selection/src/selection/order.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){for(var t=this._groups,n=-1,u=t.length;++n<u;)for(var c,l=t[n],d=l.length-1,h=l[d];--d>=0;)(c=l[d])&&(h&&4^c.compareDocumentPosition(h)&&h.parentNode.insertBefore(c,h),h=c);return this}},"./node_modules/d3-selection/src/selection/property.js":function(t,n,u){"use strict";function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,n){return function(){this[t]=n}}function propertyFunction(t,n){return function(){var u=n.apply(this,arguments);null==u?delete this[t]:this[t]=u}}u.r(n),n["default"]=function(t,n){return arguments.length>1?this.each((null==n?propertyRemove:"function"===typeof n?propertyFunction:propertyConstant)(t,n)):this.node()[t]}},"./node_modules/d3-selection/src/selection/raise.js":function(t,n,u){"use strict";function raise(){this.nextSibling&&this.parentNode.appendChild(this)}u.r(n),n["default"]=function(){return this.each(raise)}},"./node_modules/d3-selection/src/selection/remove.js":function(t,n,u){"use strict";function remove(){var t=this.parentNode;t&&t.removeChild(this)}u.r(n),n["default"]=function(){return this.each(remove)}},"./node_modules/d3-selection/src/selection/select.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js"),l=u("./node_modules/d3-selection/src/selector.js");n["default"]=function(t){"function"!==typeof t&&(t=Object(l["default"])(t));for(var n=this._groups,u=n.length,d=new Array(u),h=0;h<u;++h)for(var p,m,_=n[h],g=_.length,b=d[h]=new Array(g),v=0;v<g;++v)(p=_[v])&&(m=t.call(p,p.__data__,v,_))&&("__data__"in p&&(m.__data__=p.__data__),b[v]=m);return new c["Selection"](d,this._parents)}},"./node_modules/d3-selection/src/selection/selectAll.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js"),l=u("./node_modules/d3-selection/src/array.js"),d=u("./node_modules/d3-selection/src/selectorAll.js");function arrayAll(t){return function(){return Object(l["default"])(t.apply(this,arguments))}}n["default"]=function(t){t="function"===typeof t?arrayAll(t):Object(d["default"])(t);for(var n=this._groups,u=n.length,l=[],h=[],p=0;p<u;++p)for(var m,_=n[p],g=_.length,b=0;b<g;++b)(m=_[b])&&(l.push(t.call(m,m.__data__,b,_)),h.push(m));return new c["Selection"](l,h)}},"./node_modules/d3-selection/src/selection/selectChild.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/matcher.js"),l=Array.prototype.find;function childFind(t){return function(){return l.call(this.children,t)}}function childFirst(){return this.firstElementChild}n["default"]=function(t){return this.select(null==t?childFirst:childFind("function"===typeof t?t:Object(c["childMatcher"])(t)))}},"./node_modules/d3-selection/src/selection/selectChildren.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/matcher.js"),l=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(t){return function(){return l.call(this.children,t)}}n["default"]=function(t){return this.selectAll(null==t?children:childrenFilter("function"===typeof t?t:Object(c["childMatcher"])(t)))}},"./node_modules/d3-selection/src/selection/size.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){let t=0;for(const n of this)++t;return t}},"./node_modules/d3-selection/src/selection/sort.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js");function ascending(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}n["default"]=function(t){function compareNode(n,u){return n&&u?t(n.__data__,u.__data__):!n-!u}t||(t=ascending);for(var n=this._groups,u=n.length,l=new Array(u),d=0;d<u;++d){for(var h,p=n[d],m=p.length,_=l[d]=new Array(m),g=0;g<m;++g)(h=p[g])&&(_[g]=h);_.sort(compareNode)}return new c["Selection"](l,this._parents).order()}},"./node_modules/d3-selection/src/selection/sparse.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return new Array(t.length)}},"./node_modules/d3-selection/src/selection/style.js":function(t,n,u){"use strict";u.r(n),u.d(n,"styleValue",(function(){return styleValue}));var c=u("./node_modules/d3-selection/src/window.js");function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,n,u){return function(){this.style.setProperty(t,n,u)}}function styleFunction(t,n,u){return function(){var c=n.apply(this,arguments);null==c?this.style.removeProperty(t):this.style.setProperty(t,c,u)}}function styleValue(t,n){return t.style.getPropertyValue(n)||Object(c["default"])(t).getComputedStyle(t,null).getPropertyValue(n)}n["default"]=function(t,n,u){return arguments.length>1?this.each((null==n?styleRemove:"function"===typeof n?styleFunction:styleConstant)(t,n,null==u?"":u)):styleValue(this.node(),t)}},"./node_modules/d3-selection/src/selection/text.js":function(t,n,u){"use strict";function textRemove(){this.textContent=""}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}u.r(n),n["default"]=function(t){return arguments.length?this.each(null==t?textRemove:("function"===typeof t?textFunction:textConstant)(t)):this.node().textContent}},"./node_modules/d3-selection/src/selector.js":function(t,n,u){"use strict";function none(){}u.r(n),n["default"]=function(t){return null==t?none:function(){return this.querySelector(t)}}},"./node_modules/d3-selection/src/selectorAll.js":function(t,n,u){"use strict";function empty(){return[]}u.r(n),n["default"]=function(t){return null==t?empty:function(){return this.querySelectorAll(t)}}},"./node_modules/d3-selection/src/sourceEvent.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){let n;while(n=t.sourceEvent)t=n;return t}},"./node_modules/d3-selection/src/window.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},"./node_modules/d3-shape/src/arc.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-path/src/path.js"),l=u("./node_modules/d3-shape/src/constant.js"),d=u("./node_modules/d3-shape/src/math.js");function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect(t,n,u,c,l,h,p,m){var _=u-t,g=c-n,b=p-l,v=m-h,U=v*_-b*g;if(!(U*U<d["epsilon"]))return U=(b*(n-h)-v*(t-l))/U,[t+U*_,n+U*g]}function cornerTangents(t,n,u,c,l,h,p){var m=t-u,_=n-c,g=(p?h:-h)/Object(d["sqrt"])(m*m+_*_),b=g*_,v=-g*m,U=t+b,G=n+v,W=u+b,X=c+v,q=(U+W)/2,K=(G+X)/2,Y=W-U,Q=X-G,Z=Y*Y+Q*Q,$=l-h,J=U*X-W*G,ee=(Q<0?-1:1)*Object(d["sqrt"])(Object(d["max"])(0,$*$*Z-J*J)),te=(J*Q-Y*ee)/Z,re=(-J*Y-Q*ee)/Z,ne=(J*Q+Y*ee)/Z,ie=(-J*Y+Q*ee)/Z,oe=te-q,se=re-K,ae=ne-q,ue=ie-K;return oe*oe+se*se>ae*ae+ue*ue&&(te=ne,re=ie),{cx:te,cy:re,x01:-b,y01:-v,x11:te*(l/$-1),y11:re*(l/$-1)}}n["default"]=function(){var t=arcInnerRadius,n=arcOuterRadius,u=Object(l["default"])(0),h=null,p=arcStartAngle,m=arcEndAngle,_=arcPadAngle,g=null;function arc(){var l,b,v=+t.apply(this,arguments),U=+n.apply(this,arguments),G=p.apply(this,arguments)-d["halfPi"],W=m.apply(this,arguments)-d["halfPi"],X=Object(d["abs"])(W-G),q=W>G;if(g||(g=l=Object(c["default"])()),U<v&&(b=U,U=v,v=b),U>d["epsilon"])if(X>d["tau"]-d["epsilon"])g.moveTo(U*Object(d["cos"])(G),U*Object(d["sin"])(G)),g.arc(0,0,U,G,W,!q),v>d["epsilon"]&&(g.moveTo(v*Object(d["cos"])(W),v*Object(d["sin"])(W)),g.arc(0,0,v,W,G,q));else{var K,Y,Q=G,Z=W,$=G,J=W,ee=X,te=X,re=_.apply(this,arguments)/2,ne=re>d["epsilon"]&&(h?+h.apply(this,arguments):Object(d["sqrt"])(v*v+U*U)),ie=Object(d["min"])(Object(d["abs"])(U-v)/2,+u.apply(this,arguments)),oe=ie,se=ie;if(ne>d["epsilon"]){var ae=Object(d["asin"])(ne/v*Object(d["sin"])(re)),ue=Object(d["asin"])(ne/U*Object(d["sin"])(re));(ee-=2*ae)>d["epsilon"]?(ae*=q?1:-1,$+=ae,J-=ae):(ee=0,$=J=(G+W)/2),(te-=2*ue)>d["epsilon"]?(ue*=q?1:-1,Q+=ue,Z-=ue):(te=0,Q=Z=(G+W)/2)}var ce=U*Object(d["cos"])(Q),le=U*Object(d["sin"])(Q),de=v*Object(d["cos"])(J),he=v*Object(d["sin"])(J);if(ie>d["epsilon"]){var fe,pe=U*Object(d["cos"])(Z),me=U*Object(d["sin"])(Z),_e=v*Object(d["cos"])($),ge=v*Object(d["sin"])($);if(X<d["pi"]&&(fe=intersect(ce,le,_e,ge,pe,me,de,he))){var be=ce-fe[0],ve=le-fe[1],ye=pe-fe[0],xe=me-fe[1],Me=1/Object(d["sin"])(Object(d["acos"])((be*ye+ve*xe)/(Object(d["sqrt"])(be*be+ve*ve)*Object(d["sqrt"])(ye*ye+xe*xe)))/2),Te=Object(d["sqrt"])(fe[0]*fe[0]+fe[1]*fe[1]);oe=Object(d["min"])(ie,(v-Te)/(Me-1)),se=Object(d["min"])(ie,(U-Te)/(Me+1))}}te>d["epsilon"]?se>d["epsilon"]?(K=cornerTangents(_e,ge,ce,le,U,se,q),Y=cornerTangents(pe,me,de,he,U,se,q),g.moveTo(K.cx+K.x01,K.cy+K.y01),se<ie?g.arc(K.cx,K.cy,se,Object(d["atan2"])(K.y01,K.x01),Object(d["atan2"])(Y.y01,Y.x01),!q):(g.arc(K.cx,K.cy,se,Object(d["atan2"])(K.y01,K.x01),Object(d["atan2"])(K.y11,K.x11),!q),g.arc(0,0,U,Object(d["atan2"])(K.cy+K.y11,K.cx+K.x11),Object(d["atan2"])(Y.cy+Y.y11,Y.cx+Y.x11),!q),g.arc(Y.cx,Y.cy,se,Object(d["atan2"])(Y.y11,Y.x11),Object(d["atan2"])(Y.y01,Y.x01),!q))):(g.moveTo(ce,le),g.arc(0,0,U,Q,Z,!q)):g.moveTo(ce,le),v>d["epsilon"]&&ee>d["epsilon"]?oe>d["epsilon"]?(K=cornerTangents(de,he,pe,me,v,-oe,q),Y=cornerTangents(ce,le,_e,ge,v,-oe,q),g.lineTo(K.cx+K.x01,K.cy+K.y01),oe<ie?g.arc(K.cx,K.cy,oe,Object(d["atan2"])(K.y01,K.x01),Object(d["atan2"])(Y.y01,Y.x01),!q):(g.arc(K.cx,K.cy,oe,Object(d["atan2"])(K.y01,K.x01),Object(d["atan2"])(K.y11,K.x11),!q),g.arc(0,0,v,Object(d["atan2"])(K.cy+K.y11,K.cx+K.x11),Object(d["atan2"])(Y.cy+Y.y11,Y.cx+Y.x11),q),g.arc(Y.cx,Y.cy,oe,Object(d["atan2"])(Y.y11,Y.x11),Object(d["atan2"])(Y.y01,Y.x01),!q))):g.arc(0,0,v,J,$,q):g.lineTo(de,he)}else g.moveTo(0,0);if(g.closePath(),l)return g=null,l+""||null}return arc.centroid=function(){var u=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,c=(+p.apply(this,arguments)+ +m.apply(this,arguments))/2-d["pi"]/2;return[Object(d["cos"])(c)*u,Object(d["sin"])(c)*u]},arc.innerRadius=function(n){return arguments.length?(t="function"===typeof n?n:Object(l["default"])(+n),arc):t},arc.outerRadius=function(t){return arguments.length?(n="function"===typeof t?t:Object(l["default"])(+t),arc):n},arc.cornerRadius=function(t){return arguments.length?(u="function"===typeof t?t:Object(l["default"])(+t),arc):u},arc.padRadius=function(t){return arguments.length?(h=null==t?null:"function"===typeof t?t:Object(l["default"])(+t),arc):h},arc.startAngle=function(t){return arguments.length?(p="function"===typeof t?t:Object(l["default"])(+t),arc):p},arc.endAngle=function(t){return arguments.length?(m="function"===typeof t?t:Object(l["default"])(+t),arc):m},arc.padAngle=function(t){return arguments.length?(_="function"===typeof t?t:Object(l["default"])(+t),arc):_},arc.context=function(t){return arguments.length?(g=null==t?null:t,arc):g},arc}},"./node_modules/d3-shape/src/area.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-path/src/path.js"),l=u("./node_modules/d3-shape/src/array.js"),d=u("./node_modules/d3-shape/src/constant.js"),h=u("./node_modules/d3-shape/src/curve/linear.js"),p=u("./node_modules/d3-shape/src/line.js"),m=u("./node_modules/d3-shape/src/point.js");n["default"]=function(t,n,u){var _=null,g=Object(d["default"])(!0),b=null,v=h["default"],U=null;function area(d){var h,p,m,G,W,X=(d=Object(l["default"])(d)).length,q=!1,K=new Array(X),Y=new Array(X);for(null==b&&(U=v(W=Object(c["default"])())),h=0;h<=X;++h){if(!(h<X&&g(G=d[h],h,d))===q)if(q=!q)p=h,U.areaStart(),U.lineStart();else{for(U.lineEnd(),U.lineStart(),m=h-1;m>=p;--m)U.point(K[m],Y[m]);U.lineEnd(),U.areaEnd()}q&&(K[h]=+t(G,h,d),Y[h]=+n(G,h,d),U.point(_?+_(G,h,d):K[h],u?+u(G,h,d):Y[h]))}if(W)return U=null,W+""||null}function arealine(){return Object(p["default"])().defined(g).curve(v).context(b)}return t="function"===typeof t?t:void 0===t?m["x"]:Object(d["default"])(+t),n="function"===typeof n?n:void 0===n?Object(d["default"])(0):Object(d["default"])(+n),u="function"===typeof u?u:void 0===u?m["y"]:Object(d["default"])(+u),area.x=function(n){return arguments.length?(t="function"===typeof n?n:Object(d["default"])(+n),_=null,area):t},area.x0=function(n){return arguments.length?(t="function"===typeof n?n:Object(d["default"])(+n),area):t},area.x1=function(t){return arguments.length?(_=null==t?null:"function"===typeof t?t:Object(d["default"])(+t),area):_},area.y=function(t){return arguments.length?(n="function"===typeof t?t:Object(d["default"])(+t),u=null,area):n},area.y0=function(t){return arguments.length?(n="function"===typeof t?t:Object(d["default"])(+t),area):n},area.y1=function(t){return arguments.length?(u=null==t?null:"function"===typeof t?t:Object(d["default"])(+t),area):u},area.lineX0=area.lineY0=function(){return arealine().x(t).y(n)},area.lineY1=function(){return arealine().x(t).y(u)},area.lineX1=function(){return arealine().x(_).y(n)},area.defined=function(t){return arguments.length?(g="function"===typeof t?t:Object(d["default"])(!!t),area):g},area.curve=function(t){return arguments.length?(v=t,null!=b&&(U=v(b)),area):v},area.context=function(t){return arguments.length?(null==t?b=U=null:U=v(b=t),area):b},area}},"./node_modules/d3-shape/src/areaRadial.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/curve/radial.js"),l=u("./node_modules/d3-shape/src/area.js"),d=u("./node_modules/d3-shape/src/lineRadial.js");n["default"]=function(){var t=Object(l["default"])().curve(c["curveRadialLinear"]),n=t.curve,u=t.lineX0,h=t.lineX1,p=t.lineY0,m=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Object(d["lineRadial"])(u())},delete t.lineX0,t.lineEndAngle=function(){return Object(d["lineRadial"])(h())},delete t.lineX1,t.lineInnerRadius=function(){return Object(d["lineRadial"])(p())},delete t.lineY0,t.lineOuterRadius=function(){return Object(d["lineRadial"])(m())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Object(c["default"])(t)):n()._curve},t}},"./node_modules/d3-shape/src/array.js":function(t,n,u){"use strict";u.r(n),u.d(n,"slice",(function(){return c}));var c=Array.prototype.slice;n["default"]=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}},"./node_modules/d3-shape/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return function constant(){return t}}},"./node_modules/d3-shape/src/curve/basis.js":function(t,n,u){"use strict";function point(t,n,u){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+u)/6)}function Basis(t){this._context=t}u.r(n),u.d(n,"point",(function(){return point})),u.d(n,"Basis",(function(){return Basis})),Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},n["default"]=function(t){return new Basis(t)}},"./node_modules/d3-shape/src/curve/basisClosed.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/noop.js"),l=u("./node_modules/d3-shape/src/curve/basis.js");function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:c["default"],areaEnd:c["default"],lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Object(l["point"])(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},n["default"]=function(t){return new BasisClosed(t)}},"./node_modules/d3-shape/src/curve/basisOpen.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/curve/basis.js");function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var u=(this._x0+4*this._x1+t)/6,l=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(u,l):this._context.moveTo(u,l);break;case 3:this._point=4;default:Object(c["point"])(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},n["default"]=function(t){return new BasisOpen(t)}},"./node_modules/d3-shape/src/curve/bump.js":function(t,n,u){"use strict";u.r(n),u.d(n,"bumpX",(function(){return bumpX})),u.d(n,"bumpY",(function(){return bumpY})),u.d(n,"bumpRadial",(function(){return bumpRadial}));var c=u("./node_modules/d3-shape/src/pointRadial.js");class Bump{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}this._x0=t,this._y0=n}}class BumpRadial{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,0===this._point++)this._x0=t,this._y0=n;else{const u=Object(c["default"])(this._x0,this._y0),l=Object(c["default"])(this._x0,this._y0=(this._y0+n)/2),d=Object(c["default"])(t,this._y0),h=Object(c["default"])(t,n);this._context.moveTo(...u),this._context.bezierCurveTo(...l,...d,...h)}}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}function bumpRadial(t){return new BumpRadial(t)}},"./node_modules/d3-shape/src/curve/bundle.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/curve/basis.js");function Bundle(t,n){this._basis=new c["Basis"](t),this._beta=n}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,u=t.length-1;if(u>0){var c,l=t[0],d=n[0],h=t[u]-l,p=n[u]-d,m=-1;while(++m<=u)c=m/u,this._basis.point(this._beta*t[m]+(1-this._beta)*(l+c*h),this._beta*n[m]+(1-this._beta)*(d+c*p))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}},n["default"]=function custom(t){function bundle(n){return 1===t?new c["Basis"](n):new Bundle(n,t)}return bundle.beta=function(t){return custom(+t)},bundle}(.85)},"./node_modules/d3-shape/src/curve/cardinal.js":function(t,n,u){"use strict";function point(t,n,u){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-u),t._x2,t._y2)}function Cardinal(t,n){this._context=t,this._k=(1-n)/6}u.r(n),u.d(n,"point",(function(){return point})),u.d(n,"Cardinal",(function(){return Cardinal})),Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:point(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n["default"]=function custom(t){function cardinal(n){return new Cardinal(n,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0)},"./node_modules/d3-shape/src/curve/cardinalClosed.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CardinalClosed",(function(){return CardinalClosed}));var c=u("./node_modules/d3-shape/src/noop.js"),l=u("./node_modules/d3-shape/src/curve/cardinal.js");function CardinalClosed(t,n){this._context=t,this._k=(1-n)/6}CardinalClosed.prototype={areaStart:c["default"],areaEnd:c["default"],lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Object(l["point"])(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n["default"]=function custom(t){function cardinal(n){return new CardinalClosed(n,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0)},"./node_modules/d3-shape/src/curve/cardinalOpen.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CardinalOpen",(function(){return CardinalOpen}));var c=u("./node_modules/d3-shape/src/curve/cardinal.js");function CardinalOpen(t,n){this._context=t,this._k=(1-n)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(c["point"])(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n["default"]=function custom(t){function cardinal(n){return new CardinalOpen(n,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0)},"./node_modules/d3-shape/src/curve/catmullRom.js":function(t,n,u){"use strict";u.r(n),u.d(n,"point",(function(){return point}));var c=u("./node_modules/d3-shape/src/math.js"),l=u("./node_modules/d3-shape/src/curve/cardinal.js");function point(t,n,u){var l=t._x1,d=t._y1,h=t._x2,p=t._y2;if(t._l01_a>c["epsilon"]){var m=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,_=3*t._l01_a*(t._l01_a+t._l12_a);l=(l*m-t._x0*t._l12_2a+t._x2*t._l01_2a)/_,d=(d*m-t._y0*t._l12_2a+t._y2*t._l01_2a)/_}if(t._l23_a>c["epsilon"]){var g=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,b=3*t._l23_a*(t._l23_a+t._l12_a);h=(h*g+t._x1*t._l23_2a-n*t._l12_2a)/b,p=(p*g+t._y1*t._l23_2a-u*t._l12_2a)/b}t._context.bezierCurveTo(l,d,h,p,t._x2,t._y2)}function CatmullRom(t,n){this._context=t,this._alpha=n}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var u=this._x2-t,c=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+c*c,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:point(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n["default"]=function custom(t){function catmullRom(n){return t?new CatmullRom(n,t):new l["Cardinal"](n,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5)},"./node_modules/d3-shape/src/curve/catmullRomClosed.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/curve/cardinalClosed.js"),l=u("./node_modules/d3-shape/src/noop.js"),d=u("./node_modules/d3-shape/src/curve/catmullRom.js");function CatmullRomClosed(t,n){this._context=t,this._alpha=n}CatmullRomClosed.prototype={areaStart:l["default"],areaEnd:l["default"],lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){if(t=+t,n=+n,this._point){var u=this._x2-t,c=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+c*c,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Object(d["point"])(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n["default"]=function custom(t){function catmullRom(n){return t?new CatmullRomClosed(n,t):new c["CardinalClosed"](n,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5)},"./node_modules/d3-shape/src/curve/catmullRomOpen.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/curve/cardinalOpen.js"),l=u("./node_modules/d3-shape/src/curve/catmullRom.js");function CatmullRomOpen(t,n){this._context=t,this._alpha=n}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var u=this._x2-t,c=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+c*c,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(l["point"])(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},n["default"]=function custom(t){function catmullRom(n){return t?new CatmullRomOpen(n,t):new c["CardinalOpen"](n,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5)},"./node_modules/d3-shape/src/curve/linear.js":function(t,n,u){"use strict";function Linear(t){this._context=t}u.r(n),Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}},n["default"]=function(t){return new Linear(t)}},"./node_modules/d3-shape/src/curve/linearClosed.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/noop.js");function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:c["default"],areaEnd:c["default"],lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},n["default"]=function(t){return new LinearClosed(t)}},"./node_modules/d3-shape/src/curve/monotone.js":function(t,n,u){"use strict";function sign(t){return t<0?-1:1}function slope3(t,n,u){var c=t._x1-t._x0,l=n-t._x1,d=(t._y1-t._y0)/(c||l<0&&-0),h=(u-t._y1)/(l||c<0&&-0),p=(d*l+h*c)/(c+l);return(sign(d)+sign(h))*Math.min(Math.abs(d),Math.abs(h),.5*Math.abs(p))||0}function slope2(t,n){var u=t._x1-t._x0;return u?(3*(t._y1-t._y0)/u-n)/2:n}function point(t,n,u){var c=t._x0,l=t._y0,d=t._x1,h=t._y1,p=(d-c)/3;t._context.bezierCurveTo(c+p,l+p*n,d-p,h-p*u,d,h)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}u.r(n),u.d(n,"monotoneX",(function(){return monotoneX})),u.d(n,"monotoneY",(function(){return monotoneY})),MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var u=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,u=slope3(this,t,n)),u);break;default:point(this,this._t0,u=slope3(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=u}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,n){MonotoneX.prototype.point.call(this,n,t)},ReflectContext.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,u,c,l,d){this._context.bezierCurveTo(n,t,c,u,d,l)}}},"./node_modules/d3-shape/src/curve/natural.js":function(t,n,u){"use strict";function Natural(t){this._context=t}function controlPoints(t){var n,u,c=t.length-1,l=new Array(c),d=new Array(c),h=new Array(c);for(l[0]=0,d[0]=2,h[0]=t[0]+2*t[1],n=1;n<c-1;++n)l[n]=1,d[n]=4,h[n]=4*t[n]+2*t[n+1];for(l[c-1]=2,d[c-1]=7,h[c-1]=8*t[c-1]+t[c],n=1;n<c;++n)u=l[n]/d[n-1],d[n]-=u,h[n]-=u*h[n-1];for(l[c-1]=h[c-1]/d[c-1],n=c-2;n>=0;--n)l[n]=(h[n]-l[n+1])/d[n];for(d[c-1]=(t[c]+l[c-1])/2,n=0;n<c-1;++n)d[n]=2*t[n+1]-l[n+1];return[l,d]}u.r(n),Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,u=t.length;if(u)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===u)this._context.lineTo(t[1],n[1]);else for(var c=controlPoints(t),l=controlPoints(n),d=0,h=1;h<u;++d,++h)this._context.bezierCurveTo(c[0][d],l[0][d],c[1][d],l[1][d],t[h],n[h]);(this._line||0!==this._line&&1===u)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},n["default"]=function(t){return new Natural(t)}},"./node_modules/d3-shape/src/curve/radial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"curveRadialLinear",(function(){return l})),u.d(n,"default",(function(){return curveRadial}));var c=u("./node_modules/d3-shape/src/curve/linear.js"),l=curveRadial(c["default"]);function Radial(t){this._curve=t}function curveRadial(t){function radial(n){return new Radial(t(n))}return radial._curve=t,radial}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}}},"./node_modules/d3-shape/src/curve/step.js":function(t,n,u){"use strict";function Step(t,n){this._context=t,this._t=n}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}u.r(n),u.d(n,"stepBefore",(function(){return stepBefore})),u.d(n,"stepAfter",(function(){return stepAfter})),Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var u=this._x*(1-this._t)+t*this._t;this._context.lineTo(u,this._y),this._context.lineTo(u,n)}break}this._x=t,this._y=n}},n["default"]=function(t){return new Step(t,.5)}},"./node_modules/d3-shape/src/descending.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}},"./node_modules/d3-shape/src/identity.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){return t}},"./node_modules/d3-shape/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/arc.js");u.d(n,"arc",(function(){return c["default"]}));var l=u("./node_modules/d3-shape/src/area.js");u.d(n,"area",(function(){return l["default"]}));var d=u("./node_modules/d3-shape/src/line.js");u.d(n,"line",(function(){return d["default"]}));var h=u("./node_modules/d3-shape/src/pie.js");u.d(n,"pie",(function(){return h["default"]}));var p=u("./node_modules/d3-shape/src/areaRadial.js");u.d(n,"areaRadial",(function(){return p["default"]})),u.d(n,"radialArea",(function(){return p["default"]}));var m=u("./node_modules/d3-shape/src/lineRadial.js");u.d(n,"lineRadial",(function(){return m["default"]})),u.d(n,"radialLine",(function(){return m["default"]}));var _=u("./node_modules/d3-shape/src/pointRadial.js");u.d(n,"pointRadial",(function(){return _["default"]}));var g=u("./node_modules/d3-shape/src/link.js");u.d(n,"link",(function(){return g["link"]})),u.d(n,"linkHorizontal",(function(){return g["linkHorizontal"]})),u.d(n,"linkVertical",(function(){return g["linkVertical"]})),u.d(n,"linkRadial",(function(){return g["linkRadial"]}));var b=u("./node_modules/d3-shape/src/symbol.js");u.d(n,"symbol",(function(){return b["default"]})),u.d(n,"symbolsStroke",(function(){return b["symbolsStroke"]})),u.d(n,"symbolsFill",(function(){return b["symbolsFill"]})),u.d(n,"symbols",(function(){return b["symbolsFill"]}));var v=u("./node_modules/d3-shape/src/symbol/asterisk.js");u.d(n,"symbolAsterisk",(function(){return v["default"]}));var U=u("./node_modules/d3-shape/src/symbol/circle.js");u.d(n,"symbolCircle",(function(){return U["default"]}));var G=u("./node_modules/d3-shape/src/symbol/cross.js");u.d(n,"symbolCross",(function(){return G["default"]}));var W=u("./node_modules/d3-shape/src/symbol/diamond.js");u.d(n,"symbolDiamond",(function(){return W["default"]}));var X=u("./node_modules/d3-shape/src/symbol/diamond2.js");u.d(n,"symbolDiamond2",(function(){return X["default"]}));var q=u("./node_modules/d3-shape/src/symbol/plus.js");u.d(n,"symbolPlus",(function(){return q["default"]}));var K=u("./node_modules/d3-shape/src/symbol/square.js");u.d(n,"symbolSquare",(function(){return K["default"]}));var Y=u("./node_modules/d3-shape/src/symbol/square2.js");u.d(n,"symbolSquare2",(function(){return Y["default"]}));var Q=u("./node_modules/d3-shape/src/symbol/star.js");u.d(n,"symbolStar",(function(){return Q["default"]}));var Z=u("./node_modules/d3-shape/src/symbol/triangle.js");u.d(n,"symbolTriangle",(function(){return Z["default"]}));var $=u("./node_modules/d3-shape/src/symbol/triangle2.js");u.d(n,"symbolTriangle2",(function(){return $["default"]}));var J=u("./node_modules/d3-shape/src/symbol/wye.js");u.d(n,"symbolWye",(function(){return J["default"]}));var ee=u("./node_modules/d3-shape/src/symbol/x.js");u.d(n,"symbolX",(function(){return ee["default"]}));var te=u("./node_modules/d3-shape/src/curve/basisClosed.js");u.d(n,"curveBasisClosed",(function(){return te["default"]}));var re=u("./node_modules/d3-shape/src/curve/basisOpen.js");u.d(n,"curveBasisOpen",(function(){return re["default"]}));var ne=u("./node_modules/d3-shape/src/curve/basis.js");u.d(n,"curveBasis",(function(){return ne["default"]}));var ie=u("./node_modules/d3-shape/src/curve/bump.js");u.d(n,"curveBumpX",(function(){return ie["bumpX"]})),u.d(n,"curveBumpY",(function(){return ie["bumpY"]}));var oe=u("./node_modules/d3-shape/src/curve/bundle.js");u.d(n,"curveBundle",(function(){return oe["default"]}));var se=u("./node_modules/d3-shape/src/curve/cardinalClosed.js");u.d(n,"curveCardinalClosed",(function(){return se["default"]}));var ae=u("./node_modules/d3-shape/src/curve/cardinalOpen.js");u.d(n,"curveCardinalOpen",(function(){return ae["default"]}));var ue=u("./node_modules/d3-shape/src/curve/cardinal.js");u.d(n,"curveCardinal",(function(){return ue["default"]}));var ce=u("./node_modules/d3-shape/src/curve/catmullRomClosed.js");u.d(n,"curveCatmullRomClosed",(function(){return ce["default"]}));var le=u("./node_modules/d3-shape/src/curve/catmullRomOpen.js");u.d(n,"curveCatmullRomOpen",(function(){return le["default"]}));var de=u("./node_modules/d3-shape/src/curve/catmullRom.js");u.d(n,"curveCatmullRom",(function(){return de["default"]}));var he=u("./node_modules/d3-shape/src/curve/linearClosed.js");u.d(n,"curveLinearClosed",(function(){return he["default"]}));var fe=u("./node_modules/d3-shape/src/curve/linear.js");u.d(n,"curveLinear",(function(){return fe["default"]}));var pe=u("./node_modules/d3-shape/src/curve/monotone.js");u.d(n,"curveMonotoneX",(function(){return pe["monotoneX"]})),u.d(n,"curveMonotoneY",(function(){return pe["monotoneY"]}));var me=u("./node_modules/d3-shape/src/curve/natural.js");u.d(n,"curveNatural",(function(){return me["default"]}));var _e=u("./node_modules/d3-shape/src/curve/step.js");u.d(n,"curveStep",(function(){return _e["default"]})),u.d(n,"curveStepAfter",(function(){return _e["stepAfter"]})),u.d(n,"curveStepBefore",(function(){return _e["stepBefore"]}));var ge=u("./node_modules/d3-shape/src/stack.js");u.d(n,"stack",(function(){return ge["default"]}));var be=u("./node_modules/d3-shape/src/offset/expand.js");u.d(n,"stackOffsetExpand",(function(){return be["default"]}));var ve=u("./node_modules/d3-shape/src/offset/diverging.js");u.d(n,"stackOffsetDiverging",(function(){return ve["default"]}));var ye=u("./node_modules/d3-shape/src/offset/none.js");u.d(n,"stackOffsetNone",(function(){return ye["default"]}));var xe=u("./node_modules/d3-shape/src/offset/silhouette.js");u.d(n,"stackOffsetSilhouette",(function(){return xe["default"]}));var Me=u("./node_modules/d3-shape/src/offset/wiggle.js");u.d(n,"stackOffsetWiggle",(function(){return Me["default"]}));var Te=u("./node_modules/d3-shape/src/order/appearance.js");u.d(n,"stackOrderAppearance",(function(){return Te["default"]}));var Se=u("./node_modules/d3-shape/src/order/ascending.js");u.d(n,"stackOrderAscending",(function(){return Se["default"]}));var Ce=u("./node_modules/d3-shape/src/order/descending.js");u.d(n,"stackOrderDescending",(function(){return Ce["default"]}));var Ee=u("./node_modules/d3-shape/src/order/insideOut.js");u.d(n,"stackOrderInsideOut",(function(){return Ee["default"]}));var Oe=u("./node_modules/d3-shape/src/order/none.js");u.d(n,"stackOrderNone",(function(){return Oe["default"]}));var Pe=u("./node_modules/d3-shape/src/order/reverse.js");u.d(n,"stackOrderReverse",(function(){return Pe["default"]}))},"./node_modules/d3-shape/src/line.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-path/src/path.js"),l=u("./node_modules/d3-shape/src/array.js"),d=u("./node_modules/d3-shape/src/constant.js"),h=u("./node_modules/d3-shape/src/curve/linear.js"),p=u("./node_modules/d3-shape/src/point.js");n["default"]=function(t,n){var u=Object(d["default"])(!0),m=null,_=h["default"],g=null;function line(d){var h,p,b,v=(d=Object(l["default"])(d)).length,U=!1;for(null==m&&(g=_(b=Object(c["default"])())),h=0;h<=v;++h)!(h<v&&u(p=d[h],h,d))===U&&((U=!U)?g.lineStart():g.lineEnd()),U&&g.point(+t(p,h,d),+n(p,h,d));if(b)return g=null,b+""||null}return t="function"===typeof t?t:void 0===t?p["x"]:Object(d["default"])(t),n="function"===typeof n?n:void 0===n?p["y"]:Object(d["default"])(n),line.x=function(n){return arguments.length?(t="function"===typeof n?n:Object(d["default"])(+n),line):t},line.y=function(t){return arguments.length?(n="function"===typeof t?t:Object(d["default"])(+t),line):n},line.defined=function(t){return arguments.length?(u="function"===typeof t?t:Object(d["default"])(!!t),line):u},line.curve=function(t){return arguments.length?(_=t,null!=m&&(g=_(m)),line):_},line.context=function(t){return arguments.length?(null==t?m=g=null:g=_(m=t),line):m},line}},"./node_modules/d3-shape/src/lineRadial.js":function(t,n,u){"use strict";u.r(n),u.d(n,"lineRadial",(function(){return lineRadial}));var c=u("./node_modules/d3-shape/src/curve/radial.js"),l=u("./node_modules/d3-shape/src/line.js");function lineRadial(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Object(c["default"])(t)):n()._curve},t}n["default"]=function(){return lineRadial(Object(l["default"])().curve(c["curveRadialLinear"]))}},"./node_modules/d3-shape/src/link.js":function(t,n,u){"use strict";u.r(n),u.d(n,"link",(function(){return link})),u.d(n,"linkHorizontal",(function(){return linkHorizontal})),u.d(n,"linkVertical",(function(){return linkVertical})),u.d(n,"linkRadial",(function(){return linkRadial}));var c=u("./node_modules/d3-path/src/path.js"),l=u("./node_modules/d3-shape/src/array.js"),d=u("./node_modules/d3-shape/src/constant.js"),h=u("./node_modules/d3-shape/src/curve/bump.js"),p=u("./node_modules/d3-shape/src/point.js");function linkSource(t){return t.source}function linkTarget(t){return t.target}function link(t){let n=linkSource,u=linkTarget,h=p["x"],m=p["y"],_=null,g=null;function link(){let d;const p=l["slice"].call(arguments),b=n.apply(this,p),v=u.apply(this,p);if(null==_&&(g=t(d=Object(c["default"])())),g.lineStart(),p[0]=b,g.point(+h.apply(this,p),+m.apply(this,p)),p[0]=v,g.point(+h.apply(this,p),+m.apply(this,p)),g.lineEnd(),d)return g=null,d+""||null}return link.source=function(t){return arguments.length?(n=t,link):n},link.target=function(t){return arguments.length?(u=t,link):u},link.x=function(t){return arguments.length?(h="function"===typeof t?t:Object(d["default"])(+t),link):h},link.y=function(t){return arguments.length?(m="function"===typeof t?t:Object(d["default"])(+t),link):m},link.context=function(n){return arguments.length?(null==n?_=g=null:g=t(_=n),link):_},link}function linkHorizontal(){return link(h["bumpX"])}function linkVertical(){return link(h["bumpY"])}function linkRadial(){const t=link(h["bumpRadial"]);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}},"./node_modules/d3-shape/src/math.js":function(t,n,u){"use strict";u.r(n),u.d(n,"abs",(function(){return c})),u.d(n,"atan2",(function(){return l})),u.d(n,"cos",(function(){return d})),u.d(n,"max",(function(){return h})),u.d(n,"min",(function(){return p})),u.d(n,"sin",(function(){return m})),u.d(n,"sqrt",(function(){return _})),u.d(n,"epsilon",(function(){return g})),u.d(n,"pi",(function(){return b})),u.d(n,"halfPi",(function(){return v})),u.d(n,"tau",(function(){return U})),u.d(n,"acos",(function(){return acos})),u.d(n,"asin",(function(){return asin}));const c=Math.abs,l=Math.atan2,d=Math.cos,h=Math.max,p=Math.min,m=Math.sin,_=Math.sqrt,g=1e-12,b=Math.PI,v=b/2,U=2*b;function acos(t){return t>1?0:t<-1?b:Math.acos(t)}function asin(t){return t>=1?v:t<=-1?-v:Math.asin(t)}},"./node_modules/d3-shape/src/noop.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(){}},"./node_modules/d3-shape/src/offset/diverging.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){if((p=t.length)>0)for(var u,c,l,d,h,p,m=0,_=t[n[0]].length;m<_;++m)for(d=h=0,u=0;u<p;++u)(l=(c=t[n[u]][m])[1]-c[0])>0?(c[0]=d,c[1]=d+=l):l<0?(c[1]=h,c[0]=h+=l):(c[0]=0,c[1]=l)}},"./node_modules/d3-shape/src/offset/expand.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/offset/none.js");n["default"]=function(t,n){if((l=t.length)>0){for(var u,l,d,h=0,p=t[0].length;h<p;++h){for(d=u=0;u<l;++u)d+=t[u][h][1]||0;if(d)for(u=0;u<l;++u)t[u][h][1]/=d}Object(c["default"])(t,n)}}},"./node_modules/d3-shape/src/offset/none.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){if((l=t.length)>1)for(var u,c,l,d=1,h=t[n[0]],p=h.length;d<l;++d)for(c=h,h=t[n[d]],u=0;u<p;++u)h[u][1]+=h[u][0]=isNaN(c[u][1])?c[u][0]:c[u][1]}},"./node_modules/d3-shape/src/offset/silhouette.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/offset/none.js");n["default"]=function(t,n){if((u=t.length)>0){for(var u,l=0,d=t[n[0]],h=d.length;l<h;++l){for(var p=0,m=0;p<u;++p)m+=t[p][l][1]||0;d[l][1]+=d[l][0]=-m/2}Object(c["default"])(t,n)}}},"./node_modules/d3-shape/src/offset/wiggle.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/offset/none.js");n["default"]=function(t,n){if((d=t.length)>0&&(l=(u=t[n[0]]).length)>0){for(var u,l,d,h=0,p=1;p<l;++p){for(var m=0,_=0,g=0;m<d;++m){for(var b=t[n[m]],v=b[p][1]||0,U=b[p-1][1]||0,G=(v-U)/2,W=0;W<m;++W){var X=t[n[W]],q=X[p][1]||0,K=X[p-1][1]||0;G+=q-K}_+=v,g+=G*v}u[p-1][1]+=u[p-1][0]=h,_&&(h-=g/_)}u[p-1][1]+=u[p-1][0]=h,Object(c["default"])(t,n)}}},"./node_modules/d3-shape/src/order/appearance.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/order/none.js");function peak(t){var n,u=-1,c=0,l=t.length,d=-1/0;while(++u<l)(n=+t[u][1])>d&&(d=n,c=u);return c}n["default"]=function(t){var n=t.map(peak);return Object(c["default"])(t).sort((function(t,u){return n[t]-n[u]}))}},"./node_modules/d3-shape/src/order/ascending.js":function(t,n,u){"use strict";u.r(n),u.d(n,"sum",(function(){return sum}));var c=u("./node_modules/d3-shape/src/order/none.js");function sum(t){var n,u=0,c=-1,l=t.length;while(++c<l)(n=+t[c][1])&&(u+=n);return u}n["default"]=function(t){var n=t.map(sum);return Object(c["default"])(t).sort((function(t,u){return n[t]-n[u]}))}},"./node_modules/d3-shape/src/order/descending.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/order/ascending.js");n["default"]=function(t){return Object(c["default"])(t).reverse()}},"./node_modules/d3-shape/src/order/insideOut.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/order/appearance.js"),l=u("./node_modules/d3-shape/src/order/ascending.js");n["default"]=function(t){var n,u,d=t.length,h=t.map(l["sum"]),p=Object(c["default"])(t),m=0,_=0,g=[],b=[];for(n=0;n<d;++n)u=p[n],m<_?(m+=h[u],g.push(u)):(_+=h[u],b.push(u));return b.reverse().concat(g)}},"./node_modules/d3-shape/src/order/none.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t){var n=t.length,u=new Array(n);while(--n>=0)u[n]=n;return u}},"./node_modules/d3-shape/src/order/reverse.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/order/none.js");n["default"]=function(t){return Object(c["default"])(t).reverse()}},"./node_modules/d3-shape/src/pie.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/array.js"),l=u("./node_modules/d3-shape/src/constant.js"),d=u("./node_modules/d3-shape/src/descending.js"),h=u("./node_modules/d3-shape/src/identity.js"),p=u("./node_modules/d3-shape/src/math.js");n["default"]=function(){var t=h["default"],n=d["default"],u=null,m=Object(l["default"])(0),_=Object(l["default"])(p["tau"]),g=Object(l["default"])(0);function pie(l){var d,h,b,v,U,G=(l=Object(c["default"])(l)).length,W=0,X=new Array(G),q=new Array(G),K=+m.apply(this,arguments),Y=Math.min(p["tau"],Math.max(-p["tau"],_.apply(this,arguments)-K)),Q=Math.min(Math.abs(Y)/G,g.apply(this,arguments)),Z=Q*(Y<0?-1:1);for(d=0;d<G;++d)(U=q[X[d]=d]=+t(l[d],d,l))>0&&(W+=U);for(null!=n?X.sort((function(t,u){return n(q[t],q[u])})):null!=u&&X.sort((function(t,n){return u(l[t],l[n])})),d=0,b=W?(Y-G*Z)/W:0;d<G;++d,K=v)h=X[d],U=q[h],v=K+(U>0?U*b:0)+Z,q[h]={data:l[h],index:d,value:U,startAngle:K,endAngle:v,padAngle:Q};return q}return pie.value=function(n){return arguments.length?(t="function"===typeof n?n:Object(l["default"])(+n),pie):t},pie.sortValues=function(t){return arguments.length?(n=t,u=null,pie):n},pie.sort=function(t){return arguments.length?(u=t,n=null,pie):u},pie.startAngle=function(t){return arguments.length?(m="function"===typeof t?t:Object(l["default"])(+t),pie):m},pie.endAngle=function(t){return arguments.length?(_="function"===typeof t?t:Object(l["default"])(+t),pie):_},pie.padAngle=function(t){return arguments.length?(g="function"===typeof t?t:Object(l["default"])(+t),pie):g},pie}},"./node_modules/d3-shape/src/point.js":function(t,n,u){"use strict";function x(t){return t[0]}function y(t){return t[1]}u.r(n),u.d(n,"x",(function(){return x})),u.d(n,"y",(function(){return y}))},"./node_modules/d3-shape/src/pointRadial.js":function(t,n,u){"use strict";u.r(n),n["default"]=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}},"./node_modules/d3-shape/src/stack.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/array.js"),l=u("./node_modules/d3-shape/src/constant.js"),d=u("./node_modules/d3-shape/src/offset/none.js"),h=u("./node_modules/d3-shape/src/order/none.js");function stackValue(t,n){return t[n]}function stackSeries(t){const n=[];return n.key=t,n}n["default"]=function(){var t=Object(l["default"])([]),n=h["default"],u=d["default"],p=stackValue;function stack(l){var d,h,m=Array.from(t.apply(this,arguments),stackSeries),_=m.length,g=-1;for(const t of l)for(d=0,++g;d<_;++d)(m[d][g]=[0,+p(t,m[d].key,g,l)]).data=t;for(d=0,h=Object(c["default"])(n(m));d<_;++d)m[h[d]].index=d;return u(m,h),m}return stack.keys=function(n){return arguments.length?(t="function"===typeof n?n:Object(l["default"])(Array.from(n)),stack):t},stack.value=function(t){return arguments.length?(p="function"===typeof t?t:Object(l["default"])(+t),stack):p},stack.order=function(t){return arguments.length?(n=null==t?h["default"]:"function"===typeof t?t:Object(l["default"])(Array.from(t)),stack):n},stack.offset=function(t){return arguments.length?(u=null==t?d["default"]:t,stack):u},stack}},"./node_modules/d3-shape/src/symbol.js":function(t,n,u){"use strict";u.r(n),u.d(n,"symbolsFill",(function(){return K})),u.d(n,"symbolsStroke",(function(){return Y})),u.d(n,"default",(function(){return Symbol}));var c=u("./node_modules/d3-path/src/path.js"),l=u("./node_modules/d3-shape/src/constant.js"),d=u("./node_modules/d3-shape/src/symbol/asterisk.js"),h=u("./node_modules/d3-shape/src/symbol/circle.js"),p=u("./node_modules/d3-shape/src/symbol/cross.js"),m=u("./node_modules/d3-shape/src/symbol/diamond.js"),_=u("./node_modules/d3-shape/src/symbol/diamond2.js"),g=u("./node_modules/d3-shape/src/symbol/plus.js"),b=u("./node_modules/d3-shape/src/symbol/square.js"),v=u("./node_modules/d3-shape/src/symbol/square2.js"),U=u("./node_modules/d3-shape/src/symbol/star.js"),G=u("./node_modules/d3-shape/src/symbol/triangle.js"),W=u("./node_modules/d3-shape/src/symbol/triangle2.js"),X=u("./node_modules/d3-shape/src/symbol/wye.js"),q=u("./node_modules/d3-shape/src/symbol/x.js");const K=[h["default"],p["default"],m["default"],b["default"],U["default"],G["default"],X["default"]],Y=[h["default"],g["default"],q["default"],W["default"],d["default"],v["default"],_["default"]];function Symbol(t,n){let u=null;function symbol(){let l;if(u||(u=l=Object(c["default"])()),t.apply(this,arguments).draw(u,+n.apply(this,arguments)),l)return u=null,l+""||null}return t="function"===typeof t?t:Object(l["default"])(t||h["default"]),n="function"===typeof n?n:Object(l["default"])(void 0===n?64:+n),symbol.type=function(n){return arguments.length?(t="function"===typeof n?n:Object(l["default"])(n),symbol):t},symbol.size=function(t){return arguments.length?(n="function"===typeof t?t:Object(l["default"])(+t),symbol):n},symbol.context=function(t){return arguments.length?(u=null==t?null:t,symbol):u},symbol}},"./node_modules/d3-shape/src/symbol/asterisk.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");const l=Object(c["sqrt"])(3);n["default"]={draw(t,n){const u=.59436*Object(c["sqrt"])(n+Object(c["min"])(n/28,.75)),d=u/2,h=d*l;t.moveTo(0,u),t.lineTo(0,-u),t.moveTo(-h,-d),t.lineTo(h,d),t.moveTo(-h,d),t.lineTo(h,-d)}}},"./node_modules/d3-shape/src/symbol/circle.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=Object(c["sqrt"])(n/c["pi"]);t.moveTo(u,0),t.arc(0,0,u,0,c["tau"])}}},"./node_modules/d3-shape/src/symbol/cross.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=Object(c["sqrt"])(n/5)/2;t.moveTo(-3*u,-u),t.lineTo(-u,-u),t.lineTo(-u,-3*u),t.lineTo(u,-3*u),t.lineTo(u,-u),t.lineTo(3*u,-u),t.lineTo(3*u,u),t.lineTo(u,u),t.lineTo(u,3*u),t.lineTo(-u,3*u),t.lineTo(-u,u),t.lineTo(-3*u,u),t.closePath()}}},"./node_modules/d3-shape/src/symbol/diamond.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");const l=Object(c["sqrt"])(1/3),d=2*l;n["default"]={draw(t,n){const u=Object(c["sqrt"])(n/d),h=u*l;t.moveTo(0,-u),t.lineTo(h,0),t.lineTo(0,u),t.lineTo(-h,0),t.closePath()}}},"./node_modules/d3-shape/src/symbol/diamond2.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=.62625*Object(c["sqrt"])(n);t.moveTo(0,-u),t.lineTo(u,0),t.lineTo(0,u),t.lineTo(-u,0),t.closePath()}}},"./node_modules/d3-shape/src/symbol/plus.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=.87559*Object(c["sqrt"])(n-Object(c["min"])(n/7,2));t.moveTo(-u,0),t.lineTo(u,0),t.moveTo(0,u),t.lineTo(0,-u)}}},"./node_modules/d3-shape/src/symbol/square.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=Object(c["sqrt"])(n),l=-u/2;t.rect(l,l,u,u)}}},"./node_modules/d3-shape/src/symbol/square2.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=.4431*Object(c["sqrt"])(n);t.moveTo(u,u),t.lineTo(u,-u),t.lineTo(-u,-u),t.lineTo(-u,u),t.closePath()}}},"./node_modules/d3-shape/src/symbol/star.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");const l=.8908130915292852,d=Object(c["sin"])(c["pi"]/10)/Object(c["sin"])(7*c["pi"]/10),h=Object(c["sin"])(c["tau"]/10)*d,p=-Object(c["cos"])(c["tau"]/10)*d;n["default"]={draw(t,n){const u=Object(c["sqrt"])(n*l),d=h*u,m=p*u;t.moveTo(0,-u),t.lineTo(d,m);for(let l=1;l<5;++l){const n=c["tau"]*l/5,h=Object(c["cos"])(n),p=Object(c["sin"])(n);t.lineTo(p*u,-h*u),t.lineTo(h*d-p*m,p*d+h*m)}t.closePath()}}},"./node_modules/d3-shape/src/symbol/triangle.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");const l=Object(c["sqrt"])(3);n["default"]={draw(t,n){const u=-Object(c["sqrt"])(n/(3*l));t.moveTo(0,2*u),t.lineTo(-l*u,-u),t.lineTo(l*u,-u),t.closePath()}}},"./node_modules/d3-shape/src/symbol/triangle2.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");const l=Object(c["sqrt"])(3);n["default"]={draw(t,n){const u=.6824*Object(c["sqrt"])(n),d=u/2,h=u*l/2;t.moveTo(0,-u),t.lineTo(h,d),t.lineTo(-h,d),t.closePath()}}},"./node_modules/d3-shape/src/symbol/wye.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");const l=-.5,d=Object(c["sqrt"])(3)/2,h=1/Object(c["sqrt"])(12),p=3*(h/2+1);n["default"]={draw(t,n){const u=Object(c["sqrt"])(n/p),m=u/2,_=u*h,g=m,b=u*h+u,v=-g,U=b;t.moveTo(m,_),t.lineTo(g,b),t.lineTo(v,U),t.lineTo(l*m-d*_,d*m+l*_),t.lineTo(l*g-d*b,d*g+l*b),t.lineTo(l*v-d*U,d*v+l*U),t.lineTo(l*m+d*_,l*_-d*m),t.lineTo(l*g+d*b,l*b-d*g),t.lineTo(l*v+d*U,l*U-d*v),t.closePath()}}},"./node_modules/d3-shape/src/symbol/x.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-shape/src/math.js");n["default"]={draw(t,n){const u=.6189*Object(c["sqrt"])(n-Object(c["min"])(n/6,1.7));t.moveTo(-u,-u),t.lineTo(u,u),t.moveTo(-u,u),t.lineTo(u,-u)}}},"./node_modules/d3-time-format/src/defaultLocale.js":function(t,n,u){"use strict";u.r(n),u.d(n,"timeFormat",(function(){return l})),u.d(n,"timeParse",(function(){return d})),u.d(n,"utcFormat",(function(){return h})),u.d(n,"utcParse",(function(){return p})),u.d(n,"default",(function(){return defaultLocale}));var c,l,d,h,p,m=u("./node_modules/d3-time-format/src/locale.js");function defaultLocale(t){return c=Object(m["default"])(t),l=c.format,d=c.parse,h=c.utcFormat,p=c.utcParse,c}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},"./node_modules/d3-time-format/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-time-format/src/defaultLocale.js");u.d(n,"timeFormatDefaultLocale",(function(){return c["default"]})),u.d(n,"timeFormat",(function(){return c["timeFormat"]})),u.d(n,"timeParse",(function(){return c["timeParse"]})),u.d(n,"utcFormat",(function(){return c["utcFormat"]})),u.d(n,"utcParse",(function(){return c["utcParse"]}));var l=u("./node_modules/d3-time-format/src/locale.js");u.d(n,"timeFormatLocale",(function(){return l["default"]}));var d=u("./node_modules/d3-time-format/src/isoFormat.js");u.d(n,"isoFormat",(function(){return d["default"]}));var h=u("./node_modules/d3-time-format/src/isoParse.js");u.d(n,"isoParse",(function(){return h["default"]}))},"./node_modules/d3-time-format/src/isoFormat.js":function(t,n,u){"use strict";u.r(n),u.d(n,"isoSpecifier",(function(){return l}));var c=u("./node_modules/d3-time-format/src/defaultLocale.js"),l="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(t){return t.toISOString()}var d=Date.prototype.toISOString?formatIsoNative:Object(c["utcFormat"])(l);n["default"]=d},"./node_modules/d3-time-format/src/isoParse.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-time-format/src/isoFormat.js"),l=u("./node_modules/d3-time-format/src/defaultLocale.js");function parseIsoNative(t){var n=new Date(t);return isNaN(n)?null:n}var d=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:Object(l["utcParse"])(c["isoSpecifier"]);n["default"]=d},"./node_modules/d3-time-format/src/locale.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return formatLocale}));var c=u("./node_modules/d3-time/src/utcWeek.js"),l=u("./node_modules/d3-time/src/utcDay.js"),d=u("./node_modules/d3-time/src/week.js"),h=u("./node_modules/d3-time/src/day.js"),p=u("./node_modules/d3-time/src/year.js"),m=u("./node_modules/d3-time/src/utcYear.js");function localDate(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,n,u){return{y:t,m:n,d:u,H:0,M:0,S:0,L:0}}function formatLocale(t){var n=t.dateTime,u=t.date,p=t.time,m=t.periods,g=t.days,b=t.shortDays,v=t.months,U=t.shortMonths,G=formatRe(m),W=formatLookup(m),X=formatRe(g),q=formatLookup(g),K=formatRe(b),Y=formatLookup(b),Q=formatRe(v),Z=formatLookup(v),$=formatRe(U),J=formatLookup(U),ee={a:formatShortWeekday,A:formatWeekday,b:formatShortMonth,B:formatMonth,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:formatPeriod,q:formatQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},te={a:formatUTCShortWeekday,A:formatUTCWeekday,b:formatUTCShortMonth,B:formatUTCMonth,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:formatUTCPeriod,q:formatUTCQuarter,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},re={a:parseShortWeekday,A:parseWeekday,b:parseShortMonth,B:parseMonth,c:parseLocaleDateTime,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:parsePeriod,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:parseLocaleDate,X:parseLocaleTime,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(t,n){return function(u){var c,l,d,h=[],p=-1,m=0,g=t.length;u instanceof Date||(u=new Date(+u));while(++p<g)37===t.charCodeAt(p)&&(h.push(t.slice(m,p)),null!=(l=_[c=t.charAt(++p)])?c=t.charAt(++p):l="e"===c?" ":"0",(d=n[c])&&(c=d(u,l)),h.push(c),m=p+1);return h.push(t.slice(m,p)),h.join("")}}function newParse(t,n){return function(u){var p,m,_=newDate(1900,void 0,1),g=parseSpecifier(_,t,u+="",0);if(g!=u.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(1e3*_.s+("L"in _?_.L:0));if(n&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+12*_.p),void 0===_.m&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(p=utcDate(newDate(_.y,0,1)),m=p.getUTCDay(),p=m>4||0===m?c["utcMonday"].ceil(p):Object(c["utcMonday"])(p),p=l["default"].offset(p,7*(_.V-1)),_.y=p.getUTCFullYear(),_.m=p.getUTCMonth(),_.d=p.getUTCDate()+(_.w+6)%7):(p=localDate(newDate(_.y,0,1)),m=p.getDay(),p=m>4||0===m?d["monday"].ceil(p):Object(d["monday"])(p),p=h["default"].offset(p,7*(_.V-1)),_.y=p.getFullYear(),_.m=p.getMonth(),_.d=p.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),m="Z"in _?utcDate(newDate(_.y,0,1)).getUTCDay():localDate(newDate(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+7*_.W-(m+5)%7:_.w+7*_.U-(m+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,utcDate(_)):localDate(_)}}function parseSpecifier(t,n,u,c){var l,d,h=0,p=n.length,m=u.length;while(h<p){if(c>=m)return-1;if(l=n.charCodeAt(h++),37===l){if(l=n.charAt(h++),d=re[l in _?n.charAt(h++):l],!d||(c=d(t,u,c))<0)return-1}else if(l!=u.charCodeAt(c++))return-1}return c}function parsePeriod(t,n,u){var c=G.exec(n.slice(u));return c?(t.p=W.get(c[0].toLowerCase()),u+c[0].length):-1}function parseShortWeekday(t,n,u){var c=K.exec(n.slice(u));return c?(t.w=Y.get(c[0].toLowerCase()),u+c[0].length):-1}function parseWeekday(t,n,u){var c=X.exec(n.slice(u));return c?(t.w=q.get(c[0].toLowerCase()),u+c[0].length):-1}function parseShortMonth(t,n,u){var c=$.exec(n.slice(u));return c?(t.m=J.get(c[0].toLowerCase()),u+c[0].length):-1}function parseMonth(t,n,u){var c=Q.exec(n.slice(u));return c?(t.m=Z.get(c[0].toLowerCase()),u+c[0].length):-1}function parseLocaleDateTime(t,u,c){return parseSpecifier(t,n,u,c)}function parseLocaleDate(t,n,c){return parseSpecifier(t,u,n,c)}function parseLocaleTime(t,n,u){return parseSpecifier(t,p,n,u)}function formatShortWeekday(t){return b[t.getDay()]}function formatWeekday(t){return g[t.getDay()]}function formatShortMonth(t){return U[t.getMonth()]}function formatMonth(t){return v[t.getMonth()]}function formatPeriod(t){return m[+(t.getHours()>=12)]}function formatQuarter(t){return 1+~~(t.getMonth()/3)}function formatUTCShortWeekday(t){return b[t.getUTCDay()]}function formatUTCWeekday(t){return g[t.getUTCDay()]}function formatUTCShortMonth(t){return U[t.getUTCMonth()]}function formatUTCMonth(t){return v[t.getUTCMonth()]}function formatUTCPeriod(t){return m[+(t.getUTCHours()>=12)]}function formatUTCQuarter(t){return 1+~~(t.getUTCMonth()/3)}return ee.x=newFormat(u,ee),ee.X=newFormat(p,ee),ee.c=newFormat(n,ee),te.x=newFormat(u,te),te.X=newFormat(p,te),te.c=newFormat(n,te),{format:function(t){var n=newFormat(t+="",ee);return n.toString=function(){return t},n},parse:function(t){var n=newParse(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=newFormat(t+="",te);return n.toString=function(){return t},n},utcParse:function(t){var n=newParse(t+="",!0);return n.toString=function(){return t},n}}}var _={"-":"",_:" ",0:"0"},g=/^\s*\d+/,b=/^%/,v=/[\\^$*+?|[\]().{}]/g;function pad(t,n,u){var c=t<0?"-":"",l=(c?-t:t)+"",d=l.length;return c+(d<u?new Array(u-d+1).join(n)+l:l)}function requote(t){return t.replace(v,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function parseWeekdayNumberSunday(t,n,u){var c=g.exec(n.slice(u,u+1));return c?(t.w=+c[0],u+c[0].length):-1}function parseWeekdayNumberMonday(t,n,u){var c=g.exec(n.slice(u,u+1));return c?(t.u=+c[0],u+c[0].length):-1}function parseWeekNumberSunday(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.U=+c[0],u+c[0].length):-1}function parseWeekNumberISO(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.V=+c[0],u+c[0].length):-1}function parseWeekNumberMonday(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.W=+c[0],u+c[0].length):-1}function parseFullYear(t,n,u){var c=g.exec(n.slice(u,u+4));return c?(t.y=+c[0],u+c[0].length):-1}function parseYear(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.y=+c[0]+(+c[0]>68?1900:2e3),u+c[0].length):-1}function parseZone(t,n,u){var c=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(u,u+6));return c?(t.Z=c[1]?0:-(c[2]+(c[3]||"00")),u+c[0].length):-1}function parseQuarter(t,n,u){var c=g.exec(n.slice(u,u+1));return c?(t.q=3*c[0]-3,u+c[0].length):-1}function parseMonthNumber(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.m=c[0]-1,u+c[0].length):-1}function parseDayOfMonth(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.d=+c[0],u+c[0].length):-1}function parseDayOfYear(t,n,u){var c=g.exec(n.slice(u,u+3));return c?(t.m=0,t.d=+c[0],u+c[0].length):-1}function parseHour24(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.H=+c[0],u+c[0].length):-1}function parseMinutes(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.M=+c[0],u+c[0].length):-1}function parseSeconds(t,n,u){var c=g.exec(n.slice(u,u+2));return c?(t.S=+c[0],u+c[0].length):-1}function parseMilliseconds(t,n,u){var c=g.exec(n.slice(u,u+3));return c?(t.L=+c[0],u+c[0].length):-1}function parseMicroseconds(t,n,u){var c=g.exec(n.slice(u,u+6));return c?(t.L=Math.floor(c[0]/1e3),u+c[0].length):-1}function parseLiteralPercent(t,n,u){var c=b.exec(n.slice(u,u+1));return c?u+c[0].length:-1}function parseUnixTimestamp(t,n,u){var c=g.exec(n.slice(u));return c?(t.Q=+c[0],u+c[0].length):-1}function parseUnixTimestampSeconds(t,n,u){var c=g.exec(n.slice(u));return c?(t.s=+c[0],u+c[0].length):-1}function formatDayOfMonth(t,n){return pad(t.getDate(),n,2)}function formatHour24(t,n){return pad(t.getHours(),n,2)}function formatHour12(t,n){return pad(t.getHours()%12||12,n,2)}function formatDayOfYear(t,n){return pad(1+h["default"].count(Object(p["default"])(t),t),n,3)}function formatMilliseconds(t,n){return pad(t.getMilliseconds(),n,3)}function formatMicroseconds(t,n){return formatMilliseconds(t,n)+"000"}function formatMonthNumber(t,n){return pad(t.getMonth()+1,n,2)}function formatMinutes(t,n){return pad(t.getMinutes(),n,2)}function formatSeconds(t,n){return pad(t.getSeconds(),n,2)}function formatWeekdayNumberMonday(t){var n=t.getDay();return 0===n?7:n}function formatWeekNumberSunday(t,n){return pad(d["sunday"].count(Object(p["default"])(t)-1,t),n,2)}function dISO(t){var n=t.getDay();return n>=4||0===n?Object(d["thursday"])(t):d["thursday"].ceil(t)}function formatWeekNumberISO(t,n){return t=dISO(t),pad(d["thursday"].count(Object(p["default"])(t),t)+(4===Object(p["default"])(t).getDay()),n,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,n){return pad(d["monday"].count(Object(p["default"])(t)-1,t),n,2)}function formatYear(t,n){return pad(t.getFullYear()%100,n,2)}function formatYearISO(t,n){return t=dISO(t),pad(t.getFullYear()%100,n,2)}function formatFullYear(t,n){return pad(t.getFullYear()%1e4,n,4)}function formatFullYearISO(t,n){var u=t.getDay();return t=u>=4||0===u?Object(d["thursday"])(t):d["thursday"].ceil(t),pad(t.getFullYear()%1e4,n,4)}function formatZone(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+pad(n/60|0,"0",2)+pad(n%60,"0",2)}function formatUTCDayOfMonth(t,n){return pad(t.getUTCDate(),n,2)}function formatUTCHour24(t,n){return pad(t.getUTCHours(),n,2)}function formatUTCHour12(t,n){return pad(t.getUTCHours()%12||12,n,2)}function formatUTCDayOfYear(t,n){return pad(1+l["default"].count(Object(m["default"])(t),t),n,3)}function formatUTCMilliseconds(t,n){return pad(t.getUTCMilliseconds(),n,3)}function formatUTCMicroseconds(t,n){return formatUTCMilliseconds(t,n)+"000"}function formatUTCMonthNumber(t,n){return pad(t.getUTCMonth()+1,n,2)}function formatUTCMinutes(t,n){return pad(t.getUTCMinutes(),n,2)}function formatUTCSeconds(t,n){return pad(t.getUTCSeconds(),n,2)}function formatUTCWeekdayNumberMonday(t){var n=t.getUTCDay();return 0===n?7:n}function formatUTCWeekNumberSunday(t,n){return pad(c["utcSunday"].count(Object(m["default"])(t)-1,t),n,2)}function UTCdISO(t){var n=t.getUTCDay();return n>=4||0===n?Object(c["utcThursday"])(t):c["utcThursday"].ceil(t)}function formatUTCWeekNumberISO(t,n){return t=UTCdISO(t),pad(c["utcThursday"].count(Object(m["default"])(t),t)+(4===Object(m["default"])(t).getUTCDay()),n,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,n){return pad(c["utcMonday"].count(Object(m["default"])(t)-1,t),n,2)}function formatUTCYear(t,n){return pad(t.getUTCFullYear()%100,n,2)}function formatUTCYearISO(t,n){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,n,2)}function formatUTCFullYear(t,n){return pad(t.getUTCFullYear()%1e4,n,4)}function formatUTCFullYearISO(t,n){var u=t.getUTCDay();return t=u>=4||0===u?Object(c["utcThursday"])(t):c["utcThursday"].ceil(t),pad(t.getUTCFullYear()%1e4,n,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}},"./node_modules/d3-time/src/day.js":function(t,n,u){"use strict";u.r(n),u.d(n,"days",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*l["durationMinute"])/l["durationDay"],t=>t.getDate()-1);n["default"]=d;var h=d.range},"./node_modules/d3-time/src/duration.js":function(t,n,u){"use strict";u.r(n),u.d(n,"durationSecond",(function(){return c})),u.d(n,"durationMinute",(function(){return l})),u.d(n,"durationHour",(function(){return d})),u.d(n,"durationDay",(function(){return h})),u.d(n,"durationWeek",(function(){return p})),u.d(n,"durationMonth",(function(){return m})),u.d(n,"durationYear",(function(){return _}));const c=1e3,l=60*c,d=60*l,h=24*d,p=7*h,m=30*h,_=365*h},"./node_modules/d3-time/src/hour.js":function(t,n,u){"use strict";u.r(n),u.d(n,"hours",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*l["durationSecond"]-t.getMinutes()*l["durationMinute"])}),(function(t,n){t.setTime(+t+n*l["durationHour"])}),(function(t,n){return(n-t)/l["durationHour"]}),(function(t){return t.getHours()}));n["default"]=d;var h=d.range},"./node_modules/d3-time/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-time/src/interval.js");u.d(n,"timeInterval",(function(){return c["default"]}));var l=u("./node_modules/d3-time/src/millisecond.js");u.d(n,"timeMillisecond",(function(){return l["default"]})),u.d(n,"timeMilliseconds",(function(){return l["milliseconds"]})),u.d(n,"utcMillisecond",(function(){return l["default"]})),u.d(n,"utcMilliseconds",(function(){return l["milliseconds"]}));var d=u("./node_modules/d3-time/src/second.js");u.d(n,"timeSecond",(function(){return d["default"]})),u.d(n,"timeSeconds",(function(){return d["seconds"]})),u.d(n,"utcSecond",(function(){return d["default"]})),u.d(n,"utcSeconds",(function(){return d["seconds"]}));var h=u("./node_modules/d3-time/src/minute.js");u.d(n,"timeMinute",(function(){return h["default"]})),u.d(n,"timeMinutes",(function(){return h["minutes"]}));var p=u("./node_modules/d3-time/src/hour.js");u.d(n,"timeHour",(function(){return p["default"]})),u.d(n,"timeHours",(function(){return p["hours"]}));var m=u("./node_modules/d3-time/src/day.js");u.d(n,"timeDay",(function(){return m["default"]})),u.d(n,"timeDays",(function(){return m["days"]}));var _=u("./node_modules/d3-time/src/week.js");u.d(n,"timeWeek",(function(){return _["sunday"]})),u.d(n,"timeWeeks",(function(){return _["sundays"]})),u.d(n,"timeSunday",(function(){return _["sunday"]})),u.d(n,"timeSundays",(function(){return _["sundays"]})),u.d(n,"timeMonday",(function(){return _["monday"]})),u.d(n,"timeMondays",(function(){return _["mondays"]})),u.d(n,"timeTuesday",(function(){return _["tuesday"]})),u.d(n,"timeTuesdays",(function(){return _["tuesdays"]})),u.d(n,"timeWednesday",(function(){return _["wednesday"]})),u.d(n,"timeWednesdays",(function(){return _["wednesdays"]})),u.d(n,"timeThursday",(function(){return _["thursday"]})),u.d(n,"timeThursdays",(function(){return _["thursdays"]})),u.d(n,"timeFriday",(function(){return _["friday"]})),u.d(n,"timeFridays",(function(){return _["fridays"]})),u.d(n,"timeSaturday",(function(){return _["saturday"]})),u.d(n,"timeSaturdays",(function(){return _["saturdays"]}));var g=u("./node_modules/d3-time/src/month.js");u.d(n,"timeMonth",(function(){return g["default"]})),u.d(n,"timeMonths",(function(){return g["months"]}));var b=u("./node_modules/d3-time/src/year.js");u.d(n,"timeYear",(function(){return b["default"]})),u.d(n,"timeYears",(function(){return b["years"]}));var v=u("./node_modules/d3-time/src/utcMinute.js");u.d(n,"utcMinute",(function(){return v["default"]})),u.d(n,"utcMinutes",(function(){return v["utcMinutes"]}));var U=u("./node_modules/d3-time/src/utcHour.js");u.d(n,"utcHour",(function(){return U["default"]})),u.d(n,"utcHours",(function(){return U["utcHours"]}));var G=u("./node_modules/d3-time/src/utcDay.js");u.d(n,"utcDay",(function(){return G["default"]})),u.d(n,"utcDays",(function(){return G["utcDays"]}));var W=u("./node_modules/d3-time/src/utcWeek.js");u.d(n,"utcWeek",(function(){return W["utcSunday"]})),u.d(n,"utcWeeks",(function(){return W["utcSundays"]})),u.d(n,"utcSunday",(function(){return W["utcSunday"]})),u.d(n,"utcSundays",(function(){return W["utcSundays"]})),u.d(n,"utcMonday",(function(){return W["utcMonday"]})),u.d(n,"utcMondays",(function(){return W["utcMondays"]})),u.d(n,"utcTuesday",(function(){return W["utcTuesday"]})),u.d(n,"utcTuesdays",(function(){return W["utcTuesdays"]})),u.d(n,"utcWednesday",(function(){return W["utcWednesday"]})),u.d(n,"utcWednesdays",(function(){return W["utcWednesdays"]})),u.d(n,"utcThursday",(function(){return W["utcThursday"]})),u.d(n,"utcThursdays",(function(){return W["utcThursdays"]})),u.d(n,"utcFriday",(function(){return W["utcFriday"]})),u.d(n,"utcFridays",(function(){return W["utcFridays"]})),u.d(n,"utcSaturday",(function(){return W["utcSaturday"]})),u.d(n,"utcSaturdays",(function(){return W["utcSaturdays"]}));var X=u("./node_modules/d3-time/src/utcMonth.js");u.d(n,"utcMonth",(function(){return X["default"]})),u.d(n,"utcMonths",(function(){return X["utcMonths"]}));var q=u("./node_modules/d3-time/src/utcYear.js");u.d(n,"utcYear",(function(){return q["default"]})),u.d(n,"utcYears",(function(){return q["utcYears"]}));var K=u("./node_modules/d3-time/src/ticks.js");u.d(n,"utcTicks",(function(){return K["utcTicks"]})),u.d(n,"utcTickInterval",(function(){return K["utcTickInterval"]})),u.d(n,"timeTicks",(function(){return K["timeTicks"]})),u.d(n,"timeTickInterval",(function(){return K["timeTickInterval"]}))},"./node_modules/d3-time/src/interval.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return newInterval}));var c=new Date,l=new Date;function newInterval(t,n,u,d){function interval(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return interval.floor=function(n){return t(n=new Date(+n)),n},interval.ceil=function(u){return t(u=new Date(u-1)),n(u,1),t(u),u},interval.round=function(t){var n=interval(t),u=interval.ceil(t);return t-n<u-t?n:u},interval.offset=function(t,u){return n(t=new Date(+t),null==u?1:Math.floor(u)),t},interval.range=function(u,c,l){var d,h=[];if(u=interval.ceil(u),l=null==l?1:Math.floor(l),!(u<c)||!(l>0))return h;do{h.push(d=new Date(+u)),n(u,l),t(u)}while(d<u&&u<c);return h},interval.filter=function(u){return newInterval((function(n){if(n>=n)while(t(n),!u(n))n.setTime(n-1)}),(function(t,c){if(t>=t)if(c<0)while(++c<=0)while(n(t,-1),!u(t));else while(--c>=0)while(n(t,1),!u(t));}))},u&&(interval.count=function(n,d){return c.setTime(+n),l.setTime(+d),t(c),t(l),Math.floor(u(c,l))},interval.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?interval.filter(d?function(n){return d(n)%t===0}:function(n){return interval.count(0,n)%t===0}):interval:null}),interval}},"./node_modules/d3-time/src/millisecond.js":function(t,n,u){"use strict";u.r(n),u.d(n,"milliseconds",(function(){return d}));var c=u("./node_modules/d3-time/src/interval.js"),l=Object(c["default"])((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));l.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Object(c["default"])((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,u){n.setTime(+n+u*t)}),(function(n,u){return(u-n)/t})):l:null},n["default"]=l;var d=l.range},"./node_modules/d3-time/src/minute.js":function(t,n,u){"use strict";u.r(n),u.d(n,"minutes",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*l["durationSecond"])}),(function(t,n){t.setTime(+t+n*l["durationMinute"])}),(function(t,n){return(n-t)/l["durationMinute"]}),(function(t){return t.getMinutes()}));n["default"]=d;var h=d.range},"./node_modules/d3-time/src/month.js":function(t,n,u){"use strict";u.r(n),u.d(n,"months",(function(){return d}));var c=u("./node_modules/d3-time/src/interval.js"),l=Object(c["default"])((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));n["default"]=l;var d=l.range},"./node_modules/d3-time/src/second.js":function(t,n,u){"use strict";u.r(n),u.d(n,"seconds",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*l["durationSecond"])}),(function(t,n){return(n-t)/l["durationSecond"]}),(function(t){return t.getUTCSeconds()}));n["default"]=d;var h=d.range},"./node_modules/d3-time/src/ticks.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcTicks",(function(){return Q})),u.d(n,"utcTickInterval",(function(){return Z})),u.d(n,"timeTicks",(function(){return $})),u.d(n,"timeTickInterval",(function(){return J}));var c=u("./node_modules/d3-array/src/bisector.js"),l=u("./node_modules/d3-array/src/ticks.js"),d=u("./node_modules/d3-time/src/duration.js"),h=u("./node_modules/d3-time/src/millisecond.js"),p=u("./node_modules/d3-time/src/second.js"),m=u("./node_modules/d3-time/src/minute.js"),_=u("./node_modules/d3-time/src/hour.js"),g=u("./node_modules/d3-time/src/day.js"),b=u("./node_modules/d3-time/src/week.js"),v=u("./node_modules/d3-time/src/month.js"),U=u("./node_modules/d3-time/src/year.js"),G=u("./node_modules/d3-time/src/utcMinute.js"),W=u("./node_modules/d3-time/src/utcHour.js"),X=u("./node_modules/d3-time/src/utcDay.js"),q=u("./node_modules/d3-time/src/utcWeek.js"),K=u("./node_modules/d3-time/src/utcMonth.js"),Y=u("./node_modules/d3-time/src/utcYear.js");function ticker(t,n,u,m,_,g){const b=[[p["default"],1,d["durationSecond"]],[p["default"],5,5*d["durationSecond"]],[p["default"],15,15*d["durationSecond"]],[p["default"],30,30*d["durationSecond"]],[g,1,d["durationMinute"]],[g,5,5*d["durationMinute"]],[g,15,15*d["durationMinute"]],[g,30,30*d["durationMinute"]],[_,1,d["durationHour"]],[_,3,3*d["durationHour"]],[_,6,6*d["durationHour"]],[_,12,12*d["durationHour"]],[m,1,d["durationDay"]],[m,2,2*d["durationDay"]],[u,1,d["durationWeek"]],[n,1,d["durationMonth"]],[n,3,3*d["durationMonth"]],[t,1,d["durationYear"]]];function ticks(t,n,u){const c=n<t;c&&([t,n]=[n,t]);const l=u&&"function"===typeof u.range?u:tickInterval(t,n,u),d=l?l.range(t,+n+1):[];return c?d.reverse():d}function tickInterval(n,u,p){const m=Math.abs(u-n)/p,_=Object(c["default"])(([,,t])=>t).right(b,m);if(_===b.length)return t.every(Object(l["tickStep"])(n/d["durationYear"],u/d["durationYear"],p));if(0===_)return h["default"].every(Math.max(Object(l["tickStep"])(n,u,p),1));const[g,v]=b[m/b[_-1][2]<b[_][2]/m?_-1:_];return g.every(v)}return[ticks,tickInterval]}const[Q,Z]=ticker(Y["default"],K["default"],q["utcSunday"],X["default"],W["default"],G["default"]),[$,J]=ticker(U["default"],v["default"],b["sunday"],g["default"],_["default"],m["default"])},"./node_modules/d3-time/src/utcDay.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcDays",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/l["durationDay"]}),(function(t){return t.getUTCDate()-1}));n["default"]=d;var h=d.range},"./node_modules/d3-time/src/utcHour.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcHours",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*l["durationHour"])}),(function(t,n){return(n-t)/l["durationHour"]}),(function(t){return t.getUTCHours()}));n["default"]=d;var h=d.range},"./node_modules/d3-time/src/utcMinute.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcMinutes",(function(){return h}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js"),d=Object(c["default"])((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*l["durationMinute"])}),(function(t,n){return(n-t)/l["durationMinute"]}),(function(t){return t.getUTCMinutes()}));n["default"]=d;var h=d.range},"./node_modules/d3-time/src/utcMonth.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcMonths",(function(){return d}));var c=u("./node_modules/d3-time/src/interval.js"),l=Object(c["default"])((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));n["default"]=l;var d=l.range},"./node_modules/d3-time/src/utcWeek.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcSunday",(function(){return d})),u.d(n,"utcMonday",(function(){return h})),u.d(n,"utcTuesday",(function(){return p})),u.d(n,"utcWednesday",(function(){return m})),u.d(n,"utcThursday",(function(){return _})),u.d(n,"utcFriday",(function(){return g})),u.d(n,"utcSaturday",(function(){return b})),u.d(n,"utcSundays",(function(){return v})),u.d(n,"utcMondays",(function(){return U})),u.d(n,"utcTuesdays",(function(){return G})),u.d(n,"utcWednesdays",(function(){return W})),u.d(n,"utcThursdays",(function(){return X})),u.d(n,"utcFridays",(function(){return q})),u.d(n,"utcSaturdays",(function(){return K}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js");function utcWeekday(t){return Object(c["default"])((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/l["durationWeek"]}))}var d=utcWeekday(0),h=utcWeekday(1),p=utcWeekday(2),m=utcWeekday(3),_=utcWeekday(4),g=utcWeekday(5),b=utcWeekday(6),v=d.range,U=h.range,G=p.range,W=m.range,X=_.range,q=g.range,K=b.range},"./node_modules/d3-time/src/utcYear.js":function(t,n,u){"use strict";u.r(n),u.d(n,"utcYears",(function(){return d}));var c=u("./node_modules/d3-time/src/interval.js"),l=Object(c["default"])((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));l.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(c["default"])((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,u){n.setUTCFullYear(n.getUTCFullYear()+u*t)})):null},n["default"]=l;var d=l.range},"./node_modules/d3-time/src/week.js":function(t,n,u){"use strict";u.r(n),u.d(n,"sunday",(function(){return d})),u.d(n,"monday",(function(){return h})),u.d(n,"tuesday",(function(){return p})),u.d(n,"wednesday",(function(){return m})),u.d(n,"thursday",(function(){return _})),u.d(n,"friday",(function(){return g})),u.d(n,"saturday",(function(){return b})),u.d(n,"sundays",(function(){return v})),u.d(n,"mondays",(function(){return U})),u.d(n,"tuesdays",(function(){return G})),u.d(n,"wednesdays",(function(){return W})),u.d(n,"thursdays",(function(){return X})),u.d(n,"fridays",(function(){return q})),u.d(n,"saturdays",(function(){return K}));var c=u("./node_modules/d3-time/src/interval.js"),l=u("./node_modules/d3-time/src/duration.js");function weekday(t){return Object(c["default"])((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*l["durationMinute"])/l["durationWeek"]}))}var d=weekday(0),h=weekday(1),p=weekday(2),m=weekday(3),_=weekday(4),g=weekday(5),b=weekday(6),v=d.range,U=h.range,G=p.range,W=m.range,X=_.range,q=g.range,K=b.range},"./node_modules/d3-time/src/year.js":function(t,n,u){"use strict";u.r(n),u.d(n,"years",(function(){return d}));var c=u("./node_modules/d3-time/src/interval.js"),l=Object(c["default"])((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));l.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Object(c["default"])((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,u){n.setFullYear(n.getFullYear()+u*t)})):null},n["default"]=l;var d=l.range},"./node_modules/d3-timer/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-timer/src/timer.js");u.d(n,"now",(function(){return c["now"]})),u.d(n,"timer",(function(){return c["timer"]})),u.d(n,"timerFlush",(function(){return c["timerFlush"]}));var l=u("./node_modules/d3-timer/src/timeout.js");u.d(n,"timeout",(function(){return l["default"]}));var d=u("./node_modules/d3-timer/src/interval.js");u.d(n,"interval",(function(){return d["default"]}))},"./node_modules/d3-timer/src/interval.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-timer/src/timer.js");n["default"]=function(t,n,u){var l=new c["Timer"],d=n;return null==n?(l.restart(t,n,u),l):(l._restart=l.restart,l.restart=function(t,n,u){n=+n,u=null==u?Object(c["now"])():+u,l._restart((function tick(c){c+=d,l._restart(tick,d+=n,u),t(c)}),n,u)},l.restart(t,n,u),l)}},"./node_modules/d3-timer/src/timeout.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-timer/src/timer.js");n["default"]=function(t,n,u){var l=new c["Timer"];return n=null==n?0:+n,l.restart(u=>{l.stop(),t(u+n)},n,u),l}},"./node_modules/d3-timer/src/timer.js":function(t,n,u){"use strict";u.r(n),u.d(n,"now",(function(){return now})),u.d(n,"Timer",(function(){return Timer})),u.d(n,"timer",(function(){return timer})),u.d(n,"timerFlush",(function(){return timerFlush}));var c,l,d=0,h=0,p=0,m=1e3,_=0,g=0,b=0,v="object"===typeof performance&&performance.now?performance:Date,U="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function now(){return g||(U(clearNow),g=v.now()+b)}function clearNow(){g=0}function Timer(){this._call=this._time=this._next=null}function timer(t,n,u){var c=new Timer;return c.restart(t,n,u),c}function timerFlush(){now(),++d;var t,n=c;while(n)(t=g-n._time)>=0&&n._call.call(void 0,t),n=n._next;--d}function wake(){g=(_=v.now())+b,d=h=0;try{timerFlush()}finally{d=0,nap(),g=0}}function poke(){var t=v.now(),n=t-_;n>m&&(b-=n,_=t)}function nap(){var t,n,u=c,d=1/0;while(u)u._call?(d>u._time&&(d=u._time),t=u,u=u._next):(n=u._next,u._next=null,u=t?t._next=n:c=n);l=t,sleep(d)}function sleep(t){if(!d){h&&(h=clearTimeout(h));var n=t-g;n>24?(t<1/0&&(h=setTimeout(wake,t-v.now()-b)),p&&(p=clearInterval(p))):(p||(_=v.now(),p=setInterval(poke,m)),d=1,U(wake))}}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,n,u){if("function"!==typeof t)throw new TypeError("callback is not a function");u=(null==u?now():+u)+(null==n?0:+n),this._next||l===this||(l?l._next=this:c=this,l=this),this._call=t,this._time=u,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}}},"./node_modules/d3-transition/src/active.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/index.js"),l=u("./node_modules/d3-transition/src/transition/schedule.js"),d=[null];n["default"]=function(t,n){var u,h,p=t.__transition;if(p)for(h in n=null==n?null:n+"",p)if((u=p[h]).state>l["SCHEDULED"]&&u.name===n)return new c["Transition"]([[t]],d,n,+h);return null}},"./node_modules/d3-transition/src/index.js":function(t,n,u){"use strict";u.r(n);u("./node_modules/d3-transition/src/selection/index.js");var c=u("./node_modules/d3-transition/src/transition/index.js");u.d(n,"transition",(function(){return c["default"]}));var l=u("./node_modules/d3-transition/src/active.js");u.d(n,"active",(function(){return l["default"]}));var d=u("./node_modules/d3-transition/src/interrupt.js");u.d(n,"interrupt",(function(){return d["default"]}))},"./node_modules/d3-transition/src/interrupt.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");n["default"]=function(t,n){var u,l,d,h=t.__transition,p=!0;if(h){for(d in n=null==n?null:n+"",h)(u=h[d]).name===n?(l=u.state>c["STARTING"]&&u.state<c["ENDING"],u.state=c["ENDED"],u.timer.stop(),u.on.call(l?"interrupt":"cancel",t,t.__data__,u.index,u.group),delete h[d]):p=!1;p&&delete t.__transition}}},"./node_modules/d3-transition/src/selection/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js"),l=u("./node_modules/d3-transition/src/selection/interrupt.js"),d=u("./node_modules/d3-transition/src/selection/transition.js");c["default"].prototype.interrupt=l["default"],c["default"].prototype.transition=d["default"]},"./node_modules/d3-transition/src/selection/interrupt.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/interrupt.js");n["default"]=function(t){return this.each((function(){Object(c["default"])(this,t)}))}},"./node_modules/d3-transition/src/selection/transition.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/index.js"),l=u("./node_modules/d3-transition/src/transition/schedule.js"),d=u("./node_modules/d3-ease/src/cubic.js"),h=u("./node_modules/d3-timer/src/timer.js"),p={time:null,delay:0,duration:250,ease:d["cubicInOut"]};function inherit(t,n){var u;while(!(u=t.__transition)||!(u=u[n]))if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return u}n["default"]=function(t){var n,u;t instanceof c["Transition"]?(n=t._id,t=t._name):(n=Object(c["newId"])(),(u=p).time=Object(h["now"])(),t=null==t?null:t+"");for(var d=this._groups,m=d.length,_=0;_<m;++_)for(var g,b=d[_],v=b.length,U=0;U<v;++U)(g=b[U])&&Object(l["default"])(g,t,n,U,b,u||inherit(g,n));return new c["Transition"](d,this._parents,t,n)}},"./node_modules/d3-transition/src/transition/attr.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/transform/index.js"),l=u("./node_modules/d3-selection/src/namespace.js"),d=u("./node_modules/d3-transition/src/transition/tween.js"),h=u("./node_modules/d3-transition/src/transition/interpolate.js");function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,n,u){var c,l,d=u+"";return function(){var h=this.getAttribute(t);return h===d?null:h===c?l:l=n(c=h,u)}}function attrConstantNS(t,n,u){var c,l,d=u+"";return function(){var h=this.getAttributeNS(t.space,t.local);return h===d?null:h===c?l:l=n(c=h,u)}}function attrFunction(t,n,u){var c,l,d;return function(){var h,p,m=u(this);if(null!=m)return h=this.getAttribute(t),p=m+"",h===p?null:h===c&&p===l?d:(l=p,d=n(c=h,m));this.removeAttribute(t)}}function attrFunctionNS(t,n,u){var c,l,d;return function(){var h,p,m=u(this);if(null!=m)return h=this.getAttributeNS(t.space,t.local),p=m+"",h===p?null:h===c&&p===l?d:(l=p,d=n(c=h,m));this.removeAttributeNS(t.space,t.local)}}n["default"]=function(t,n){var u=Object(l["default"])(t),p="transform"===u?c["interpolateTransformSvg"]:h["default"];return this.attrTween(t,"function"===typeof n?(u.local?attrFunctionNS:attrFunction)(u,p,Object(d["tweenValue"])(this,"attr."+t,n)):null==n?(u.local?attrRemoveNS:attrRemove)(u):(u.local?attrConstantNS:attrConstant)(u,p,n))}},"./node_modules/d3-transition/src/transition/attrTween.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/namespace.js");function attrInterpolate(t,n){return function(u){this.setAttribute(t,n.call(this,u))}}function attrInterpolateNS(t,n){return function(u){this.setAttributeNS(t.space,t.local,n.call(this,u))}}function attrTweenNS(t,n){var u,c;function tween(){var l=n.apply(this,arguments);return l!==c&&(u=(c=l)&&attrInterpolateNS(t,l)),u}return tween._value=n,tween}function attrTween(t,n){var u,c;function tween(){var l=n.apply(this,arguments);return l!==c&&(u=(c=l)&&attrInterpolate(t,l)),u}return tween._value=n,tween}n["default"]=function(t,n){var u="attr."+t;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==n)return this.tween(u,null);if("function"!==typeof n)throw new Error;var l=Object(c["default"])(t);return this.tween(u,(l.local?attrTweenNS:attrTween)(l,n))}},"./node_modules/d3-transition/src/transition/delay.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");function delayFunction(t,n){return function(){Object(c["init"])(this,t).delay=+n.apply(this,arguments)}}function delayConstant(t,n){return n=+n,function(){Object(c["init"])(this,t).delay=n}}n["default"]=function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?delayFunction:delayConstant)(n,t)):Object(c["get"])(this.node(),n).delay}},"./node_modules/d3-transition/src/transition/duration.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");function durationFunction(t,n){return function(){Object(c["set"])(this,t).duration=+n.apply(this,arguments)}}function durationConstant(t,n){return n=+n,function(){Object(c["set"])(this,t).duration=n}}n["default"]=function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?durationFunction:durationConstant)(n,t)):Object(c["get"])(this.node(),n).duration}},"./node_modules/d3-transition/src/transition/ease.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");function easeConstant(t,n){if("function"!==typeof n)throw new Error;return function(){Object(c["set"])(this,t).ease=n}}n["default"]=function(t){var n=this._id;return arguments.length?this.each(easeConstant(n,t)):Object(c["get"])(this.node(),n).ease}},"./node_modules/d3-transition/src/transition/easeVarying.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");function easeVarying(t,n){return function(){var u=n.apply(this,arguments);if("function"!==typeof u)throw new Error;Object(c["set"])(this,t).ease=u}}n["default"]=function(t){if("function"!==typeof t)throw new Error;return this.each(easeVarying(this._id,t))}},"./node_modules/d3-transition/src/transition/end.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");n["default"]=function(){var t,n,u=this,l=u._id,d=u.size();return new Promise((function(h,p){var m={value:p},_={value:function(){0===--d&&h()}};u.each((function(){var u=Object(c["set"])(this,l),d=u.on;d!==t&&(n=(t=d).copy(),n._.cancel.push(m),n._.interrupt.push(m),n._.end.push(_)),u.on=n})),0===d&&h()}))}},"./node_modules/d3-transition/src/transition/filter.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/matcher.js"),l=u("./node_modules/d3-transition/src/transition/index.js");n["default"]=function(t){"function"!==typeof t&&(t=Object(c["default"])(t));for(var n=this._groups,u=n.length,d=new Array(u),h=0;h<u;++h)for(var p,m=n[h],_=m.length,g=d[h]=[],b=0;b<_;++b)(p=m[b])&&t.call(p,p.__data__,b,m)&&g.push(p);return new l["Transition"](d,this._parents,this._name,this._id)}},"./node_modules/d3-transition/src/transition/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"Transition",(function(){return Transition})),u.d(n,"default",(function(){return transition})),u.d(n,"newId",(function(){return newId}));var c=u("./node_modules/d3-selection/src/selection/index.js"),l=u("./node_modules/d3-transition/src/transition/attr.js"),d=u("./node_modules/d3-transition/src/transition/attrTween.js"),h=u("./node_modules/d3-transition/src/transition/delay.js"),p=u("./node_modules/d3-transition/src/transition/duration.js"),m=u("./node_modules/d3-transition/src/transition/ease.js"),_=u("./node_modules/d3-transition/src/transition/easeVarying.js"),g=u("./node_modules/d3-transition/src/transition/filter.js"),b=u("./node_modules/d3-transition/src/transition/merge.js"),v=u("./node_modules/d3-transition/src/transition/on.js"),U=u("./node_modules/d3-transition/src/transition/remove.js"),G=u("./node_modules/d3-transition/src/transition/select.js"),W=u("./node_modules/d3-transition/src/transition/selectAll.js"),X=u("./node_modules/d3-transition/src/transition/selection.js"),q=u("./node_modules/d3-transition/src/transition/style.js"),K=u("./node_modules/d3-transition/src/transition/styleTween.js"),Y=u("./node_modules/d3-transition/src/transition/text.js"),Q=u("./node_modules/d3-transition/src/transition/textTween.js"),Z=u("./node_modules/d3-transition/src/transition/transition.js"),$=u("./node_modules/d3-transition/src/transition/tween.js"),J=u("./node_modules/d3-transition/src/transition/end.js"),ee=0;function Transition(t,n,u,c){this._groups=t,this._parents=n,this._name=u,this._id=c}function transition(t){return Object(c["default"])().transition(t)}function newId(){return++ee}var te=c["default"].prototype;Transition.prototype=transition.prototype={constructor:Transition,select:G["default"],selectAll:W["default"],selectChild:te.selectChild,selectChildren:te.selectChildren,filter:g["default"],merge:b["default"],selection:X["default"],transition:Z["default"],call:te.call,nodes:te.nodes,node:te.node,size:te.size,empty:te.empty,each:te.each,on:v["default"],attr:l["default"],attrTween:d["default"],style:q["default"],styleTween:K["default"],text:Y["default"],textTween:Q["default"],remove:U["default"],tween:$["default"],delay:h["default"],duration:p["default"],ease:m["default"],easeVarying:_["default"],end:J["default"],[Symbol.iterator]:te[Symbol.iterator]}},"./node_modules/d3-transition/src/transition/interpolate.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-color/src/color.js"),l=u("./node_modules/d3-interpolate/src/number.js"),d=u("./node_modules/d3-interpolate/src/rgb.js"),h=u("./node_modules/d3-interpolate/src/string.js");n["default"]=function(t,n){var u;return("number"===typeof n?l["default"]:n instanceof c["default"]?d["default"]:(u=Object(c["default"])(n))?(n=u,d["default"]):h["default"])(t,n)}},"./node_modules/d3-transition/src/transition/merge.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/index.js");n["default"]=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,u=t._groups,l=n.length,d=u.length,h=Math.min(l,d),p=new Array(l),m=0;m<h;++m)for(var _,g=n[m],b=u[m],v=g.length,U=p[m]=new Array(v),G=0;G<v;++G)(_=g[G]||b[G])&&(U[G]=_);for(;m<l;++m)p[m]=n[m];return new c["Transition"](p,this._parents,this._name,this._id)}},"./node_modules/d3-transition/src/transition/on.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/schedule.js");function start(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}function onFunction(t,n,u){var l,d,h=start(n)?c["init"]:c["set"];return function(){var c=h(this,t),p=c.on;p!==l&&(d=(l=p).copy()).on(n,u),c.on=d}}n["default"]=function(t,n){var u=this._id;return arguments.length<2?Object(c["get"])(this.node(),u).on.on(t):this.each(onFunction(u,t,n))}},"./node_modules/d3-transition/src/transition/remove.js":function(t,n,u){"use strict";function removeFunction(t){return function(){var n=this.parentNode;for(var u in this.__transition)if(+u!==t)return;n&&n.removeChild(this)}}u.r(n),n["default"]=function(){return this.on("end.remove",removeFunction(this._id))}},"./node_modules/d3-transition/src/transition/schedule.js":function(t,n,u){"use strict";u.r(n),u.d(n,"CREATED",(function(){return m})),u.d(n,"SCHEDULED",(function(){return _})),u.d(n,"STARTING",(function(){return g})),u.d(n,"STARTED",(function(){return b})),u.d(n,"RUNNING",(function(){return v})),u.d(n,"ENDING",(function(){return U})),u.d(n,"ENDED",(function(){return G})),u.d(n,"init",(function(){return init})),u.d(n,"set",(function(){return set})),u.d(n,"get",(function(){return get}));var c=u("./node_modules/d3-dispatch/src/dispatch.js"),l=u("./node_modules/d3-timer/src/timer.js"),d=u("./node_modules/d3-timer/src/timeout.js"),h=Object(c["default"])("start","end","cancel","interrupt"),p=[],m=0,_=1,g=2,b=3,v=4,U=5,G=6;function init(t,n){var u=get(t,n);if(u.state>m)throw new Error("too late; already scheduled");return u}function set(t,n){var u=get(t,n);if(u.state>b)throw new Error("too late; already running");return u}function get(t,n){var u=t.__transition;if(!u||!(u=u[n]))throw new Error("transition not found");return u}function create(t,n,u){var c,h=t.__transition;function schedule(t){u.state=_,u.timer.restart(start,u.delay,u.time),u.delay<=t&&start(t-u.delay)}function start(l){var p,m,U,W;if(u.state!==_)return stop();for(p in h)if(W=h[p],W.name===u.name){if(W.state===b)return Object(d["default"])(start);W.state===v?(W.state=G,W.timer.stop(),W.on.call("interrupt",t,t.__data__,W.index,W.group),delete h[p]):+p<n&&(W.state=G,W.timer.stop(),W.on.call("cancel",t,t.__data__,W.index,W.group),delete h[p])}if(Object(d["default"])((function(){u.state===b&&(u.state=v,u.timer.restart(tick,u.delay,u.time),tick(l))})),u.state=g,u.on.call("start",t,t.__data__,u.index,u.group),u.state===g){for(u.state=b,c=new Array(U=u.tween.length),p=0,m=-1;p<U;++p)(W=u.tween[p].value.call(t,t.__data__,u.index,u.group))&&(c[++m]=W);c.length=m+1}}function tick(n){var l=n<u.duration?u.ease.call(null,n/u.duration):(u.timer.restart(stop),u.state=U,1),d=-1,h=c.length;while(++d<h)c[d].call(t,l);u.state===U&&(u.on.call("end",t,t.__data__,u.index,u.group),stop())}function stop(){for(var c in u.state=G,u.timer.stop(),delete h[n],h)return;delete t.__transition}h[n]=u,u.timer=Object(l["timer"])(schedule,0,u.time)}n["default"]=function(t,n,u,c,l,d){var _=t.__transition;if(_){if(u in _)return}else t.__transition={};create(t,u,{name:n,index:c,group:l,on:h,tween:p,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:m})}},"./node_modules/d3-transition/src/transition/select.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selector.js"),l=u("./node_modules/d3-transition/src/transition/index.js"),d=u("./node_modules/d3-transition/src/transition/schedule.js");n["default"]=function(t){var n=this._name,u=this._id;"function"!==typeof t&&(t=Object(c["default"])(t));for(var h=this._groups,p=h.length,m=new Array(p),_=0;_<p;++_)for(var g,b,v=h[_],U=v.length,G=m[_]=new Array(U),W=0;W<U;++W)(g=v[W])&&(b=t.call(g,g.__data__,W,v))&&("__data__"in g&&(b.__data__=g.__data__),G[W]=b,Object(d["default"])(G[W],n,u,W,G,Object(d["get"])(g,u)));return new l["Transition"](m,this._parents,n,u)}},"./node_modules/d3-transition/src/transition/selectAll.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selectorAll.js"),l=u("./node_modules/d3-transition/src/transition/index.js"),d=u("./node_modules/d3-transition/src/transition/schedule.js");n["default"]=function(t){var n=this._name,u=this._id;"function"!==typeof t&&(t=Object(c["default"])(t));for(var h=this._groups,p=h.length,m=[],_=[],g=0;g<p;++g)for(var b,v=h[g],U=v.length,G=0;G<U;++G)if(b=v[G]){for(var W,X=t.call(b,b.__data__,G,v),q=Object(d["get"])(b,u),K=0,Y=X.length;K<Y;++K)(W=X[K])&&Object(d["default"])(W,n,u,K,X,q);m.push(X),_.push(b)}return new l["Transition"](m,_,n,u)}},"./node_modules/d3-transition/src/transition/selection.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-selection/src/selection/index.js"),l=c["default"].prototype.constructor;n["default"]=function(){return new l(this._groups,this._parents)}},"./node_modules/d3-transition/src/transition/style.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-interpolate/src/transform/index.js"),l=u("./node_modules/d3-selection/src/selection/style.js"),d=u("./node_modules/d3-transition/src/transition/schedule.js"),h=u("./node_modules/d3-transition/src/transition/tween.js"),p=u("./node_modules/d3-transition/src/transition/interpolate.js");function styleNull(t,n){var u,c,d;return function(){var h=Object(l["styleValue"])(this,t),p=(this.style.removeProperty(t),Object(l["styleValue"])(this,t));return h===p?null:h===u&&p===c?d:d=n(u=h,c=p)}}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,n,u){var c,d,h=u+"";return function(){var p=Object(l["styleValue"])(this,t);return p===h?null:p===c?d:d=n(c=p,u)}}function styleFunction(t,n,u){var c,d,h;return function(){var p=Object(l["styleValue"])(this,t),m=u(this),_=m+"";return null==m&&(this.style.removeProperty(t),_=m=Object(l["styleValue"])(this,t)),p===_?null:p===c&&_===d?h:(d=_,h=n(c=p,m))}}function styleMaybeRemove(t,n){var u,c,l,h,p="style."+n,m="end."+p;return function(){var _=Object(d["set"])(this,t),g=_.on,b=null==_.value[p]?h||(h=styleRemove(n)):void 0;g===u&&l===b||(c=(u=g).copy()).on(m,l=b),_.on=c}}n["default"]=function(t,n,u){var l="transform"===(t+="")?c["interpolateTransformCss"]:p["default"];return null==n?this.styleTween(t,styleNull(t,l)).on("end.style."+t,styleRemove(t)):"function"===typeof n?this.styleTween(t,styleFunction(t,l,Object(h["tweenValue"])(this,"style."+t,n))).each(styleMaybeRemove(this._id,t)):this.styleTween(t,styleConstant(t,l,n),u).on("end.style."+t,null)}},"./node_modules/d3-transition/src/transition/styleTween.js":function(t,n,u){"use strict";function styleInterpolate(t,n,u){return function(c){this.style.setProperty(t,n.call(this,c),u)}}function styleTween(t,n,u){var c,l;function tween(){var d=n.apply(this,arguments);return d!==l&&(c=(l=d)&&styleInterpolate(t,d,u)),c}return tween._value=n,tween}u.r(n),n["default"]=function(t,n,u){var c="style."+(t+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==n)return this.tween(c,null);if("function"!==typeof n)throw new Error;return this.tween(c,styleTween(t,n,null==u?"":u))}},"./node_modules/d3-transition/src/transition/text.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/tween.js");function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var n=t(this);this.textContent=null==n?"":n}}n["default"]=function(t){return this.tween("text","function"===typeof t?textFunction(Object(c["tweenValue"])(this,"text",t)):textConstant(null==t?"":t+""))}},"./node_modules/d3-transition/src/transition/textTween.js":function(t,n,u){"use strict";function textInterpolate(t){return function(n){this.textContent=t.call(this,n)}}function textTween(t){var n,u;function tween(){var c=t.apply(this,arguments);return c!==u&&(n=(u=c)&&textInterpolate(c)),n}return tween._value=t,tween}u.r(n),n["default"]=function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,textTween(t))}},"./node_modules/d3-transition/src/transition/transition.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-transition/src/transition/index.js"),l=u("./node_modules/d3-transition/src/transition/schedule.js");n["default"]=function(){for(var t=this._name,n=this._id,u=Object(c["newId"])(),d=this._groups,h=d.length,p=0;p<h;++p)for(var m,_=d[p],g=_.length,b=0;b<g;++b)if(m=_[b]){var v=Object(l["get"])(m,n);Object(l["default"])(m,t,u,b,_,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new c["Transition"](d,this._parents,t,u)}},"./node_modules/d3-transition/src/transition/tween.js":function(t,n,u){"use strict";u.r(n),u.d(n,"tweenValue",(function(){return tweenValue}));var c=u("./node_modules/d3-transition/src/transition/schedule.js");function tweenRemove(t,n){var u,l;return function(){var d=Object(c["set"])(this,t),h=d.tween;if(h!==u){l=u=h;for(var p=0,m=l.length;p<m;++p)if(l[p].name===n){l=l.slice(),l.splice(p,1);break}}d.tween=l}}function tweenFunction(t,n,u){var l,d;if("function"!==typeof u)throw new Error;return function(){var h=Object(c["set"])(this,t),p=h.tween;if(p!==l){d=(l=p).slice();for(var m={name:n,value:u},_=0,g=d.length;_<g;++_)if(d[_].name===n){d[_]=m;break}_===g&&d.push(m)}h.tween=d}}function tweenValue(t,n,u){var l=t._id;return t.each((function(){var t=Object(c["set"])(this,l);(t.value||(t.value={}))[n]=u.apply(this,arguments)})),function(t){return Object(c["get"])(t,l).value[n]}}n["default"]=function(t,n){var u=this._id;if(t+="",arguments.length<2){for(var l,d=Object(c["get"])(this.node(),u).tween,h=0,p=d.length;h<p;++h)if((l=d[h]).name===t)return l.value;return null}return this.each((null==n?tweenRemove:tweenFunction)(u,t,n))}},"./node_modules/d3-zoom/src/constant.js":function(t,n,u){"use strict";u.r(n),n["default"]=t=>()=>t},"./node_modules/d3-zoom/src/event.js":function(t,n,u){"use strict";function ZoomEvent(t,{sourceEvent:n,target:u,transform:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},transform:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}u.r(n),u.d(n,"default",(function(){return ZoomEvent}))},"./node_modules/d3-zoom/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-zoom/src/zoom.js");u.d(n,"zoom",(function(){return c["default"]}));var l=u("./node_modules/d3-zoom/src/transform.js");u.d(n,"zoomTransform",(function(){return l["default"]})),u.d(n,"zoomIdentity",(function(){return l["identity"]})),u.d(n,"ZoomTransform",(function(){return l["Transform"]}))},"./node_modules/d3-zoom/src/noevent.js":function(t,n,u){"use strict";function nopropagation(t){t.stopImmediatePropagation()}u.r(n),u.d(n,"nopropagation",(function(){return nopropagation})),n["default"]=function(t){t.preventDefault(),t.stopImmediatePropagation()}},"./node_modules/d3-zoom/src/transform.js":function(t,n,u){"use strict";function Transform(t,n,u){this.k=t,this.x=n,this.y=u}u.r(n),u.d(n,"Transform",(function(){return Transform})),u.d(n,"identity",(function(){return c})),u.d(n,"default",(function(){return transform})),Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var c=new Transform(1,0,0);function transform(t){while(!t.__zoom)if(!(t=t.parentNode))return c;return t.__zoom}transform.prototype=Transform.prototype},"./node_modules/d3-zoom/src/zoom.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-dispatch/src/dispatch.js"),l=u("./node_modules/d3-drag/src/nodrag.js"),d=u("./node_modules/d3-interpolate/src/zoom.js"),h=u("./node_modules/d3-selection/src/select.js"),p=u("./node_modules/d3-selection/src/pointer.js"),m=u("./node_modules/d3-transition/src/index.js"),_=u("./node_modules/d3-zoom/src/constant.js"),g=u("./node_modules/d3-zoom/src/event.js"),b=u("./node_modules/d3-zoom/src/transform.js"),v=u("./node_modules/d3-zoom/src/noevent.js");function defaultFilter(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function defaultExtent(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function defaultTransform(){return this.__zoom||b["identity"]}function defaultWheelDelta(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(t,n,u){var c=t.invertX(n[0][0])-u[0][0],l=t.invertX(n[1][0])-u[1][0],d=t.invertY(n[0][1])-u[0][1],h=t.invertY(n[1][1])-u[1][1];return t.translate(l>c?(c+l)/2:Math.min(0,c)||Math.max(0,l),h>d?(d+h)/2:Math.min(0,d)||Math.max(0,h))}n["default"]=function(){var t,n,u,U=defaultFilter,G=defaultExtent,W=defaultConstrain,X=defaultWheelDelta,q=defaultTouchable,K=[0,1/0],Y=[[-1/0,-1/0],[1/0,1/0]],Q=250,Z=d["default"],$=Object(c["default"])("start","zoom","end"),J=500,ee=150,te=0,re=10;function zoom(t){t.property("__zoom",defaultTransform).on("wheel.zoom",wheeled,{passive:!1}).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(q).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(t,n){return n=Math.max(K[0],Math.min(K[1],n)),n===t.k?t:new b["Transform"](n,t.x,t.y)}function translate(t,n,u){var c=n[0]-u[0]*t.k,l=n[1]-u[1]*t.k;return c===t.x&&l===t.y?t:new b["Transform"](t.k,c,l)}function centroid(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function schedule(t,n,u,c){t.on("start.zoom",(function(){gesture(this,arguments).event(c).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).event(c).end()})).tween("zoom",(function(){var t=this,l=arguments,d=gesture(t,l).event(c),h=G.apply(t,l),p=null==u?centroid(h):"function"===typeof u?u.apply(t,l):u,m=Math.max(h[1][0]-h[0][0],h[1][1]-h[0][1]),_=t.__zoom,g="function"===typeof n?n.apply(t,l):n,v=Z(_.invert(p).concat(m/_.k),g.invert(p).concat(m/g.k));return function(t){if(1===t)t=g;else{var n=v(t),u=m/n[2];t=new b["Transform"](u,p[0]-n[0]*u,p[1]-n[1]*u)}d.zoom(null,t)}}))}function gesture(t,n,u){return!u&&t.__zooming||new Gesture(t,n)}function Gesture(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=G.apply(t,n),this.taps=0}function wheeled(t,...n){if(U.apply(this,arguments)){var u=gesture(this,n).event(t),c=this.__zoom,l=Math.max(K[0],Math.min(K[1],c.k*Math.pow(2,X.apply(this,arguments)))),d=Object(p["default"])(t);if(u.wheel)u.mouse[0][0]===d[0]&&u.mouse[0][1]===d[1]||(u.mouse[1]=c.invert(u.mouse[0]=d)),clearTimeout(u.wheel);else{if(c.k===l)return;u.mouse=[d,c.invert(d)],Object(m["interrupt"])(this),u.start()}Object(v["default"])(t),u.wheel=setTimeout(wheelidled,ee),u.zoom("mouse",W(translate(scale(c,l),u.mouse[0],u.mouse[1]),u.extent,Y))}function wheelidled(){u.wheel=null,u.end()}}function mousedowned(t,...n){if(!u&&U.apply(this,arguments)){var c=t.currentTarget,d=gesture(this,n,!0).event(t),_=Object(h["default"])(t.view).on("mousemove.zoom",mousemoved,!0).on("mouseup.zoom",mouseupped,!0),g=Object(p["default"])(t,c),b=t.clientX,G=t.clientY;Object(l["default"])(t.view),Object(v["nopropagation"])(t),d.mouse=[g,this.__zoom.invert(g)],Object(m["interrupt"])(this),d.start()}function mousemoved(t){if(Object(v["default"])(t),!d.moved){var n=t.clientX-b,u=t.clientY-G;d.moved=n*n+u*u>te}d.event(t).zoom("mouse",W(translate(d.that.__zoom,d.mouse[0]=Object(p["default"])(t,c),d.mouse[1]),d.extent,Y))}function mouseupped(t){_.on("mousemove.zoom mouseup.zoom",null),Object(l["yesdrag"])(t.view,d.moved),Object(v["default"])(t),d.event(t).end()}}function dblclicked(t,...n){if(U.apply(this,arguments)){var u=this.__zoom,c=Object(p["default"])(t.changedTouches?t.changedTouches[0]:t,this),l=u.invert(c),d=u.k*(t.shiftKey?.5:2),m=W(translate(scale(u,d),c,l),G.apply(this,n),Y);Object(v["default"])(t),Q>0?Object(h["default"])(this).transition().duration(Q).call(schedule,m,c,t):Object(h["default"])(this).call(zoom.transform,m,c,t)}}function touchstarted(u,...c){if(U.apply(this,arguments)){var l,d,h,_,g=u.touches,b=g.length,G=gesture(this,c,u.changedTouches.length===b).event(u);for(Object(v["nopropagation"])(u),d=0;d<b;++d)h=g[d],_=Object(p["default"])(h,this),_=[_,this.__zoom.invert(_),h.identifier],G.touch0?G.touch1||G.touch0[2]===_[2]||(G.touch1=_,G.taps=0):(G.touch0=_,l=!0,G.taps=1+!!t);t&&(t=clearTimeout(t)),l&&(G.taps<2&&(n=_[0],t=setTimeout((function(){t=null}),J)),Object(m["interrupt"])(this),G.start())}}function touchmoved(t,...n){if(this.__zooming){var u,c,l,d,h=gesture(this,n).event(t),m=t.changedTouches,_=m.length;for(Object(v["default"])(t),u=0;u<_;++u)c=m[u],l=Object(p["default"])(c,this),h.touch0&&h.touch0[2]===c.identifier?h.touch0[0]=l:h.touch1&&h.touch1[2]===c.identifier&&(h.touch1[0]=l);if(c=h.that.__zoom,h.touch1){var g=h.touch0[0],b=h.touch0[1],U=h.touch1[0],G=h.touch1[1],X=(X=U[0]-g[0])*X+(X=U[1]-g[1])*X,q=(q=G[0]-b[0])*q+(q=G[1]-b[1])*q;c=scale(c,Math.sqrt(X/q)),l=[(g[0]+U[0])/2,(g[1]+U[1])/2],d=[(b[0]+G[0])/2,(b[1]+G[1])/2]}else{if(!h.touch0)return;l=h.touch0[0],d=h.touch0[1]}h.zoom("touch",W(translate(c,l,d),h.extent,Y))}}function touchended(t,...c){if(this.__zooming){var l,d,m=gesture(this,c).event(t),_=t.changedTouches,g=_.length;for(Object(v["nopropagation"])(t),u&&clearTimeout(u),u=setTimeout((function(){u=null}),J),l=0;l<g;++l)d=_[l],m.touch0&&m.touch0[2]===d.identifier?delete m.touch0:m.touch1&&m.touch1[2]===d.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),2===m.taps&&(d=Object(p["default"])(d,this),Math.hypot(n[0]-d[0],n[1]-d[1])<re)){var b=Object(h["default"])(this).on("dblclick.zoom");b&&b.apply(this,arguments)}}}return zoom.transform=function(t,n,u,c){var l=t.selection?t.selection():t;l.property("__zoom",defaultTransform),t!==l?schedule(t,n,u,c):l.interrupt().each((function(){gesture(this,arguments).event(c).start().zoom(null,"function"===typeof n?n.apply(this,arguments):n).end()}))},zoom.scaleBy=function(t,n,u,c){zoom.scaleTo(t,(function(){var t=this.__zoom.k,u="function"===typeof n?n.apply(this,arguments):n;return t*u}),u,c)},zoom.scaleTo=function(t,n,u,c){zoom.transform(t,(function(){var t=G.apply(this,arguments),c=this.__zoom,l=null==u?centroid(t):"function"===typeof u?u.apply(this,arguments):u,d=c.invert(l),h="function"===typeof n?n.apply(this,arguments):n;return W(translate(scale(c,h),l,d),t,Y)}),u,c)},zoom.translateBy=function(t,n,u,c){zoom.transform(t,(function(){return W(this.__zoom.translate("function"===typeof n?n.apply(this,arguments):n,"function"===typeof u?u.apply(this,arguments):u),G.apply(this,arguments),Y)}),null,c)},zoom.translateTo=function(t,n,u,c,l){zoom.transform(t,(function(){var t=G.apply(this,arguments),l=this.__zoom,d=null==c?centroid(t):"function"===typeof c?c.apply(this,arguments):c;return W(b["identity"].translate(d[0],d[1]).scale(l.k).translate("function"===typeof n?-n.apply(this,arguments):-n,"function"===typeof u?-u.apply(this,arguments):-u),t,Y)}),c,l)},Gesture.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Object(h["default"])(this.that).datum();$.call(t,this.that,new g["default"](t,{sourceEvent:this.sourceEvent,target:zoom,type:t,transform:this.that.__zoom,dispatch:$}),n)}},zoom.wheelDelta=function(t){return arguments.length?(X="function"===typeof t?t:Object(_["default"])(+t),zoom):X},zoom.filter=function(t){return arguments.length?(U="function"===typeof t?t:Object(_["default"])(!!t),zoom):U},zoom.touchable=function(t){return arguments.length?(q="function"===typeof t?t:Object(_["default"])(!!t),zoom):q},zoom.extent=function(t){return arguments.length?(G="function"===typeof t?t:Object(_["default"])([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),zoom):G},zoom.scaleExtent=function(t){return arguments.length?(K[0]=+t[0],K[1]=+t[1],zoom):[K[0],K[1]]},zoom.translateExtent=function(t){return arguments.length?(Y[0][0]=+t[0][0],Y[1][0]=+t[1][0],Y[0][1]=+t[0][1],Y[1][1]=+t[1][1],zoom):[[Y[0][0],Y[0][1]],[Y[1][0],Y[1][1]]]},zoom.constrain=function(t){return arguments.length?(W=t,zoom):W},zoom.duration=function(t){return arguments.length?(Q=+t,zoom):Q},zoom.interpolate=function(t){return arguments.length?(Z=t,zoom):Z},zoom.on=function(){var t=$.on.apply($,arguments);return t===$?zoom:t},zoom.clickDistance=function(t){return arguments.length?(te=(t=+t)*t,zoom):Math.sqrt(te)},zoom.tapDistance=function(t){return arguments.length?(re=+t,zoom):re},zoom}},"./node_modules/d3/src/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/d3-array/src/index.js");u.d(n,"bisect",(function(){return c["bisect"]})),u.d(n,"bisectRight",(function(){return c["bisectRight"]})),u.d(n,"bisectLeft",(function(){return c["bisectLeft"]})),u.d(n,"bisectCenter",(function(){return c["bisectCenter"]})),u.d(n,"ascending",(function(){return c["ascending"]})),u.d(n,"bisector",(function(){return c["bisector"]})),u.d(n,"count",(function(){return c["count"]})),u.d(n,"cross",(function(){return c["cross"]})),u.d(n,"cumsum",(function(){return c["cumsum"]})),u.d(n,"descending",(function(){return c["descending"]})),u.d(n,"deviation",(function(){return c["deviation"]})),u.d(n,"extent",(function(){return c["extent"]})),u.d(n,"Adder",(function(){return c["Adder"]})),u.d(n,"fsum",(function(){return c["fsum"]})),u.d(n,"fcumsum",(function(){return c["fcumsum"]})),u.d(n,"group",(function(){return c["group"]})),u.d(n,"flatGroup",(function(){return c["flatGroup"]})),u.d(n,"flatRollup",(function(){return c["flatRollup"]})),u.d(n,"groups",(function(){return c["groups"]})),u.d(n,"index",(function(){return c["index"]})),u.d(n,"indexes",(function(){return c["indexes"]})),u.d(n,"rollup",(function(){return c["rollup"]})),u.d(n,"rollups",(function(){return c["rollups"]})),u.d(n,"groupSort",(function(){return c["groupSort"]})),u.d(n,"bin",(function(){return c["bin"]})),u.d(n,"histogram",(function(){return c["histogram"]})),u.d(n,"thresholdFreedmanDiaconis",(function(){return c["thresholdFreedmanDiaconis"]})),u.d(n,"thresholdScott",(function(){return c["thresholdScott"]})),u.d(n,"thresholdSturges",(function(){return c["thresholdSturges"]})),u.d(n,"max",(function(){return c["max"]})),u.d(n,"maxIndex",(function(){return c["maxIndex"]})),u.d(n,"mean",(function(){return c["mean"]})),u.d(n,"median",(function(){return c["median"]})),u.d(n,"merge",(function(){return c["merge"]})),u.d(n,"min",(function(){return c["min"]})),u.d(n,"minIndex",(function(){return c["minIndex"]})),u.d(n,"mode",(function(){return c["mode"]})),u.d(n,"nice",(function(){return c["nice"]})),u.d(n,"pairs",(function(){return c["pairs"]})),u.d(n,"permute",(function(){return c["permute"]})),u.d(n,"quantile",(function(){return c["quantile"]})),u.d(n,"quantileSorted",(function(){return c["quantileSorted"]})),u.d(n,"quickselect",(function(){return c["quickselect"]})),u.d(n,"range",(function(){return c["range"]})),u.d(n,"rank",(function(){return c["rank"]})),u.d(n,"least",(function(){return c["least"]})),u.d(n,"leastIndex",(function(){return c["leastIndex"]})),u.d(n,"greatest",(function(){return c["greatest"]})),u.d(n,"greatestIndex",(function(){return c["greatestIndex"]})),u.d(n,"scan",(function(){return c["scan"]})),u.d(n,"shuffle",(function(){return c["shuffle"]})),u.d(n,"shuffler",(function(){return c["shuffler"]})),u.d(n,"sum",(function(){return c["sum"]})),u.d(n,"ticks",(function(){return c["ticks"]})),u.d(n,"tickIncrement",(function(){return c["tickIncrement"]})),u.d(n,"tickStep",(function(){return c["tickStep"]})),u.d(n,"transpose",(function(){return c["transpose"]})),u.d(n,"variance",(function(){return c["variance"]})),u.d(n,"zip",(function(){return c["zip"]})),u.d(n,"every",(function(){return c["every"]})),u.d(n,"some",(function(){return c["some"]})),u.d(n,"filter",(function(){return c["filter"]})),u.d(n,"map",(function(){return c["map"]})),u.d(n,"reduce",(function(){return c["reduce"]})),u.d(n,"reverse",(function(){return c["reverse"]})),u.d(n,"sort",(function(){return c["sort"]})),u.d(n,"difference",(function(){return c["difference"]})),u.d(n,"disjoint",(function(){return c["disjoint"]})),u.d(n,"intersection",(function(){return c["intersection"]})),u.d(n,"subset",(function(){return c["subset"]})),u.d(n,"superset",(function(){return c["superset"]})),u.d(n,"union",(function(){return c["union"]})),u.d(n,"InternMap",(function(){return c["InternMap"]})),u.d(n,"InternSet",(function(){return c["InternSet"]}));var l=u("./node_modules/d3-axis/src/index.js");u.d(n,"axisTop",(function(){return l["axisTop"]})),u.d(n,"axisRight",(function(){return l["axisRight"]})),u.d(n,"axisBottom",(function(){return l["axisBottom"]})),u.d(n,"axisLeft",(function(){return l["axisLeft"]}));var d=u("./node_modules/d3-brush/src/index.js");u.d(n,"brush",(function(){return d["brush"]})),u.d(n,"brushX",(function(){return d["brushX"]})),u.d(n,"brushY",(function(){return d["brushY"]})),u.d(n,"brushSelection",(function(){return d["brushSelection"]}));var h=u("./node_modules/d3-chord/src/index.js");u.d(n,"chord",(function(){return h["chord"]})),u.d(n,"chordTranspose",(function(){return h["chordTranspose"]})),u.d(n,"chordDirected",(function(){return h["chordDirected"]})),u.d(n,"ribbon",(function(){return h["ribbon"]})),u.d(n,"ribbonArrow",(function(){return h["ribbonArrow"]}));var p=u("./node_modules/d3-color/src/index.js");u.d(n,"color",(function(){return p["color"]})),u.d(n,"rgb",(function(){return p["rgb"]})),u.d(n,"hsl",(function(){return p["hsl"]})),u.d(n,"lab",(function(){return p["lab"]})),u.d(n,"hcl",(function(){return p["hcl"]})),u.d(n,"lch",(function(){return p["lch"]})),u.d(n,"gray",(function(){return p["gray"]})),u.d(n,"cubehelix",(function(){return p["cubehelix"]}));var m=u("./node_modules/d3-contour/src/index.js");u.d(n,"contours",(function(){return m["contours"]})),u.d(n,"contourDensity",(function(){return m["contourDensity"]}));var _=u("./node_modules/d3-delaunay/src/index.js");u.d(n,"Delaunay",(function(){return _["Delaunay"]})),u.d(n,"Voronoi",(function(){return _["Voronoi"]}));var g=u("./node_modules/d3-dispatch/src/index.js");u.d(n,"dispatch",(function(){return g["dispatch"]}));var b=u("./node_modules/d3-drag/src/index.js");u.d(n,"drag",(function(){return b["drag"]})),u.d(n,"dragDisable",(function(){return b["dragDisable"]})),u.d(n,"dragEnable",(function(){return b["dragEnable"]}));var v=u("./node_modules/d3-dsv/src/index.js");u.d(n,"dsvFormat",(function(){return v["dsvFormat"]})),u.d(n,"csvParse",(function(){return v["csvParse"]})),u.d(n,"csvParseRows",(function(){return v["csvParseRows"]})),u.d(n,"csvFormat",(function(){return v["csvFormat"]})),u.d(n,"csvFormatBody",(function(){return v["csvFormatBody"]})),u.d(n,"csvFormatRows",(function(){return v["csvFormatRows"]})),u.d(n,"csvFormatRow",(function(){return v["csvFormatRow"]})),u.d(n,"csvFormatValue",(function(){return v["csvFormatValue"]})),u.d(n,"tsvParse",(function(){return v["tsvParse"]})),u.d(n,"tsvParseRows",(function(){return v["tsvParseRows"]})),u.d(n,"tsvFormat",(function(){return v["tsvFormat"]})),u.d(n,"tsvFormatBody",(function(){return v["tsvFormatBody"]})),u.d(n,"tsvFormatRows",(function(){return v["tsvFormatRows"]})),u.d(n,"tsvFormatRow",(function(){return v["tsvFormatRow"]})),u.d(n,"tsvFormatValue",(function(){return v["tsvFormatValue"]})),u.d(n,"autoType",(function(){return v["autoType"]}));var U=u("./node_modules/d3-ease/src/index.js");u.d(n,"easeLinear",(function(){return U["easeLinear"]})),u.d(n,"easeQuad",(function(){return U["easeQuad"]})),u.d(n,"easeQuadIn",(function(){return U["easeQuadIn"]})),u.d(n,"easeQuadOut",(function(){return U["easeQuadOut"]})),u.d(n,"easeQuadInOut",(function(){return U["easeQuadInOut"]})),u.d(n,"easeCubic",(function(){return U["easeCubic"]})),u.d(n,"easeCubicIn",(function(){return U["easeCubicIn"]})),u.d(n,"easeCubicOut",(function(){return U["easeCubicOut"]})),u.d(n,"easeCubicInOut",(function(){return U["easeCubicInOut"]})),u.d(n,"easePoly",(function(){return U["easePoly"]})),u.d(n,"easePolyIn",(function(){return U["easePolyIn"]})),u.d(n,"easePolyOut",(function(){return U["easePolyOut"]})),u.d(n,"easePolyInOut",(function(){return U["easePolyInOut"]})),u.d(n,"easeSin",(function(){return U["easeSin"]})),u.d(n,"easeSinIn",(function(){return U["easeSinIn"]})),u.d(n,"easeSinOut",(function(){return U["easeSinOut"]})),u.d(n,"easeSinInOut",(function(){return U["easeSinInOut"]})),u.d(n,"easeExp",(function(){return U["easeExp"]})),u.d(n,"easeExpIn",(function(){return U["easeExpIn"]})),u.d(n,"easeExpOut",(function(){return U["easeExpOut"]})),u.d(n,"easeExpInOut",(function(){return U["easeExpInOut"]})),u.d(n,"easeCircle",(function(){return U["easeCircle"]})),u.d(n,"easeCircleIn",(function(){return U["easeCircleIn"]})),u.d(n,"easeCircleOut",(function(){return U["easeCircleOut"]})),u.d(n,"easeCircleInOut",(function(){return U["easeCircleInOut"]})),u.d(n,"easeBounce",(function(){return U["easeBounce"]})),u.d(n,"easeBounceIn",(function(){return U["easeBounceIn"]})),u.d(n,"easeBounceOut",(function(){return U["easeBounceOut"]})),u.d(n,"easeBounceInOut",(function(){return U["easeBounceInOut"]})),u.d(n,"easeBack",(function(){return U["easeBack"]})),u.d(n,"easeBackIn",(function(){return U["easeBackIn"]})),u.d(n,"easeBackOut",(function(){return U["easeBackOut"]})),u.d(n,"easeBackInOut",(function(){return U["easeBackInOut"]})),u.d(n,"easeElastic",(function(){return U["easeElastic"]})),u.d(n,"easeElasticIn",(function(){return U["easeElasticIn"]})),u.d(n,"easeElasticOut",(function(){return U["easeElasticOut"]})),u.d(n,"easeElasticInOut",(function(){return U["easeElasticInOut"]}));var G=u("./node_modules/d3-fetch/src/index.js");u.d(n,"blob",(function(){return G["blob"]})),u.d(n,"buffer",(function(){return G["buffer"]})),u.d(n,"dsv",(function(){return G["dsv"]})),u.d(n,"csv",(function(){return G["csv"]})),u.d(n,"tsv",(function(){return G["tsv"]})),u.d(n,"image",(function(){return G["image"]})),u.d(n,"json",(function(){return G["json"]})),u.d(n,"text",(function(){return G["text"]})),u.d(n,"xml",(function(){return G["xml"]})),u.d(n,"html",(function(){return G["html"]})),u.d(n,"svg",(function(){return G["svg"]}));var W=u("./node_modules/d3-force/src/index.js");u.d(n,"forceCenter",(function(){return W["forceCenter"]})),u.d(n,"forceCollide",(function(){return W["forceCollide"]})),u.d(n,"forceLink",(function(){return W["forceLink"]})),u.d(n,"forceManyBody",(function(){return W["forceManyBody"]})),u.d(n,"forceRadial",(function(){return W["forceRadial"]})),u.d(n,"forceSimulation",(function(){return W["forceSimulation"]})),u.d(n,"forceX",(function(){return W["forceX"]})),u.d(n,"forceY",(function(){return W["forceY"]}));var X=u("./node_modules/d3-format/src/index.js");u.d(n,"formatDefaultLocale",(function(){return X["formatDefaultLocale"]})),u.d(n,"format",(function(){return X["format"]})),u.d(n,"formatPrefix",(function(){return X["formatPrefix"]})),u.d(n,"formatLocale",(function(){return X["formatLocale"]})),u.d(n,"formatSpecifier",(function(){return X["formatSpecifier"]})),u.d(n,"FormatSpecifier",(function(){return X["FormatSpecifier"]})),u.d(n,"precisionFixed",(function(){return X["precisionFixed"]})),u.d(n,"precisionPrefix",(function(){return X["precisionPrefix"]})),u.d(n,"precisionRound",(function(){return X["precisionRound"]}));var q=u("./node_modules/d3-geo/src/index.js");u.d(n,"geoArea",(function(){return q["geoArea"]})),u.d(n,"geoBounds",(function(){return q["geoBounds"]})),u.d(n,"geoCentroid",(function(){return q["geoCentroid"]})),u.d(n,"geoCircle",(function(){return q["geoCircle"]})),u.d(n,"geoClipAntimeridian",(function(){return q["geoClipAntimeridian"]})),u.d(n,"geoClipCircle",(function(){return q["geoClipCircle"]})),u.d(n,"geoClipExtent",(function(){return q["geoClipExtent"]})),u.d(n,"geoClipRectangle",(function(){return q["geoClipRectangle"]})),u.d(n,"geoContains",(function(){return q["geoContains"]})),u.d(n,"geoDistance",(function(){return q["geoDistance"]})),u.d(n,"geoGraticule",(function(){return q["geoGraticule"]})),u.d(n,"geoGraticule10",(function(){return q["geoGraticule10"]})),u.d(n,"geoInterpolate",(function(){return q["geoInterpolate"]})),u.d(n,"geoLength",(function(){return q["geoLength"]})),u.d(n,"geoPath",(function(){return q["geoPath"]})),u.d(n,"geoAlbers",(function(){return q["geoAlbers"]})),u.d(n,"geoAlbersUsa",(function(){return q["geoAlbersUsa"]})),u.d(n,"geoAzimuthalEqualArea",(function(){return q["geoAzimuthalEqualArea"]})),u.d(n,"geoAzimuthalEqualAreaRaw",(function(){return q["geoAzimuthalEqualAreaRaw"]})),u.d(n,"geoAzimuthalEquidistant",(function(){return q["geoAzimuthalEquidistant"]})),u.d(n,"geoAzimuthalEquidistantRaw",(function(){return q["geoAzimuthalEquidistantRaw"]})),u.d(n,"geoConicConformal",(function(){return q["geoConicConformal"]})),u.d(n,"geoConicConformalRaw",(function(){return q["geoConicConformalRaw"]})),u.d(n,"geoConicEqualArea",(function(){return q["geoConicEqualArea"]})),u.d(n,"geoConicEqualAreaRaw",(function(){return q["geoConicEqualAreaRaw"]})),u.d(n,"geoConicEquidistant",(function(){return q["geoConicEquidistant"]})),u.d(n,"geoConicEquidistantRaw",(function(){return q["geoConicEquidistantRaw"]})),u.d(n,"geoEqualEarth",(function(){return q["geoEqualEarth"]})),u.d(n,"geoEqualEarthRaw",(function(){return q["geoEqualEarthRaw"]})),u.d(n,"geoEquirectangular",(function(){return q["geoEquirectangular"]})),u.d(n,"geoEquirectangularRaw",(function(){return q["geoEquirectangularRaw"]})),u.d(n,"geoGnomonic",(function(){return q["geoGnomonic"]})),u.d(n,"geoGnomonicRaw",(function(){return q["geoGnomonicRaw"]})),u.d(n,"geoIdentity",(function(){return q["geoIdentity"]})),u.d(n,"geoProjection",(function(){return q["geoProjection"]})),u.d(n,"geoProjectionMutator",(function(){return q["geoProjectionMutator"]})),u.d(n,"geoMercator",(function(){return q["geoMercator"]})),u.d(n,"geoMercatorRaw",(function(){return q["geoMercatorRaw"]})),u.d(n,"geoNaturalEarth1",(function(){return q["geoNaturalEarth1"]})),u.d(n,"geoNaturalEarth1Raw",(function(){return q["geoNaturalEarth1Raw"]})),u.d(n,"geoOrthographic",(function(){return q["geoOrthographic"]})),u.d(n,"geoOrthographicRaw",(function(){return q["geoOrthographicRaw"]})),u.d(n,"geoStereographic",(function(){return q["geoStereographic"]})),u.d(n,"geoStereographicRaw",(function(){return q["geoStereographicRaw"]})),u.d(n,"geoTransverseMercator",(function(){return q["geoTransverseMercator"]})),u.d(n,"geoTransverseMercatorRaw",(function(){return q["geoTransverseMercatorRaw"]})),u.d(n,"geoRotation",(function(){return q["geoRotation"]})),u.d(n,"geoStream",(function(){return q["geoStream"]})),u.d(n,"geoTransform",(function(){return q["geoTransform"]}));var K=u("./node_modules/d3-hierarchy/src/index.js");u.d(n,"cluster",(function(){return K["cluster"]})),u.d(n,"hierarchy",(function(){return K["hierarchy"]})),u.d(n,"Node",(function(){return K["Node"]})),u.d(n,"pack",(function(){return K["pack"]})),u.d(n,"packSiblings",(function(){return K["packSiblings"]})),u.d(n,"packEnclose",(function(){return K["packEnclose"]})),u.d(n,"partition",(function(){return K["partition"]})),u.d(n,"stratify",(function(){return K["stratify"]})),u.d(n,"tree",(function(){return K["tree"]})),u.d(n,"treemap",(function(){return K["treemap"]})),u.d(n,"treemapBinary",(function(){return K["treemapBinary"]})),u.d(n,"treemapDice",(function(){return K["treemapDice"]})),u.d(n,"treemapSlice",(function(){return K["treemapSlice"]})),u.d(n,"treemapSliceDice",(function(){return K["treemapSliceDice"]})),u.d(n,"treemapSquarify",(function(){return K["treemapSquarify"]})),u.d(n,"treemapResquarify",(function(){return K["treemapResquarify"]}));var Y=u("./node_modules/d3-interpolate/src/index.js");u.d(n,"interpolate",(function(){return Y["interpolate"]})),u.d(n,"interpolateArray",(function(){return Y["interpolateArray"]})),u.d(n,"interpolateBasis",(function(){return Y["interpolateBasis"]})),u.d(n,"interpolateBasisClosed",(function(){return Y["interpolateBasisClosed"]})),u.d(n,"interpolateDate",(function(){return Y["interpolateDate"]})),u.d(n,"interpolateDiscrete",(function(){return Y["interpolateDiscrete"]})),u.d(n,"interpolateHue",(function(){return Y["interpolateHue"]})),u.d(n,"interpolateNumber",(function(){return Y["interpolateNumber"]})),u.d(n,"interpolateNumberArray",(function(){return Y["interpolateNumberArray"]})),u.d(n,"interpolateObject",(function(){return Y["interpolateObject"]})),u.d(n,"interpolateRound",(function(){return Y["interpolateRound"]})),u.d(n,"interpolateString",(function(){return Y["interpolateString"]})),u.d(n,"interpolateTransformCss",(function(){return Y["interpolateTransformCss"]})),u.d(n,"interpolateTransformSvg",(function(){return Y["interpolateTransformSvg"]})),u.d(n,"interpolateZoom",(function(){return Y["interpolateZoom"]})),u.d(n,"interpolateRgb",(function(){return Y["interpolateRgb"]})),u.d(n,"interpolateRgbBasis",(function(){return Y["interpolateRgbBasis"]})),u.d(n,"interpolateRgbBasisClosed",(function(){return Y["interpolateRgbBasisClosed"]})),u.d(n,"interpolateHsl",(function(){return Y["interpolateHsl"]})),u.d(n,"interpolateHslLong",(function(){return Y["interpolateHslLong"]})),u.d(n,"interpolateLab",(function(){return Y["interpolateLab"]})),u.d(n,"interpolateHcl",(function(){return Y["interpolateHcl"]})),u.d(n,"interpolateHclLong",(function(){return Y["interpolateHclLong"]})),u.d(n,"interpolateCubehelix",(function(){return Y["interpolateCubehelix"]})),u.d(n,"interpolateCubehelixLong",(function(){return Y["interpolateCubehelixLong"]})),u.d(n,"piecewise",(function(){return Y["piecewise"]})),u.d(n,"quantize",(function(){return Y["quantize"]}));var Q=u("./node_modules/d3-path/src/index.js");u.d(n,"path",(function(){return Q["path"]}));var Z=u("./node_modules/d3-polygon/src/index.js");u.d(n,"polygonArea",(function(){return Z["polygonArea"]})),u.d(n,"polygonCentroid",(function(){return Z["polygonCentroid"]})),u.d(n,"polygonHull",(function(){return Z["polygonHull"]})),u.d(n,"polygonContains",(function(){return Z["polygonContains"]})),u.d(n,"polygonLength",(function(){return Z["polygonLength"]}));var $=u("./node_modules/d3-quadtree/src/index.js");u.d(n,"quadtree",(function(){return $["quadtree"]}));var J=u("./node_modules/d3-random/src/index.js");u.d(n,"randomUniform",(function(){return J["randomUniform"]})),u.d(n,"randomInt",(function(){return J["randomInt"]})),u.d(n,"randomNormal",(function(){return J["randomNormal"]})),u.d(n,"randomLogNormal",(function(){return J["randomLogNormal"]})),u.d(n,"randomBates",(function(){return J["randomBates"]})),u.d(n,"randomIrwinHall",(function(){return J["randomIrwinHall"]})),u.d(n,"randomExponential",(function(){return J["randomExponential"]})),u.d(n,"randomPareto",(function(){return J["randomPareto"]})),u.d(n,"randomBernoulli",(function(){return J["randomBernoulli"]})),u.d(n,"randomGeometric",(function(){return J["randomGeometric"]})),u.d(n,"randomBinomial",(function(){return J["randomBinomial"]})),u.d(n,"randomGamma",(function(){return J["randomGamma"]})),u.d(n,"randomBeta",(function(){return J["randomBeta"]})),u.d(n,"randomWeibull",(function(){return J["randomWeibull"]})),u.d(n,"randomCauchy",(function(){return J["randomCauchy"]})),u.d(n,"randomLogistic",(function(){return J["randomLogistic"]})),u.d(n,"randomPoisson",(function(){return J["randomPoisson"]})),u.d(n,"randomLcg",(function(){return J["randomLcg"]}));var ee=u("./node_modules/d3-scale/src/index.js");u.d(n,"scaleBand",(function(){return ee["scaleBand"]})),u.d(n,"scalePoint",(function(){return ee["scalePoint"]})),u.d(n,"scaleIdentity",(function(){return ee["scaleIdentity"]})),u.d(n,"scaleLinear",(function(){return ee["scaleLinear"]})),u.d(n,"scaleLog",(function(){return ee["scaleLog"]})),u.d(n,"scaleSymlog",(function(){return ee["scaleSymlog"]})),u.d(n,"scaleOrdinal",(function(){return ee["scaleOrdinal"]})),u.d(n,"scaleImplicit",(function(){return ee["scaleImplicit"]})),u.d(n,"scalePow",(function(){return ee["scalePow"]})),u.d(n,"scaleSqrt",(function(){return ee["scaleSqrt"]})),u.d(n,"scaleRadial",(function(){return ee["scaleRadial"]})),u.d(n,"scaleQuantile",(function(){return ee["scaleQuantile"]})),u.d(n,"scaleQuantize",(function(){return ee["scaleQuantize"]})),u.d(n,"scaleThreshold",(function(){return ee["scaleThreshold"]})),u.d(n,"scaleTime",(function(){return ee["scaleTime"]})),u.d(n,"scaleUtc",(function(){return ee["scaleUtc"]})),u.d(n,"scaleSequential",(function(){return ee["scaleSequential"]})),u.d(n,"scaleSequentialLog",(function(){return ee["scaleSequentialLog"]})),u.d(n,"scaleSequentialPow",(function(){return ee["scaleSequentialPow"]})),u.d(n,"scaleSequentialSqrt",(function(){return ee["scaleSequentialSqrt"]})),u.d(n,"scaleSequentialSymlog",(function(){return ee["scaleSequentialSymlog"]})),u.d(n,"scaleSequentialQuantile",(function(){return ee["scaleSequentialQuantile"]})),u.d(n,"scaleDiverging",(function(){return ee["scaleDiverging"]})),u.d(n,"scaleDivergingLog",(function(){return ee["scaleDivergingLog"]})),u.d(n,"scaleDivergingPow",(function(){return ee["scaleDivergingPow"]})),u.d(n,"scaleDivergingSqrt",(function(){return ee["scaleDivergingSqrt"]})),u.d(n,"scaleDivergingSymlog",(function(){return ee["scaleDivergingSymlog"]})),u.d(n,"tickFormat",(function(){return ee["tickFormat"]}));var te=u("./node_modules/d3-scale-chromatic/src/index.js");u.d(n,"schemeCategory10",(function(){return te["schemeCategory10"]})),u.d(n,"schemeAccent",(function(){return te["schemeAccent"]})),u.d(n,"schemeDark2",(function(){return te["schemeDark2"]})),u.d(n,"schemePaired",(function(){return te["schemePaired"]})),u.d(n,"schemePastel1",(function(){return te["schemePastel1"]})),u.d(n,"schemePastel2",(function(){return te["schemePastel2"]})),u.d(n,"schemeSet1",(function(){return te["schemeSet1"]})),u.d(n,"schemeSet2",(function(){return te["schemeSet2"]})),u.d(n,"schemeSet3",(function(){return te["schemeSet3"]})),u.d(n,"schemeTableau10",(function(){return te["schemeTableau10"]})),u.d(n,"interpolateBrBG",(function(){return te["interpolateBrBG"]})),u.d(n,"schemeBrBG",(function(){return te["schemeBrBG"]})),u.d(n,"interpolatePRGn",(function(){return te["interpolatePRGn"]})),u.d(n,"schemePRGn",(function(){return te["schemePRGn"]})),u.d(n,"interpolatePiYG",(function(){return te["interpolatePiYG"]})),u.d(n,"schemePiYG",(function(){return te["schemePiYG"]})),u.d(n,"interpolatePuOr",(function(){return te["interpolatePuOr"]})),u.d(n,"schemePuOr",(function(){return te["schemePuOr"]})),u.d(n,"interpolateRdBu",(function(){return te["interpolateRdBu"]})),u.d(n,"schemeRdBu",(function(){return te["schemeRdBu"]})),u.d(n,"interpolateRdGy",(function(){return te["interpolateRdGy"]})),u.d(n,"schemeRdGy",(function(){return te["schemeRdGy"]})),u.d(n,"interpolateRdYlBu",(function(){return te["interpolateRdYlBu"]})),u.d(n,"schemeRdYlBu",(function(){return te["schemeRdYlBu"]})),u.d(n,"interpolateRdYlGn",(function(){return te["interpolateRdYlGn"]})),u.d(n,"schemeRdYlGn",(function(){return te["schemeRdYlGn"]})),u.d(n,"interpolateSpectral",(function(){return te["interpolateSpectral"]})),u.d(n,"schemeSpectral",(function(){return te["schemeSpectral"]})),u.d(n,"interpolateBuGn",(function(){return te["interpolateBuGn"]})),u.d(n,"schemeBuGn",(function(){return te["schemeBuGn"]})),u.d(n,"interpolateBuPu",(function(){return te["interpolateBuPu"]})),u.d(n,"schemeBuPu",(function(){return te["schemeBuPu"]})),u.d(n,"interpolateGnBu",(function(){return te["interpolateGnBu"]})),u.d(n,"schemeGnBu",(function(){return te["schemeGnBu"]})),u.d(n,"interpolateOrRd",(function(){return te["interpolateOrRd"]})),u.d(n,"schemeOrRd",(function(){return te["schemeOrRd"]})),u.d(n,"interpolatePuBuGn",(function(){return te["interpolatePuBuGn"]})),u.d(n,"schemePuBuGn",(function(){return te["schemePuBuGn"]})),u.d(n,"interpolatePuBu",(function(){return te["interpolatePuBu"]})),u.d(n,"schemePuBu",(function(){return te["schemePuBu"]})),u.d(n,"interpolatePuRd",(function(){return te["interpolatePuRd"]})),u.d(n,"schemePuRd",(function(){return te["schemePuRd"]})),u.d(n,"interpolateRdPu",(function(){return te["interpolateRdPu"]})),u.d(n,"schemeRdPu",(function(){return te["schemeRdPu"]})),u.d(n,"interpolateYlGnBu",(function(){return te["interpolateYlGnBu"]})),u.d(n,"schemeYlGnBu",(function(){return te["schemeYlGnBu"]})),u.d(n,"interpolateYlGn",(function(){return te["interpolateYlGn"]})),u.d(n,"schemeYlGn",(function(){return te["schemeYlGn"]})),u.d(n,"interpolateYlOrBr",(function(){return te["interpolateYlOrBr"]})),u.d(n,"schemeYlOrBr",(function(){return te["schemeYlOrBr"]})),u.d(n,"interpolateYlOrRd",(function(){return te["interpolateYlOrRd"]})),u.d(n,"schemeYlOrRd",(function(){return te["schemeYlOrRd"]})),u.d(n,"interpolateBlues",(function(){return te["interpolateBlues"]})),u.d(n,"schemeBlues",(function(){return te["schemeBlues"]})),u.d(n,"interpolateGreens",(function(){return te["interpolateGreens"]})),u.d(n,"schemeGreens",(function(){return te["schemeGreens"]})),u.d(n,"interpolateGreys",(function(){return te["interpolateGreys"]})),u.d(n,"schemeGreys",(function(){return te["schemeGreys"]})),u.d(n,"interpolatePurples",(function(){return te["interpolatePurples"]})),u.d(n,"schemePurples",(function(){return te["schemePurples"]})),u.d(n,"interpolateReds",(function(){return te["interpolateReds"]})),u.d(n,"schemeReds",(function(){return te["schemeReds"]})),u.d(n,"interpolateOranges",(function(){return te["interpolateOranges"]})),u.d(n,"schemeOranges",(function(){return te["schemeOranges"]})),u.d(n,"interpolateCividis",(function(){return te["interpolateCividis"]})),u.d(n,"interpolateCubehelixDefault",(function(){return te["interpolateCubehelixDefault"]})),u.d(n,"interpolateRainbow",(function(){return te["interpolateRainbow"]})),u.d(n,"interpolateWarm",(function(){return te["interpolateWarm"]})),u.d(n,"interpolateCool",(function(){return te["interpolateCool"]})),u.d(n,"interpolateSinebow",(function(){return te["interpolateSinebow"]})),u.d(n,"interpolateTurbo",(function(){return te["interpolateTurbo"]})),u.d(n,"interpolateViridis",(function(){return te["interpolateViridis"]})),u.d(n,"interpolateMagma",(function(){return te["interpolateMagma"]})),u.d(n,"interpolateInferno",(function(){return te["interpolateInferno"]})),u.d(n,"interpolatePlasma",(function(){return te["interpolatePlasma"]}));var re=u("./node_modules/d3-selection/src/index.js");u.d(n,"create",(function(){return re["create"]})),u.d(n,"creator",(function(){return re["creator"]})),u.d(n,"local",(function(){return re["local"]})),u.d(n,"matcher",(function(){return re["matcher"]})),u.d(n,"namespace",(function(){return re["namespace"]})),u.d(n,"namespaces",(function(){return re["namespaces"]})),u.d(n,"pointer",(function(){return re["pointer"]})),u.d(n,"pointers",(function(){return re["pointers"]})),u.d(n,"select",(function(){return re["select"]})),u.d(n,"selectAll",(function(){return re["selectAll"]})),u.d(n,"selection",(function(){return re["selection"]})),u.d(n,"selector",(function(){return re["selector"]})),u.d(n,"selectorAll",(function(){return re["selectorAll"]})),u.d(n,"style",(function(){return re["style"]})),u.d(n,"window",(function(){return re["window"]}));var ne=u("./node_modules/d3-shape/src/index.js");u.d(n,"arc",(function(){return ne["arc"]})),u.d(n,"area",(function(){return ne["area"]})),u.d(n,"line",(function(){return ne["line"]})),u.d(n,"pie",(function(){return ne["pie"]})),u.d(n,"areaRadial",(function(){return ne["areaRadial"]})),u.d(n,"radialArea",(function(){return ne["radialArea"]})),u.d(n,"lineRadial",(function(){return ne["lineRadial"]})),u.d(n,"radialLine",(function(){return ne["radialLine"]})),u.d(n,"pointRadial",(function(){return ne["pointRadial"]})),u.d(n,"link",(function(){return ne["link"]})),u.d(n,"linkHorizontal",(function(){return ne["linkHorizontal"]})),u.d(n,"linkVertical",(function(){return ne["linkVertical"]})),u.d(n,"linkRadial",(function(){return ne["linkRadial"]})),u.d(n,"symbol",(function(){return ne["symbol"]})),u.d(n,"symbolsStroke",(function(){return ne["symbolsStroke"]})),u.d(n,"symbolsFill",(function(){return ne["symbolsFill"]})),u.d(n,"symbols",(function(){return ne["symbols"]})),u.d(n,"symbolAsterisk",(function(){return ne["symbolAsterisk"]})),u.d(n,"symbolCircle",(function(){return ne["symbolCircle"]})),u.d(n,"symbolCross",(function(){return ne["symbolCross"]})),u.d(n,"symbolDiamond",(function(){return ne["symbolDiamond"]})),u.d(n,"symbolDiamond2",(function(){return ne["symbolDiamond2"]})),u.d(n,"symbolPlus",(function(){return ne["symbolPlus"]})),u.d(n,"symbolSquare",(function(){return ne["symbolSquare"]})),u.d(n,"symbolSquare2",(function(){return ne["symbolSquare2"]})),u.d(n,"symbolStar",(function(){return ne["symbolStar"]})),u.d(n,"symbolTriangle",(function(){return ne["symbolTriangle"]})),u.d(n,"symbolTriangle2",(function(){return ne["symbolTriangle2"]})),u.d(n,"symbolWye",(function(){return ne["symbolWye"]})),u.d(n,"symbolX",(function(){return ne["symbolX"]})),u.d(n,"curveBasisClosed",(function(){return ne["curveBasisClosed"]})),u.d(n,"curveBasisOpen",(function(){return ne["curveBasisOpen"]})),u.d(n,"curveBasis",(function(){return ne["curveBasis"]})),u.d(n,"curveBumpX",(function(){return ne["curveBumpX"]})),u.d(n,"curveBumpY",(function(){return ne["curveBumpY"]})),u.d(n,"curveBundle",(function(){return ne["curveBundle"]})),u.d(n,"curveCardinalClosed",(function(){return ne["curveCardinalClosed"]})),u.d(n,"curveCardinalOpen",(function(){return ne["curveCardinalOpen"]})),u.d(n,"curveCardinal",(function(){return ne["curveCardinal"]})),u.d(n,"curveCatmullRomClosed",(function(){return ne["curveCatmullRomClosed"]})),u.d(n,"curveCatmullRomOpen",(function(){return ne["curveCatmullRomOpen"]})),u.d(n,"curveCatmullRom",(function(){return ne["curveCatmullRom"]})),u.d(n,"curveLinearClosed",(function(){return ne["curveLinearClosed"]})),u.d(n,"curveLinear",(function(){return ne["curveLinear"]})),u.d(n,"curveMonotoneX",(function(){return ne["curveMonotoneX"]})),u.d(n,"curveMonotoneY",(function(){return ne["curveMonotoneY"]})),u.d(n,"curveNatural",(function(){return ne["curveNatural"]})),u.d(n,"curveStep",(function(){return ne["curveStep"]})),u.d(n,"curveStepAfter",(function(){return ne["curveStepAfter"]})),u.d(n,"curveStepBefore",(function(){return ne["curveStepBefore"]})),u.d(n,"stack",(function(){return ne["stack"]})),u.d(n,"stackOffsetExpand",(function(){return ne["stackOffsetExpand"]})),u.d(n,"stackOffsetDiverging",(function(){return ne["stackOffsetDiverging"]})),u.d(n,"stackOffsetNone",(function(){return ne["stackOffsetNone"]})),u.d(n,"stackOffsetSilhouette",(function(){return ne["stackOffsetSilhouette"]})),u.d(n,"stackOffsetWiggle",(function(){return ne["stackOffsetWiggle"]})),u.d(n,"stackOrderAppearance",(function(){return ne["stackOrderAppearance"]})),u.d(n,"stackOrderAscending",(function(){return ne["stackOrderAscending"]})),u.d(n,"stackOrderDescending",(function(){return ne["stackOrderDescending"]})),u.d(n,"stackOrderInsideOut",(function(){return ne["stackOrderInsideOut"]})),u.d(n,"stackOrderNone",(function(){return ne["stackOrderNone"]})),u.d(n,"stackOrderReverse",(function(){return ne["stackOrderReverse"]}));var ie=u("./node_modules/d3-time/src/index.js");u.d(n,"timeInterval",(function(){return ie["timeInterval"]})),u.d(n,"timeMillisecond",(function(){return ie["timeMillisecond"]})),u.d(n,"timeMilliseconds",(function(){return ie["timeMilliseconds"]})),u.d(n,"utcMillisecond",(function(){return ie["utcMillisecond"]})),u.d(n,"utcMilliseconds",(function(){return ie["utcMilliseconds"]})),u.d(n,"timeSecond",(function(){return ie["timeSecond"]})),u.d(n,"timeSeconds",(function(){return ie["timeSeconds"]})),u.d(n,"utcSecond",(function(){return ie["utcSecond"]})),u.d(n,"utcSeconds",(function(){return ie["utcSeconds"]})),u.d(n,"timeMinute",(function(){return ie["timeMinute"]})),u.d(n,"timeMinutes",(function(){return ie["timeMinutes"]})),u.d(n,"timeHour",(function(){return ie["timeHour"]})),u.d(n,"timeHours",(function(){return ie["timeHours"]})),u.d(n,"timeDay",(function(){return ie["timeDay"]})),u.d(n,"timeDays",(function(){return ie["timeDays"]})),u.d(n,"timeWeek",(function(){return ie["timeWeek"]})),u.d(n,"timeWeeks",(function(){return ie["timeWeeks"]})),u.d(n,"timeSunday",(function(){return ie["timeSunday"]})),u.d(n,"timeSundays",(function(){return ie["timeSundays"]})),u.d(n,"timeMonday",(function(){return ie["timeMonday"]})),u.d(n,"timeMondays",(function(){return ie["timeMondays"]})),u.d(n,"timeTuesday",(function(){return ie["timeTuesday"]})),u.d(n,"timeTuesdays",(function(){return ie["timeTuesdays"]})),u.d(n,"timeWednesday",(function(){return ie["timeWednesday"]})),u.d(n,"timeWednesdays",(function(){return ie["timeWednesdays"]})),u.d(n,"timeThursday",(function(){return ie["timeThursday"]})),u.d(n,"timeThursdays",(function(){return ie["timeThursdays"]})),u.d(n,"timeFriday",(function(){return ie["timeFriday"]})),u.d(n,"timeFridays",(function(){return ie["timeFridays"]})),u.d(n,"timeSaturday",(function(){return ie["timeSaturday"]})),u.d(n,"timeSaturdays",(function(){return ie["timeSaturdays"]})),u.d(n,"timeMonth",(function(){return ie["timeMonth"]})),u.d(n,"timeMonths",(function(){return ie["timeMonths"]})),u.d(n,"timeYear",(function(){return ie["timeYear"]})),u.d(n,"timeYears",(function(){return ie["timeYears"]})),u.d(n,"utcMinute",(function(){return ie["utcMinute"]})),u.d(n,"utcMinutes",(function(){return ie["utcMinutes"]})),u.d(n,"utcHour",(function(){return ie["utcHour"]})),u.d(n,"utcHours",(function(){return ie["utcHours"]})),u.d(n,"utcDay",(function(){return ie["utcDay"]})),u.d(n,"utcDays",(function(){return ie["utcDays"]})),u.d(n,"utcWeek",(function(){return ie["utcWeek"]})),u.d(n,"utcWeeks",(function(){return ie["utcWeeks"]})),u.d(n,"utcSunday",(function(){return ie["utcSunday"]})),u.d(n,"utcSundays",(function(){return ie["utcSundays"]})),u.d(n,"utcMonday",(function(){return ie["utcMonday"]})),u.d(n,"utcMondays",(function(){return ie["utcMondays"]})),u.d(n,"utcTuesday",(function(){return ie["utcTuesday"]})),u.d(n,"utcTuesdays",(function(){return ie["utcTuesdays"]})),u.d(n,"utcWednesday",(function(){return ie["utcWednesday"]})),u.d(n,"utcWednesdays",(function(){return ie["utcWednesdays"]})),u.d(n,"utcThursday",(function(){return ie["utcThursday"]})),u.d(n,"utcThursdays",(function(){return ie["utcThursdays"]})),u.d(n,"utcFriday",(function(){return ie["utcFriday"]})),u.d(n,"utcFridays",(function(){return ie["utcFridays"]})),u.d(n,"utcSaturday",(function(){return ie["utcSaturday"]})),u.d(n,"utcSaturdays",(function(){return ie["utcSaturdays"]})),u.d(n,"utcMonth",(function(){return ie["utcMonth"]})),u.d(n,"utcMonths",(function(){return ie["utcMonths"]})),u.d(n,"utcYear",(function(){return ie["utcYear"]})),u.d(n,"utcYears",(function(){return ie["utcYears"]})),u.d(n,"utcTicks",(function(){return ie["utcTicks"]})),u.d(n,"utcTickInterval",(function(){return ie["utcTickInterval"]})),u.d(n,"timeTicks",(function(){return ie["timeTicks"]})),u.d(n,"timeTickInterval",(function(){return ie["timeTickInterval"]}));var oe=u("./node_modules/d3-time-format/src/index.js");u.d(n,"timeFormatDefaultLocale",(function(){return oe["timeFormatDefaultLocale"]})),u.d(n,"timeFormat",(function(){return oe["timeFormat"]})),u.d(n,"timeParse",(function(){return oe["timeParse"]})),u.d(n,"utcFormat",(function(){return oe["utcFormat"]})),u.d(n,"utcParse",(function(){return oe["utcParse"]})),u.d(n,"timeFormatLocale",(function(){return oe["timeFormatLocale"]})),u.d(n,"isoFormat",(function(){return oe["isoFormat"]})),u.d(n,"isoParse",(function(){return oe["isoParse"]}));var se=u("./node_modules/d3-timer/src/index.js");u.d(n,"now",(function(){return se["now"]})),u.d(n,"timer",(function(){return se["timer"]})),u.d(n,"timerFlush",(function(){return se["timerFlush"]})),u.d(n,"timeout",(function(){return se["timeout"]})),u.d(n,"interval",(function(){return se["interval"]}));var ae=u("./node_modules/d3-transition/src/index.js");u.d(n,"transition",(function(){return ae["transition"]})),u.d(n,"active",(function(){return ae["active"]})),u.d(n,"interrupt",(function(){return ae["interrupt"]}));var ue=u("./node_modules/d3-zoom/src/index.js");u.d(n,"zoom",(function(){return ue["zoom"]})),u.d(n,"zoomTransform",(function(){return ue["zoomTransform"]})),u.d(n,"zoomIdentity",(function(){return ue["zoomIdentity"]})),u.d(n,"ZoomTransform",(function(){return ue["ZoomTransform"]}))},"./node_modules/delaunator/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return Delaunator}));var c=u("./node_modules/robust-predicates/index.js");const l=Math.pow(2,-52),d=new Uint32Array(512);class Delaunator{static from(t,n=defaultGetX,u=defaultGetY){const c=t.length,l=new Float64Array(2*c);for(let d=0;d<c;d++){const c=t[d];l[2*d]=n(c),l[2*d+1]=u(c)}return new Delaunator(l)}constructor(t){const n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const u=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*u),this._halfedges=new Int32Array(3*u),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:u,_hullTri:d,_hullHash:h}=this,p=t.length>>1;let m=1/0,_=1/0,g=-1/0,b=-1/0;for(let c=0;c<p;c++){const n=t[2*c],u=t[2*c+1];n<m&&(m=n),u<_&&(_=u),n>g&&(g=n),u>b&&(b=u),this._ids[c]=c}const v=(m+g)/2,U=(_+b)/2;let G,W,X,q=1/0;for(let c=0;c<p;c++){const n=dist(v,U,t[2*c],t[2*c+1]);n<q&&(G=c,q=n)}const K=t[2*G],Y=t[2*G+1];q=1/0;for(let c=0;c<p;c++){if(c===G)continue;const n=dist(K,Y,t[2*c],t[2*c+1]);n<q&&n>0&&(W=c,q=n)}let Q=t[2*W],Z=t[2*W+1],$=1/0;for(let c=0;c<p;c++){if(c===G||c===W)continue;const n=circumradius(K,Y,Q,Z,t[2*c],t[2*c+1]);n<$&&(X=c,$=n)}let J=t[2*X],ee=t[2*X+1];if($===1/0){for(let c=0;c<p;c++)this._dists[c]=t[2*c]-t[0]||t[2*c+1]-t[1];quicksort(this._ids,this._dists,0,p-1);const n=new Uint32Array(p);let u=0;for(let t=0,c=-1/0;t<p;t++){const l=this._ids[t];this._dists[l]>c&&(n[u++]=l,c=this._dists[l])}return this.hull=n.subarray(0,u),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Object(c["orient2d"])(K,Y,Q,Z,J,ee)<0){const t=W,n=Q,u=Z;W=X,Q=J,Z=ee,X=t,J=n,ee=u}const te=circumcenter(K,Y,Q,Z,J,ee);this._cx=te.x,this._cy=te.y;for(let c=0;c<p;c++)this._dists[c]=dist(t[2*c],t[2*c+1],te.x,te.y);quicksort(this._ids,this._dists,0,p-1),this._hullStart=G;let re=3;u[G]=n[X]=W,u[W]=n[G]=X,u[X]=n[W]=G,d[G]=0,d[W]=1,d[X]=2,h.fill(-1),h[this._hashKey(K,Y)]=G,h[this._hashKey(Q,Z)]=W,h[this._hashKey(J,ee)]=X,this.trianglesLen=0,this._addTriangle(G,W,X,-1,-1,-1);for(let ne,ie,oe=0;oe<this._ids.length;oe++){const p=this._ids[oe],m=t[2*p],_=t[2*p+1];if(oe>0&&Math.abs(m-ne)<=l&&Math.abs(_-ie)<=l)continue;if(ne=m,ie=_,p===G||p===W||p===X)continue;let g=0;for(let t=0,n=this._hashKey(m,_);t<this._hashSize;t++)if(g=h[(n+t)%this._hashSize],-1!==g&&g!==u[g])break;g=n[g];let b,v=g;while(b=u[v],Object(c["orient2d"])(m,_,t[2*v],t[2*v+1],t[2*b],t[2*b+1])>=0)if(v=b,v===g){v=-1;break}if(-1===v)continue;let U=this._addTriangle(v,p,u[v],-1,-1,d[v]);d[p]=this._legalize(U+2),d[v]=U,re++;let q=u[v];while(b=u[q],Object(c["orient2d"])(m,_,t[2*q],t[2*q+1],t[2*b],t[2*b+1])<0)U=this._addTriangle(q,p,b,d[p],-1,d[q]),d[p]=this._legalize(U+2),u[q]=q,re--,q=b;if(v===g)while(b=n[v],Object(c["orient2d"])(m,_,t[2*b],t[2*b+1],t[2*v],t[2*v+1])<0)U=this._addTriangle(b,p,v,-1,d[v],d[b]),this._legalize(U+2),d[b]=U,u[v]=v,re--,v=b;this._hullStart=n[p]=v,u[v]=n[q]=p,u[p]=q,h[this._hashKey(m,_)]=p,h[this._hashKey(t[2*v],t[2*v+1])]=v}this.hull=new Uint32Array(re);for(let c=0,l=this._hullStart;c<re;c++)this.hull[c]=l,l=u[l];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(pseudoAngle(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:u,coords:c}=this;let l=0,h=0;while(1){const p=u[t],m=t-t%3;if(h=m+(t+2)%3,-1===p){if(0===l)break;t=d[--l];continue}const _=p-p%3,g=m+(t+1)%3,b=_+(p+2)%3,v=n[h],U=n[t],G=n[g],W=n[b],X=inCircle(c[2*v],c[2*v+1],c[2*U],c[2*U+1],c[2*G],c[2*G+1],c[2*W],c[2*W+1]);if(X){n[t]=W,n[p]=v;const c=u[b];if(-1===c){let n=this._hullStart;do{if(this._hullTri[n]===b){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,c),this._link(p,u[h]),this._link(h,b);const m=_+(p+1)%3;l<d.length&&(d[l++]=m)}else{if(0===l)break;t=d[--l]}}return h}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,u,c,l,d){const h=this.trianglesLen;return this._triangles[h]=t,this._triangles[h+1]=n,this._triangles[h+2]=u,this._link(h,c),this._link(h+1,l),this._link(h+2,d),this.trianglesLen+=3,h}}function pseudoAngle(t,n){const u=t/(Math.abs(t)+Math.abs(n));return(n>0?3-u:1+u)/4}function dist(t,n,u,c){const l=t-u,d=n-c;return l*l+d*d}function inCircle(t,n,u,c,l,d,h,p){const m=t-h,_=n-p,g=u-h,b=c-p,v=l-h,U=d-p,G=m*m+_*_,W=g*g+b*b,X=v*v+U*U;return m*(b*X-W*U)-_*(g*X-W*v)+G*(g*U-b*v)<0}function circumradius(t,n,u,c,l,d){const h=u-t,p=c-n,m=l-t,_=d-n,g=h*h+p*p,b=m*m+_*_,v=.5/(h*_-p*m),U=(_*g-p*b)*v,G=(h*b-m*g)*v;return U*U+G*G}function circumcenter(t,n,u,c,l,d){const h=u-t,p=c-n,m=l-t,_=d-n,g=h*h+p*p,b=m*m+_*_,v=.5/(h*_-p*m),U=t+(_*g-p*b)*v,G=n+(h*b-m*g)*v;return{x:U,y:G}}function quicksort(t,n,u,c){if(c-u<=20)for(let l=u+1;l<=c;l++){const c=t[l],d=n[c];let h=l-1;while(h>=u&&n[t[h]]>d)t[h+1]=t[h--];t[h+1]=c}else{const l=u+c>>1;let d=u+1,h=c;swap(t,l,d),n[t[u]]>n[t[c]]&&swap(t,u,c),n[t[d]]>n[t[c]]&&swap(t,d,c),n[t[u]]>n[t[d]]&&swap(t,u,d);const p=t[d],m=n[p];while(1){do{d++}while(n[t[d]]<m);do{h--}while(n[t[h]]>m);if(h<d)break;swap(t,d,h)}t[u+1]=t[h],t[h]=p,c-d+1>=h-u?(quicksort(t,n,d,c),quicksort(t,n,u,h-1)):(quicksort(t,n,u,h-1),quicksort(t,n,d,c))}}function swap(t,n,u){const c=t[n];t[n]=t[u],t[u]=c}function defaultGetX(t){return t[0]}function defaultGetY(t){return t[1]}},"./node_modules/internmap/src/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"InternMap",(function(){return InternMap})),u.d(n,"InternSet",(function(){return InternSet}));class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[u,c]of t)this.set(u,c)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}}class InternSet extends Set{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const u of t)this.add(u)}has(t){return super.has(intern_get(this,t))}add(t){return super.add(intern_set(this,t))}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:t,_key:n},u){const c=n(u);return t.has(c)?t.get(c):u}function intern_set({_intern:t,_key:n},u){const c=n(u);return t.has(c)?t.get(c):(t.set(c,u),u)}function intern_delete({_intern:t,_key:n},u){const c=n(u);return t.has(c)&&(u=t.get(c),t.delete(c)),u}function keyof(t){return null!==t&&"object"===typeof t?t.valueOf():t}},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=style&index=0&id=15422c22&scoped=true&lang=css&":function(t,n,u){},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=style&index=0&id=5ea0f4d4&scoped=true&lang=css&":function(t,n,u){},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=style&index=0&id=2c5083ec&scoped=true&lang=css&":function(t,n,u){},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=style&index=0&id=5cf0cf54&scoped=true&lang=css&":function(t,n,u){},"./node_modules/robust-predicates/esm/incircle.js":function(t,n,u){"use strict";u.r(n),u.d(n,"incircle",(function(){return incircle})),u.d(n,"incirclefast",(function(){return incirclefast}));var c=u("./node_modules/robust-predicates/esm/util.js");const l=(10+96*c["epsilon"])*c["epsilon"],d=(4+48*c["epsilon"])*c["epsilon"],h=(44+576*c["epsilon"])*c["epsilon"]*c["epsilon"],p=Object(c["vec"])(4),m=Object(c["vec"])(4),_=Object(c["vec"])(4),g=Object(c["vec"])(4),b=Object(c["vec"])(4),v=Object(c["vec"])(4),U=Object(c["vec"])(4),G=Object(c["vec"])(4),W=Object(c["vec"])(8),X=Object(c["vec"])(8),q=Object(c["vec"])(8),K=Object(c["vec"])(8),Y=Object(c["vec"])(8),Q=Object(c["vec"])(8),Z=Object(c["vec"])(8),$=Object(c["vec"])(8),J=Object(c["vec"])(8),ee=Object(c["vec"])(4),te=Object(c["vec"])(4),re=Object(c["vec"])(4),ne=Object(c["vec"])(8),ie=Object(c["vec"])(16),oe=Object(c["vec"])(16),se=Object(c["vec"])(16),ae=Object(c["vec"])(32),ue=Object(c["vec"])(32),ce=Object(c["vec"])(48),le=Object(c["vec"])(64);let de=Object(c["vec"])(1152),he=Object(c["vec"])(1152);function finadd(t,n,u){t=Object(c["sum"])(t,de,n,u,he);const l=de;return de=he,he=l,t}function incircleadapt(t,n,u,l,he,fe,pe,me,_e){let ge,be,ve,ye,xe,Me,Te,Se,Ce,Ee,Oe,Pe,je,Ae,Re,Ie,we,De,Fe,Be,Le,Ve,Ne,ke,Ue,ze,Ge,We,He,Xe,qe,Ke,Ye,Qe,Ze;const $e=t-pe,Je=u-pe,et=he-pe,tt=n-me,rt=l-me,nt=fe-me;qe=Je*nt,Ne=c["splitter"]*Je,ke=Ne-(Ne-Je),Ue=Je-ke,Ne=c["splitter"]*nt,ze=Ne-(Ne-nt),Ge=nt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=et*rt,Ne=c["splitter"]*et,ke=Ne-(Ne-et),Ue=et-ke,Ne=c["splitter"]*rt,ze=Ne-(Ne-rt),Ge=rt-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke-Qe,Ve=Ke-We,p[0]=Ke-(We+Ve)+(Ve-Qe),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe-Ye,Ve=Xe-We,p[1]=Xe-(We+Ve)+(Ve-Ye),Ze=He+We,Ve=Ze-He,p[2]=He-(Ze-Ve)+(We-Ve),p[3]=Ze,qe=et*tt,Ne=c["splitter"]*et,ke=Ne-(Ne-et),Ue=et-ke,Ne=c["splitter"]*tt,ze=Ne-(Ne-tt),Ge=tt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=$e*nt,Ne=c["splitter"]*$e,ke=Ne-(Ne-$e),Ue=$e-ke,Ne=c["splitter"]*nt,ze=Ne-(Ne-nt),Ge=nt-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke-Qe,Ve=Ke-We,m[0]=Ke-(We+Ve)+(Ve-Qe),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe-Ye,Ve=Xe-We,m[1]=Xe-(We+Ve)+(Ve-Ye),Ze=He+We,Ve=Ze-He,m[2]=He-(Ze-Ve)+(We-Ve),m[3]=Ze,qe=$e*rt,Ne=c["splitter"]*$e,ke=Ne-(Ne-$e),Ue=$e-ke,Ne=c["splitter"]*rt,ze=Ne-(Ne-rt),Ge=rt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=Je*tt,Ne=c["splitter"]*Je,ke=Ne-(Ne-Je),Ue=Je-ke,Ne=c["splitter"]*tt,ze=Ne-(Ne-tt),Ge=tt-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke-Qe,Ve=Ke-We,_[0]=Ke-(We+Ve)+(Ve-Qe),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe-Ye,Ve=Xe-We,_[1]=Xe-(We+Ve)+(Ve-Ye),Ze=He+We,Ve=Ze-He,_[2]=He-(Ze-Ve)+(We-Ve),_[3]=Ze,ge=Object(c["sum"])(Object(c["sum"])(Object(c["sum"])(Object(c["scale"])(Object(c["scale"])(4,p,$e,ne),ne,$e,ie),ie,Object(c["scale"])(Object(c["scale"])(4,p,tt,ne),ne,tt,oe),oe,ae),ae,Object(c["sum"])(Object(c["scale"])(Object(c["scale"])(4,m,Je,ne),ne,Je,ie),ie,Object(c["scale"])(Object(c["scale"])(4,m,rt,ne),ne,rt,oe),oe,ue),ue,le),le,Object(c["sum"])(Object(c["scale"])(Object(c["scale"])(4,_,et,ne),ne,et,ie),ie,Object(c["scale"])(Object(c["scale"])(4,_,nt,ne),ne,nt,oe),oe,ae),ae,de);let it=Object(c["estimate"])(ge,de),ot=d*_e;if(it>=ot||-it>=ot)return it;if(Ve=t-$e,be=t-($e+Ve)+(Ve-pe),Ve=n-tt,xe=n-(tt+Ve)+(Ve-me),Ve=u-Je,ve=u-(Je+Ve)+(Ve-pe),Ve=l-rt,Me=l-(rt+Ve)+(Ve-me),Ve=he-et,ye=he-(et+Ve)+(Ve-pe),Ve=fe-nt,Te=fe-(nt+Ve)+(Ve-me),0===be&&0===ve&&0===ye&&0===xe&&0===Me&&0===Te)return it;if(ot=h*_e+c["resulterrbound"]*Math.abs(it),it+=($e*$e+tt*tt)*(Je*Te+nt*ve-(rt*ye+et*Me))+2*($e*be+tt*xe)*(Je*nt-rt*et)+((Je*Je+rt*rt)*(et*xe+tt*ye-(nt*be+$e*Te))+2*(Je*ve+rt*Me)*(et*tt-nt*$e))+((et*et+nt*nt)*($e*Me+rt*be-(tt*ve+Je*xe))+2*(et*ye+nt*Te)*($e*rt-tt*Je)),it>=ot||-it>=ot)return it;if(0===ve&&0===Me&&0===ye&&0===Te||(qe=$e*$e,Ne=c["splitter"]*$e,ke=Ne-(Ne-$e),Ue=$e-ke,Ke=Ue*Ue-(qe-ke*ke-(ke+ke)*Ue),Ye=tt*tt,Ne=c["splitter"]*tt,ke=Ne-(Ne-tt),Ue=tt-ke,Qe=Ue*Ue-(Ye-ke*ke-(ke+ke)*Ue),We=Ke+Qe,Ve=We-Ke,g[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,g[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,g[2]=He-(Ze-Ve)+(We-Ve),g[3]=Ze),0===ye&&0===Te&&0===be&&0===xe||(qe=Je*Je,Ne=c["splitter"]*Je,ke=Ne-(Ne-Je),Ue=Je-ke,Ke=Ue*Ue-(qe-ke*ke-(ke+ke)*Ue),Ye=rt*rt,Ne=c["splitter"]*rt,ke=Ne-(Ne-rt),Ue=rt-ke,Qe=Ue*Ue-(Ye-ke*ke-(ke+ke)*Ue),We=Ke+Qe,Ve=We-Ke,b[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,b[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,b[2]=He-(Ze-Ve)+(We-Ve),b[3]=Ze),0===be&&0===xe&&0===ve&&0===Me||(qe=et*et,Ne=c["splitter"]*et,ke=Ne-(Ne-et),Ue=et-ke,Ke=Ue*Ue-(qe-ke*ke-(ke+ke)*Ue),Ye=nt*nt,Ne=c["splitter"]*nt,ke=Ne-(Ne-nt),Ue=nt-ke,Qe=Ue*Ue-(Ye-ke*ke-(ke+ke)*Ue),We=Ke+Qe,Ve=We-Ke,v[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,v[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,v[2]=He-(Ze-Ve)+(We-Ve),v[3]=Ze),0!==be&&(Se=Object(c["scale"])(4,p,be,W),ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(Se,W,2*$e,ie),ie,Object(c["scale"])(Object(c["scale"])(4,v,be,ne),ne,rt,oe),oe,Object(c["scale"])(Object(c["scale"])(4,b,be,ne),ne,-nt,se),se,ae,ce),ce)),0!==xe&&(Ce=Object(c["scale"])(4,p,xe,X),ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(Ce,X,2*tt,ie),ie,Object(c["scale"])(Object(c["scale"])(4,b,xe,ne),ne,et,oe),oe,Object(c["scale"])(Object(c["scale"])(4,v,xe,ne),ne,-Je,se),se,ae,ce),ce)),0!==ve&&(Ee=Object(c["scale"])(4,m,ve,q),ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(Ee,q,2*Je,ie),ie,Object(c["scale"])(Object(c["scale"])(4,g,ve,ne),ne,nt,oe),oe,Object(c["scale"])(Object(c["scale"])(4,v,ve,ne),ne,-tt,se),se,ae,ce),ce)),0!==Me&&(Oe=Object(c["scale"])(4,m,Me,K),ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(Oe,K,2*rt,ie),ie,Object(c["scale"])(Object(c["scale"])(4,v,Me,ne),ne,$e,oe),oe,Object(c["scale"])(Object(c["scale"])(4,g,Me,ne),ne,-et,se),se,ae,ce),ce)),0!==ye&&(Pe=Object(c["scale"])(4,_,ye,Y),ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(Pe,Y,2*et,ie),ie,Object(c["scale"])(Object(c["scale"])(4,b,ye,ne),ne,tt,oe),oe,Object(c["scale"])(Object(c["scale"])(4,g,ye,ne),ne,-rt,se),se,ae,ce),ce)),0!==Te&&(je=Object(c["scale"])(4,_,Te,Q),ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(je,Q,2*nt,ie),ie,Object(c["scale"])(Object(c["scale"])(4,g,Te,ne),ne,Je,oe),oe,Object(c["scale"])(Object(c["scale"])(4,b,Te,ne),ne,-$e,se),se,ae,ce),ce)),0!==be||0!==xe){if(0!==ve||0!==Me||0!==ye||0!==Te?(qe=ve*nt,Ne=c["splitter"]*ve,ke=Ne-(Ne-ve),Ue=ve-ke,Ne=c["splitter"]*nt,ze=Ne-(Ne-nt),Ge=nt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=Je*Te,Ne=c["splitter"]*Je,ke=Ne-(Ne-Je),Ue=Je-ke,Ne=c["splitter"]*Te,ze=Ne-(Ne-Te),Ge=Te-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke+Qe,Ve=We-Ke,U[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,U[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,U[2]=He-(Ze-Ve)+(We-Ve),U[3]=Ze,qe=ye*-rt,Ne=c["splitter"]*ye,ke=Ne-(Ne-ye),Ue=ye-ke,Ne=c["splitter"]*-rt,ze=Ne-(Ne- -rt),Ge=-rt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=et*-Me,Ne=c["splitter"]*et,ke=Ne-(Ne-et),Ue=et-ke,Ne=c["splitter"]*-Me,ze=Ne-(Ne- -Me),Ge=-Me-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke+Qe,Ve=We-Ke,G[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,G[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,G[2]=He-(Ze-Ve)+(We-Ve),G[3]=Ze,Re=Object(c["sum"])(4,U,4,G,$),qe=ve*Te,Ne=c["splitter"]*ve,ke=Ne-(Ne-ve),Ue=ve-ke,Ne=c["splitter"]*Te,ze=Ne-(Ne-Te),Ge=Te-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=ye*Me,Ne=c["splitter"]*ye,ke=Ne-(Ne-ye),Ue=ye-ke,Ne=c["splitter"]*Me,ze=Ne-(Ne-Me),Ge=Me-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke-Qe,Ve=Ke-We,te[0]=Ke-(We+Ve)+(Ve-Qe),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe-Ye,Ve=Xe-We,te[1]=Xe-(We+Ve)+(Ve-Ye),Ze=He+We,Ve=Ze-He,te[2]=He-(Ze-Ve)+(We-Ve),te[3]=Ze,De=4):($[0]=0,Re=1,te[0]=0,De=1),0!==be){const t=Object(c["scale"])(Re,$,be,se);ge=finadd(ge,Object(c["sum"])(Object(c["scale"])(Se,W,be,ie),ie,Object(c["scale"])(t,se,2*$e,ae),ae,ce),ce);const n=Object(c["scale"])(De,te,be,ne);ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(n,ne,2*$e,ie),ie,Object(c["scale"])(n,ne,be,oe),oe,Object(c["scale"])(t,se,be,ae),ae,ue,le),le),0!==Me&&(ge=finadd(ge,Object(c["scale"])(Object(c["scale"])(4,v,be,ne),ne,Me,ie),ie)),0!==Te&&(ge=finadd(ge,Object(c["scale"])(Object(c["scale"])(4,b,-be,ne),ne,Te,ie),ie))}if(0!==xe){const t=Object(c["scale"])(Re,$,xe,se);ge=finadd(ge,Object(c["sum"])(Object(c["scale"])(Ce,X,xe,ie),ie,Object(c["scale"])(t,se,2*tt,ae),ae,ce),ce);const n=Object(c["scale"])(De,te,xe,ne);ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(n,ne,2*tt,ie),ie,Object(c["scale"])(n,ne,xe,oe),oe,Object(c["scale"])(t,se,xe,ae),ae,ue,le),le)}}if(0!==ve||0!==Me){if(0!==ye||0!==Te||0!==be||0!==xe?(qe=ye*tt,Ne=c["splitter"]*ye,ke=Ne-(Ne-ye),Ue=ye-ke,Ne=c["splitter"]*tt,ze=Ne-(Ne-tt),Ge=tt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=et*xe,Ne=c["splitter"]*et,ke=Ne-(Ne-et),Ue=et-ke,Ne=c["splitter"]*xe,ze=Ne-(Ne-xe),Ge=xe-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke+Qe,Ve=We-Ke,U[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,U[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,U[2]=He-(Ze-Ve)+(We-Ve),U[3]=Ze,Be=-nt,Le=-Te,qe=be*Be,Ne=c["splitter"]*be,ke=Ne-(Ne-be),Ue=be-ke,Ne=c["splitter"]*Be,ze=Ne-(Ne-Be),Ge=Be-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=$e*Le,Ne=c["splitter"]*$e,ke=Ne-(Ne-$e),Ue=$e-ke,Ne=c["splitter"]*Le,ze=Ne-(Ne-Le),Ge=Le-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke+Qe,Ve=We-Ke,G[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,G[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,G[2]=He-(Ze-Ve)+(We-Ve),G[3]=Ze,Ie=Object(c["sum"])(4,U,4,G,J),qe=ye*xe,Ne=c["splitter"]*ye,ke=Ne-(Ne-ye),Ue=ye-ke,Ne=c["splitter"]*xe,ze=Ne-(Ne-xe),Ge=xe-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=be*Te,Ne=c["splitter"]*be,ke=Ne-(Ne-be),Ue=be-ke,Ne=c["splitter"]*Te,ze=Ne-(Ne-Te),Ge=Te-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke-Qe,Ve=Ke-We,re[0]=Ke-(We+Ve)+(Ve-Qe),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe-Ye,Ve=Xe-We,re[1]=Xe-(We+Ve)+(Ve-Ye),Ze=He+We,Ve=Ze-He,re[2]=He-(Ze-Ve)+(We-Ve),re[3]=Ze,Fe=4):(J[0]=0,Ie=1,re[0]=0,Fe=1),0!==ve){const t=Object(c["scale"])(Ie,J,ve,se);ge=finadd(ge,Object(c["sum"])(Object(c["scale"])(Ee,q,ve,ie),ie,Object(c["scale"])(t,se,2*Je,ae),ae,ce),ce);const n=Object(c["scale"])(Fe,re,ve,ne);ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(n,ne,2*Je,ie),ie,Object(c["scale"])(n,ne,ve,oe),oe,Object(c["scale"])(t,se,ve,ae),ae,ue,le),le),0!==Te&&(ge=finadd(ge,Object(c["scale"])(Object(c["scale"])(4,g,ve,ne),ne,Te,ie),ie)),0!==xe&&(ge=finadd(ge,Object(c["scale"])(Object(c["scale"])(4,v,-ve,ne),ne,xe,ie),ie))}if(0!==Me){const t=Object(c["scale"])(Ie,J,Me,se);ge=finadd(ge,Object(c["sum"])(Object(c["scale"])(Oe,K,Me,ie),ie,Object(c["scale"])(t,se,2*rt,ae),ae,ce),ce);const n=Object(c["scale"])(Fe,re,Me,ne);ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(n,ne,2*rt,ie),ie,Object(c["scale"])(n,ne,Me,oe),oe,Object(c["scale"])(t,se,Me,ae),ae,ue,le),le)}}if(0!==ye||0!==Te){if(0!==be||0!==xe||0!==ve||0!==Me?(qe=be*rt,Ne=c["splitter"]*be,ke=Ne-(Ne-be),Ue=be-ke,Ne=c["splitter"]*rt,ze=Ne-(Ne-rt),Ge=rt-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=$e*Me,Ne=c["splitter"]*$e,ke=Ne-(Ne-$e),Ue=$e-ke,Ne=c["splitter"]*Me,ze=Ne-(Ne-Me),Ge=Me-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke+Qe,Ve=We-Ke,U[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,U[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,U[2]=He-(Ze-Ve)+(We-Ve),U[3]=Ze,Be=-tt,Le=-xe,qe=ve*Be,Ne=c["splitter"]*ve,ke=Ne-(Ne-ve),Ue=ve-ke,Ne=c["splitter"]*Be,ze=Ne-(Ne-Be),Ge=Be-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=Je*Le,Ne=c["splitter"]*Je,ke=Ne-(Ne-Je),Ue=Je-ke,Ne=c["splitter"]*Le,ze=Ne-(Ne-Le),Ge=Le-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke+Qe,Ve=We-Ke,G[0]=Ke-(We-Ve)+(Qe-Ve),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe+Ye,Ve=We-Xe,G[1]=Xe-(We-Ve)+(Ye-Ve),Ze=He+We,Ve=Ze-He,G[2]=He-(Ze-Ve)+(We-Ve),G[3]=Ze,Ae=Object(c["sum"])(4,U,4,G,Z),qe=be*Me,Ne=c["splitter"]*be,ke=Ne-(Ne-be),Ue=be-ke,Ne=c["splitter"]*Me,ze=Ne-(Ne-Me),Ge=Me-ze,Ke=Ue*Ge-(qe-ke*ze-Ue*ze-ke*Ge),Ye=ve*xe,Ne=c["splitter"]*ve,ke=Ne-(Ne-ve),Ue=ve-ke,Ne=c["splitter"]*xe,ze=Ne-(Ne-xe),Ge=xe-ze,Qe=Ue*Ge-(Ye-ke*ze-Ue*ze-ke*Ge),We=Ke-Qe,Ve=Ke-We,ee[0]=Ke-(We+Ve)+(Ve-Qe),He=qe+We,Ve=He-qe,Xe=qe-(He-Ve)+(We-Ve),We=Xe-Ye,Ve=Xe-We,ee[1]=Xe-(We+Ve)+(Ve-Ye),Ze=He+We,Ve=Ze-He,ee[2]=He-(Ze-Ve)+(We-Ve),ee[3]=Ze,we=4):(Z[0]=0,Ae=1,ee[0]=0,we=1),0!==ye){const t=Object(c["scale"])(Ae,Z,ye,se);ge=finadd(ge,Object(c["sum"])(Object(c["scale"])(Pe,Y,ye,ie),ie,Object(c["scale"])(t,se,2*et,ae),ae,ce),ce);const n=Object(c["scale"])(we,ee,ye,ne);ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(n,ne,2*et,ie),ie,Object(c["scale"])(n,ne,ye,oe),oe,Object(c["scale"])(t,se,ye,ae),ae,ue,le),le),0!==xe&&(ge=finadd(ge,Object(c["scale"])(Object(c["scale"])(4,b,ye,ne),ne,xe,ie),ie)),0!==Me&&(ge=finadd(ge,Object(c["scale"])(Object(c["scale"])(4,g,-ye,ne),ne,Me,ie),ie))}if(0!==Te){const t=Object(c["scale"])(Ae,Z,Te,se);ge=finadd(ge,Object(c["sum"])(Object(c["scale"])(je,Q,Te,ie),ie,Object(c["scale"])(t,se,2*nt,ae),ae,ce),ce);const n=Object(c["scale"])(we,ee,Te,ne);ge=finadd(ge,Object(c["sum_three"])(Object(c["scale"])(n,ne,2*nt,ie),ie,Object(c["scale"])(n,ne,Te,oe),oe,Object(c["scale"])(t,se,Te,ae),ae,ue,le),le)}}return de[ge-1]}function incircle(t,n,u,c,d,h,p,m){const _=t-p,g=u-p,b=d-p,v=n-m,U=c-m,G=h-m,W=g*G,X=b*U,q=_*_+v*v,K=b*v,Y=_*G,Q=g*g+U*U,Z=_*U,$=g*v,J=b*b+G*G,ee=q*(W-X)+Q*(K-Y)+J*(Z-$),te=(Math.abs(W)+Math.abs(X))*q+(Math.abs(K)+Math.abs(Y))*Q+(Math.abs(Z)+Math.abs($))*J,re=l*te;return ee>re||-ee>re?ee:incircleadapt(t,n,u,c,d,h,p,m,te)}function incirclefast(t,n,u,c,l,d,h,p){const m=t-h,_=n-p,g=u-h,b=c-p,v=l-h,U=d-p,G=m*b-g*_,W=g*U-v*b,X=v*_-m*U,q=m*m+_*_,K=g*g+b*b,Y=v*v+U*U;return q*W+K*X+Y*G}},"./node_modules/robust-predicates/esm/insphere.js":function(t,n,u){"use strict";u.r(n),u.d(n,"insphere",(function(){return insphere})),u.d(n,"inspherefast",(function(){return inspherefast}));var c=u("./node_modules/robust-predicates/esm/util.js");const l=(16+224*c["epsilon"])*c["epsilon"],d=(5+72*c["epsilon"])*c["epsilon"],h=(71+1408*c["epsilon"])*c["epsilon"]*c["epsilon"],p=Object(c["vec"])(4),m=Object(c["vec"])(4),_=Object(c["vec"])(4),g=Object(c["vec"])(4),b=Object(c["vec"])(4),v=Object(c["vec"])(4),U=Object(c["vec"])(4),G=Object(c["vec"])(4),W=Object(c["vec"])(4),X=Object(c["vec"])(4),q=Object(c["vec"])(24),K=Object(c["vec"])(24),Y=Object(c["vec"])(24),Q=Object(c["vec"])(24),Z=Object(c["vec"])(24),$=Object(c["vec"])(24),J=Object(c["vec"])(24),ee=Object(c["vec"])(24),te=Object(c["vec"])(24),re=Object(c["vec"])(24),ne=Object(c["vec"])(1152),ie=Object(c["vec"])(1152),oe=Object(c["vec"])(1152),se=Object(c["vec"])(1152),ae=Object(c["vec"])(1152),ue=Object(c["vec"])(2304),ce=Object(c["vec"])(2304),le=Object(c["vec"])(3456),de=Object(c["vec"])(5760),he=Object(c["vec"])(8),fe=Object(c["vec"])(8),pe=Object(c["vec"])(8),me=Object(c["vec"])(16),_e=Object(c["vec"])(24),ge=Object(c["vec"])(48),be=Object(c["vec"])(48),ve=Object(c["vec"])(96),ye=Object(c["vec"])(192),xe=Object(c["vec"])(384),Me=Object(c["vec"])(384),Te=Object(c["vec"])(384),Se=Object(c["vec"])(768);function sum_three_scale(t,n,u,l,d,h,p){return Object(c["sum_three"])(Object(c["scale"])(4,t,l,he),he,Object(c["scale"])(4,n,d,fe),fe,Object(c["scale"])(4,u,h,pe),pe,me,p)}function liftexact(t,n,u,l,d,h,p,m,_,g,b,v){const U=Object(c["sum"])(Object(c["sum"])(t,n,u,l,ge),ge,Object(c["negate"])(Object(c["sum"])(d,h,p,m,be),be),be,ve);return Object(c["sum_three"])(Object(c["scale"])(Object(c["scale"])(U,ve,_,ye),ye,_,xe),xe,Object(c["scale"])(Object(c["scale"])(U,ve,g,ye),ye,g,Me),Me,Object(c["scale"])(Object(c["scale"])(U,ve,b,ye),ye,b,Te),Te,Se,v)}function insphereexact(t,n,u,l,d,h,he,fe,pe,me,_e,ge,be,ve,ye){let xe,Me,Te,Se,Ce,Ee,Oe,Pe,je,Ae,Re,Ie,we,De;Ae=t*d,Me=c["splitter"]*t,Te=Me-(Me-t),Se=t-Te,Me=c["splitter"]*d,Ce=Me-(Me-d),Ee=d-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=l*n,Me=c["splitter"]*l,Te=Me-(Me-l),Se=l-Te,Me=c["splitter"]*n,Ce=Me-(Me-n),Ee=n-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,p[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,p[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,p[2]=Pe-(De-xe)+(Oe-xe),p[3]=De,Ae=l*fe,Me=c["splitter"]*l,Te=Me-(Me-l),Se=l-Te,Me=c["splitter"]*fe,Ce=Me-(Me-fe),Ee=fe-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=he*d,Me=c["splitter"]*he,Te=Me-(Me-he),Se=he-Te,Me=c["splitter"]*d,Ce=Me-(Me-d),Ee=d-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,m[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,m[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,m[2]=Pe-(De-xe)+(Oe-xe),m[3]=De,Ae=he*_e,Me=c["splitter"]*he,Te=Me-(Me-he),Se=he-Te,Me=c["splitter"]*_e,Ce=Me-(Me-_e),Ee=_e-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=me*fe,Me=c["splitter"]*me,Te=Me-(Me-me),Se=me-Te,Me=c["splitter"]*fe,Ce=Me-(Me-fe),Ee=fe-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,_[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,_[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,_[2]=Pe-(De-xe)+(Oe-xe),_[3]=De,Ae=me*ve,Me=c["splitter"]*me,Te=Me-(Me-me),Se=me-Te,Me=c["splitter"]*ve,Ce=Me-(Me-ve),Ee=ve-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=be*_e,Me=c["splitter"]*be,Te=Me-(Me-be),Se=be-Te,Me=c["splitter"]*_e,Ce=Me-(Me-_e),Ee=_e-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,g[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,g[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,g[2]=Pe-(De-xe)+(Oe-xe),g[3]=De,Ae=be*n,Me=c["splitter"]*be,Te=Me-(Me-be),Se=be-Te,Me=c["splitter"]*n,Ce=Me-(Me-n),Ee=n-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=t*ve,Me=c["splitter"]*t,Te=Me-(Me-t),Se=t-Te,Me=c["splitter"]*ve,Ce=Me-(Me-ve),Ee=ve-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,b[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,b[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,b[2]=Pe-(De-xe)+(Oe-xe),b[3]=De,Ae=t*fe,Me=c["splitter"]*t,Te=Me-(Me-t),Se=t-Te,Me=c["splitter"]*fe,Ce=Me-(Me-fe),Ee=fe-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=he*n,Me=c["splitter"]*he,Te=Me-(Me-he),Se=he-Te,Me=c["splitter"]*n,Ce=Me-(Me-n),Ee=n-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,v[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,v[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,v[2]=Pe-(De-xe)+(Oe-xe),v[3]=De,Ae=l*_e,Me=c["splitter"]*l,Te=Me-(Me-l),Se=l-Te,Me=c["splitter"]*_e,Ce=Me-(Me-_e),Ee=_e-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=me*d,Me=c["splitter"]*me,Te=Me-(Me-me),Se=me-Te,Me=c["splitter"]*d,Ce=Me-(Me-d),Ee=d-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,U[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,U[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,U[2]=Pe-(De-xe)+(Oe-xe),U[3]=De,Ae=he*ve,Me=c["splitter"]*he,Te=Me-(Me-he),Se=he-Te,Me=c["splitter"]*ve,Ce=Me-(Me-ve),Ee=ve-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=be*fe,Me=c["splitter"]*be,Te=Me-(Me-be),Se=be-Te,Me=c["splitter"]*fe,Ce=Me-(Me-fe),Ee=fe-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,G[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,G[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,G[2]=Pe-(De-xe)+(Oe-xe),G[3]=De,Ae=me*n,Me=c["splitter"]*me,Te=Me-(Me-me),Se=me-Te,Me=c["splitter"]*n,Ce=Me-(Me-n),Ee=n-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=t*_e,Me=c["splitter"]*t,Te=Me-(Me-t),Se=t-Te,Me=c["splitter"]*_e,Ce=Me-(Me-_e),Ee=_e-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,W[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,W[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,W[2]=Pe-(De-xe)+(Oe-xe),W[3]=De,Ae=be*d,Me=c["splitter"]*be,Te=Me-(Me-be),Se=be-Te,Me=c["splitter"]*d,Ce=Me-(Me-d),Ee=d-Ce,Re=Se*Ee-(Ae-Te*Ce-Se*Ce-Te*Ee),Ie=l*ve,Me=c["splitter"]*l,Te=Me-(Me-l),Se=l-Te,Me=c["splitter"]*ve,Ce=Me-(Me-ve),Ee=ve-Ce,we=Se*Ee-(Ie-Te*Ce-Se*Ce-Te*Ee),Oe=Re-we,xe=Re-Oe,X[0]=Re-(Oe+xe)+(xe-we),Pe=Ae+Oe,xe=Pe-Ae,je=Ae-(Pe-xe)+(Oe-xe),Oe=je-Ie,xe=je-Oe,X[1]=je-(Oe+xe)+(xe-Ie),De=Pe+Oe,xe=De-Pe,X[2]=Pe-(De-xe)+(Oe-xe),X[3]=De;const Fe=sum_three_scale(p,m,v,pe,u,-h,q),Be=sum_three_scale(m,_,U,ge,h,-pe,K),Le=sum_three_scale(_,g,G,ye,pe,-ge,Y),Ve=sum_three_scale(g,b,W,u,ge,-ye,Q),Ne=sum_three_scale(b,p,X,h,ye,-u,Z),ke=sum_three_scale(p,U,W,ge,u,h,$),Ue=sum_three_scale(m,G,X,ye,h,pe,J),ze=sum_three_scale(_,W,v,u,pe,ge,ee),Ge=sum_three_scale(g,X,U,h,ge,ye,te),We=sum_three_scale(b,v,G,pe,ye,u,re),He=Object(c["sum_three"])(liftexact(Le,Y,Ue,J,Ge,te,Be,K,t,n,u,ne),ne,liftexact(Ve,Q,ze,ee,We,re,Le,Y,l,d,h,ie),ie,Object(c["sum_three"])(liftexact(Ne,Z,Ge,te,ke,$,Ve,Q,he,fe,pe,oe),oe,liftexact(Fe,q,We,re,Ue,J,Ne,Z,me,_e,ge,se),se,liftexact(Be,K,ke,$,ze,ee,Fe,q,be,ve,ye,ae),ae,ce,le),le,ue,de);return de[He-1]}const Ce=Object(c["vec"])(96),Ee=Object(c["vec"])(96),Oe=Object(c["vec"])(96),Pe=Object(c["vec"])(1152);function liftadapt(t,n,u,l,d,h,p,m,_,g){const b=sum_three_scale(t,n,u,l,d,h,_e);return Object(c["sum_three"])(Object(c["scale"])(Object(c["scale"])(b,_e,p,ge),ge,p,Ce),Ce,Object(c["scale"])(Object(c["scale"])(b,_e,m,ge),ge,m,Ee),Ee,Object(c["scale"])(Object(c["scale"])(b,_e,_,ge),ge,_,Oe),Oe,ye,g)}function insphereadapt(t,n,u,l,g,b,G,X,q,K,Y,Q,Z,$,J,ee){let te,re,ae,le,de,he,fe,pe,me,_e,ge,be,ve,ye,xe,Me,Te,Se,Ce,Ee,Oe,je,Ae,Re,Ie,we,De,Fe,Be,Le,Ve;const Ne=t-Z,ke=l-Z,Ue=G-Z,ze=K-Z,Ge=n-$,We=g-$,He=X-$,Xe=Y-$,qe=u-J,Ke=b-J,Ye=q-J,Qe=Q-J;Fe=Ne*We,Ee=c["splitter"]*Ne,Oe=Ee-(Ee-Ne),je=Ne-Oe,Ee=c["splitter"]*We,Ae=Ee-(Ee-We),Re=We-Ae,Be=je*Re-(Fe-Oe*Ae-je*Ae-Oe*Re),Le=ke*Ge,Ee=c["splitter"]*ke,Oe=Ee-(Ee-ke),je=ke-Oe,Ee=c["splitter"]*Ge,Ae=Ee-(Ee-Ge),Re=Ge-Ae,Ve=je*Re-(Le-Oe*Ae-je*Ae-Oe*Re),Ie=Be-Ve,Ce=Be-Ie,p[0]=Be-(Ie+Ce)+(Ce-Ve),we=Fe+Ie,Ce=we-Fe,De=Fe-(we-Ce)+(Ie-Ce),Ie=De-Le,Ce=De-Ie,p[1]=De-(Ie+Ce)+(Ce-Le),te=we+Ie,Ce=te-we,p[2]=we-(te-Ce)+(Ie-Ce),p[3]=te,Fe=ke*He,Ee=c["splitter"]*ke,Oe=Ee-(Ee-ke),je=ke-Oe,Ee=c["splitter"]*He,Ae=Ee-(Ee-He),Re=He-Ae,Be=je*Re-(Fe-Oe*Ae-je*Ae-Oe*Re),Le=Ue*We,Ee=c["splitter"]*Ue,Oe=Ee-(Ee-Ue),je=Ue-Oe,Ee=c["splitter"]*We,Ae=Ee-(Ee-We),Re=We-Ae,Ve=je*Re-(Le-Oe*Ae-je*Ae-Oe*Re),Ie=Be-Ve,Ce=Be-Ie,m[0]=Be-(Ie+Ce)+(Ce-Ve),we=Fe+Ie,Ce=we-Fe,De=Fe-(we-Ce)+(Ie-Ce),Ie=De-Le,Ce=De-Ie,m[1]=De-(Ie+Ce)+(Ce-Le),re=we+Ie,Ce=re-we,m[2]=we-(re-Ce)+(Ie-Ce),m[3]=re,Fe=Ue*Xe,Ee=c["splitter"]*Ue,Oe=Ee-(Ee-Ue),je=Ue-Oe,Ee=c["splitter"]*Xe,Ae=Ee-(Ee-Xe),Re=Xe-Ae,Be=je*Re-(Fe-Oe*Ae-je*Ae-Oe*Re),Le=ze*He,Ee=c["splitter"]*ze,Oe=Ee-(Ee-ze),je=ze-Oe,Ee=c["splitter"]*He,Ae=Ee-(Ee-He),Re=He-Ae,Ve=je*Re-(Le-Oe*Ae-je*Ae-Oe*Re),Ie=Be-Ve,Ce=Be-Ie,_[0]=Be-(Ie+Ce)+(Ce-Ve),we=Fe+Ie,Ce=we-Fe,De=Fe-(we-Ce)+(Ie-Ce),Ie=De-Le,Ce=De-Ie,_[1]=De-(Ie+Ce)+(Ce-Le),ae=we+Ie,Ce=ae-we,_[2]=we-(ae-Ce)+(Ie-Ce),_[3]=ae,Fe=ze*Ge,Ee=c["splitter"]*ze,Oe=Ee-(Ee-ze),je=ze-Oe,Ee=c["splitter"]*Ge,Ae=Ee-(Ee-Ge),Re=Ge-Ae,Be=je*Re-(Fe-Oe*Ae-je*Ae-Oe*Re),Le=Ne*Xe,Ee=c["splitter"]*Ne,Oe=Ee-(Ee-Ne),je=Ne-Oe,Ee=c["splitter"]*Xe,Ae=Ee-(Ee-Xe),Re=Xe-Ae,Ve=je*Re-(Le-Oe*Ae-je*Ae-Oe*Re),Ie=Be-Ve,Ce=Be-Ie,W[0]=Be-(Ie+Ce)+(Ce-Ve),we=Fe+Ie,Ce=we-Fe,De=Fe-(we-Ce)+(Ie-Ce),Ie=De-Le,Ce=De-Ie,W[1]=De-(Ie+Ce)+(Ce-Le),le=we+Ie,Ce=le-we,W[2]=we-(le-Ce)+(Ie-Ce),W[3]=le,Fe=Ne*He,Ee=c["splitter"]*Ne,Oe=Ee-(Ee-Ne),je=Ne-Oe,Ee=c["splitter"]*He,Ae=Ee-(Ee-He),Re=He-Ae,Be=je*Re-(Fe-Oe*Ae-je*Ae-Oe*Re),Le=Ue*Ge,Ee=c["splitter"]*Ue,Oe=Ee-(Ee-Ue),je=Ue-Oe,Ee=c["splitter"]*Ge,Ae=Ee-(Ee-Ge),Re=Ge-Ae,Ve=je*Re-(Le-Oe*Ae-je*Ae-Oe*Re),Ie=Be-Ve,Ce=Be-Ie,v[0]=Be-(Ie+Ce)+(Ce-Ve),we=Fe+Ie,Ce=we-Fe,De=Fe-(we-Ce)+(Ie-Ce),Ie=De-Le,Ce=De-Ie,v[1]=De-(Ie+Ce)+(Ce-Le),de=we+Ie,Ce=de-we,v[2]=we-(de-Ce)+(Ie-Ce),v[3]=de,Fe=ke*Xe,Ee=c["splitter"]*ke,Oe=Ee-(Ee-ke),je=ke-Oe,Ee=c["splitter"]*Xe,Ae=Ee-(Ee-Xe),Re=Xe-Ae,Be=je*Re-(Fe-Oe*Ae-je*Ae-Oe*Re),Le=ze*We,Ee=c["splitter"]*ze,Oe=Ee-(Ee-ze),je=ze-Oe,Ee=c["splitter"]*We,Ae=Ee-(Ee-We),Re=We-Ae,Ve=je*Re-(Le-Oe*Ae-je*Ae-Oe*Re),Ie=Be-Ve,Ce=Be-Ie,U[0]=Be-(Ie+Ce)+(Ce-Ve),we=Fe+Ie,Ce=we-Fe,De=Fe-(we-Ce)+(Ie-Ce),Ie=De-Le,Ce=De-Ie,U[1]=De-(Ie+Ce)+(Ce-Le),he=we+Ie,Ce=he-we,U[2]=we-(he-Ce)+(Ie-Ce),U[3]=he;const Ze=Object(c["sum"])(Object(c["sum"])(Object(c["negate"])(liftadapt(m,_,U,Qe,Ke,-Ye,Ne,Ge,qe,ne),ne),ne,liftadapt(_,W,v,qe,Ye,Qe,ke,We,Ke,ie),ie,ue),ue,Object(c["sum"])(Object(c["negate"])(liftadapt(W,p,U,Ke,Qe,qe,Ue,He,Ye,oe),oe),oe,liftadapt(p,m,v,Ye,qe,-Ke,ze,Xe,Qe,se),se,ce),ce,Pe);let $e=Object(c["estimate"])(Ze,Pe),Je=d*ee;if($e>=Je||-$e>=Je)return $e;if(Ce=t-Ne,fe=t-(Ne+Ce)+(Ce-Z),Ce=n-Ge,ge=n-(Ge+Ce)+(Ce-$),Ce=u-qe,xe=u-(qe+Ce)+(Ce-J),Ce=l-ke,pe=l-(ke+Ce)+(Ce-Z),Ce=g-We,be=g-(We+Ce)+(Ce-$),Ce=b-Ke,Me=b-(Ke+Ce)+(Ce-J),Ce=G-Ue,me=G-(Ue+Ce)+(Ce-Z),Ce=X-He,ve=X-(He+Ce)+(Ce-$),Ce=q-Ye,Te=q-(Ye+Ce)+(Ce-J),Ce=K-ze,_e=K-(ze+Ce)+(Ce-Z),Ce=Y-Xe,ye=Y-(Xe+Ce)+(Ce-$),Ce=Q-Qe,Se=Q-(Qe+Ce)+(Ce-J),0===fe&&0===ge&&0===xe&&0===pe&&0===be&&0===Me&&0===me&&0===ve&&0===Te&&0===_e&&0===ye&&0===Se)return $e;Je=h*ee+c["resulterrbound"]*Math.abs($e);const et=Ne*be+We*fe-(Ge*pe+ke*ge),tt=ke*ve+He*pe-(We*me+Ue*be),rt=Ue*ye+Xe*me-(He*_e+ze*ve),nt=ze*ge+Ge*_e-(Xe*fe+Ne*ye),it=Ne*ve+He*fe-(Ge*me+Ue*ge),ot=ke*ye+Xe*pe-(We*_e+ze*be);return $e+=(ke*ke+We*We+Ke*Ke)*(Ye*nt+Qe*it+qe*rt+(Te*le+Se*de+xe*ae))+(ze*ze+Xe*Xe+Qe*Qe)*(qe*tt-Ke*it+Ye*et+(xe*re-Me*de+Te*te))-((Ne*Ne+Ge*Ge+qe*qe)*(Ke*rt-Ye*ot+Qe*tt+(Me*ae-Te*he+Se*re))+(Ue*Ue+He*He+Ye*Ye)*(Qe*et+qe*ot+Ke*nt+(Se*te+xe*he+Me*le)))+2*((ke*pe+We*be+Ke*Me)*(Ye*le+Qe*de+qe*ae)+(ze*_e+Xe*ye+Qe*Se)*(qe*re-Ke*de+Ye*te)-((Ne*fe+Ge*ge+qe*xe)*(Ke*ae-Ye*he+Qe*re)+(Ue*me+He*ve+Ye*Te)*(Qe*te+qe*he+Ke*le))),$e>=Je||-$e>=Je?$e:insphereexact(t,n,u,l,g,b,G,X,q,K,Y,Q,Z,$,J)}function insphere(t,n,u,c,d,h,p,m,_,g,b,v,U,G,W){const X=t-U,q=c-U,K=p-U,Y=g-U,Q=n-G,Z=d-G,$=m-G,J=b-G,ee=u-W,te=h-W,re=_-W,ne=v-W,ie=X*Z,oe=q*Q,se=ie-oe,ae=q*$,ue=K*Z,ce=ae-ue,le=K*J,de=Y*$,he=le-de,fe=Y*Q,pe=X*J,me=fe-pe,_e=X*$,ge=K*Q,be=_e-ge,ve=q*J,ye=Y*Z,xe=ve-ye,Me=ee*ce-te*be+re*se,Te=te*he-re*xe+ne*ce,Se=re*me+ne*be+ee*he,Ce=ne*se+ee*xe+te*me,Ee=X*X+Q*Q+ee*ee,Oe=q*q+Z*Z+te*te,Pe=K*K+$*$+re*re,je=Y*Y+J*J+ne*ne,Ae=Pe*Ce-je*Me+(Ee*Te-Oe*Se),Re=Math.abs(ee),Ie=Math.abs(te),we=Math.abs(re),De=Math.abs(ne),Fe=Math.abs(ie),Be=Math.abs(oe),Le=Math.abs(ae),Ve=Math.abs(ue),Ne=Math.abs(le),ke=Math.abs(de),Ue=Math.abs(fe),ze=Math.abs(pe),Ge=Math.abs(_e),We=Math.abs(ge),He=Math.abs(ve),Xe=Math.abs(ye),qe=((Ne+ke)*Ie+(Xe+He)*we+(Le+Ve)*De)*Ee+((Ue+ze)*we+(Ge+We)*De+(Ne+ke)*Re)*Oe+((Fe+Be)*De+(He+Xe)*Re+(Ue+ze)*Ie)*Pe+((Le+Ve)*Re+(We+Ge)*Ie+(Fe+Be)*we)*je,Ke=l*qe;return Ae>Ke||-Ae>Ke?Ae:-insphereadapt(t,n,u,c,d,h,p,m,_,g,b,v,U,G,W,qe)}function inspherefast(t,n,u,c,l,d,h,p,m,_,g,b,v,U,G){const W=t-v,X=c-v,q=h-v,K=_-v,Y=n-U,Q=l-U,Z=p-U,$=g-U,J=u-G,ee=d-G,te=m-G,re=b-G,ne=W*Q-X*Y,ie=X*Z-q*Q,oe=q*$-K*Z,se=K*Y-W*$,ae=W*Z-q*Y,ue=X*$-K*Q,ce=J*ie-ee*ae+te*ne,le=ee*oe-te*ue+re*ie,de=te*se+re*ae+J*oe,he=re*ne+J*ue+ee*se,fe=W*W+Y*Y+J*J,pe=X*X+Q*Q+ee*ee,me=q*q+Z*Z+te*te,_e=K*K+$*$+re*re;return me*he-_e*ce+(fe*le-pe*de)}},"./node_modules/robust-predicates/esm/orient2d.js":function(t,n,u){"use strict";u.r(n),u.d(n,"orient2d",(function(){return orient2d})),u.d(n,"orient2dfast",(function(){return orient2dfast}));var c=u("./node_modules/robust-predicates/esm/util.js");const l=(3+16*c["epsilon"])*c["epsilon"],d=(2+12*c["epsilon"])*c["epsilon"],h=(9+64*c["epsilon"])*c["epsilon"]*c["epsilon"],p=Object(c["vec"])(4),m=Object(c["vec"])(8),_=Object(c["vec"])(12),g=Object(c["vec"])(16),b=Object(c["vec"])(4);function orient2dadapt(t,n,u,l,v,U,G){let W,X,q,K,Y,Q,Z,$,J,ee,te,re,ne,ie,oe,se,ae,ue;const ce=t-v,le=u-v,de=n-U,he=l-U;ie=ce*he,Q=c["splitter"]*ce,Z=Q-(Q-ce),$=ce-Z,Q=c["splitter"]*he,J=Q-(Q-he),ee=he-J,oe=$*ee-(ie-Z*J-$*J-Z*ee),se=de*le,Q=c["splitter"]*de,Z=Q-(Q-de),$=de-Z,Q=c["splitter"]*le,J=Q-(Q-le),ee=le-J,ae=$*ee-(se-Z*J-$*J-Z*ee),te=oe-ae,Y=oe-te,p[0]=oe-(te+Y)+(Y-ae),re=ie+te,Y=re-ie,ne=ie-(re-Y)+(te-Y),te=ne-se,Y=ne-te,p[1]=ne-(te+Y)+(Y-se),ue=re+te,Y=ue-re,p[2]=re-(ue-Y)+(te-Y),p[3]=ue;let fe=Object(c["estimate"])(4,p),pe=d*G;if(fe>=pe||-fe>=pe)return fe;if(Y=t-ce,W=t-(ce+Y)+(Y-v),Y=u-le,q=u-(le+Y)+(Y-v),Y=n-de,X=n-(de+Y)+(Y-U),Y=l-he,K=l-(he+Y)+(Y-U),0===W&&0===X&&0===q&&0===K)return fe;if(pe=h*G+c["resulterrbound"]*Math.abs(fe),fe+=ce*K+he*W-(de*q+le*X),fe>=pe||-fe>=pe)return fe;ie=W*he,Q=c["splitter"]*W,Z=Q-(Q-W),$=W-Z,Q=c["splitter"]*he,J=Q-(Q-he),ee=he-J,oe=$*ee-(ie-Z*J-$*J-Z*ee),se=X*le,Q=c["splitter"]*X,Z=Q-(Q-X),$=X-Z,Q=c["splitter"]*le,J=Q-(Q-le),ee=le-J,ae=$*ee-(se-Z*J-$*J-Z*ee),te=oe-ae,Y=oe-te,b[0]=oe-(te+Y)+(Y-ae),re=ie+te,Y=re-ie,ne=ie-(re-Y)+(te-Y),te=ne-se,Y=ne-te,b[1]=ne-(te+Y)+(Y-se),ue=re+te,Y=ue-re,b[2]=re-(ue-Y)+(te-Y),b[3]=ue;const me=Object(c["sum"])(4,p,4,b,m);ie=ce*K,Q=c["splitter"]*ce,Z=Q-(Q-ce),$=ce-Z,Q=c["splitter"]*K,J=Q-(Q-K),ee=K-J,oe=$*ee-(ie-Z*J-$*J-Z*ee),se=de*q,Q=c["splitter"]*de,Z=Q-(Q-de),$=de-Z,Q=c["splitter"]*q,J=Q-(Q-q),ee=q-J,ae=$*ee-(se-Z*J-$*J-Z*ee),te=oe-ae,Y=oe-te,b[0]=oe-(te+Y)+(Y-ae),re=ie+te,Y=re-ie,ne=ie-(re-Y)+(te-Y),te=ne-se,Y=ne-te,b[1]=ne-(te+Y)+(Y-se),ue=re+te,Y=ue-re,b[2]=re-(ue-Y)+(te-Y),b[3]=ue;const _e=Object(c["sum"])(me,m,4,b,_);ie=W*K,Q=c["splitter"]*W,Z=Q-(Q-W),$=W-Z,Q=c["splitter"]*K,J=Q-(Q-K),ee=K-J,oe=$*ee-(ie-Z*J-$*J-Z*ee),se=X*q,Q=c["splitter"]*X,Z=Q-(Q-X),$=X-Z,Q=c["splitter"]*q,J=Q-(Q-q),ee=q-J,ae=$*ee-(se-Z*J-$*J-Z*ee),te=oe-ae,Y=oe-te,b[0]=oe-(te+Y)+(Y-ae),re=ie+te,Y=re-ie,ne=ie-(re-Y)+(te-Y),te=ne-se,Y=ne-te,b[1]=ne-(te+Y)+(Y-se),ue=re+te,Y=ue-re,b[2]=re-(ue-Y)+(te-Y),b[3]=ue;const ge=Object(c["sum"])(_e,_,4,b,g);return g[ge-1]}function orient2d(t,n,u,c,d,h){const p=(n-h)*(u-d),m=(t-d)*(c-h),_=p-m;if(0===p||0===m||p>0!==m>0)return _;const g=Math.abs(p+m);return Math.abs(_)>=l*g?_:-orient2dadapt(t,n,u,c,d,h,g)}function orient2dfast(t,n,u,c,l,d){return(n-d)*(u-l)-(t-l)*(c-d)}},"./node_modules/robust-predicates/esm/orient3d.js":function(t,n,u){"use strict";u.r(n),u.d(n,"orient3d",(function(){return orient3d})),u.d(n,"orient3dfast",(function(){return orient3dfast}));var c=u("./node_modules/robust-predicates/esm/util.js");const l=(7+56*c["epsilon"])*c["epsilon"],d=(3+28*c["epsilon"])*c["epsilon"],h=(26+288*c["epsilon"])*c["epsilon"]*c["epsilon"],p=Object(c["vec"])(4),m=Object(c["vec"])(4),_=Object(c["vec"])(4),g=Object(c["vec"])(4),b=Object(c["vec"])(4),v=Object(c["vec"])(4),U=Object(c["vec"])(4),G=Object(c["vec"])(4),W=Object(c["vec"])(4),X=Object(c["vec"])(8),q=Object(c["vec"])(8),K=Object(c["vec"])(8),Y=Object(c["vec"])(4),Q=Object(c["vec"])(8),Z=Object(c["vec"])(8),$=Object(c["vec"])(8),J=Object(c["vec"])(12);let ee=Object(c["vec"])(192),te=Object(c["vec"])(192);function finadd(t,n,u){t=Object(c["sum"])(t,ee,n,u,te);const l=ee;return ee=te,te=l,t}function tailinit(t,n,u,l,d,h,p,m){let _,g,b,v,U,G,W,X,q,K,Y,Q,Z,$,J;return 0===t?0===n?(p[0]=0,m[0]=0,1):(J=-n,K=J*u,g=c["splitter"]*J,b=g-(g-J),v=J-b,g=c["splitter"]*u,U=g-(g-u),G=u-U,p[0]=v*G-(K-b*U-v*U-b*G),p[1]=K,K=n*d,g=c["splitter"]*n,b=g-(g-n),v=n-b,g=c["splitter"]*d,U=g-(g-d),G=d-U,m[0]=v*G-(K-b*U-v*U-b*G),m[1]=K,2):0===n?(K=t*l,g=c["splitter"]*t,b=g-(g-t),v=t-b,g=c["splitter"]*l,U=g-(g-l),G=l-U,p[0]=v*G-(K-b*U-v*U-b*G),p[1]=K,J=-t,K=J*h,g=c["splitter"]*J,b=g-(g-J),v=J-b,g=c["splitter"]*h,U=g-(g-h),G=h-U,m[0]=v*G-(K-b*U-v*U-b*G),m[1]=K,2):(K=t*l,g=c["splitter"]*t,b=g-(g-t),v=t-b,g=c["splitter"]*l,U=g-(g-l),G=l-U,Y=v*G-(K-b*U-v*U-b*G),Q=n*u,g=c["splitter"]*n,b=g-(g-n),v=n-b,g=c["splitter"]*u,U=g-(g-u),G=u-U,Z=v*G-(Q-b*U-v*U-b*G),W=Y-Z,_=Y-W,p[0]=Y-(W+_)+(_-Z),X=K+W,_=X-K,q=K-(X-_)+(W-_),W=q-Q,_=q-W,p[1]=q-(W+_)+(_-Q),$=X+W,_=$-X,p[2]=X-($-_)+(W-_),p[3]=$,K=n*d,g=c["splitter"]*n,b=g-(g-n),v=n-b,g=c["splitter"]*d,U=g-(g-d),G=d-U,Y=v*G-(K-b*U-v*U-b*G),Q=t*h,g=c["splitter"]*t,b=g-(g-t),v=t-b,g=c["splitter"]*h,U=g-(g-h),G=h-U,Z=v*G-(Q-b*U-v*U-b*G),W=Y-Z,_=Y-W,m[0]=Y-(W+_)+(_-Z),X=K+W,_=X-K,q=K-(X-_)+(W-_),W=q-Q,_=q-W,m[1]=q-(W+_)+(_-Q),$=X+W,_=$-X,m[2]=X-($-_)+(W-_),m[3]=$,4)}function tailadd(t,n,u,l,d){let h,p,m,_,g,b,v,U,G,W,X,q,K;return X=n*u,p=c["splitter"]*n,m=p-(p-n),_=n-m,p=c["splitter"]*u,g=p-(p-u),b=u-g,q=_*b-(X-m*g-_*g-m*b),p=c["splitter"]*l,g=p-(p-l),b=l-g,v=q*l,p=c["splitter"]*q,m=p-(p-q),_=q-m,Y[0]=_*b-(v-m*g-_*g-m*b),U=X*l,p=c["splitter"]*X,m=p-(p-X),_=X-m,W=_*b-(U-m*g-_*g-m*b),G=v+W,h=G-v,Y[1]=v-(G-h)+(W-h),K=U+G,Y[2]=G-(K-U),Y[3]=K,t=finadd(t,4,Y),0!==d&&(p=c["splitter"]*d,g=p-(p-d),b=d-g,v=q*d,p=c["splitter"]*q,m=p-(p-q),_=q-m,Y[0]=_*b-(v-m*g-_*g-m*b),U=X*d,p=c["splitter"]*X,m=p-(p-X),_=X-m,W=_*b-(U-m*g-_*g-m*b),G=v+W,h=G-v,Y[1]=v-(G-h)+(W-h),K=U+G,Y[2]=G-(K-U),Y[3]=K,t=finadd(t,4,Y)),t}function orient3dadapt(t,n,u,l,Y,te,re,ne,ie,oe,se,ae,ue){let ce,le,de,he,fe,pe,me,_e,ge,be,ve,ye,xe,Me,Te,Se,Ce,Ee,Oe,Pe,je,Ae,Re,Ie;const we=t-oe,De=l-oe,Fe=re-oe,Be=n-se,Le=Y-se,Ve=ne-se,Ne=u-ae,ke=te-ae,Ue=ie-ae;Pe=De*Ve,ye=c["splitter"]*De,xe=ye-(ye-De),Me=De-xe,ye=c["splitter"]*Ve,Te=ye-(ye-Ve),Se=Ve-Te,je=Me*Se-(Pe-xe*Te-Me*Te-xe*Se),Ae=Fe*Le,ye=c["splitter"]*Fe,xe=ye-(ye-Fe),Me=Fe-xe,ye=c["splitter"]*Le,Te=ye-(ye-Le),Se=Le-Te,Re=Me*Se-(Ae-xe*Te-Me*Te-xe*Se),Ce=je-Re,ve=je-Ce,p[0]=je-(Ce+ve)+(ve-Re),Ee=Pe+Ce,ve=Ee-Pe,Oe=Pe-(Ee-ve)+(Ce-ve),Ce=Oe-Ae,ve=Oe-Ce,p[1]=Oe-(Ce+ve)+(ve-Ae),Ie=Ee+Ce,ve=Ie-Ee,p[2]=Ee-(Ie-ve)+(Ce-ve),p[3]=Ie,Pe=Fe*Be,ye=c["splitter"]*Fe,xe=ye-(ye-Fe),Me=Fe-xe,ye=c["splitter"]*Be,Te=ye-(ye-Be),Se=Be-Te,je=Me*Se-(Pe-xe*Te-Me*Te-xe*Se),Ae=we*Ve,ye=c["splitter"]*we,xe=ye-(ye-we),Me=we-xe,ye=c["splitter"]*Ve,Te=ye-(ye-Ve),Se=Ve-Te,Re=Me*Se-(Ae-xe*Te-Me*Te-xe*Se),Ce=je-Re,ve=je-Ce,m[0]=je-(Ce+ve)+(ve-Re),Ee=Pe+Ce,ve=Ee-Pe,Oe=Pe-(Ee-ve)+(Ce-ve),Ce=Oe-Ae,ve=Oe-Ce,m[1]=Oe-(Ce+ve)+(ve-Ae),Ie=Ee+Ce,ve=Ie-Ee,m[2]=Ee-(Ie-ve)+(Ce-ve),m[3]=Ie,Pe=we*Le,ye=c["splitter"]*we,xe=ye-(ye-we),Me=we-xe,ye=c["splitter"]*Le,Te=ye-(ye-Le),Se=Le-Te,je=Me*Se-(Pe-xe*Te-Me*Te-xe*Se),Ae=De*Be,ye=c["splitter"]*De,xe=ye-(ye-De),Me=De-xe,ye=c["splitter"]*Be,Te=ye-(ye-Be),Se=Be-Te,Re=Me*Se-(Ae-xe*Te-Me*Te-xe*Se),Ce=je-Re,ve=je-Ce,_[0]=je-(Ce+ve)+(ve-Re),Ee=Pe+Ce,ve=Ee-Pe,Oe=Pe-(Ee-ve)+(Ce-ve),Ce=Oe-Ae,ve=Oe-Ce,_[1]=Oe-(Ce+ve)+(ve-Ae),Ie=Ee+Ce,ve=Ie-Ee,_[2]=Ee-(Ie-ve)+(Ce-ve),_[3]=Ie,ce=Object(c["sum"])(Object(c["sum"])(Object(c["scale"])(4,p,Ne,Q),Q,Object(c["scale"])(4,m,ke,Z),Z,$),$,Object(c["scale"])(4,_,Ue,Q),Q,ee);let ze=Object(c["estimate"])(ce,ee),Ge=d*ue;if(ze>=Ge||-ze>=Ge)return ze;if(ve=t-we,le=t-(we+ve)+(ve-oe),ve=l-De,de=l-(De+ve)+(ve-oe),ve=re-Fe,he=re-(Fe+ve)+(ve-oe),ve=n-Be,fe=n-(Be+ve)+(ve-se),ve=Y-Le,pe=Y-(Le+ve)+(ve-se),ve=ne-Ve,me=ne-(Ve+ve)+(ve-se),ve=u-Ne,_e=u-(Ne+ve)+(ve-ae),ve=te-ke,ge=te-(ke+ve)+(ve-ae),ve=ie-Ue,be=ie-(Ue+ve)+(ve-ae),0===le&&0===de&&0===he&&0===fe&&0===pe&&0===me&&0===_e&&0===ge&&0===be)return ze;if(Ge=h*ue+c["resulterrbound"]*Math.abs(ze),ze+=Ne*(De*me+Ve*de-(Le*he+Fe*pe))+_e*(De*Ve-Le*Fe)+ke*(Fe*fe+Be*he-(Ve*le+we*me))+ge*(Fe*Be-Ve*we)+Ue*(we*pe+Le*le-(Be*de+De*fe))+be*(we*Le-Be*De),ze>=Ge||-ze>=Ge)return ze;const We=tailinit(le,fe,De,Le,Fe,Ve,g,b),He=tailinit(de,pe,Fe,Ve,we,Be,v,U),Xe=tailinit(he,me,we,Be,De,Le,G,W),qe=Object(c["sum"])(He,v,Xe,W,X);ce=finadd(ce,Object(c["scale"])(qe,X,Ne,$),$);const Ke=Object(c["sum"])(Xe,G,We,b,q);ce=finadd(ce,Object(c["scale"])(Ke,q,ke,$),$);const Ye=Object(c["sum"])(We,g,He,U,K);return ce=finadd(ce,Object(c["scale"])(Ye,K,Ue,$),$),0!==_e&&(ce=finadd(ce,Object(c["scale"])(4,p,_e,J),J),ce=finadd(ce,Object(c["scale"])(qe,X,_e,$),$)),0!==ge&&(ce=finadd(ce,Object(c["scale"])(4,m,ge,J),J),ce=finadd(ce,Object(c["scale"])(Ke,q,ge,$),$)),0!==be&&(ce=finadd(ce,Object(c["scale"])(4,_,be,J),J),ce=finadd(ce,Object(c["scale"])(Ye,K,be,$),$)),0!==le&&(0!==pe&&(ce=tailadd(ce,le,pe,Ue,be)),0!==me&&(ce=tailadd(ce,-le,me,ke,ge))),0!==de&&(0!==me&&(ce=tailadd(ce,de,me,Ne,_e)),0!==fe&&(ce=tailadd(ce,-de,fe,Ue,be))),0!==he&&(0!==fe&&(ce=tailadd(ce,he,fe,ke,ge)),0!==pe&&(ce=tailadd(ce,-he,pe,Ne,_e))),ee[ce-1]}function orient3d(t,n,u,c,d,h,p,m,_,g,b,v){const U=t-g,G=c-g,W=p-g,X=n-b,q=d-b,K=m-b,Y=u-v,Q=h-v,Z=_-v,$=G*K,J=W*q,ee=W*X,te=U*K,re=U*q,ne=G*X,ie=Y*($-J)+Q*(ee-te)+Z*(re-ne),oe=(Math.abs($)+Math.abs(J))*Math.abs(Y)+(Math.abs(ee)+Math.abs(te))*Math.abs(Q)+(Math.abs(re)+Math.abs(ne))*Math.abs(Z),se=l*oe;return ie>se||-ie>se?ie:orient3dadapt(t,n,u,c,d,h,p,m,_,g,b,v,oe)}function orient3dfast(t,n,u,c,l,d,h,p,m,_,g,b){const v=t-_,U=c-_,G=h-_,W=n-g,X=l-g,q=p-g,K=u-b,Y=d-b,Q=m-b;return v*(X*Q-Y*q)+U*(q*K-Q*W)+G*(W*Y-K*X)}},"./node_modules/robust-predicates/esm/util.js":function(t,n,u){"use strict";u.r(n),u.d(n,"epsilon",(function(){return c})),u.d(n,"splitter",(function(){return l})),u.d(n,"resulterrbound",(function(){return d})),u.d(n,"sum",(function(){return sum})),u.d(n,"sum_three",(function(){return sum_three})),u.d(n,"scale",(function(){return scale})),u.d(n,"negate",(function(){return negate})),u.d(n,"estimate",(function(){return estimate})),u.d(n,"vec",(function(){return vec}));const c=11102230246251565e-32,l=134217729,d=(3+8*c)*c;function sum(t,n,u,c,l){let d,h,p,m,_=n[0],g=c[0],b=0,v=0;g>_===g>-_?(d=_,_=n[++b]):(d=g,g=c[++v]);let U=0;if(b<t&&v<u){g>_===g>-_?(h=_+d,p=d-(h-_),_=n[++b]):(h=g+d,p=d-(h-g),g=c[++v]),d=h,0!==p&&(l[U++]=p);while(b<t&&v<u)g>_===g>-_?(h=d+_,m=h-d,p=d-(h-m)+(_-m),_=n[++b]):(h=d+g,m=h-d,p=d-(h-m)+(g-m),g=c[++v]),d=h,0!==p&&(l[U++]=p)}while(b<t)h=d+_,m=h-d,p=d-(h-m)+(_-m),_=n[++b],d=h,0!==p&&(l[U++]=p);while(v<u)h=d+g,m=h-d,p=d-(h-m)+(g-m),g=c[++v],d=h,0!==p&&(l[U++]=p);return 0===d&&0!==U||(l[U++]=d),U}function sum_three(t,n,u,c,l,d,h,p){return sum(sum(t,n,u,c,h),h,l,d,p)}function scale(t,n,u,c){let d,h,p,m,_,g,b,v,U,G,W;b=l*u,G=b-(b-u),W=u-G;let X=n[0];d=X*u,b=l*X,v=b-(b-X),U=X-v,p=U*W-(d-v*G-U*G-v*W);let q=0;0!==p&&(c[q++]=p);for(let K=1;K<t;K++)X=n[K],m=X*u,b=l*X,v=b-(b-X),U=X-v,_=U*W-(m-v*G-U*G-v*W),h=d+_,g=h-d,p=d-(h-g)+(_-g),0!==p&&(c[q++]=p),d=m+h,p=h-(d-m),0!==p&&(c[q++]=p);return 0===d&&0!==q||(c[q++]=d),q}function negate(t,n){for(let u=0;u<t;u++)n[u]=-n[u];return t}function estimate(t,n){let u=n[0];for(let c=1;c<t;c++)u+=n[c];return u}function vec(t){return new Float64Array(t)}},"./node_modules/robust-predicates/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/robust-predicates/esm/orient2d.js");u.d(n,"orient2d",(function(){return c["orient2d"]})),u.d(n,"orient2dfast",(function(){return c["orient2dfast"]}));var l=u("./node_modules/robust-predicates/esm/orient3d.js");u.d(n,"orient3d",(function(){return l["orient3d"]})),u.d(n,"orient3dfast",(function(){return l["orient3dfast"]}));var d=u("./node_modules/robust-predicates/esm/incircle.js");u.d(n,"incircle",(function(){return d["incircle"]})),u.d(n,"incirclefast",(function(){return d["incirclefast"]}));var h=u("./node_modules/robust-predicates/esm/insphere.js");u.d(n,"insphere",(function(){return h["insphere"]})),u.d(n,"inspherefast",(function(){return h["inspherefast"]}))},"./node_modules/tslib/tslib.es6.js":function(t,n,u){"use strict";u.r(n),u.d(n,"__extends",(function(){return __extends})),u.d(n,"__assign",(function(){return __assign})),u.d(n,"__rest",(function(){return __rest})),u.d(n,"__decorate",(function(){return __decorate})),u.d(n,"__param",(function(){return __param})),u.d(n,"__metadata",(function(){return __metadata})),u.d(n,"__awaiter",(function(){return __awaiter})),u.d(n,"__generator",(function(){return __generator})),u.d(n,"__createBinding",(function(){return c})),u.d(n,"__exportStar",(function(){return __exportStar})),u.d(n,"__values",(function(){return __values})),u.d(n,"__read",(function(){return __read})),u.d(n,"__spread",(function(){return __spread})),u.d(n,"__spreadArrays",(function(){return __spreadArrays})),u.d(n,"__spreadArray",(function(){return __spreadArray})),u.d(n,"__await",(function(){return __await})),u.d(n,"__asyncGenerator",(function(){return __asyncGenerator})),u.d(n,"__asyncDelegator",(function(){return __asyncDelegator})),u.d(n,"__asyncValues",(function(){return __asyncValues})),u.d(n,"__makeTemplateObject",(function(){return __makeTemplateObject})),u.d(n,"__importStar",(function(){return __importStar})),u.d(n,"__importDefault",(function(){return __importDefault})),u.d(n,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),u.d(n,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var extendStatics=function(t,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])},extendStatics(t,n)};function __extends(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function __(){this.constructor=t}extendStatics(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var n,u=1,c=arguments.length;u<c;u++)for(var l in n=arguments[u],n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l]);return t},__assign.apply(this,arguments)};function __rest(t,n){var u={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&n.indexOf(c)<0&&(u[c]=t[c]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(c=Object.getOwnPropertySymbols(t);l<c.length;l++)n.indexOf(c[l])<0&&Object.prototype.propertyIsEnumerable.call(t,c[l])&&(u[c[l]]=t[c[l]])}return u}function __decorate(t,n,u,c){var l,d=arguments.length,h=d<3?n:null===c?c=Object.getOwnPropertyDescriptor(n,u):c;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(t,n,u,c);else for(var p=t.length-1;p>=0;p--)(l=t[p])&&(h=(d<3?l(h):d>3?l(n,u,h):l(n,u))||h);return d>3&&h&&Object.defineProperty(n,u,h),h}function __param(t,n){return function(u,c){n(u,c,t)}}function __metadata(t,n){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,n)}function __awaiter(t,n,u,c){function adopt(t){return t instanceof u?t:new u((function(n){n(t)}))}return new(u||(u=Promise))((function(u,l){function fulfilled(t){try{step(c.next(t))}catch(n){l(n)}}function rejected(t){try{step(c["throw"](t))}catch(n){l(n)}}function step(t){t.done?u(t.value):adopt(t.value).then(fulfilled,rejected)}step((c=c.apply(t,n||[])).next())}))}function __generator(t,n){var u,c,l,d,h={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return d={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function verb(t){return function(n){return step([t,n])}}function step(d){if(u)throw new TypeError("Generator is already executing.");while(h)try{if(u=1,c&&(l=2&d[0]?c["return"]:d[0]?c["throw"]||((l=c["return"])&&l.call(c),0):c.next)&&!(l=l.call(c,d[1])).done)return l;switch(c=0,l&&(d=[2&d[0],l.value]),d[0]){case 0:case 1:l=d;break;case 4:return h.label++,{value:d[1],done:!1};case 5:h.label++,c=d[1],d=[0];continue;case 7:d=h.ops.pop(),h.trys.pop();continue;default:if(l=h.trys,!(l=l.length>0&&l[l.length-1])&&(6===d[0]||2===d[0])){h=0;continue}if(3===d[0]&&(!l||d[1]>l[0]&&d[1]<l[3])){h.label=d[1];break}if(6===d[0]&&h.label<l[1]){h.label=l[1],l=d;break}if(l&&h.label<l[2]){h.label=l[2],h.ops.push(d);break}l[2]&&h.ops.pop(),h.trys.pop();continue}d=n.call(t,h)}catch(p){d=[6,p],c=0}finally{u=l=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var c=Object.create?function(t,n,u,c){void 0===c&&(c=u),Object.defineProperty(t,c,{enumerable:!0,get:function(){return n[u]}})}:function(t,n,u,c){void 0===c&&(c=u),t[c]=n[u]};function __exportStar(t,n){for(var u in t)"default"===u||Object.prototype.hasOwnProperty.call(n,u)||c(n,t,u)}function __values(t){var n="function"===typeof Symbol&&Symbol.iterator,u=n&&t[n],c=0;if(u)return u.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&c>=t.length&&(t=void 0),{value:t&&t[c++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,n){var u="function"===typeof Symbol&&t[Symbol.iterator];if(!u)return t;var c,l,d=u.call(t),h=[];try{while((void 0===n||n-- >0)&&!(c=d.next()).done)h.push(c.value)}catch(p){l={error:p}}finally{try{c&&!c.done&&(u=d["return"])&&u.call(d)}finally{if(l)throw l.error}}return h}function __spread(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(__read(arguments[n]));return t}function __spreadArrays(){for(var t=0,n=0,u=arguments.length;n<u;n++)t+=arguments[n].length;var c=Array(t),l=0;for(n=0;n<u;n++)for(var d=arguments[n],h=0,p=d.length;h<p;h++,l++)c[l]=d[h];return c}function __spreadArray(t,n,u){if(u||2===arguments.length)for(var c,l=0,d=n.length;l<d;l++)!c&&l in n||(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return t.concat(c||Array.prototype.slice.call(n))}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,n,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=u.apply(t,n||[]),d=[];return c={},verb("next"),verb("throw"),verb("return"),c[Symbol.asyncIterator]=function(){return this},c;function verb(t){l[t]&&(c[t]=function(n){return new Promise((function(u,c){d.push([t,n,u,c])>1||resume(t,n)}))})}function resume(t,n){try{step(l[t](n))}catch(u){settle(d[0][3],u)}}function step(t){t.value instanceof __await?Promise.resolve(t.value.v).then(fulfill,reject):settle(d[0][2],t)}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,n){t(n),d.shift(),d.length&&resume(d[0][0],d[0][1])}}function __asyncDelegator(t){var n,u;return n={},verb("next"),verb("throw",(function(t){throw t})),verb("return"),n[Symbol.iterator]=function(){return this},n;function verb(c,l){n[c]=t[c]?function(n){return(u=!u)?{value:__await(t[c](n)),done:"return"===c}:l?l(n):n}:l}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,u=t[Symbol.asyncIterator];return u?u.call(t):(t="function"===typeof __values?__values(t):t[Symbol.iterator](),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(u){n[u]=t[u]&&function(n){return new Promise((function(c,l){n=t[u](n),settle(c,l,n.done,n.value)}))}}function settle(t,n,u,c){Promise.resolve(c).then((function(n){t({value:n,done:u})}),n)}}function __makeTemplateObject(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}var l=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t["default"]=n};function __importStar(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var u in t)"default"!==u&&Object.prototype.hasOwnProperty.call(t,u)&&c(n,t,u);return l(n,t),n}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,n,u,c){if("a"===u&&!c)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof n?t!==n||!c:!n.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===u?c:"a"===u?c.call(t):c?c.value:n.get(t)}function __classPrivateFieldSet(t,n,u,c,l){if("m"===c)throw new TypeError("Private method is not writable");if("a"===c&&!l)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof n?t!==n||!l:!n.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===c?l.call(t,u):l?l.value=u:n.set(t,u),u}},"./node_modules/vuetify/lib/components/VColorPicker/VColorPicker.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=(u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/core-js/modules/es.array.includes.js"),u("./node_modules/core-js/modules/es.string.includes.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.array.flat.js"),u("./node_modules/core-js/modules/es.array.unscopables.flat.js"),u("./node_modules/vuetify/src/components/VColorPicker/VColorPicker.sass"),u("./node_modules/vuetify/lib/components/VSheet/VSheet.js")),d=u("./node_modules/vuetify/lib/components/VColorPicker/VColorPickerPreview.js"),h=u("./node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js"),p=u("./node_modules/vuetify/lib/components/VColorPicker/VColorPickerEdit.js"),m=u("./node_modules/vuetify/lib/components/VColorPicker/VColorPickerSwatches.js"),_=u("./node_modules/vuetify/lib/components/VColorPicker/util/index.js"),g=u("./node_modules/vuetify/lib/util/mixins.js"),b=u("./node_modules/vuetify/lib/util/helpers.js"),v=u("./node_modules/vuetify/lib/mixins/elevatable/index.js"),U=u("./node_modules/vuetify/lib/mixins/themeable/index.js");n["default"]=Object(g["default"])(v["default"],U["default"]).extend({name:"v-color-picker",props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},flat:Boolean,hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,hideModeSwitch:Boolean,mode:{type:String,default:"rgba",validator:function validator(t){return Object.keys(p["modes"]).includes(t)}},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},value:{type:[Object,String]},width:{type:[Number,String],default:300}},data:function data(){return{internalValue:Object(_["fromRGBA"])({r:255,g:0,b:0,a:1})}},computed:{hideAlpha:function hideAlpha(){return!!this.value&&!Object(_["hasAlpha"])(this.value)}},watch:{value:{handler:function handler(t){this.updateColor(Object(_["parseColor"])(t,this.internalValue))},immediate:!0}},methods:{updateColor:function updateColor(t){this.internalValue=t;var n=Object(_["extractColor"])(this.internalValue,this.value);Object(b["deepEqual"])(n,this.value)||(this.$emit("input",n),this.$emit("update:color",this.internalValue))},genCanvas:function genCanvas(){return this.$createElement(h["default"],{props:{color:this.internalValue,disabled:this.disabled,dotSize:this.dotSize,width:this.width,height:this.canvasHeight},on:{"update:color":this.updateColor}})},genControls:function genControls(){return this.$createElement("div",{staticClass:"v-color-picker__controls"},[!this.hideSliders&&this.genPreview(),!this.hideInputs&&this.genEdit()])},genEdit:function genEdit(){var t=this;return this.$createElement(p["default"],{props:{color:this.internalValue,disabled:this.disabled,hideAlpha:this.hideAlpha,hideModeSwitch:this.hideModeSwitch,mode:this.mode},on:{"update:color":this.updateColor,"update:mode":function updateMode(n){return t.$emit("update:mode",n)}}})},genPreview:function genPreview(){return this.$createElement(d["default"],{props:{color:this.internalValue,disabled:this.disabled,hideAlpha:this.hideAlpha},on:{"update:color":this.updateColor}})},genSwatches:function genSwatches(){return this.$createElement(m["default"],{props:{dark:this.dark,light:this.light,disabled:this.disabled,swatches:this.swatches,color:this.internalValue,maxHeight:this.swatchesMaxHeight},on:{"update:color":this.updateColor}})}},render:function render(t){return t(l["default"],{staticClass:"v-color-picker",class:Object(c["default"])(Object(c["default"])({"v-color-picker--flat":this.flat},this.themeClasses),this.elevationClasses),props:{maxWidth:this.width}},[!this.hideCanvas&&this.genCanvas(),(!this.hideSliders||!this.hideInputs)&&this.genControls(),this.showSwatches&&this.genSwatches()])}})},"./node_modules/vuetify/lib/components/VColorPicker/VColorPickerCanvas.js":function(t,n,u){"use strict";u.r(n);u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/vuetify/src/components/VColorPicker/VColorPickerCanvas.sass");var c=u("./node_modules/vuetify/lib/util/helpers.js"),l=u("./node_modules/vuetify/lib/components/VColorPicker/util/index.js"),d=u("./node_modules/vue/dist/vue.runtime.esm.js");n["default"]=d["default"].extend({name:"v-color-picker-canvas",props:{color:{type:Object,default:function _default(){return Object(l["fromRGBA"])({r:255,g:0,b:0,a:1})}},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},data:function data(){return{boundingRect:{width:0,height:0,left:0,top:0}}},computed:{dot:function dot(){return this.color?{x:this.color.hsva.s*parseInt(this.width,10),y:(1-this.color.hsva.v)*parseInt(this.height,10)}:{x:0,y:0}}},watch:{"color.hue":"updateCanvas"},mounted:function mounted(){this.updateCanvas()},methods:{emitColor:function emitColor(t,n){var u=this.boundingRect,d=u.left,h=u.top,p=u.width,m=u.height;this.$emit("update:color",Object(l["fromHSVA"])({h:this.color.hue,s:Object(c["clamp"])(t-d,0,p)/p,v:1-Object(c["clamp"])(n-h,0,m)/m,a:this.color.alpha}))},updateCanvas:function updateCanvas(){if(this.color){var t=this.$refs.canvas,n=t.getContext("2d");if(n){var u=n.createLinearGradient(0,0,t.width,0);u.addColorStop(0,"hsla(0, 0%, 100%, 1)"),u.addColorStop(1,"hsla(".concat(this.color.hue,", 100%, 50%, 1)")),n.fillStyle=u,n.fillRect(0,0,t.width,t.height);var c=n.createLinearGradient(0,0,0,t.height);c.addColorStop(0,"hsla(0, 0%, 100%, 0)"),c.addColorStop(1,"hsla(0, 0%, 0%, 1)"),n.fillStyle=c,n.fillRect(0,0,t.width,t.height)}}},handleClick:function handleClick(t){this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),this.emitColor(t.clientX,t.clientY))},handleMouseDown:function handleMouseDown(t){t.preventDefault(),this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},handleMouseMove:function handleMouseMove(t){this.disabled||this.emitColor(t.clientX,t.clientY)},handleMouseUp:function handleMouseUp(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},genCanvas:function genCanvas(){return this.$createElement("canvas",{ref:"canvas",attrs:{width:this.width,height:this.height}})},genDot:function genDot(){var t=parseInt(this.dotSize,10)/2,n=Object(c["convertToUnit"])(this.dot.x-t),u=Object(c["convertToUnit"])(this.dot.y-t);return this.$createElement("div",{staticClass:"v-color-picker__canvas-dot",class:{"v-color-picker__canvas-dot--disabled":this.disabled},style:{width:Object(c["convertToUnit"])(this.dotSize),height:Object(c["convertToUnit"])(this.dotSize),transform:"translate(".concat(n,", ").concat(u,")")}})}},render:function render(t){return t("div",{staticClass:"v-color-picker__canvas",style:{width:Object(c["convertToUnit"])(this.width),height:Object(c["convertToUnit"])(this.height)},on:{click:this.handleClick,mousedown:this.handleMouseDown}},[this.genCanvas(),this.genDot()])}})},"./node_modules/vuetify/lib/components/VColorPicker/VColorPickerEdit.js":function(t,n,u){"use strict";u.r(n),u.d(n,"modes",(function(){return g}));var c=u("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=u("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=(u("./node_modules/core-js/modules/es.array.includes.js"),u("./node_modules/core-js/modules/es.string.includes.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.string.ends-with.js"),u("./node_modules/core-js/modules/es.array.slice.js"),u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/vuetify/src/components/VColorPicker/VColorPickerEdit.sass"),u("./node_modules/vuetify/lib/components/VBtn/index.js")),h=u("./node_modules/vuetify/lib/components/VIcon/index.js"),p=u("./node_modules/vuetify/lib/util/colorUtils.js"),m=u("./node_modules/vue/dist/vue.runtime.esm.js"),_=u("./node_modules/vuetify/lib/components/VColorPicker/util/index.js"),g={rgba:{inputs:[["r",255,"int"],["g",255,"int"],["b",255,"int"],["a",1,"float"]],from:_["fromRGBA"]},hsla:{inputs:[["h",360,"int"],["s",1,"float"],["l",1,"float"],["a",1,"float"]],from:_["fromHSLA"]},hexa:{from:_["fromHexa"]}};n["default"]=m["default"].extend({name:"v-color-picker-edit",props:{color:Object,disabled:Boolean,hideAlpha:Boolean,hideModeSwitch:Boolean,mode:{type:String,default:"rgba",validator:function validator(t){return Object.keys(g).includes(t)}}},data:function data(){return{modes:g,internalMode:this.mode}},computed:{currentMode:function currentMode(){return this.modes[this.internalMode]}},watch:{mode:function mode(t){this.internalMode=t}},created:function created(){this.internalMode=this.mode},methods:{getValue:function getValue(t,n){return"float"===n?Math.round(100*t)/100:"int"===n?Math.round(t):0},parseValue:function parseValue(t,n){return"float"===n?parseFloat(t):"int"===n&&parseInt(t,10)||0},changeMode:function changeMode(){var t=Object.keys(this.modes),n=t.indexOf(this.internalMode),u=t[(n+1)%t.length];this.internalMode=u,this.$emit("update:mode",u)},genInput:function genInput(t,n,u,c){return this.$createElement("div",{staticClass:"v-color-picker__input"},[this.$createElement("input",{key:t,attrs:n,domProps:{value:u},on:c}),this.$createElement("span",t.toUpperCase())])},genInputs:function genInputs(){var t=this;if("hexa"===this.internalMode){var n=this.color.hexa,u=this.hideAlpha&&n.endsWith("FF")?n.substr(0,7):n;return this.genInput("hex",{maxlength:this.hideAlpha?7:9,disabled:this.disabled},u,{change:function change(n){var u=n.target;t.$emit("update:color",t.currentMode.from(Object(p["parseHex"])(u.value)))}})}var d=this.hideAlpha?this.currentMode.inputs.slice(0,-1):this.currentMode.inputs;return d.map((function(n){var u=Object(l["default"])(n,3),d=u[0],h=u[1],p=u[2],m=t.color[t.internalMode];return t.genInput(d,{type:"number",min:0,max:h,step:"float"===p?"0.01":"int"===p?"1":void 0,disabled:t.disabled},t.getValue(m[d],p),{input:function input(n){var u=n.target,l=t.parseValue(u.value||"0",p);t.$emit("update:color",t.currentMode.from(Object.assign({},m,Object(c["default"])({},d,l)),t.color.alpha))}})}))},genSwitch:function genSwitch(){return this.$createElement(d["default"],{props:{small:!0,icon:!0,disabled:this.disabled},on:{click:this.changeMode}},[this.$createElement(h["default"],"$unfold")])}},render:function render(t){return t("div",{staticClass:"v-color-picker__edit"},[this.genInputs(),!this.hideModeSwitch&&this.genSwitch()])}})},"./node_modules/vuetify/lib/components/VColorPicker/VColorPickerPreview.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=(u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/vuetify/src/components/VColorPicker/VColorPickerPreview.sass"),u("./node_modules/vuetify/lib/components/VSlider/VSlider.js")),d=u("./node_modules/vuetify/lib/util/colorUtils.js"),h=u("./node_modules/vue/dist/vue.runtime.esm.js"),p=u("./node_modules/vuetify/lib/components/VColorPicker/util/index.js");n["default"]=h["default"].extend({name:"v-color-picker-preview",props:{color:Object,disabled:Boolean,hideAlpha:Boolean},methods:{genAlpha:function genAlpha(){var t=this;return this.genTrack({staticClass:"v-color-picker__alpha",props:{thumbColor:"grey lighten-2",hideDetails:!0,value:this.color.alpha,step:0,min:0,max:1},style:{backgroundImage:this.disabled?void 0:"linear-gradient(to ".concat(this.$vuetify.rtl?"left":"right",", transparent, ").concat(Object(d["RGBtoCSS"])(this.color.rgba),")")},on:{input:function input(n){return t.color.alpha!==n&&t.$emit("update:color",Object(p["fromHSVA"])(Object(c["default"])(Object(c["default"])({},t.color.hsva),{},{a:n})))}}})},genSliders:function genSliders(){return this.$createElement("div",{staticClass:"v-color-picker__sliders"},[this.genHue(),!this.hideAlpha&&this.genAlpha()])},genDot:function genDot(){return this.$createElement("div",{staticClass:"v-color-picker__dot"},[this.$createElement("div",{style:{background:Object(d["RGBAtoCSS"])(this.color.rgba)}})])},genHue:function genHue(){var t=this;return this.genTrack({staticClass:"v-color-picker__hue",props:{thumbColor:"grey lighten-2",hideDetails:!0,value:this.color.hue,step:0,min:0,max:360},on:{input:function input(n){return t.color.hue!==n&&t.$emit("update:color",Object(p["fromHSVA"])(Object(c["default"])(Object(c["default"])({},t.color.hsva),{},{h:n})))}}})},genTrack:function genTrack(t){return this.$createElement(l["default"],Object(c["default"])(Object(c["default"])({class:"v-color-picker__track"},t),{},{props:Object(c["default"])({disabled:this.disabled},t.props)}))}},render:function render(t){return t("div",{staticClass:"v-color-picker__preview",class:{"v-color-picker__preview--hide-alpha":this.hideAlpha}},[this.genDot(),this.genSliders()])}})},"./node_modules/vuetify/lib/components/VColorPicker/VColorPickerSwatches.js":function(t,n,u){"use strict";u.r(n);u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/vuetify/src/components/VColorPicker/VColorPickerSwatches.sass");var c=u("./node_modules/vuetify/lib/components/VIcon/index.js"),l=u("./node_modules/vuetify/lib/util/colors.js"),d=u("./node_modules/vuetify/lib/components/VColorPicker/util/index.js"),h=u("./node_modules/vuetify/lib/util/helpers.js"),p=u("./node_modules/vuetify/lib/util/mixins.js"),m=u("./node_modules/vuetify/lib/mixins/themeable/index.js"),_=u("./node_modules/vuetify/lib/util/colorUtils.js");function parseDefaultColors(t){return Object.keys(t).map((function(n){var u=t[n];return u.base?[u.base,u.darken4,u.darken3,u.darken2,u.darken1,u.lighten1,u.lighten2,u.lighten3,u.lighten4,u.lighten5]:[u.black,u.white,u.transparent]}))}var g=Object(d["fromHex"])("#FFFFFF").rgba,b=Object(d["fromHex"])("#000000").rgba;n["default"]=Object(p["default"])(m["default"]).extend({name:"v-color-picker-swatches",props:{swatches:{type:Array,default:function _default(){return parseDefaultColors(l["default"])}},disabled:Boolean,color:Object,maxWidth:[Number,String],maxHeight:[Number,String]},methods:{genColor:function genColor(t){var n=this,u=this.$createElement("div",{style:{background:t}},[Object(h["deepEqual"])(this.color,Object(d["parseColor"])(t,null))&&this.$createElement(c["default"],{props:{small:!0,dark:Object(_["contrastRatio"])(this.color.rgba,g)>2&&this.color.alpha>.5,light:Object(_["contrastRatio"])(this.color.rgba,b)>2&&this.color.alpha>.5}},"$success")]);return this.$createElement("div",{staticClass:"v-color-picker__color",on:{click:function click(){return n.disabled||n.$emit("update:color",Object(d["fromHex"])("transparent"===t?"#00000000":t))}}},[u])},genSwatches:function genSwatches(){var t=this;return this.swatches.map((function(n){var u=n.map(t.genColor);return t.$createElement("div",{staticClass:"v-color-picker__swatch"},u)}))}},render:function render(t){return t("div",{staticClass:"v-color-picker__swatches",style:{maxWidth:Object(h["convertToUnit"])(this.maxWidth),maxHeight:Object(h["convertToUnit"])(this.maxHeight)}},[this.$createElement("div",this.genSwatches())])}})},"./node_modules/vuetify/lib/components/VColorPicker/util/index.js":function(t,n,u){"use strict";u.r(n),u.d(n,"fromHSVA",(function(){return fromHSVA})),u.d(n,"fromHSLA",(function(){return fromHSLA})),u.d(n,"fromRGBA",(function(){return fromRGBA})),u.d(n,"fromHexa",(function(){return fromHexa})),u.d(n,"fromHex",(function(){return fromHex})),u.d(n,"parseColor",(function(){return parseColor})),u.d(n,"extractColor",(function(){return extractColor})),u.d(n,"hasAlpha",(function(){return hasAlpha}));var c=u("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),l=u("./node_modules/@babel/runtime/helpers/esm/typeof.js"),d=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),h=(u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/vuetify/lib/util/colorUtils.js")),p=["a"];function fromHSVA(t){t=Object(d["default"])({},t);var n=Object(h["HSVAtoHex"])(t),u=Object(h["HSVAtoHSLA"])(t),c=Object(h["HSVAtoRGBA"])(t);return{alpha:t.a,hex:n.substr(0,7),hexa:n,hsla:u,hsva:t,hue:t.h,rgba:c}}function fromHSLA(t){var n=Object(h["HSLAtoHSVA"])(t),u=Object(h["HSVAtoHex"])(n),c=Object(h["HSVAtoRGBA"])(n);return{alpha:n.a,hex:u.substr(0,7),hexa:u,hsla:t,hsva:n,hue:n.h,rgba:c}}function fromRGBA(t){var n=Object(h["RGBAtoHSVA"])(t),u=Object(h["RGBAtoHex"])(t),c=Object(h["HSVAtoHSLA"])(n);return{alpha:n.a,hex:u.substr(0,7),hexa:u,hsla:c,hsva:n,hue:n.h,rgba:t}}function fromHexa(t){var n=Object(h["HexToHSVA"])(t),u=Object(h["HSVAtoHSLA"])(n),c=Object(h["HSVAtoRGBA"])(n);return{alpha:n.a,hex:t.substr(0,7),hexa:t,hsla:u,hsva:n,hue:n.h,rgba:c}}function fromHex(t){return fromHexa(Object(h["parseHex"])(t))}function has(t,n){return n.every((function(n){return t.hasOwnProperty(n)}))}function parseColor(t,n){if(!t)return fromRGBA({r:255,g:0,b:0,a:1});if("string"===typeof t){if("transparent"===t)return fromHexa("#00000000");var u=Object(h["parseHex"])(t);return n&&u===n.hexa?n:fromHexa(u)}if("object"===Object(l["default"])(t)){if(t.hasOwnProperty("alpha"))return t;var c=t.hasOwnProperty("a")?parseFloat(t.a):1;if(has(t,["r","g","b"]))return n&&t===n.rgba?n:fromRGBA(Object(d["default"])(Object(d["default"])({},t),{},{a:c}));if(has(t,["h","s","l"]))return n&&t===n.hsla?n:fromHSLA(Object(d["default"])(Object(d["default"])({},t),{},{a:c}));if(has(t,["h","s","v"]))return n&&t===n.hsva?n:fromHSVA(Object(d["default"])(Object(d["default"])({},t),{},{a:c}))}return fromRGBA({r:255,g:0,b:0,a:1})}function stripAlpha(t,n){if(n){t.a;var u=Object(c["default"])(t,p);return u}return t}function extractColor(t,n){if(null==n)return t;if("string"===typeof n)return 7===n.length?t.hex:t.hexa;if("object"===Object(l["default"])(n)){var u="number"===typeof n.a&&0===n.a?!!n.a:!n.a;if(has(n,["r","g","b"]))return stripAlpha(t.rgba,u);if(has(n,["h","s","l"]))return stripAlpha(t.hsla,u);if(has(n,["h","s","v"]))return stripAlpha(t.hsva,u)}return t}function hasAlpha(t){return!!t&&("string"===typeof t?t.length>7:"object"===Object(l["default"])(t)&&(has(t,["a"])||has(t,["alpha"])))}},"./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanel.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=u("./node_modules/vuetify/lib/mixins/groupable/index.js"),d=u("./node_modules/vuetify/lib/mixins/registrable/index.js"),h=u("./node_modules/vuetify/lib/util/helpers.js"),p=u("./node_modules/vuetify/lib/util/mixins.js");n["default"]=Object(p["default"])(Object(l["factory"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(d["provide"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function data(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function classes(){return Object(c["default"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly:function isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function registerContent(t){this.content=t},unregisterContent:function unregisterContent(){this.content=null},registerHeader:function registerHeader(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function unregisterHeader(){this.header=null},onClick:function onClick(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function toggle(){var t=this;this.$nextTick((function(){return t.$emit("change")}))}},render:function render(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(h["getSlot"])(this))}})},"./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanelContent.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/vuetify/lib/components/transitions/index.js"),l=u("./node_modules/vuetify/lib/mixins/bootable/index.js"),d=u("./node_modules/vuetify/lib/mixins/colorable/index.js"),h=u("./node_modules/vuetify/lib/mixins/registrable/index.js"),p=u("./node_modules/vuetify/lib/util/helpers.js"),m=u("./node_modules/vuetify/lib/util/mixins.js"),_=Object(m["default"])(l["default"],d["default"],Object(h["inject"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));n["default"]=_.extend().extend({name:"v-expansion-panel-content",data:function data(){return{isActive:!1}},computed:{parentIsActive:function parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function handler(t,n){var u=this;t&&(this.isBooted=!0),null==n?this.isActive=t:this.$nextTick((function(){return u.isActive=t}))}}},created:function created(){this.expansionPanel.registerContent(this)},beforeDestroy:function beforeDestroy(){this.expansionPanel.unregisterContent()},render:function render(t){var n=this;return t(c["VExpandTransition"],this.showLazyContent((function(){return[t("div",n.setBackgroundColor(n.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:n.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(p["getSlot"])(n))])]})))}})},"./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanelHeader.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=u("./node_modules/vuetify/lib/components/transitions/index.js"),d=u("./node_modules/vuetify/lib/components/VIcon/index.js"),h=u("./node_modules/vuetify/lib/mixins/colorable/index.js"),p=u("./node_modules/vuetify/lib/mixins/registrable/index.js"),m=u("./node_modules/vuetify/lib/directives/ripple/index.js"),_=u("./node_modules/vuetify/lib/util/helpers.js"),g=u("./node_modules/vuetify/lib/util/mixins.js"),b=Object(g["default"])(h["default"],Object(p["inject"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));n["default"]=b.extend().extend({name:"v-expansion-panel-header",directives:{ripple:m["default"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function data(){return{hasMousedown:!1}},computed:{classes:function classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function isActive(){return this.expansionPanel.isActive},isDisabled:function isDisabled(){return this.expansionPanel.isDisabled},isReadonly:function isReadonly(){return this.expansionPanel.isReadonly}},created:function created(){this.expansionPanel.registerHeader(this)},beforeDestroy:function beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick:function onClick(t){this.$emit("click",t)},genIcon:function genIcon(){var t=Object(_["getSlot"])(this,"actions")||[this.$createElement(d["default"],this.expandIcon)];return this.$createElement(l["VFadeTransition"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function render(t){var n=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(c["default"])(Object(c["default"])({},this.$listeners),{},{click:this.onClick,mousedown:function mousedown(){return n.hasMousedown=!0},mouseup:function mouseup(){return n.hasMousedown=!1}})}),[Object(_["getSlot"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},"./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanels.js":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=(u("./node_modules/core-js/modules/es.array.flat.js"),u("./node_modules/core-js/modules/es.array.unscopables.flat.js"),u("./node_modules/vuetify/src/components/VExpansionPanel/VExpansionPanel.sass"),u("./node_modules/vuetify/lib/components/VItemGroup/VItemGroup.js")),d=u("./node_modules/vuetify/lib/util/console.js");n["default"]=l["BaseItemGroup"].extend({name:"v-expansion-panels",provide:function provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function classes(){return Object(c["default"])(Object(c["default"])({},l["BaseItemGroup"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function created(){this.$attrs.hasOwnProperty("expand")&&Object(d["breaking"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(d["breaking"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function updateItem(t,n){var u=this.getValue(t,n),c=this.getValue(t,n+1);t.isActive=this.toggleMethod(u),t.nextIsActive=this.toggleMethod(c)}}})},"./node_modules/vuetify/lib/util/colors.js":function(t,n,u){"use strict";u.r(n);u("./node_modules/core-js/modules/es.object.freeze.js");var c=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),l=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),d=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),h=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),p=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),m=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),_=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),g=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),b=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),v=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),U=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),G=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),W=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),X=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),q=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),K=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),Y=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),Q=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),Z=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),$=Object.freeze({black:"#000000",white:"#ffffff",transparent:"transparent"});n["default"]=Object.freeze({red:c,pink:l,purple:d,deepPurple:h,indigo:p,blue:m,lightBlue:_,cyan:g,teal:b,green:v,lightGreen:U,lime:G,yellow:W,amber:X,orange:q,deepOrange:K,brown:Y,blueGrey:Q,grey:Z,shades:$})},"./node_modules/vuetify/src/components/VColorPicker/VColorPicker.sass":function(t,n,u){},"./node_modules/vuetify/src/components/VColorPicker/VColorPickerCanvas.sass":function(t,n,u){},"./node_modules/vuetify/src/components/VColorPicker/VColorPickerEdit.sass":function(t,n,u){},"./node_modules/vuetify/src/components/VColorPicker/VColorPickerPreview.sass":function(t,n,u){},"./node_modules/vuetify/src/components/VColorPicker/VColorPickerSwatches.sass":function(t,n,u){},"./node_modules/vuetify/src/components/VExpansionPanel/VExpansionPanel.sass":function(t,n,u){},"./src/plugins/GCodeViewer/ColorPicker.vue":function(t,n,u){"use strict";u.r(n);var c=u("./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=template&id=15422c22&scoped=true&"),l=u("./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=script&lang=js&"),d=(u("./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=style&index=0&id=15422c22&scoped=true&lang=css&"),u("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),h=u("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),p=u.n(h),m=u("./node_modules/vuetify/lib/components/VCard/VCard.js"),_=u("./node_modules/vuetify/lib/components/VCard/index.js"),g=u("./node_modules/vuetify/lib/components/VGrid/VCol.js"),b=u("./node_modules/vuetify/lib/components/VColorPicker/VColorPicker.js"),v=u("./node_modules/vuetify/lib/components/VMenu/VMenu.js"),U=u("./node_modules/vuetify/lib/components/VGrid/VRow.js"),G=u("./node_modules/vuetify/lib/components/VTextField/VTextField.js"),W=Object(d["default"])(l["default"],c["render"],c["staticRenderFns"],!1,null,"15422c22",null);n["default"]=W.exports,p()(W,{VCard:m["default"],VCardText:_["VCardText"],VCol:g["default"],VColorPicker:b["default"],VMenu:v["default"],VRow:U["default"],VTextField:G["default"]})},"./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=script&lang=js&");n["default"]=c["default"]},"./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=style&index=0&id=15422c22&scoped=true&lang=css&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=style&index=0&id=15422c22&scoped=true&lang=css&");for(var l in c)["default"].indexOf(l)<0&&function(t){u.d(n,t,(function(){return c[t]}))}(l)},"./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=template&id=15422c22&scoped=true&":function(t,n,u){"use strict";u.r(n);var c=u('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/ColorPicker.vue?vue&type=template&id=15422c22&scoped=true&');u.d(n,"render",(function(){return c["render"]})),u.d(n,"staticRenderFns",(function(){return c["staticRenderFns"]}))},"./src/plugins/GCodeViewer/FSOverlay.vue":function(t,n,u){"use strict";u.r(n);var c=u("./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=template&id=5ea0f4d4&scoped=true&"),l=u("./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=script&lang=js&"),d=(u("./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=style&index=0&id=5ea0f4d4&scoped=true&lang=css&"),u("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),h=u("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),p=u.n(h),m=u("./node_modules/vuetify/lib/components/VCard/VCard.js"),_=u("./node_modules/vuetify/lib/components/VCard/index.js"),g=u("./node_modules/vuetify/lib/components/VGrid/VCol.js"),b=u("./node_modules/vuetify/lib/components/VGrid/VRow.js"),v=Object(d["default"])(l["default"],c["render"],c["staticRenderFns"],!1,null,"5ea0f4d4",null);n["default"]=v.exports,p()(v,{VCard:m["default"],VCardText:_["VCardText"],VCol:g["default"],VRow:b["default"]})},"./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=script&lang=js&");n["default"]=c["default"]},"./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=style&index=0&id=5ea0f4d4&scoped=true&lang=css&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=style&index=0&id=5ea0f4d4&scoped=true&lang=css&");for(var l in c)["default"].indexOf(l)<0&&function(t){u.d(n,t,(function(){return c[t]}))}(l)},"./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=template&id=5ea0f4d4&scoped=true&":function(t,n,u){"use strict";u.r(n);var c=u('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/FSOverlay.vue?vue&type=template&id=5ea0f4d4&scoped=true&');u.d(n,"render",(function(){return c["render"]})),u.d(n,"staticRenderFns",(function(){return c["staticRenderFns"]}))},"./src/plugins/GCodeViewer/GCodeViewer.vue":function(t,n,u){"use strict";u.r(n);var c=u("./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=template&id=2c5083ec&scoped=true&"),l=u("./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=script&lang=js&"),d=(u("./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=style&index=0&id=2c5083ec&scoped=true&lang=css&"),u("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),h=u("./node_modules/vuetify-loader/lib/runtime/installComponents.js"),p=u.n(h),m=u("./node_modules/vuetify/lib/components/VBtn/VBtn.js"),_=u("./node_modules/vuetify/lib/components/VBtnToggle/VBtnToggle.js"),g=u("./node_modules/vuetify/lib/components/VCard/VCard.js"),b=u("./node_modules/vuetify/lib/components/VCard/index.js"),v=u("./node_modules/vuetify/lib/components/VCheckbox/VCheckbox.js"),U=u("./node_modules/vuetify/lib/components/VGrid/VCol.js"),G=u("./node_modules/vuetify/lib/components/VDialog/VDialog.js"),W=u("./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanel.js"),X=u("./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanelContent.js"),q=u("./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanelHeader.js"),K=u("./node_modules/vuetify/lib/components/VExpansionPanel/VExpansionPanels.js"),Y=u("./node_modules/vuetify/lib/components/VIcon/VIcon.js"),Q=u("./node_modules/vuetify/lib/components/VNavigationDrawer/VNavigationDrawer.js"),Z=u("./node_modules/vuetify/lib/components/VProgressLinear/VProgressLinear.js"),$=u("./node_modules/vuetify/lib/components/VGrid/VRow.js"),J=u("./node_modules/vuetify/lib/components/VSlider/VSlider.js"),ee=u("./node_modules/vuetify/lib/components/VSwitch/VSwitch.js"),te=u("./node_modules/vuetify-loader/lib/runtime/installDirectives.js"),re=u.n(te),ne=u("./node_modules/vuetify/lib/directives/resize/index.js"),ie=Object(d["default"])(l["default"],c["render"],c["staticRenderFns"],!1,null,"2c5083ec",null);n["default"]=ie.exports,p()(ie,{VBtn:m["default"],VBtnToggle:_["default"],VCard:g["default"],VCardActions:b["VCardActions"],VCardText:b["VCardText"],VCardTitle:b["VCardTitle"],VCheckbox:v["default"],VCol:U["default"],VDialog:G["default"],VExpansionPanel:W["default"],VExpansionPanelContent:X["default"],VExpansionPanelHeader:q["default"],VExpansionPanels:K["default"],VIcon:Y["default"],VNavigationDrawer:Q["default"],VProgressLinear:Z["default"],VRow:$["default"],VSlider:J["default"],VSwitch:ee["default"]}),re()(ie,{Resize:ne["default"]})},"./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=script&lang=js&");n["default"]=c["default"]},"./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=style&index=0&id=2c5083ec&scoped=true&lang=css&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=style&index=0&id=2c5083ec&scoped=true&lang=css&");for(var l in c)["default"].indexOf(l)<0&&function(t){u.d(n,t,(function(){return c[t]}))}(l)},"./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=template&id=2c5083ec&scoped=true&":function(t,n,u){"use strict";u.r(n);var c=u('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/GCodeViewer.vue?vue&type=template&id=2c5083ec&scoped=true&');u.d(n,"render",(function(){return c["render"]})),u.d(n,"staticRenderFns",(function(){return c["staticRenderFns"]}))},"./src/plugins/GCodeViewer/Gauge/gauge.css":function(t,n,u){},"./src/plugins/GCodeViewer/Gauge/gauge.js":function(t,n,u){"use strict";u.r(n),u.d(n,"default",(function(){return h}));var c=u("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=u("./node_modules/@babel/runtime/helpers/esm/createClass.js"),d=(u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/d3/src/index.js")),h=(u("./src/plugins/GCodeViewer/Gauge/gauge.css"),function(){function _default(t){Object(c["default"])(this,_default),this.el=t,this.label="",this.max=300,this.setTemperature=0,this.standbyTemperature=0,this.currentValue=0,this.svg,this.svgBackgroundCircle,this.svgCursor,this.svgTempText,this.svgSetTemp,this.arcStartPoint=270,this.arcEndPoint=450,this.tempArcSize=this.arcEndPoint-this.arcStartPoint,this.size=void 0!==this.size?this.size:100,this.size=.9*this.size,this.darkTheme=!1,this.build()}return Object(l["default"])(_default,[{key:"setLabel",value:function setLabel(t){this.label=t}},{key:"setMax",value:function setMax(t){this.max=t}},{key:"build",value:function build(){var t=this;this.svg=new d["select"](this.el).append("svg").attr("class","gauge").attr("viewBox","0 -1 100 42").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet");var n=this.svg.append("g").attr("transform","translate(50,40)");this.svgBackgroundCircle=n.append("circle").attr("r",40).style("stroke-width","2px").attr("class","white").attr("fill","white").attr("stroke","black");for(var u=(this.arcEndPoint-this.arcStartPoint)/10,c=function _loop(c){n.append("rect").attr("width",(function(){return 0===c||10===c?"6px":"2px"})).attr("height","4px").attr("x",(function(){return 0===c||10===c?"-3px":"-1px"})).attr("y","-5px").attr("fill",(function(){return 10===c?"red":0===c?"green":void 0})).attr("transform","rotate(".concat(t.arcStartPoint+u*c,") translate(0,-34)  scale(1,1)"))},l=0;l<=10;l++)c(l);this.svgSetTemp=n.append("g"),this.svgSetTempElement=this.svgSetTemp.append("rect").attr("width","2px").attr("height","4px").attr("x","-1px").attr("y","-5px").attr("fill","orange").attr("transform","rotate(".concat(this.arcStartPoint,") translate(0,-34) scale(1,1)")),this.svgCursor=n.append("g"),this.svgCursorElement=this.svgCursor.append("path").attr("d",d["symbol"]().type(d["symbolTriangle"])).attr("transform","rotate(".concat(this.arcStartPoint,") translate(0,-28) scale(1,1)")).attr("stroke","black").attr("stroke-width","1px"),this.svgTempText=this.svg.append("text").attr("x",50).attr("y",36).attr("font-size","8px").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill","black").text(""),n.append("rect").attr("width","80px").attr("height","2px").attr("x","-40px").attr("fill","black").attr("stroke","black")}},{key:"update",value:function update(t){if(!document.hidden){var n=this;this.updateTempText(),Math.floor(this.currentValue)!==Math.floor(t)&&(this.svg.attr("title","Max Temp : ".concat(this.max)),this.svgCursor.transition().duration(200).attrTween("transform",(function(){var u=n.getRotationAngle(t),c=n.getRotationAngle(n.currentValue);return function(l){var d=c+(u-c)*l;return n.currentValue=t,"rotate("+d+")"}})),this.svgSetTemp.attr("transform","rotate(".concat(this.getRotationAngle(this.setTemperature),")")))}}},{key:"updateState",value:function updateState(t){if(!document.hidden){var n="gauge-off";switch(t){case"off":n=this.currentValue>40?"gauge-cooling":"gauge-off";break;case"standby":n=this.standbyTemperature>this.currentValue-5&&this.standbyTemperature<this.currentValue+5?"gauge-activeattemp":this.standbyTemperature>0?"gauge-active":0===this.standbyTemperature&&this.currentValue>40?"gauge-cooling":"gauge-off";break;case"active":n=this.setTemperature>this.currentValue-5&&this.setTemperature<this.currentValue+5?"gauge-activeattemp":this.setTemperature>0?"gauge-active":0===this.setTemperature&&this.currentValue>40?"gauge-cooling":"gauge-off";break;case"fault":n="gauge-fault";break}this.svgCursorElement.attr("class",n)}}},{key:"updateTempText",value:function updateTempText(){this.svgTempText.text("".concat(this.currentValue," | ").concat(this.setTemperature))}},{key:"getRotationAngle",value:function getRotationAngle(t){var n=t/this.max;return n>1?n=1:n<0&&(n=0),this.tempArcSize*n}}]),_default}())},"./src/plugins/GCodeViewer/Gauge/gauge.vue":function(t,n,u){"use strict";u.r(n);var c=u("./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=template&id=5cf0cf54&scoped=true&"),l=u("./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=script&lang=js&"),d=(u("./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=style&index=0&id=5cf0cf54&scoped=true&lang=css&"),u("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),h=Object(d["default"])(l["default"],c["render"],c["staticRenderFns"],!1,null,"5cf0cf54",null);n["default"]=h.exports},"./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=script&lang=js&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/cache-loader/dist/cjs.js?!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=script&lang=js&");n["default"]=c["default"]},"./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=style&index=0&id=5cf0cf54&scoped=true&lang=css&":function(t,n,u){"use strict";u.r(n);var c=u("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=style&index=0&id=5cf0cf54&scoped=true&lang=css&");for(var l in c)["default"].indexOf(l)<0&&function(t){u.d(n,t,(function(){return c[t]}))}(l)},"./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=template&id=5cf0cf54&scoped=true&":function(t,n,u){"use strict";u.r(n);var c=u('./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"fae32756-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/plugins/GCodeViewer/Gauge/gauge.vue?vue&type=template&id=5cf0cf54&scoped=true&');u.d(n,"render",(function(){return c["render"]})),u.d(n,"staticRenderFns",(function(){return c["staticRenderFns"]}))},"./src/plugins/GCodeViewer/index.js":function(t,n,u){"use strict";u.r(n);var c=u("./src/i18n/index.js"),l=u("./node_modules/vue/dist/vue.runtime.esm.js"),d=u("./src/routes/index.js"),h=u("./src/plugins/index.js"),p=u("./src/store/index.js"),m=u("./src/plugins/GCodeViewer/Gauge/gauge.vue"),_=u("./src/plugins/GCodeViewer/ColorPicker.vue"),g=u("./src/plugins/GCodeViewer/FSOverlay.vue"),b=u("./src/plugins/GCodeViewer/GCodeViewer.vue");l["default"].component("gcodeviewer-gauge",m["default"]),l["default"].component("gcodeviewer-color-picker",_["default"]),l["default"].component("fs-overlay",g["default"]),Object(d["registerRoute"])(b["default"],{Job:{GCodeViewer:{icon:"mdi-rotate-3d",caption:"plugins.gcodeViewer.caption",path:"/Job/GCodeViewer"}}}),Object(h["registerPluginContextMenuItem"])((function(){return c["default"].t("plugins.gcodeViewer.view3D")}),"/Job/GCodeViewer","mdi-rotate-3d","view-3d-model",h["ContextMenuType"].JobFileList),Object(p["registerPluginData"])("GCodeViewer",p["PluginDataType"].machineCache,"toolColors",["#00FFFF","#FF00FF","#FFFF00","#000000","#FFFFFF"]),Object(p["registerPluginData"])("GCodeViewer",p["PluginDataType"].machineCache,"useHQRendering",!1),Object(p["registerPluginData"])("GCodeViewer",p["PluginDataType"].machineCache,"useSpecular",!0)}}]);
//# sourceMappingURL=GCodeViewer.f546fb79.js.map